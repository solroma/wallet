(self.webpackChunkweb=self.webpackChunkweb||[]).push([[76968],{31721:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>tn});var r=n(634795),o=n(202784),a=n(789644),i=n.n(a),s=n(459915),l=n(344714),c=n(805679),d=n(174276),u=n(380845),f=n(340576),p=n(213208),m=n(297263),h=n(196234),g=n(18861),y=n(164273),v=n(384777),b=n(945821),x=n(552322),w=b.default.serviceApp,_=(b.default.serviceCronJob,(0,o.memo)((function(e){var t,r=e.bgColor,a=e.initDataReady,i=e.children;null==(t=n.g.$$onekeyPerfTrace)||t.log({name:"AppLoading SplashScreen render",payload:{initDataReady:a,bgColor:r}});var s=(0,o.useMemo)((function(){return p.default.isRuntimeBrowser?n(819174):n(985769)}),[a]),l=(0,o.useMemo)((function(){return(0,x.jsx)(v.default,{preload:!0,disableAppScale:!1,disableImageBackgroundAnimation:!1,translucent:!p.default.isNativeAndroid,isLoaded:a,logoImage:s,backgroundColor:r,logoHeight:p.default.isRuntimeBrowser?"80px":"100%",logoWidth:p.default.isRuntimeBrowser?"80px":"100%",children:i})}),[r,i,a,s]);return(0,x.jsx)(g.default,{flex:1,bg:r,children:l})})));_.displayName="AnimatedSplashView";const k=function(e){var t=e.children,n=(0,o.useState)(!1),a=(0,h.default)(n,2),i=a[0],s=a[1],l=(0,m.default)("background-default");return p.default.isRuntimeBrowser&&(l=void 0),(0,o.useEffect)((function(){function e(){return(e=(0,r.default)((function*(){yield w.checkLockStatus(),s(!0),setTimeout(y.hideAsync,50)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,x.jsx)(_,{initDataReady:i,bgColor:l,children:t})};var I=n(256666),j=n(669083),O=n(539144),T=n(679107),S=n(330651),P=n(787242),C=n(46486),M=n(824931),A=n(353745),E=n(974485),R=n(943965),D=n(747225),N=n(472719),L=n(97450),B=n(821919),F=(n(830631),n(358499),n(239014)),U=n(481047),H=n(880189),W=n(783112),V=n(190769),z=n(474679),K=n.n(z),G=n(149904),$=n(679978),Z=n(324665),q=n(208593),X=n(877531),Y=n(719392),Q=n(311631),J=n(795116),ee=n(268883);const te=function(){var e=(0,N.useNavigation)(),t=(0,Q.useSafeAreaInsets)().top,n=(0,N.useRoute)().params,r=n.requestId,a=n.onSuccess,i=n.onCancel,s=n.field,l=(0,o.useState)(""),c=(0,h.default)(l,2),d=c[0],u=c[1],f=function(t){var n=t.password;return(0,o.useEffect)((function(){n&&(d||(u(n),setTimeout((function(){a(n,r),e.goBack()}),500)))}),[n]),(0,x.jsx)(J.default,{w:"full",h:"full",children:(0,x.jsx)(Y.default,{size:"lg"})})};return(0,x.jsx)(q.default,{style:{zIndex:1e4,top:t},children:(0,x.jsx)(X.default,{footer:null,onModalClose:function(){d||null==i||i()},children:(0,x.jsx)(ee.default,{walletId:null,field:s,children:function(e){return(0,x.jsx)(f,{password:e})}})})})};var ne=n(866904),re=n(93586),oe=n.n(re),ae=n(561220),ie=n(550679),se=n(559656),le=n(624491),ce=(0,o.memo)((function(e){var t=e.color,n=e.onPress;return(0,x.jsx)(g.default,{flexDirection:"row",height:"40px",justifyContent:"space-around",px:"24px",marginY:"24px",children:le.colors.map((function(e){var r=t===e;return(0,x.jsx)(ae.default,{onPress:function(){n(e)},children:function(t){var n=t.isHovered;return(0,x.jsx)(J.default,{width:"40px",height:"40px",p:"2px",borderRadius:"full",bgColor:r?e:n?"border-hovered":void 0,children:(0,x.jsx)(g.default,{flex:1,alignSelf:"stretch",bgColor:e,borderRadius:"full",borderColor:"background-default",borderWidth:"4px"})})}},`color${e}`)}))})}));ce.displayName="ColorSelecter";const de=function(){var e=(0,o.useRef)(),t=(0,N.useNavigation)(),n=(0,N.useRoute)().params,r=n.avatar,a=n.onDone,i=(0,o.useState)(r.bgColor),s=(0,h.default)(i,2),l=s[0],c=s[1],d=(0,o.useState)(r.emoji),u=(0,h.default)(d,2),f=u[0],p=u[1],m=(0,o.useState)(0),y=(0,h.default)(m,2),v=y[0],b=y[1],w=48,_=v-48,k=Math.floor(_/w),I=(0,o.useMemo)((function(){var e=oe()(le.emojiList,k);return new ie.DataProvider((function(e,t){return e!==t})).cloneWithRows(e)}),[k]),j=(0,o.useMemo)((function(){return new ie.LayoutProvider((function(){return"emoji"}),(function(e,t){t.width=_,t.height=w}))}),[_,w]),O=(0,o.useCallback)((function(e,t){var n=oe()(t,k);return(0,x.jsx)(g.default,{height:"full",children:n.map((function(e,t){return(0,x.jsx)(g.default,{flexDirection:"row",justifyContent:"space-between",width:`${_}px`,height:"48px",children:e.map((function(e,n){return(0,x.jsx)(ae.default,{onPress:function(){p(e)},borderRadius:"12px",_hover:{bg:"surface-hovered"},_pressed:{bg:"surface-pressed"},children:(0,x.jsx)(g.default,{alignItems:"center",justifyContent:"center",width:"48px",height:"48px",children:(0,x.jsx)(ne.default,{typography:"DisplayXLarge",children:e})})},`rows${t} ${n}`)}))},`rows${t}`)}))})}),[w,k,_]);return(0,x.jsx)(X.default,{size:"xs",height:"562px",header:"",primaryActionTranslationId:"action__done",hideSecondaryAction:!0,staticChildrenProps:{flex:1},primaryActionProps:{onPress:function(){a&&a({emoji:f,bgColor:l}),t.goBack()}},children:(0,x.jsxs)(g.default,{flex:1,children:[(0,x.jsx)(g.default,{alignItems:"center",children:(0,x.jsx)(se.default,{avatar:{emoji:f,bgColor:l},walletImage:"hd",size:"xl"})}),(0,x.jsx)(ce,{color:l,onPress:c}),(0,x.jsx)(g.default,{onLayout:function(e){v!==e.nativeEvent.layout.width&&b(e.nativeEvent.layout.width)},flex:1,ref:e,borderTopLeftRadius:"24px",borderTopRadius:"24px",bgColor:"surface-subdued",children:v>0&&(0,x.jsx)(g.default,{flex:1,children:(0,x.jsx)(ie.default,{dataProvider:I,layoutProvider:j,rowRenderer:O,renderAheadOffset:300,renderAheadStep:100,style:{padding:24}})})})]})})};var ue=n(783723),fe=n(321668),pe=n(566147),me=n(480058),he=n(435581),ge=n(921311);const ye=function(){var e,t,n,a=(0,W.default)(),i=(0,N.useNavigation)(),s=(0,N.useRoute)().params.walletId,l=b.default.engine,c=b.default.dispatch,d=b.default.serviceCloudBackup,u=b.default.serviceAccount,f=(0,D.useRuntime)().wallets,p=null!=(e=f.find((function(e){return e.id===s})))?e:null,m=(0,o.useState)(!1),y=(0,h.default)(m,2),v=y[0],w=y[1],_=(0,o.useState)(null!=(t=null==p?void 0:p.avatar)?t:le.defaultAvatar),k=(0,h.default)(_,2),I=k[0],O=k[1],T=(0,ge.default)({defaultValues:{name:""}}),S=T.control,P=T.handleSubmit,C=T.setError,M=P(function(){var e=(0,r.default)((function*(e){w(!0);var t,n=""===e.name?null==p?void 0:p.name:e.name;if(f.find((function(e){return e.name===n&&e.name!==(null==p?void 0:p.name)})))return C("name",{message:a.formatMessage({id:"form__account_name_invalid_exists"})}),void w(!1);(yield l.setWalletNameAndAvatar(s,{name:n,avatar:I}))?(d.requestBackup(),yield u.initWallets(),setTimeout((function(){return c((0,B.setRefreshTS)())})),j.default.show({title:a.formatMessage({id:"msg__change_saved"})}),null==(t=i.getParent())||t.goBack()):C("name",{message:a.formatMessage({id:"msg__unknown_error"})});w(!1)}));return function(t){return e.apply(this,arguments)}}()),A=(0,o.useMemo)((function(){return(0,x.jsx)(J.default,{children:(0,x.jsx)(ae.default,{onPress:function(){i.navigate(U.RootRoutes.Modal,{screen:U.ModalRoutes.ManagerWallet,params:{screen:U.ManagerWalletModalRoutes.ManagerWalletModifyEmojiModal,params:{avatar:I,onDone:function(e){O((function(){return e}))}}}})},children:function(e){var t=e.isHovered;return(0,x.jsxs)(me.default,{width:"56px",height:"56px",children:[(0,x.jsx)(g.default,{width:"full",height:"full",justifyContent:"center",alignItems:"center",children:(0,x.jsx)(se.default,{avatar:I,walletImage:"hd",size:"xl"})}),(0,x.jsx)(g.default,{size:6,justifyContent:"center",alignItems:"center",borderWidth:2,bg:t?"surface-hovered":"surface-neutral-default",borderColor:"surface-subdued",borderRadius:"full",right:"-12px",bottom:"-12px",children:(0,x.jsx)(he.default,{name:"PencilMini",size:16})})]})}})})}),[I,i]);return(0,x.jsx)(X.default,{header:a.formatMessage({id:"modal__edit_wallet"}),footer:null,children:(0,x.jsxs)(ue.default,{px:{base:4,md:0},children:[A,(0,x.jsxs)(pe.default,{mt:"6",children:[(0,x.jsx)(pe.default.Item,{name:"name",defaultValue:"",control:S,rules:{maxLength:{value:24,message:a.formatMessage({id:"form__account_name_invalid_characters_limit"},{0:"24"})}},children:(0,x.jsx)(pe.default.Input,{size:"xl",autoFocus:!0,placeholder:null!=(n=null==p?void 0:p.name)?n:""})}),(0,x.jsx)(fe.default,{type:"primary",size:"xl",isLoading:v,runAfterInteractions:!0,onPress:M,children:a.formatMessage({id:"action__done"})})]})]})})};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var be=(0,Z.default)(),xe=[{name:U.ManagerWalletModalRoutes.ManagerWalletModifyNameModal,component:ye},{name:U.ManagerWalletModalRoutes.ManagerWalletAuthorityVerifyModal,component:te},{name:U.ManagerWalletModalRoutes.ManagerWalletModifyEmojiModal,component:de}];const we=function(){var e=(0,O.default)();return(0,x.jsx)(be.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,I.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerShown:!1},(0,$.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:xe.map((function(e){return(0,x.jsx)(be.Screen,{name:e.name,component:e.component},e.name)}))})};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ke=(0,G.createLazyComponent)((function(){return n.e(88463).then(n.bind(n,961051))})),Ie=(0,G.createLazyComponent)((function(){return n.e(48494).then(n.bind(n,448494))})),je=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,867209))})),Oe=(0,G.createLazyComponent)((function(){return n.e(33519).then(n.bind(n,933519))})),Te=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,723451))})),Se=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,816446))})),Pe=(0,G.createLazyComponent)((function(){return n.e(13372).then(n.bind(n,736542))})),Ce=(0,G.createLazyComponent)((function(){return n.e(29188).then(n.bind(n,329188))})),Me=(0,G.createLazyComponent)((function(){return n.e(21262).then(n.bind(n,521262))})),Ae=(0,G.createLazyComponent)((function(){return n.e(79981).then(n.bind(n,489903))})),Ee=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,318608))})),Re=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,823670))})),De=(0,G.createLazyComponent)((function(){return Promise.all([n.e(18468),n.e(9982)]).then(n.bind(n,383237))})),Ne=(0,G.createLazyComponent)((function(){return n.e(37814).then(n.bind(n,37814))})),Le=(0,G.createLazyComponent)((function(){return n.e(33187).then(n.bind(n,733187))})),Be=(0,G.createLazyComponent)((function(){return n.e(33030).then(n.bind(n,433030))})),Fe=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,577331))})),Ue=(0,G.createLazyComponent)((function(){return n.e(54551).then(n.bind(n,854551))})),He=(0,G.createLazyComponent)((function(){return n.e(71758).then(n.bind(n,568642))})),We=(0,G.createLazyComponent)((function(){return n.e(97763).then(n.bind(n,749866))})),Ve=(0,G.createLazyComponent)((function(){return n.e(34673).then(n.bind(n,234673))})),ze=(0,G.createLazyComponent)((function(){return n.e(54779).then(n.bind(n,654779))})),Ke=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,846447))})),Ge=(0,G.createLazyComponent)((function(){return n.e(53762).then(n.bind(n,853762))})),$e=(0,G.createLazyComponent)((function(){return n.e(11180).then(n.bind(n,611180))})),Ze=(0,G.createLazyComponent)((function(){return n.e(98388).then(n.bind(n,398388))})),qe=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,748549))})),Xe=(0,G.createLazyComponent)((function(){return Promise.all([n.e(2960),n.e(60562)]).then(n.bind(n,618408))})),Ye=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,384688))})),Qe=(0,G.createLazyComponent)((function(){return n.e(59953).then(n.bind(n,268165))})),Je=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,687869))})),et=(0,G.createLazyComponent)((function(){return Promise.all([n.e(18468),n.e(64950)]).then(n.bind(n,164950))})),tt=(0,G.createLazyComponent)((function(){return n.e(59526).then(n.bind(n,659526))})),nt=(0,G.createLazyComponent)((function(){return n.e(41326).then(n.bind(n,741326))})),rt=(0,G.createLazyComponent)((function(){return n.e(92821).then(n.bind(n,492821))})),ot=(0,G.createLazyComponent)((function(){return n.e(57466).then(n.bind(n,257466))})),at=(0,G.createLazyComponent)((function(){return n.e(73277).then(n.bind(n,873277))})),it=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,304266))})),st=(0,G.createLazyComponent)((function(){return n.e(83047).then(n.bind(n,183047))})),lt=(0,G.createLazyComponent)((function(){return n.e(99352).then(n.bind(n,899352))})),ct=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,370774))})),dt=(0,G.createLazyComponent)((function(){return n.e(26289).then(n.bind(n,526289))})),ut=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,83894))})),ft=(0,G.createLazyComponent)((function(){return n.e(18171).then(n.bind(n,18171))})),pt=(0,G.createLazyComponent)((function(){return n.e(11958).then(n.bind(n,11958))})),mt=[{name:U.ModalRoutes.CreateAccount,component:je},{name:U.ModalRoutes.RecoverAccount,component:Oe},{name:U.ModalRoutes.Receive,component:Ke},{name:U.ModalRoutes.Monitor,component:ft},{name:U.ModalRoutes.Send,component:qe},{name:U.ModalRoutes.ScanQrcode,component:Ze},{name:U.ModalRoutes.BackupWallet,component:ke},{name:U.ModalRoutes.TransactionDetail,component:Je},{name:U.ModalRoutes.ManageToken,component:He},{name:U.ModalRoutes.SubmitRequest,component:Ye},{name:U.ModalRoutes.HistoryRequest,component:Ne},{name:U.ModalRoutes.Password,component:Ve},{name:U.ModalRoutes.OnekeyLiteReset,component:Re},{name:U.ModalRoutes.OnekeyLiteChangePinInputPin,component:Ee},{name:U.ModalRoutes.DappConnectionModal,component:Se},{name:U.ModalRoutes.Collectibles,component:Ie},{name:U.ModalRoutes.CreateWallet,component:Te},{name:U.ModalRoutes.ManagerWallet,component:we},{name:U.ModalRoutes.ManagerAccount,component:Ue},{name:U.ModalRoutes.EnableLocalAuthentication,component:Ce},{name:U.ModalRoutes.ManageNetwork,component:Fe},{name:U.ModalRoutes.OnekeyHardware,component:Ae},{name:U.ModalRoutes.HardwareUpdate,component:De},{name:U.ModalRoutes.Discover,component:Pe},{name:U.ModalRoutes.Swap,component:Qe},{name:U.ModalRoutes.UpdateFeature,component:et},{name:U.ModalRoutes.FiatPay,component:Me},{name:U.ModalRoutes.AddressBook,component:nt},{name:U.ModalRoutes.ImportBackupPassword,component:Le},{name:U.ModalRoutes.Staking,component:Xe},{name:U.ModalRoutes.ManageConnectedSites,component:Be},{name:U.ModalRoutes.PushNotification,component:ze},{name:U.ModalRoutes.Webview,component:tt},{name:U.ModalRoutes.Revoke,component:Ge},{name:U.ModalRoutes.NFTMarket,component:We},{name:U.ModalRoutes.Overview,component:rt},{name:U.ModalRoutes.CurrencySelect,component:at},{name:U.ModalRoutes.BulkSender,component:$e},{name:U.ModalRoutes.Market,component:ot},{name:U.ModalRoutes.ClearCache,component:st},{name:U.ModalRoutes.CoinControl,component:it},{name:U.ModalRoutes.GasPanel,component:lt},{name:U.ModalRoutes.Inscribe,component:ct},{name:U.ModalRoutes.Webln,component:dt},{name:U.ModalRoutes.Nostr,component:ut},{name:U.ModalRoutes.InscriptionControl,component:pt}],ht=(0,Z.default)();const gt=(0,o.memo)((function(){var e=(0,O.default)(),t=(0,o.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,I.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerShown:!1,presentation:"modal"},(0,$.buildModalOpenAnimationOptions)({isVerticalLayout:e}))}),[e]);return(0,x.jsx)(ht.Navigator,{screenOptions:t,children:mt.map((function(e){return(0,x.jsx)(ht.Screen,{name:e.name,component:e.component},e.name)}))})}));function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){(0,I.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=(0,G.createLazyComponent)((function(){return n.e(29225).then(n.bind(n,529225))})),xt=(0,G.createLazyComponent)((function(){return n.e(45917).then(n.bind(n,145917))})),wt=(0,G.createLazyComponent)((function(){return Promise.resolve().then(n.bind(n,668985))})),_t=(0,G.createLazyComponent)((function(){return n.e(51804).then(n.bind(n,964780))})),kt=(0,Z.default)(),It=function(e){var t=e.children,n=(0,O.default)(),r=U.RootRoutes.Main,a=(0,o.useMemo)((function(){return vt({headerShown:!1},n?H.ScaleFromCenterAndroid:H.FadeFromBottomAndroid)}),[n]);return(0,x.jsx)(kt.Navigator,{initialRouteName:r,screenOptions:a,children:t})},jt=function(){var e=(0,W.default)(),t=(0,O.default)();(0,o.useEffect)((function(){"ios"===V.default.OS&&(K().setEnable(!0),K().setEnableDebugging(!1),K().setKeyboardDistanceFromTextField(10),K().setLayoutIfNeededOnUpdate(!0),K().setEnableAutoToolbar(!0),K().setToolbarDoneBarButtonItemText(e.formatMessage({id:"action__done"})),K().setToolbarPreviousNextButtonEnable(!1),K().setKeyboardAppearance("default"),K().setShouldPlayInputClicks(!0))}),[e]);var n=(0,o.useMemo)((function(){return vt({presentation:"transparentModal"},(0,$.buildModalOpenAnimationOptions)({isVerticalLayout:t}))}),[t]);return(0,x.jsxs)(It,{children:[(0,x.jsx)(kt.Screen,{name:U.RootRoutes.Main,component:xt}),(0,x.jsx)(kt.Screen,{name:U.RootRoutes.Modal,component:gt,options:n}),(0,x.jsx)(kt.Screen,{name:U.RootRoutes.Onboarding,component:_t,options:{presentation:"fullScreenModal",animation:"fade"}}),(0,x.jsx)(kt.Screen,{name:U.RootRoutes.Account,component:wt}),(0,x.jsx)(kt.Screen,{name:U.RootRoutes.OnLanding,component:bt}),(0,x.jsx)(kt.Screen,{name:U.RootRoutes.OnLandingWalletConnect,component:bt}),!1]})},Ot=(0,o.memo)((function(){var e=(0,D.useAppSelector)((function(e){return e.settings.version})),t=(0,D.useAppSelector)((function(e){return e.settings.buildNumber})),n=b.default.dispatch,r=((0,N.useNavigation)(),"4.22.0"!==e||"2024031487"!==t);return(0,o.useEffect)((function(){if(r){0,n((0,B.updateVersionAndBuildNumber)({version:"4.22.0",buildNumber:"2024031487"}))}}),[n,true,r]),(0,o.useEffect)((function(){0}),[n]),(0,F.useHtmlPreloadSplashLogoRemove)({isDelay:!0}),(0,x.jsx)(L.AppLock,{children:(0,x.jsx)(jt,{})})}));Ot.displayName="RootStackNavigator";n(867209),n(723451),n(577331),n(846447),n(748549),n(687869),n(384688),n(823670),n(318608),n(816446),n(304266),n(370774),n(83894);var Tt=n(500770),St=n(235532);const Pt=JSON.parse('{"apiKey":"AIzaSyDhZWGLNemE3oCQNvcMp4xgxzqE3KCG5Cs","authDomain":"onekey-uni.firebaseapp.com","databaseURL":"https://onekey-uni.firebaseio.com","projectId":"onekey-uni","storageBucket":"onekey-uni.appspot.com","messagingSenderId":"94391474021","appId":"1:94391474021:web:ad8d952ac748c7514b338c","measurementId":"G-KVDHXZGB6P"}');var Ct=function(e,t){if(Pt.apiKey)return(0,Tt.logEvent)(function(){var e=(0,St.initializeApp)(Pt);return(0,Tt.getAnalytics)(e)}(),e,t)},Mt=(function(){var e=(0,r.default)((function*(){}))}(),n(292147)),At=n(492461),Et=(n(197845),n(827674)),Rt=n(793525),Dt=n(355231),Nt=n(536106);const Lt=function(e){var t=e.children,n=(0,Nt.default)();return(0,o.useEffect)((function(){var e,t,r,o,a;var i=(null!=(e=null==(t=window)||null==(r=t.location)?void 0:r.hash)?e:"").replace(/^#/,"");i&&"/"!==i&&(n(i),null!=(o=window)&&null!=(a=o.location)&&a.hash&&(window.location.hash=""))}),[]),(0,x.jsx)(x.Fragment,{children:t})};var Bt=n(531675);function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){(0,I.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=(0,o.createRef)(),Wt=(0,G.createLazyComponent)((function(){return n.e(7752).then(n.bind(n,7752))}));n.g.$navigationRef=Ht;var Vt=function(){var e,t=(0,o.useRef)(),r=(0,O.default)(),a=(0,m.default)(["background-default","text-default","divider"]),i=(0,h.default)(a,3),s=i[0],l=i[1],c=i[2],d=(0,o.useMemo)((function(){return(0,Et.default)()}),[]),u=(0,D.useAppSelector)((function(e){return e.refresher.backgroundShowToastOptions})),f=(0,D.useAppSelector)((function(e){return e.refresher.backgroundShowToastTs}));(0,o.useEffect)((function(){u.title&&j.default.show({title:u.title},{type:u.type})}),[f,u]);var g=p.default.isNativeAndroid||r&&!0,y=(0,o.useMemo)((function(){return Ut(Ut({},S.default),{},{colors:Ut(Ut({},S.default.colors),{},{background:g?s:"transparent",card:s,text:l,border:c})})}),[s,l,c,g]),v=(0,D.useAppSelector)((function(e){return e.settings.instanceId}));(0,o.useEffect)((function(){Ct("initialized",{instanceId:v,platform:p.default.symbol,distribution:p.default.distributionChannel}),(0,Bt.markFPTime)(),p.default.symbol,p.default.distributionChannel}),[v]),null==(e=n.g.$$onekeyPerfTrace)||e.log({name:"NavigationProvider/NavigationApp render",payload:{instanceId:v,isVerticalLayout:r,bgColor:s,textColor:l,dividerColor:c}}),(0,T.useFlipper)(Ht),(0,At.useShortcuts)();var b=(0,o.useMemo)((function(){return(0,x.jsxs)(M.default,{pointerEvents:"box-none",style:C.default.absoluteFill,children:[(0,x.jsx)(Wt,{}),(0,x.jsx)(Dt.PortalContainer,{name:Rt.FULLWINDOW_OVERLAY_PORTAL}),(0,x.jsx)(R.default,{bottomOffset:60})]})}),[]);return(0,x.jsx)(P.default,{documentTitle:{formatter:function(){return"OneKey"}},onReady:function(){var e,n;t.current=null==Ht||null==(e=Ht.current)||null==e.getCurrentRoute||null==(n=e.getCurrentRoute())?void 0:n.name},onStateChange:function(){var e,n,r=t.current,o=null==Ht||null==(e=Ht.current)||null==e.getCurrentRoute||null==(n=e.getCurrentRoute())?void 0:n.name;r!==o&&Mt.default.navigation.info(r," -> ",o),t.current=o},ref:Ht,theme:y,linking:d,children:(0,x.jsxs)(A.RootSiblingParent,{children:[(0,x.jsx)(Lt,{children:(0,x.jsx)(Ot,{})}),p.default.isNativeIOS?(0,x.jsx)(E.FullWindowOverlay,{children:b}):b]})})};Vt.displayName="NavigationApp";const zt=(0,o.memo)(Vt);var Kt=n(341290),Gt=(n(862983),n(153894)),$t=n(550441),Zt=function(e){var t=e.launchNotification,n=(0,D.useAppSelector)((function(e){return e.settings.pushNotification})),a=b.default.dispatch,i=b.default.serviceNotification,s=(0,o.useCallback)((0,r.default)((function*(){if(null==n||!n.pushEnable)return!1;if(p.default.isRuntimeBrowser&&"Notification"in window){if("granted"===Notification.permission)return!0;if("granted"===(yield Notification.requestPermission()))return!0}return a((0,B.setPushNotificationConfig)({pushEnable:!1})),(0,Rt.showDialog)((0,x.jsx)(Gt.default,{type:"notification"})),!1})),[a,null==n?void 0:n.pushEnable]),l=(0,o.useCallback)((0,r.default)((function*(){(yield s())&&p.default.isNativeIOS&&Kt.default.JPushManager.registerNotification()})),[s]);(0,o.useEffect)((function(){return i.init(t),function(){return i.clear()}}),[i,t]);var c=(0,o.useCallback)((function(e){["background","inactive"].includes(e)||i.clearBadge()}),[i]);return(0,o.useEffect)((function(){i.clearBadge(),null!=n&&n.pushEnable&&l()}),[i,null==n?void 0:n.pushEnable,l]),(0,$t.useAppStateChange)(c,{unFilter:!0}),null};Zt.displayName="NotificationProvider";const qt=(0,o.memo)(Zt);var Xt=n(943910),Yt=n(245927),Qt=function(){var e=(0,o.useCallback)((function(){b.default.serviceSwap.getSwapConfig(),b.default.serviceSetting.updateRemoteSetting()}),[]);return(0,x.jsx)(Yt.AppStatusActiveListener,{onActive:e})};p.default.isRuntimeBrowser&&(window._frameTimestamp=null);var Jt={refreshInterval:0,fetcher:function(){var e=(0,r.default)((function*(e,t){return(yield i()(e,t)).data}));return function(t,n){return e.apply(this,arguments)}}()},en={flex:1};const tn=function(e){var t,r=e||f.freezedEmptyObject,a=r.UIApplicationLaunchOptionsRemoteNotificationKey;null==(t=n.g.$$onekeyPerfTrace)||t.log({name:"KitProvider render",payload:r});var i=(0,o.useMemo)((function(){return(0,x.jsx)(k,{children:(0,x.jsxs)(d.ErrorBoundary,{children:[(0,x.jsx)(qt,{launchNotification:a}),(0,x.jsx)(zt,{}),(0,x.jsx)(Qt,{})]})})}),[a]);return(0,x.jsx)(c.SWRConfig,{value:Jt,children:(0,x.jsx)(l.Provider,{store:u.default,children:(0,x.jsx)(s.GestureHandlerRootView,{style:en,children:(0,x.jsx)(Xt.default,{children:i})})})})}},943910:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g,useThemeProviderVariant:()=>h});var r=n(327377),o=n(196234),a=n(202784),i=n(221121),s=n(747225),l=n(450334),c=n(821919),d=n(945821),u=n(790311),f=n(589193),p=(0,n(560985).createSelector)([function(e){return e.settings.theme},function(e){return e.settings.locale},function(e){return e.settings.lastLocale}],(function(e,t,n){return{theme:e,locale:t,lastLocale:n}})),m=n(552322);function h(){var e=(0,s.useAppSelector)(p),t=e.theme,n=e.locale,r=e.lastLocale,c=(0,f.useSystemLocale)(),d=(0,l.useColorScheme)(),u="system"===t?null!=d?d:"dark":t,m="system"===n?c:n,h=i.default[m],g="object"===typeof h,y=(0,a.useState)((function(){return g?m:"function"!==typeof i.default[r]?r:"en-US"})),v=(0,o.default)(y,2),b=v[0],x=v[1];return(0,a.useEffect)((function(){g||"function"===typeof h&&h().then((function(e){i.default[m]=e.default,x(m)}))}),[h,m,g,b]),{themeVariant:u,localeVariant:g?m:b}}const g=(0,a.memo)((function(e){var t=e.children,n=h(),o=n.themeVariant,i=n.localeVariant,l=(0,u.useReduxReady)().isReady,f=(0,s.useAppSelector)((function(e){return e.settings.leftSidebarCollapsed}));(0,a.useEffect)((function(){l&&(0,c.setThemePreloadToLocalStorage)(o)}),[l,o]);var p=(0,a.useCallback)((function(e){d.default.dispatch((0,c.setLeftSidebarCollapsed)(e))}),[]);return l?(0,m.jsx)(r.default,{themeVariant:o,locale:i,reduxReady:null!=l&&l,leftSidebarCollapsed:!!f,setLeftSidebarCollapsed:p,children:t}):null}))},668985:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountRootLandingPathSchema:()=>u,buildAccountLandingLink:()=>f,default:()=>p});var r=n(634795),o=n(202784),a=n(472719),i=n(284382),s=n(945821),l=n(493877),c=n(776553),d=n(481047),u="/account/:address/:networkId?";function f(e){return`https://app.onekey.so${`/account/${e.address}/${e.networkId||""}`}`}const p=function(){var e=s.default.serviceAccount,t=(0,a.useRoute)(),n=(0,l.default)(),u=t.params,f=(0,o.useMemo)((function(){return(null==u?void 0:u.networkId)||""}),[null==u?void 0:u.networkId]),p=(0,o.useMemo)((function(){return(null==u?void 0:u.address)||""}),[null==u?void 0:u.address]),m=(0,o.useCallback)((0,r.default)((function*(){var e=yield s.default.validator.validateCreateInput({input:p,onlyFor:i.UserInputCategory.WATCHING});return Boolean(null==e?void 0:e.length)})),[p]);return(0,o.useEffect)((function(){(0,r.default)((function*(){n.navigate(d.RootRoutes.Main),!(yield e.changeActiveAccountByAddress({address:p,networkId:f}))&&(yield m())&&(yield(0,c.wait)(300),n.navigate(d.RootRoutes.Modal,{screen:d.ModalRoutes.CreateWallet,params:{screen:d.CreateWalletModalRoutes.AddExistingWalletModal,params:{mode:"watching",presetText:null==u?void 0:u.address}}}))}))()}),[p,m,n,f,u,e]),null}},304266:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Pe});var r=n(256666),o=n(539144),a=n(877531),i=n(719392),s=n(18861),l=n(231846),c=n(433996),d=n(795116),u=n(510374),f=n(669083),p=n(968079),m=n(634795),h=n(196234),g=n(202784),y=n(472719),v=n(206391),b=n.n(v),x=n(783112),w=n(732349),_=n(447325),k=n(945821),I=n(859071),j=n(459740),O=n(331639),T=n(552322),S=["sortByIndex","onSortByChange","infoIndex","onInfoChange"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var C=function(e){var t=e.sortByIndex,n=e.onSortByChange,o=e.infoIndex,a=e.onInfoChange,i=(0,j.default)(e,S),s=(0,g.useMemo)((function(){return[{type:"radio",title:"form__sort_by__uppercase",defaultValue:t,children:[{id:"action__utxo_balance",value:1},{id:"action__utxo_age",value:2},{id:"action__utxo_address",value:3},{id:"action__utxo_label",value:4}],onChange:n},{type:"radio",title:"form__information__uppercase",defaultValue:o,children:[{id:"action__view_mined_time",value:1},{id:"action__view_path",value:2}],onChange:a}]}),[t,n,o,a]);return(0,T.jsx)(O.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({closeOnSelect:!1,options:s},i))},M=n(505240),A=n(321668),E=n(606201),R=n(561220),D=n(435581),N=n(333665),L=n(785192),B=n(361301),F=n(470310),U=n(854787),H=n(759900),W=n(866904),V=n(107867),z=n(896953),K=n(92824),G=n(626015),$=n(534159),Z=n(203749),q=n(213208),X=n(135463),Y=n(74008),Q=n(395795),J=n(612210),ee=n(566147),te=n(921311),ne=n(793525);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var oe=function(e){var t=e.onClose,n=e.onConfirm,r=e.defaultLabel,a=(0,x.default)(),i=(0,o.default)(),s=(0,te.default)({defaultValues:{label:r}}),l=s.control,c=s.handleSubmit,d=(0,g.useCallback)((function(e){var r=e.label;null==t||t(),n(r)}),[n,t]);return(0,T.jsx)(J.default,{visible:!0,onClose:t,children:(0,T.jsxs)(B.default,{children:[(0,T.jsx)(ee.default,{w:"full",mt:5,children:(0,T.jsx)(ee.default.Item,{name:"label",control:l,rules:{maxLength:{value:15,message:a.formatMessage({id:"msg__label_name_can_be_up_to_15_characters"})}},children:(0,T.jsx)(ee.default.Input,{onKeyPress:function(e){"Enter"!==e.nativeEvent.key?"Escape"===e.nativeEvent.key&&(null==t||t()):c(d)()},placeholder:a.formatMessage({id:"action__add_label"})})})}),(0,T.jsxs)(F.default,{mt:6,mb:4,space:3,alignItems:"center",justifyContent:"center",children:[(0,T.jsx)(A.default,{size:i?"xl":"lg",type:"basic",flex:1,onPress:function(){return null==t?void 0:t()},children:a.formatMessage({id:"action__cancel"})}),(0,T.jsx)(A.default,{size:i?"xl":"lg",type:"primary",flex:1,onPress:c(d),children:a.formatMessage({id:"action__confirm"})})]})]})})},ae=function(e){(0,ne.showDialog)((0,T.jsx)(oe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))},ie=["item","showFrozenOption","showRecycleOption","network","onConfirmEditLabel","onFrozenUTXO","onRecycleUTXO"];function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var le=function(e){var t=e.item,n=e.showFrozenOption,o=void 0===n||n,a=e.showRecycleOption,i=e.network,s=e.onConfirmEditLabel,l=e.onFrozenUTXO,c=e.onRecycleUTXO,d=(0,j.default)(e,ie),u=(0,Q.default)(i).openTransactionDetails,f=(0,g.useCallback)((function(){u(t.txid)}),[t,u]),p=(0,g.useMemo)((function(){return!!(t.label&&t.label.length>0)}),[t.label]),m=(0,g.useMemo)((function(){return t.frozen}),[t.frozen]),h=(0,g.useCallback)((function(){var e;ae({defaultLabel:null!=(e=t.label)?e:"",onConfirm:function(e){s(t,e)}})}),[t,s]),y=(0,g.useCallback)((function(){s(t,"")}),[t,s]),v=(0,g.useCallback)((function(){l(t,!m)}),[t,l,m]),b=(0,g.useCallback)((function(){c(t)}),[t,c]),x=(0,g.useMemo)((function(){return[{id:p?"action__edit_label":"action__add_label",onPress:h,icon:"Square2StackOutline"},p&&{id:"action__delete_label",onPress:y,icon:"TrashOutline"},function(){return(0,T.jsx)(L.default,{my:1})},{id:"action__view_in_browser",onPress:f,icon:"GlobeAltOutline"},t.recycle&&a&&function(){return(0,T.jsx)(L.default,{my:1})},t.recycle&&a&&{id:"action__restore_to_inscription",onPress:b,icon:"RestoreOutline"},o&&function(){return(0,T.jsx)(L.default,{my:1})},o&&{id:m?"action__unfreeze":"action__freeze",onPress:v,icon:"SnowFlakeMini"}]}),[p,h,y,f,t.recycle,a,b,o,m,v]);return(0,T.jsx)(O.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:x},d))};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t=e.showCheckbox,n=e.isAllSelected,r=e.triggerAllSelected,o=(0,x.default)();return(0,T.jsxs)(V.default,{children:[t&&(0,T.jsx)(V.default.Column,{children:(0,T.jsx)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",children:(0,T.jsx)(z.default,{w:5,isChecked:n,onChange:function(){return r(!n)}})})}),(0,T.jsx)(V.default.Column,{text:{label:o.formatMessage({id:"form__address"}),labelProps:{typography:"Subheading",color:"text-subdued"}},flex:1}),(0,T.jsx)(V.default.Column,{mr:-2,alignItems:"flex-end",text:{label:o.formatMessage({id:"content__amount"}),labelProps:{typography:"Subheading",textAlign:"right",color:"text-subdued"}},flex:1}),(0,T.jsx)(V.default.Column,{children:(0,T.jsx)(s.default,{w:"10px"})})]})},fe=function(e){var t,n=e.listType,r=e.accountId,o=e.network,a=e.token,i=e.item,l=e.showCheckbox,d=e.selectedUtxos,u=void 0===d?[]:d,f=e.blockTimeMap,p=e.showPath,m=e.onChange,h=e.onConfirmEditLabel,y=e.onFrozenUTXO,v=e.onRecycleUTXO,x=e.shouldHideInscriptions,_=(0,Y.default)().formatDate,k=u.find((function(e){return e===(0,w.getUtxoUniqueKey)(i)})),I=(0,g.useMemo)((function(){return!!(i.label&&i.label.length>0)}),[i.label]),j=(0,g.useMemo)((function(){return f[i.height]?_(new Date(1e3*f[i.height]),{hideTimeForever:!0}):""}),[i.height,_,f]),O=(0,g.useMemo)((function(){return"Available"===n?!l:"Frozen"!==n||!i.hideFrozenOption}),[n,l,i.hideFrozenOption]);return(0,T.jsxs)(V.default,{flex:1,space:2,onPress:function(){i.frozen||m(i,!k)},children:[l&&(0,T.jsx)(V.default.Column,{children:(0,T.jsx)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",children:(0,T.jsx)(z.default,{w:5,isChecked:!!k,onChange:function(){0}})})}),(0,T.jsx)(V.default.Column,{children:(0,T.jsxs)(B.default,{children:[(0,T.jsx)(W.default,{typography:"Body2Strong",children:(0,G.shortenAddress)(i.address)}),(0,T.jsxs)(F.default,{alignItems:"center",children:[p?(0,T.jsx)(W.default,{typography:"Body2",color:"text-subdued",children:i.path}):j?(0,T.jsx)(W.default,{typography:"Body2",color:"text-subdued",children:j}):(0,T.jsx)(H.default,{shape:"Body2"}),I&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(W.default,{mx:1,children:"\u2022"}),(0,T.jsx)(U.default,{size:"sm",title:null!=(t=i.label)?t:"",type:"default",maxWidth:q.default.isNativeAndroid?"60px":"80px",labelProps:{numberOfLines:1,maxWidth:q.default.isNativeAndroid?"60px":"80px"}})]})]})]})}),(0,T.jsx)(V.default.Column,{children:(0,T.jsxs)(s.default,{alignItems:"flex-end",flex:1,mr:-2,minW:"113px",children:[(0,T.jsx)($.FormatBalance,{balance:new(b())(i.value).shiftedBy(-o.decimals),formatOptions:{fixed:o.decimals},suffix:o.symbol,render:function(e){return(0,T.jsx)(W.default,{typography:{sm:"Body2",md:"Body2"},style:{userSelect:"none"},wordBreak:"break-all",textAlign:"right",children:e})}}),(0,T.jsx)($.FormatCurrencyTokenOfAccount,{accountId:r,networkId:o.id,token:a,value:new(b())(i.value).shiftedBy(-o.decimals),render:function(e){return(0,T.jsx)(W.default,{typography:"Body2",color:"text-subdued",children:e})}})]})}),(0,T.jsx)(V.default.Column,{children:(0,T.jsx)(le,{item:i,network:o,onConfirmEditLabel:h,onFrozenUTXO:y,onRecycleUTXO:v,showFrozenOption:O,showRecycleOption:!x,children:(0,T.jsx)(c.default,{alignItems:"flex-end",type:"plain",name:"EllipsisVerticalMini",color:"icon-subdued",size:"xs",hitSlop:12,circle:!0,mr:-2})})})]},(0,w.getUtxoUniqueKey)(i))},pe=function(e){var t=e.isDustSeparator,n=e.isRecycleSeparator,r=(0,x.default)();return t||n?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(L.default,{w:"auto",mx:2}),(0,T.jsx)(F.default,{mt:4,mb:2,mx:2,children:(0,T.jsx)(E.default,{trigger:function(e){var n=Object.assign({},((0,N.default)(e),e));return(0,T.jsx)(R.default,de(de({},n),{},{children:(0,T.jsxs)(F.default,{alignItems:"center",space:1,alignSelf:"flex-start",children:[(0,T.jsx)(W.default,{typography:"Subheading",color:"text-subdued",children:r.formatMessage({id:t?"form__dust__uppercase":"form__spendable_inscriptions__uppercase"})}),(0,T.jsx)(D.default,{name:"QuestionMarkCircleMini",size:16,color:"icon-subdued"})]})}))},bodyProps:{children:(0,T.jsx)(W.default,{children:r.formatMessage({id:t?"content__dust_refer_to_very_tiny_amount_of_bitcoin":"content__btc_utxo_manage_spendable_inscriptions_tooltips"})})}})})]}):(0,T.jsx)(K.default,{})},me=function(e){var t=e.currentPage,n=e.prevButtonDisabled,r=e.nextButtonDisabled,o=e.onPagePress,a=e.onNextPagePress,i=e.onPrevPagePress;return(0,T.jsx)(d.default,{my:8,children:(0,T.jsxs)(F.default,{space:0,alignItems:"flex-end",children:[(0,T.jsx)(A.default,{w:"40px",type:"basic",borderRightRadius:0,leftIconName:"ChevronLeftMini",onPress:i,isDisabled:n}),(0,T.jsx)(A.default,{w:"39px",h:"38px",type:"basic",onPress:o,isDisabled:!1,borderLeftWidth:0,borderRightWidth:0,borderLeftRadius:0,borderRightRadius:0,children:(0,T.jsx)(W.default,{maxW:"30px",maxH:"38px",isTruncated:!0,children:t})}),(0,T.jsx)(A.default,{w:"40px",type:"basic",borderLeftRadius:0,leftIconName:"ChevronRightMini",onPress:a,isDisabled:r})]})})},he=function(e){var t=e.dataSource,n=e.network,r=e.currentPage,o=e.prevButtonDisabled,a=e.nextButtonDisabled,i=e.onPagePress,l=e.onNextPagePress,c=e.onPrevPagePress,d=(0,x.default)(),u=(0,g.useMemo)((function(){return t.reduce((function(e,t){return e.plus(t.value)}),new(b())(0)).shiftedBy(-n.decimals).toFixed()}),[t,n]),f=(0,g.useMemo)((function(){return t.length}),[t]);return(0,T.jsxs)(s.default,{children:[(0,T.jsx)(L.default,{w:"auto",mx:2}),(0,T.jsxs)(F.default,{mt:4,mx:2,alignItems:"center",justifyContent:"space-between",children:[(0,T.jsx)(W.default,{typography:"Subheading",color:"text-subdued",children:d.formatMessage({id:"form__str_items__uppercase"},{0:f})}),(0,T.jsx)($.FormatBalance,{balance:u,formatOptions:{fixed:n.decimals},suffix:n.symbol,render:function(e){return(0,T.jsx)(W.default,{typography:"Subheading",color:"text-subdued",textAlign:"right",children:e})}})]}),(0,T.jsx)(me,{currentPage:r,onPagePress:i,onNextPagePress:l,onPrevPagePress:c,prevButtonDisabled:o,nextButtonDisabled:a})]})},ge=function(e){var t=e.type,n=e.config,r=e.setConfig,o=e.accountId,a=e.network,i=e.token,s=e.dataSource,l=e.showDustListHeader,c=e.showRecycleListHeader,d=e.showCheckbox,u=e.selectedUtxos,f=e.isAllSelected,p=e.triggerAllSelected,m=e.blockTimeMap,h=e.showPath,y=e.onChange,v=e.onConfirmEditLabel,b=e.onFrozenUTXO,x=e.onRecycleUTXO,_=(0,X.useShouldHideInscriptions)({accountId:o,networkId:a.id}),k=(0,g.useMemo)((function(){return 25}),[]),I=(0,g.useMemo)((function(){return"Available"===t?"availabelListCurrentPage":"frozenListCurrentPage"}),[t]),j=(0,g.useMemo)((function(){return Math.ceil(s.length/k)}),[s,k]),O=(0,g.useMemo)((function(){return n[I]>=j}),[n,j,I]),S=(0,g.useMemo)((function(){var e=(n[I]-1)*k;return s.slice(e,k+e)}),[n,s,k,I]);(0,g.useEffect)((function(){var e=Math.max(j,1);n[I]>e&&r((function(t){var n;return de(de({},t),{},((n={})[I]=e,n))}))}),[j,n,r,I]);var P=(0,g.useCallback)((function(e){var n=e.item,r=e.index,s=e.separators;return 1===r&&s.updateProps("leading",{foo:"bar"}),(0,T.jsx)(fe,{listType:t,item:n,accountId:o,network:a,token:i,showCheckbox:d,selectedUtxos:u,blockTimeMap:m,showPath:h,onChange:y,onConfirmEditLabel:v,onFrozenUTXO:b,onRecycleUTXO:x,shouldHideInscriptions:_})}),[t,o,a,i,d,u,m,h,y,v,b,x,_]),C=(0,g.useCallback)((function(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ue,{showCheckbox:d,isAllSelected:f,triggerAllSelected:p}),l&&(0,T.jsx)(pe,{isDustSeparator:!0}),c&&(0,T.jsx)(pe,{isRecycleSeparator:!0})]})}),[l,d,f,p,c]),A=(0,g.useCallback)((function(){return(0,T.jsx)(he,{dataSource:s,network:a,currentPage:n[I],prevButtonDisabled:1===n[I],nextButtonDisabled:O,onPagePress:function(){(0,Z.showJumpPageDialog)({currentPage:n[I]-1,maxPage:j,onConfirm:function(e){r((function(t){var n;return de(de({},t),{},((n={})[I]=e,n))}))}})},onPrevPagePress:function(){r((function(e){var t;return 0===e[I]?e:de(de({},e),{},((t={})[I]=e[I]-1,t))}))},onNextPagePress:function(){r((function(e){var t;return O?e:de(de({},e),{},((t={})[I]=e[I]+1,t))}))}})}),[s,a,n,r,O,j,I]),E=(0,g.useCallback)((function(e){var t=e.leadingItem;return(0,T.jsx)(pe,{isDustSeparator:!!t.dustSeparator,isRecycleSeparator:!!t.recycleSeparator})}),[]);return a?(0,T.jsx)(M.default,{data:S,ListHeaderComponent:C,ListFooterComponent:A,ItemSeparatorComponent:E,renderItem:P,keyExtractor:function(e){return(0,w.getUtxoUniqueKey)(e)}}):null},ye=n(737790),ve=n(398514),be=function(e){var t=e.networkId,n=(0,I.useNetwork)({networkId:t}).network;return(0,T.jsx)(s.default,{children:(0,T.jsx)(ye.default,{size:4,showInfo:!0,name:null==n?void 0:n.name,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==n?void 0:n.name,logoURI:null==n?void 0:n.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})})},xe=function(e){var t,n,r,o,a,i,l=e.accountId,c=e.network,d=e.token,u=e.targetAmount,p=e.allUtxos,m=e.dustUtxos,h=e.encodedTx,y=e.selectedUtxos,v=e.isLoading,_=e.onConfirm,I=(0,x.default)(),j=(0,g.useMemo)((function(){return p.filter((function(e){return y.includes((0,w.getUtxoUniqueKey)(e))})).reduce((function(e,t){return e.plus(t.value)}),new(b())(0))}),[p,y]),O=(0,g.useMemo)((function(){var e;return new(b())(null!=u?u:0).shiftedBy(null!=(e=null==c?void 0:c.decimals)?e:8).minus(j)}),[u,j,c]),S=(0,g.useMemo)((function(){return!v&&O.gt(0)}),[O,v]),P=(0,g.useMemo)((function(){return y.some((function(e){return m.some((function(t){return(0,w.getUtxoUniqueKey)(t)===e}))}))}),[y,m]),C=(0,g.useCallback)((function(e){c&&h&&k.default.engine.updateEncodedTx({networkId:c.id,accountId:l,encodedTx:h,payload:{selectedUtxos:e},options:{type:ve.IEncodedTxUpdateType.advancedSettings}}).then((function(){null==_||_(e)})).catch((function(){f.default.show({title:I.formatMessage({id:"form__amount_invalid"},{0:null==c?void 0:c.symbol})},{type:"error"})}))}),[_,c,h,l,I]);return(0,T.jsxs)(s.default,{p:4,pt:0,children:[S&&(0,T.jsx)(W.default,{typography:"Caption",color:"text-critical",mt:2,children:I.formatMessage({id:"msg__str_btc_missing_from_tx_input"},{0:`${O.shiftedBy(-(null!=(t=null==c?void 0:c.decimals)?t:8)).toFixed()} ${null!=(n=null==c?void 0:c.symbol)?n:""}`})}),P&&(0,T.jsx)(W.default,{typography:"Caption",color:"text-warning",mt:2,children:I.formatMessage({id:"msg__using_dust_will_increase_tx_fee_and_reduce_anonymity_and_privacy"})}),(0,T.jsxs)(F.default,{alignItems:"flex-start",justifyContent:"space-between",mt:2,children:[(0,T.jsx)(W.default,{typography:"Body1Strong",children:I.formatMessage({id:"form__str_selected"},{0:y.length||0})}),(0,T.jsxs)(B.default,{alignItems:"flex-end",space:1,children:[(0,T.jsx)($.FormatBalance,{balance:j.shiftedBy(-(null!=(r=null==c?void 0:c.decimals)?r:8)),formatOptions:{fixed:null!=(o=null==c?void 0:c.decimals)?o:8},suffix:null==c?void 0:c.symbol,render:function(e){return(0,T.jsx)(W.default,{typography:"Body1Strong",children:e})}}),(0,T.jsx)($.FormatCurrencyTokenOfAccount,{accountId:l,networkId:null!=(a=null==c?void 0:c.id)?a:"",token:d,value:j.shiftedBy(-(null!=(i=null==c?void 0:c.decimals)?i:8)),render:function(e){return(0,T.jsx)(W.default,{typography:"Body2",color:"text-subdued",children:e})}})]})]}),(0,T.jsx)(A.default,{type:"primary",size:"xl",mt:4,onPress:function(){return C(y)},isDisabled:S,children:I.formatMessage({id:"action__done"})})]})};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ke=function(){var e,t=(0,x.default)(),n=(0,y.useRoute)().params,r=n.networkId,o=n.accountId,v=n.isSelectMode,j=n.encodedTx,O=n.onConfirm,S=null==(e=(0,I.useAppSelector)((function(e){var t;return null==(t=e.settings.advancedSettings)?void 0:t.useDustUtxo})))||e,P=(0,g.useState)(!1),M=(0,h.default)(P,2),A=M[0],E=M[1],R=(0,g.useState)(0),D=(0,h.default)(R,2),N=D[0],L=D[1],B=(0,g.useState)([]),F=(0,h.default)(B,2),U=F[0],H=F[1],W=(0,g.useState)([]),V=(0,h.default)(W,2),z=V[0],K=V[1],G=(0,g.useState)([]),$=(0,h.default)(G,2),Z=$[0],q=$[1],X=(0,g.useState)([]),Y=(0,h.default)(X,2),Q=Y[0],J=Y[1],ee=(0,g.useState)([]),te=(0,h.default)(ee,2),ne=te[0],re=te[1],oe=(0,g.useState)([]),ae=(0,h.default)(oe,2),ie=ae[0],se=ae[1],le=(0,g.useState)([]),ce=(0,h.default)(le,2),de=ce[0],ue=ce[1],fe=(0,g.useState)(v&&j?j.inputs.map((function(e){return(0,w.getUtxoUniqueKey)(e)})):[]),pe=(0,h.default)(fe,2),me=pe[0],he=pe[1],ye=(0,g.useState)({}),ve=(0,h.default)(ye,2),we=ve[0],ke=ve[1],Ie=(0,g.useState)(),je=(0,h.default)(Ie,2),Oe=je[0],Te=je[1],Se=(0,I.useNetwork)({networkId:r}).network,Pe=(0,g.useMemo)((function(){var e,t;return new(b())((null!=(e=null==Se?void 0:Se.settings.dust)?e:null==Se?void 0:Se.settings.minTransferAmount)||0).shiftedBy(null!=(t=null==Se?void 0:Se.decimals)?t:0)}),[null==Se?void 0:Se.decimals,null==Se?void 0:Se.settings.dust,null==Se?void 0:Se.settings.minTransferAmount]),Ce=function(){var e=(0,g.useState)(1),t=(0,h.default)(e,2),n=t[0],r=t[1],o=(0,g.useState)(1),a=(0,h.default)(o,2),i=a[0],s=a[1],l=(0,g.useCallback)((function(e){r(e)}),[]),c=(0,g.useCallback)((function(e){s(e)}),[]),d=(0,g.useMemo)((function(){return 2===i}),[i]),u=(0,g.useMemo)((function(){switch(n){case 1:default:return"balance";case 2:return"height";case 3:return"address";case 4:return"label"}}),[n]);return{menuSortByIndex:n,menuInfoIndex:i,onSortByChange:l,onInfoChange:c,showPath:d,sortMethod:u}}(),Me=Ce.menuSortByIndex,Ae=Ce.menuInfoIndex,Ee=Ce.onSortByChange,Re=Ce.onInfoChange,De=Ce.showPath,Ne=Ce.sortMethod,Le=(0,g.useMemo)((function(){var e;return null!=(e=null==j?void 0:j.transferInfo.amount)?e:"0"}),[null==j?void 0:j.transferInfo.amount]),Be=(0,g.useMemo)((function(){return!(null==j||!j.transferInfo.useCustomAddressesBalance)}),[null==j?void 0:j.transferInfo.useCustomAddressesBalance]),Fe=(0,g.useCallback)((0,m.default)((function*(){return E(!0),k.default.serviceUtxos.getUtxos({networkId:r,accountId:o,sortBy:Ne,useRecycleUtxos:!0,useCustomAddressesBalance:Be}).then((function(e){return H(e.utxos),K(e.utxosWithoutDust),q(e.utxosDust),J(e.frozenUtxos),re(e.frozenUtxosWithoutRecycle),se(e.frozenRecycleUtxos),ue(e.recycleUtxosWithoutFrozen),e.utxos})).finally((function(){E(!1)}))})),[r,o,Ne,Be]),Ue=(0,g.useState)({availabelListCurrentPage:1,frozenListCurrentPage:1}),He=(0,h.default)(Ue,2),We=He[0],Ve=He[1],ze=(0,g.useMemo)((function(){if(S){var e=z.map((function(e,t){return _e(_e({},e),{},{dustSeparator:t===z.length-1&&Z.length>0,recycleSeparator:t===z.length-1&&0===Z.length&&de.length>0})}));return(e=e.concat(Z.map((function(e,t){return _e(_e({},e),{},{recycleSeparator:t===Z.length-1&&de.length>0})})))).concat(de)}var t=de.filter((function(e){return new(b())(e.value).isGreaterThan(Pe)}));return z.map((function(e,n){return _e(_e({},e),{},{recycleSeparator:n===z.length-1&&t.length>0})})).concat(t)}),[S,de,z,Z,Pe]),Ke=(0,g.useMemo)((function(){if(!S){var e=de.filter((function(e){return new(b())(e.value).isLessThanOrEqualTo(Pe)})),t=ie.filter((function(e){return new(b())(e.value).isGreaterThan(Pe)})),n=ne.map((function(n,r){return _e(_e({},n),{},{dustSeparator:r===ne.length-1&&Z.length>0,recycleSeparator:r===ne.length-1&&0===Z.length&&[].concat((0,p.default)(e),(0,p.default)(t)).length>0})}));return(n=(n=n.concat(Z.map((function(n,r){return _e(_e({},n),{},{hideFrozenOption:!0,recycleSeparator:r===Z.length-1&&[].concat((0,p.default)(e),(0,p.default)(t)).length>0})})))).concat(e.map((function(e){return _e(_e({},e),{},{hideFrozenOption:!0})})))).concat(t)}var r=ne.filter((function(e){return new(b())(e.value).isLessThanOrEqualTo(Pe)})),o=ne.filter((function(e){return new(b())(e.value).isGreaterThan(Pe)})),a=o.map((function(e,t){return _e(_e({},e),{},{dustSeparator:t===o.length-1&&r.length>0,recycleSeparator:t===o.length-1&&ie.length>0&&0===r.length})}));return(a=a.concat(r.map((function(e,t){return _e(_e({},e),{},{recycleSeparator:t===r.length-1&&ie.length>0})})))).concat(ie)}),[S,ne,ie,de,Z,Pe]),Ge=(0,g.useMemo)((function(){return!!S&&(Z.length>0&&z.length<=0)}),[S,Z.length,z.length]),$e=(0,g.useMemo)((function(){if(S){var e=ne.filter((function(e){return new(b())(e.value).isLessThanOrEqualTo(Pe)}));return ne.filter((function(e){return new(b())(e.value).isGreaterThan(Pe)})).length<=0&&e.length>0}return Z.length>0&&ne.length<=0}),[Pe,ne,S,Z.length]),Ze=(0,g.useMemo)((function(){return S?de.length>0&&z.length<=0&&Z.length<=0:de.filter((function(e){return new(b())(e.value).isGreaterThan(Pe)})).length>0&&z.length<=0}),[Pe,de,S,Z.length,z.length]),qe=(0,g.useMemo)((function(){if(S)return ie.length>0&&ne.length<=0;var e=de.filter((function(e){return new(b())(e.value).isLessThanOrEqualTo(Pe)})),t=ie.filter((function(e){return new(b())(e.value).isGreaterThan(Pe)}));return Z.length<=0&&ne.length<=0&&[].concat((0,p.default)(e),(0,p.default)(t)).length>0}),[Pe,ie,ne.length,de,S,Z.length]);(0,g.useEffect)((function(){Fe()}),[Me,Fe]),(0,g.useEffect)((function(){Fe().then((function(e){k.default.serviceUtxos.getUtxosBlockTime(r,o,e).then((function(e){ke(e)}))})),k.default.engine.findToken({networkId:r,tokenIdOnNetwork:""}).then((function(e){Te(e)}))}),[r,o,Fe]);var Xe=(0,g.useMemo)((function(){return ze.length>0&&ze.every((function(e){return me.includes((0,w.getUtxoUniqueKey)(e))}))}),[me,ze]),Ye=(0,g.useState)(!1),Qe=(0,h.default)(Ye,2)[1],Je=(0,g.useCallback)((function(e){Qe(e),he(e?ze.map((function(e){return(0,w.getUtxoUniqueKey)(e)})):[])}),[ze]);(0,g.useEffect)((function(){me.some((function(e){return Q.find((function(t){return(0,w.getUtxoUniqueKey)(t)===e}))}))&&he((function(e){return e.filter((function(e){return!Q.find((function(t){return(0,w.getUtxoUniqueKey)(t)===e}))}))}))}),[Q,me]);var et=(0,g.useCallback)((function(e){var t=(0,w.getUtxoUniqueKey)(e);me.includes(t)?he((function(e){return e.filter((function(e){return e!==t}))})):he((function(e){return[].concat((0,p.default)(e),[t])}))}),[me]),tt=(0,g.useCallback)((function(e,n){k.default.serviceUtxos.updateLabel(r,o,e,n).then((function(){f.default.show({title:t.formatMessage({id:"msg__success"})}),Fe()}))}),[r,o,Fe,t]),nt=(0,g.useCallback)((function(e,n){k.default.serviceUtxos.updateFrozen(r,o,e,n).then((function(){f.default.show({title:t.formatMessage({id:n?"msg__utxo_is_frozen_you_can_find_it_in_frozen_tab":"msg__utxo_is_unfrozen_you_can_find_it_in_availabel_tab"})},{type:"default"}),Fe()}))}),[r,o,Fe,t]),rt=(0,g.useCallback)((function(e){k.default.serviceUtxos.updateRecycle({networkId:r,accountId:o,utxo:e,recycle:!1,frozen:!1}).then((function(){f.default.show({title:t.formatMessage({id:"msg__inscription_restored"})},{type:"default"}),Fe(),_.appUIEventBus.emit(_.AppUIEventBusNames.InscriptionRecycleChanged)}))}),[r,o,Fe,t]),ot=(0,g.useMemo)((function(){return(0,T.jsx)(d.default,{flex:1,children:(0,T.jsx)(u.default,{emoji:"\ud83d\udd73\ufe0f",title:t.formatMessage({id:"content__no_coins"}),subTitle:t.formatMessage({id:"content__no_utxos_in_this_account"})})})}),[t]),at=(0,g.useMemo)((function(){return v}),[v]),it=(0,g.useMemo)((function(){return!1}),[]);return(0,T.jsxs)(a.default,{header:v?t.formatMessage({id:"title__coin_control"}):"UTXOs",headerDescription:(0,T.jsx)(be,{networkId:r}),height:"80%",rightContent:(0,T.jsx)(C,{sortByIndex:Me,onSortByChange:Ee,infoIndex:Ae,onInfoChange:Re,children:(0,T.jsx)(c.default,{type:"plain",size:"lg",circle:!0,name:"EllipsisVerticalOutline"})}),footer:v?(0,T.jsx)(xe,{accountId:o,network:Se,token:Oe,allUtxos:U,dustUtxos:Z,selectedUtxos:me,targetAmount:Le,encodedTx:j,isLoading:A,onConfirm:O}):null,children:[(0,T.jsx)(s.default,{mb:4,children:(0,T.jsx)(l.default,{values:[t.formatMessage({id:"action__available_tab"}),t.formatMessage({id:"action__frozen_tab"})],selectedIndex:N,onChange:L})}),A?(0,T.jsx)(d.default,{h:"full",pb:6,children:(0,T.jsx)(i.default,{size:"lg"})}):null,!A&&0===N&&(ze.length?(0,T.jsx)(ge,{type:"Available",config:We,setConfig:Ve,accountId:o,network:Se,token:Oe,dataSource:ze,showDustListHeader:Ge,showRecycleListHeader:Ze,showCheckbox:at,selectedUtxos:me,isAllSelected:Xe,triggerAllSelected:Je,blockTimeMap:we,showPath:De,onChange:et,onConfirmEditLabel:tt,onFrozenUTXO:nt,onRecycleUTXO:rt}):ot),!A&&1===N&&(Ke.length?(0,T.jsx)(ge,{type:"Frozen",config:We,setConfig:Ve,accountId:o,network:Se,token:Oe,dataSource:Ke,showDustListHeader:$e,showRecycleListHeader:qe,showCheckbox:it,selectedUtxos:me,isAllSelected:Xe,triggerAllSelected:Je,blockTimeMap:we,showPath:De,onChange:et,onConfirmEditLabel:tt,onFrozenUTXO:nt,onRecycleUTXO:rt}):ot)]})};var Ie=n(481047),je=n(679978);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Te=(0,n(324665).default)(),Se=[{name:Ie.CoinControlModalRoutes.CoinControlModal,component:ke}];const Pe=function(){var e=(0,o.default)();return(0,T.jsx)(Te.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headerShown:!1},(0,je.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:Se.map((function(e){return(0,T.jsx)(Te.Screen,{name:e.name,component:e.component},e.name)}))})}},867209:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>lt});var r=n(256666),o=n(539144),a=n(877531),i=n(259924),s=n(18861),l=n(866904),c=n(10918),d=n(566147),u=n(634795),f=n(196234),p=n(921311),m=n(202784),h=n(472719),g=n(783112),y=n(79694),v=n(997293),b=n(945821),x=n(324639),w=n(859071),_=n(747225),k=n(481047),I=n(627009),j=n(432986),O=n(552322);const T=function(e){var t,n=e.onClose,r=(0,g.default)(),T=b.default.dispatch,S=b.default.serviceAccount,P=b.default.serviceAccountSelector,C=(0,p.default)({defaultValues:{name:"",addressType:"default"}}),M=C.control,A=C.handleSubmit,E=C.getValues,R=C.setValue,D=C.watch,N=(0,_.useGeneral)().activeNetworkId,L=(0,m.useState)(void 0),B=(0,f.default)(L,2),F=B[0],U=B[1],H=(0,h.useNavigation)(),W=(0,h.useRoute)(),V=(0,_.useRuntime)(),z=V.wallets,K=V.networks,G=(0,o.default)(),$=W.params,Z=$.walletId,q=$.selectedNetworkId,X=(0,m.useMemo)((function(){return z.find((function(e){return e.id===Z}))}),[Z,z]),Y=D("addressType"),Q=(0,m.useMemo)((function(){return K.filter((function(e){return"hw"===(null==X?void 0:X.type)?e.settings.hardwareAccountEnabled:"imported"===(null==X?void 0:X.type)?e.settings.importedAccountEnabled:"watching"!==(null==X?void 0:X.type)||e.settings.watchingAccountEnabled})).map((function(e){return e.id}))}),[K,X]),J=D("network",[q,N].filter((function(e){return Q.includes(e||"")}))[0]||Q[0]);(0,m.useEffect)((function(){R("network",J)}),[]);var ee=(0,m.useMemo)((function(){return null==K?void 0:K.find((function(e){return e.id===(Q.includes(J)?J:Q[0])}))}),[K,Q,J]),te=(0,m.useMemo)((function(){return ee&&Y?ee.accountNameInfo[Y].template||ee.accountNameInfo.default.template:""}),[ee,Y]),ne=(0,m.useState)(44),re=(0,f.default)(ne,2),oe=re[0],ae=re[1],ie=(0,m.useState)(""),se=(0,f.default)(ie,2),le=se[0],ce=se[1],de=(0,m.useMemo)((function(){var e=[];if(ee)for(var t of Object.entries(ee.accountNameInfo)){var n=(0,f.default)(t,2),o=n[0],a=n[1],i="";if("string"===typeof a.label)i=a.label;else if("object"===typeof a.label){var s;i=r.formatMessage({id:null==(s=a.label)?void 0:s.id})}e.push({label:i,value:o,description:a.addressPrefix?r.formatMessage({id:"content__start_with_str"},{0:a.addressPrefix}):void 0})}return e.length>1?e:[]}),[ee,r]);(0,m.useEffect)((function(){function e(){return(e=(0,u.default)((function*(){if(ee){var e=ee.accountNameInfo[Y]||ee.accountNameInfo.default,t=e.prefix,n=e.category;if("undefined"!==typeof t){var o=(0,v.getNextAccountId)(null==X?void 0:X.nextAccountIds,te);R("name",`${t} #${o+1}`);var a=parseInt(n.split("'/")[0]);ae(a);try{U(!0),yield b.default.validator.validateCanCreateNextAccount(Z,ee.id,te),ce("")}catch(l){var i=l.key,s=l.info;ce(r.formatMessage({id:i},s))}finally{U(void 0)}return}}ce(r.formatMessage({id:"msg__unknown_error"}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,X,Z,ee,Y,R,ae,te]);var ue=(0,w.useHelpLink)({path:"articles/360002057776"}),fe=(0,m.useCallback)((function(){var e=r.formatMessage({id:"title__help_center"});(0,I.openUrl)(ue,e,{modalMode:!0})}),[ue,r]),pe=(0,m.useCallback)((function(e){var t,n=E("network"),r=E("name");P.preloadingCreateAccount({walletId:Z,networkId:n,template:te}),setTimeout((function(){S.addHDAccounts(e,Z,n,void 0,[r],oe,!1,te).then((function(e){t=null==e?void 0:e[0]})).catch((function(e){setTimeout((function(){j.deviceUtils.showErrorToast(e)}),300)})).finally((function(){var e,r;P.preloadingCreateAccountDone({walletId:Z,networkId:n,accountId:null==(e=t)?void 0:e.id,template:te}),null==(r=H.getParent())||null==r.goBack||r.goBack()}))}),10)}),[E,Z,oe,T,r,K,te]),me=A((function(){H.navigate(k.CreateAccountModalRoutes.CreateAccountAuthentication,{walletId:Z,onDone:pe})}));return(0,O.jsx)(a.default,{header:r.formatMessage({id:"action__add_account"}),headerDescription:`${null!=(t=null==X?void 0:X.name)?t:r.formatMessage({id:"wallet__wallet"})}`,onClose:n,primaryActionProps:{onPromise:me,isDisabled:!!le,isLoading:F},primaryActionTranslationId:"action__create",hideSecondaryAction:!0,scrollViewProps:{children:(0,O.jsxs)(d.default,{w:"full",zIndex:999,h:"full",children:[(0,O.jsx)(x.default,{selectableNetworks:Q,control:M,name:"network"}),(0,O.jsx)(d.default.Item,{name:"name",rules:{required:r.formatMessage({id:"form__field_is_required"}),maxLength:{value:24,message:r.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},label:r.formatMessage({id:"form__account_name"}),control:M,children:(0,O.jsx)(d.default.Input,{size:G?"xl":"default"})}),de.length<=1?void 0:(0,O.jsx)(d.default.Item,{name:"addressType",label:r.formatMessage({id:"form__address_type_label"}),control:M,labelAddon:(0,O.jsx)(y.default,{color:"text-subdued",_hover:{color:"text-default"},onPress:fe,children:(0,O.jsx)(c.default.Body2Strong,{underline:!0,children:r.formatMessage({id:"action__learn_more"})})}),children:(0,O.jsx)(d.default.Select,{headerShown:!1,footer:null,defaultValue:"default",options:de})}),(0,O.jsxs)(s.default,{alignItems:"center",children:[(0,O.jsx)(l.default,{typography:{sm:"Body1",md:"Body2"},color:"text-subdued",children:r.formatMessage({id:"account__restore_a_previously_used_account"})}),(0,O.jsx)(y.default,{onPress:function(){H.navigate(k.CreateAccountModalRoutes.CreateAccountAuthentication,{walletId:Z,onDone:function(e){var t=E("network");H.replace(k.CreateAccountModalRoutes.RecoverAccountsList,{walletId:Z,network:t,password:e,purpose:oe,template:te})}})},children:(0,O.jsx)(l.default,{typography:{sm:"Body1",md:"Body2"},color:"action-primary-default",children:r.formatMessage({id:"action__recover_accounts"})})})]}),0===le.length?void 0:(0,O.jsx)(i.default,{title:le,dismiss:!1,alertType:"info"})]})}})};var S=n(53594),P=n(204078),C=n(505240),M=n(510374),A=n(795116),E=n(719392),R=n(737790),D=n(470310),N=n(321668),L=n(433996),B=n(107867),F=n(896953),U=n(626015),H=n(278489),W=n(486756),V=n(776553),z=n(213208),K=n(534159),G=n(94668),$=n(203749),Z=n(669083),q=n(459740),X=n(119804),Y=n(331639),Q=n(395795),J=["item","network"];function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const te=function(e){var t=e.item,n=e.network,o=(0,q.default)(e,J),a=(0,g.default)(),i=(0,Q.default)(n).openAddressDetails,s=(0,m.useCallback)((function(){i(t.displayAddress)}),[t,i]),l=(0,m.useCallback)((function(){setTimeout((function(){(0,X.copyToClipboard)(t.displayAddress),Z.default.show({title:a.formatMessage({id:"msg__address_copied"})})}),200)}),[t,a]),c=(0,m.useMemo)((function(){return[{id:"action__copy_address",onPress:l,icon:"Square2StackOutline"},{id:"action__view_in_browser",onPress:s,icon:"GlobeAltOutline"}]}),[l,s]);return(0,O.jsx)(Y.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:c},o))};var ne=n(785192),re=n(942013),oe=n(814817),ae=n(807910),ie=n(835714);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ce=function(e){var t=e.showPath,n=e.onChange,r=e.password,o=e.walletId,a=e.networkId,i=e.template,s=e.isLoadingState,l=e.setLoading,c=(0,w.useNavigation)(),d=(0,m.useMemo)((function(){return[re.OnekeyNetwork.btc,re.OnekeyNetwork.tbtc].includes(a)}),[a]),u=(0,ie.useCreateBtcCustomAccount)({walletId:o,networkId:a}).onCreateAccountByAddressIndex,f=(0,m.useCallback)((function(){null==n||n(!t)}),[n,t]),p=(0,m.useMemo)((function(){return(0,O.jsx)(F.default,{w:"20px",isChecked:t,isDisabled:!1,onChange:f,pointerEvents:"box-only"})}),[t,f]),h=(0,m.useCallback)((function(){setTimeout((function(){c.navigate(k.RootRoutes.Modal,{screen:k.ModalRoutes.RecoverAccount,params:{screen:k.RecoverAccountModalRoutes.BulkCopyAddresses,params:{walletId:o,networkId:a,password:r,entry:"manageAccount",template:i}}})}))}),[c,o,a,r,i]),g=(0,m.useCallback)((function(){(0,ae.default)({walletId:o,networkId:a,template:i,onConfirm:function(e){var t=e.data;l(!0),u(le(le({password:null!=r?r:""},t),{},{onAddedCustomAddressCallback:function(e){l(!1),c.navigate(k.RootRoutes.Modal,{screen:k.ModalRoutes.RecoverAccount,params:{screen:k.RecoverAccountModalRoutes.BitcoinUsedAddress,params:{walletId:o,networkId:a,accountId:e,entry:"manageAccount"}}})}}))}})}),[o,a,i,r,u,c,l]),y=(0,m.useMemo)((function(){return[{id:"title__bulk_copy_addresses",onPress:h,icon:"Square2StackOutline"},d&&{id:"action__find_address_by_path",onPress:g,icon:"MagnifyingGlassMini",isDisabled:(0,oe.isHardwareWallet)({walletId:o})&&s},function(){return(0,O.jsx)(ne.default,{my:1})},{id:"action__show_path",onPress:f,extraChildren:p}]}),[f,p,h,g,d,o,s]);return(0,O.jsx)(Y.default,le(le({options:y},e),{},{menuWidth:220}))};var de=n(861107);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){var t,n,r=e.item,o=e.state,a=e.onChange,i=e.decimal,d=e.symbol,u=e.network,p=e.showPathAndLink,h=(0,m.useState)(null!=(t=null==o?void 0:o.selected)&&t),g=(0,f.default)(h,2),y=g[0],v=g[1];(0,m.useEffect)((function(){var e;v(null!=(e=null==o?void 0:o.selected)&&e)}),[null==o?void 0:o.selected]);var b=(0,m.useCallback)((function(){null!=o&&o.isDisabled||(v(!y),null==a||a(!y))}),[y,null==o?void 0:o.isDisabled,a]),x=(0,m.useMemo)((function(){return(0,H.isBtcLikeImpl)(u.impl)?`${r.path}/0/0`:r.path}),[u,r]);return(0,O.jsxs)(B.default,{onPress:b,flex:1,children:[(0,O.jsx)(B.default.Column,{children:(0,O.jsxs)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",w:"65px",children:[(0,O.jsx)(F.default,{w:"20px",isChecked:y,isDisabled:null!=(n=null==o?void 0:o.isDisabled)&&n,onChange:b,pointerEvents:"box-only"}),(0,O.jsx)(l.default,{ml:"8px",typography:"Body2",color:"text-subdued",wordBreak:"break-all",maxW:z.default.isNativeAndroid?"45px":"auto",children:r.index+1})]})}),(0,O.jsx)(B.default.Column,{style:{userSelect:"none"},text:{label:(0,U.shortenAddress)(r.displayAddress),labelProps:{w:"120px"},description:p?x:void 0,descriptionProps:{typography:"Caption",w:"132px"},size:"sm"}}),(0,O.jsx)(B.default.Column,{children:(0,O.jsx)(s.default,{alignItems:"flex-end",flex:1,children:(0,O.jsx)(K.FormatBalance,{balance:r.mainBalance,formatOptions:{fixed:null!=i?i:4},suffix:d,render:function(e){return(0,O.jsx)(c.default.Body2,{style:{userSelect:"none"},wordBreak:"break-all",textAlign:"right",children:e})}})})}),(0,O.jsx)(B.default.Column,{children:(0,O.jsx)(te,{item:r,network:u,children:(0,O.jsx)(L.default,{alignItems:"flex-end",type:"plain",name:"EllipsisVerticalMini",color:"icon-subdued",size:"xs",hitSlop:12,circle:!0})})})]})},me=function(e){var t=e.isAllSelected,n=e.isAllSelectedDisabled,r=e.onChange,o=(0,g.default)();return(0,O.jsxs)(B.default,{p:0,mb:"16px",children:[(0,O.jsx)(B.default.Column,{children:(0,O.jsx)(s.default,{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",w:"65px",children:(0,O.jsx)(F.default,{w:6,isChecked:n||t,onChange:r,isDisabled:n})})}),(0,O.jsx)(B.default.Column,{text:{label:o.formatMessage({id:"form__address"}),labelProps:{typography:"Subheading",color:"text-subdued"}},flex:1}),(0,O.jsx)(B.default.Column,{alignItems:"flex-end",text:{label:o.formatMessage({id:"form__balance"}),labelProps:{typography:"Subheading",textAlign:"right",color:"text-subdued"}},flex:1}),(0,O.jsx)(B.default.Column,{children:(0,O.jsx)(s.default,{w:"auto"})})]})},he=function(e){var t=e.minLimit,n=e.count,r=e.currentPage,o=e.prevButtonDisabled,a=e.nextButtonDisabled,i=e.onPagePress,s=e.onBulkAddPress,c=e.onNextPagePress,d=e.onPrevPagePress,u=(0,g.default)(),f=(null!=t?t:0)+(null!=n?n:0)-1,p=(0,m.useMemo)((function(){return r?r+1:1}),[r]);return(0,O.jsxs)(D.default,{flexDirection:"row",justifyContent:"space-between",pt:4,children:[(0,O.jsx)(N.default,{maxW:"200px",type:"basic",leftIconName:"AdjustmentsMini",alignItems:"flex-start",onPress:s,overflow:"hidden",children:t&&n?`${t} - ${f}`:u.formatMessage({id:"action__bulk_add"})}),(0,O.jsxs)(D.default,{space:0,alignItems:"flex-end",children:[(0,O.jsx)(N.default,{w:"40px",type:"basic",borderRightRadius:0,leftIconName:"ChevronLeftMini",onPress:d,isDisabled:o}),(0,O.jsx)(N.default,{w:"39px",h:"38px",type:"basic",onPress:i,isDisabled:!1,borderLeftWidth:0,borderRightWidth:0,borderLeftRadius:0,borderRightRadius:0,children:(0,O.jsx)(l.default,{maxW:"30px",maxH:"38px",isTruncated:!0,children:p})}),(0,O.jsx)(N.default,{w:"40px",type:"basic",borderLeftRadius:0,leftIconName:"ChevronRightMini",onPress:c,isDisabled:a})]})]})},ge=function(e){var t=e.walletId,n=e.networkId,r=e.derivationOptions,o=e.selectedOption,a=e.onChange,i=(0,g.default)(),s=(0,p.default)({defaultValues:{derivationType:"default"}}),l=s.control,c=s.setValue,u=(0,m.useMemo)((function(){var e,t;o?e=o.label:e=(null==(t=(null!=r?r:[]).find((function(e){return"default"===e.key})))?void 0:t.label)||"";return e?"string"===typeof e?e:"object"===typeof e?i.formatMessage({id:e.id}):void 0:""}),[o,r,i]);(0,m.useEffect)((function(){c("derivationType",null!=u?u:"")}),[u,c]);var f=(0,m.useCallback)((function(){(0,W.default)({type:"search",walletId:t,networkId:n,onSelect:function(e){return null==a?void 0:a(e)}})}),[t,n,a]);return!r||r.length<2?null:(0,O.jsx)(d.default,{w:"full",mb:"26px",children:(0,O.jsx)(y.default,{onPress:f,children:(0,O.jsx)(d.default.Item,{name:"derivationType",control:l,children:(0,O.jsx)(d.default.Input,{size:"lg",rightIconName:"ChevronDownMini",isReadOnly:!0,onPressRightIcon:f,onPressIn:z.default.isNativeIOS?f:void 0})})})})},ye=10;const ve=function(){var e,t=(0,g.default)(),n=(0,h.useRoute)().params,r=n.password,o=n.walletId,i=n.network,l=(0,h.useNavigation)(),c=(0,m.useState)(new Map),d=(0,f.default)(c,2),p=d[0],y=d[1],v=(0,m.useState)(new Map),x=(0,f.default)(v,2),I=x[0],T=x[1],S=(0,m.useState)([]),P=(0,f.default)(S,2),D=P[0],N=P[1],B=(0,_.useRuntime)(),F=B.wallets,U=B.networks,H=(0,m.useState)(0),W=(0,f.default)(H,2),z=W[0],K=W[1],Z=U.filter((function(e){return e.id===i}))[0],q=null==Z?void 0:Z.nativeDisplayDecimals,X=null==Z?void 0:Z.symbol,Y=(0,m.useState)(!1),Q=(0,f.default)(Y,2),J=Q[0],ee=Q[1],te=(0,m.useMemo)((function(){return D.every((function(e){var t=I.get(e.index);return null==t?void 0:t.isDisabled}))}),[D,I]),ne=(0,m.useState)({currentPage:0,fromIndex:1,generateCount:0,showPathAndLink:!1}),re=(0,f.default)(ne,2),oe=re[0],ae=re[1],ie=(0,m.useRef)(oe.currentPage),se=(0,m.useState)(!1),le=(0,f.default)(se,2),ue=le[0],ve=le[1],be=(0,m.useState)(!0),xe=(0,f.default)(be,2),we=xe[0],_e=xe[1],ke=(0,m.useState)(Number.MAX_VALUE),Ie=(0,f.default)(ke,2),je=Ie[0],Oe=Ie[1],Te=(0,m.useState)((0,V.getTimeStamp)()),Se=(0,f.default)(Te,2),Pe=Se[0],Ce=Se[1],Me=(0,m.useMemo)((function(){return oe.generateCount&&oe.generateCount>0}),[oe.generateCount]),Ae=null!=(e=F.find((function(e){return e.id===o})))?e:null,Ee=(0,m.useState)(!1),Re=(0,f.default)(Ee,2),De=Re[0],Ne=Re[1],Le=(0,m.useState)(!1),Be=(0,f.default)(Le,2),Fe=Be[0],Ue=Be[1],He=(0,m.useRef)(!1),We=(0,m.useRef)([]),Ve=(0,m.useState)((function(){var e=function(){};return{p:new Promise((function(t){return e=t})),resolve:e}}))[0];(0,m.useEffect)((function(){function e(){return(e=(0,u.default)((function*(){return Ae&&(We.current=yield b.default.engine.getAccounts(Ae.accounts,i),Ve.resolve(),ve(!0)),We}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,Ae,Ve]);var ze=(0,m.useRef)(!1),Ke=(0,G.useDerivationPath)(null==Ae?void 0:Ae.id,i).derivationOptions,Ge=(0,m.useState)(),$e=(0,f.default)(Ge,2),Ze=$e[0],qe=$e[1],Xe=(0,m.useMemo)((function(){var e,t;return Ze?Ze.template:null!=(e=null==(t=Ke.find((function(e){return"default"===e.key})))?void 0:t.template)?e:""}),[Ze,Ke]),Ye=(0,w.usePrevious)(Xe),Qe=(0,m.useMemo)((function(){if(Ze)return parseInt(Ze.category.split("'/")[0]);var e=Ke.find((function(e){return"default"===e.key}));return e?parseInt(e.category.split("'/")[0]):44}),[Ze,Ke]);(0,m.useEffect)((function(){var e=Ke.find((function(e){return"default"===e.key}));e&&qe(e)}),[Ke]),(0,m.useEffect)((function(){ie.current=oe.currentPage}),[oe.currentPage]),(0,m.useEffect)((function(){var e;if(ue&&(!De||ze.current)&&Xe){He.current=!0,ze.current||Ne(!0),_e(!1);var t=oe.currentPage,n=oe.fromIndex,a=null!=(e=oe.generateCount)?e:0,s=Math.ceil(a/ye)-1,c=0!==a&&t===s,d=0,f=10*(d=t<0?0:a&&c?s:t)+n-1,m=10;0===t&&Me&&a<10?m=a:c&&(m=a-10*d),f+m>de.FROM_INDEX_MAX&&(m=de.FROM_INDEX_MAX-f);var h=Array.from(Array(m).keys()).map((function(e){return f+e})),g=[];if(h.every((function(e){var t=p.get(e);return!!t&&(g.push(t),!0)}))&&Xe===Ye)return N(g),He.current=!1,ze.current=!1,void Ne(!1);b.default.engine.searchHDAccounts(o,i,r,f,m,Qe,Xe).then((function(e){e.length===m&&10===e.length||(m=e.length,Oe(f+e.length-n+1));var t=new Map(p),r=new Map(I);return e.forEach((function(e){var n=We.current.some((function(t){return t.template?t.template===Xe&&t.path===e.path:t.path===e.path}));r.set(e.index,{isDisabled:n,selected:n||!!Me}),t.set(e.index,fe(fe({},e),{},{template:Xe}))})),He.current=!1,ze.current=!1,N(e),y(t),T(r),Ne(!1),{currentPageAccounts:e,loadedAccounts:t}})).then(function(){var e=(0,u.default)((function*(e){var t=yield b.default.engine.queryBalanceFillAccounts(o,i,e.currentPageAccounts),n=new Map(e.loadedAccounts);t.forEach((function(e){n.set(e.index,fe(fe({},e),{},{template:Xe}))})),N(t),y(n)}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){He.current=!1,ze.current=!1,Ne(!1),l.isFocused()&&setTimeout((function(){j.deviceUtils.showErrorToast(e,"msg__engine__internal_error")}),200),null==l||null==l.goBack||l.goBack(),null==l||null==l.goBack||l.goBack()}))}}),[Pe,oe.fromIndex,oe.generateCount,oe.currentPage,ue,Me,l,i,r,o,Xe]);var Je=(0,m.useCallback)((function(e,t){var n=new Map(I),r=n.get(t.index);return null!=r&&r.isDisabled||(n.set(t.index,{isDisabled:!1,selected:e}),T(n)),!0}),[I]),et=(0,m.useCallback)((function(e){for(var t=new Map(I),n=ie.current*ye+oe.fromIndex-1,r=n;r<n+ye;r+=1){var o=t.get(r);o&&!o.isDisabled&&t.set(r,{isDisabled:!1,selected:e})}T(t)}),[oe.fromIndex,ie,I]);(0,m.useEffect)((function(){var e=I.size>0,t=!1;I.forEach((function(n,r){t||n.isDisabled||!n.selected||(t=!0);var o=oe.currentPage*ye+oe.fromIndex-1;r>=o&&r<o+ye&&(!e||n.isDisabled||n.selected||(e=!1))})),ee(e),Ue(t)}),[oe.currentPage,I]);var tt=(0,m.useCallback)((function(e){var t=e.item;return(0,O.jsx)(pe,{network:Z,decimal:q,symbol:X,showPathAndLink:oe.showPathAndLink,flex:1,item:t,state:I.get(t.index),onChange:function(e){Je(e,t)}})}),[Je,oe.showPathAndLink]);function nt(){He.current&&b.default.engine.getHWDeviceByWalletId(o).then((function(e){e&&b.default.serviceHardware.cancel(e.mac).then((function(){setTimeout((function(){return He.current=!1}),500)}))}))}(0,m.useEffect)((function(){return function(){return nt()}}),[]);var rt=(0,m.useMemo)((function(){return!!De||!Fe}),[Fe,De]),ot=(0,m.useMemo)((function(){return D.length<ye||(oe.fromIndex>=de.FROM_INDEX_MAX||!!oe.generateCount&&oe.currentPage===Math.ceil(oe.generateCount/ye)-1)}),[oe.fromIndex,oe.generateCount,oe.currentPage,D.length]),at=(0,m.useMemo)((function(){return D.length<ye?oe.currentPage+1:oe.fromIndex>=de.FROM_INDEX_MAX?1:oe.generateCount?Math.ceil(oe.generateCount/ye):Math.ceil(de.FROM_INDEX_MAX/ye)}),[oe.fromIndex,oe.generateCount,oe.currentPage,D.length]),it=(0,m.useMemo)((function(){return we||De||!ue}),[ue,De,we]),st=(0,m.useCallback)((function(){return(0,O.jsx)(O.Fragment,{children:(oe.showPathAndLink,void 0)})}),[oe.showPathAndLink]),lt=(0,m.useMemo)((function(){return(0,O.jsx)(R.default,{size:4,showInfo:!0,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==Z?void 0:Z.name,logoURI:null==Z?void 0:Z.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})}),[Z]);return(0,O.jsx)(a.default,{height:"640px",header:t.formatMessage({id:"action__manage_account"}),headerDescription:lt,rightContent:(0,O.jsx)(ce,{showPath:oe.showPathAndLink,password:r,walletId:o,networkId:Z.id,template:Xe,isLoadingState:it,setLoading:Ne,onChange:function(e){var t=fe(fe({},oe),{},{showPathAndLink:e});ae(t)},children:(0,O.jsx)(L.default,{type:"plain",size:"lg",circle:!0,name:"EllipsisVerticalOutline"})}),primaryActionTranslationId:"action__done",onPrimaryActionPress:function(){var e;nt();var t=[];p.forEach((function(e,n){var r,o,a=I.get(n);t.push(fe(fe({},e),{},{isDisabled:null!=(r=null==a?void 0:a.isDisabled)&&r,selected:null!=(o=null==a?void 0:a.selected)&&o}))})),l.navigate(k.CreateAccountModalRoutes.RecoverAccountsConfirm,{accounts:t.filter((function(e){return e.template===Xe})),walletId:o,network:i,purpose:Qe,template:Xe,existingAccounts:We.current,config:fe(fe({},oe),{},{generateCount:Math.min(je,null!=(e=oe.generateCount)?e:0)})})},primaryActionProps:{isDisabled:rt},hideSecondaryAction:!0,staticChildrenProps:{flex:1,padding:"16px",onLayout:function(e){0===z&&K(e.nativeEvent.layout.width)}},children:it?(0,O.jsx)(A.default,{flex:1,children:(0,O.jsx)(E.default,{size:"lg"})}):(0,O.jsxs)(s.default,{flex:1,children:[(0,O.jsx)(ge,{walletId:o,networkId:i,derivationOptions:Ke,selectedOption:Ze,onChange:function(e){e.template!==(null==Ze?void 0:Ze.template)&&(Ne(!0),ze.current=!0),qe(e)}}),(0,O.jsx)(me,{symbol:X,isAllSelected:J,isAllSelectedDisabled:te,showPathAndLink:oe.showPathAndLink,onChange:function(e){ee(e),et(e)}}),0===D.length?(0,O.jsx)(A.default,{flex:1,children:(0,O.jsx)(M.default,{emoji:"\ud83d\udcb3",title:t.formatMessage({id:"empty__no_account_title"}),subTitle:t.formatMessage({id:"empty__no_recoverable_account_desc"}),actionTitle:t.formatMessage({id:"action__retry"}),handleAction:function(){Ce((0,V.getTimeStamp)())}})}):(0,O.jsx)(C.default,{data:D,renderItem:tt,keyExtractor:function(e){return`${e.index}`},extraData:J,showsVerticalScrollIndicator:!1,ItemSeparatorComponent:st}),(0,O.jsx)(he,{minLimit:oe.fromIndex,count:oe.generateCount,currentPage:oe.currentPage,prevButtonDisabled:0===oe.currentPage,nextButtonDisabled:ot,onPagePress:function(){(0,$.showJumpPageDialog)({currentPage:oe.currentPage,maxPage:at,onConfirm:function(e){ae((function(t){return fe(fe({},t),{},{currentPage:e-1})}))}})},onPrevPagePress:function(){ae((function(e){return 0===e.currentPage?e:fe(fe({},e),{},{currentPage:e.currentPage-1})}))},onNextPagePress:function(){ae((function(e){return ot?e:fe(fe({},e),{},{currentPage:e.currentPage+1})}))},onBulkAddPress:function(){l.navigate(k.RootRoutes.Modal,{screen:k.ModalRoutes.RecoverAccount,params:{screen:k.RecoverAccountModalRoutes.RecoverAccountsAdvanced,params:{networkId:null==Z?void 0:Z.id,fromIndex:oe.fromIndex,generateCount:oe.generateCount,onApply:function(e){var t=e.fromIndex,n=e.generateCount,r=oe.fromIndex!==t||oe.generateCount!==n;r&&_e(!0),setTimeout((function(){var e={currentPage:r?0:oe.currentPage,fromIndex:t,generateCount:n,showPathAndLink:oe.showPathAndLink};r&&(T(new Map),y(new Map)),Oe(Number.MAX_VALUE),ae(e)}),100)}}}})}})]})})};var be=n(442815),xe=n(97450),we=n(268883),_e=n(292147),ke=n(36085),Ie=function(e){var t=e.password,n=e.accounts,r=e.walletId,o=e.network,a=e.purpose,i=e.template,s=e.config,l=e.stopFlag,d=e.onDone,p=(0,g.default)(),h=(0,m.useState)(0),y=(0,f.default)(h,2),v=y[0],x=y[1],w=(0,m.useState)(0),_=(0,f.default)(w,2),k=_[0],I=_[1],T=b.default.serviceAccount,S=b.default.serviceAccountSelector,P=b.default.engine,C=(0,m.useRef)(l);(0,be.useKeepAwake)(),(0,m.useEffect)((function(){C.current=l}),[l]);var M=function(){var e=(0,u.default)((function*(e,n){return _e.default.common.info("recoverAccountIndex",JSON.stringify(e)),n?(yield S.preloadingCreateAccount({walletId:r,networkId:o,template:i}),T.addHDAccounts(t,r,o,e,void 0,a,!0,i)):P.addHdOrHwAccounts({password:t,walletId:r,networkId:o,indexes:e,names:void 0,purpose:a,skipRepeat:!0,template:i})}));return function(t,n){return e.apply(this,arguments)}}();function R(e){return void 0!==e}var D=function(){var e=(0,u.default)((function*(e){var n;try{var a=s.generateCount&&s.generateCount>0,l=[];if(a){var c,u=new Set;null==e||e.forEach((function(e){e.isDisabled&&e.selected&&u.add(e.index),e.selected||u.add(e.index)})),l=Array.from(Array(null!=(c=s.generateCount)?c:1).keys()).map((function(e){var t=e+s.fromIndex-1;if(!u.has(t))return t})).filter(R)}else l=e.filter((function(e){return e.selected&&!e.isDisabled})).map((function(e){return e.index}));x(l.length);for(var f=function*(){var e=l.splice(0,Math.min(l.length,10)),a=0===l.length,i=yield M(e,a);if(null!=i&&i[0]&&(n=null==i?void 0:i[0]),I((function(t){var n;return t+(null!=(n=null==e?void 0:e.length)?n:0)})),C.current)return!a&&n&&(yield T.postAccountAdded({walletId:r,networkId:o,account:n,walletType:r.startsWith("hw-")?"hw":"hd",checkOnBoarding:!1,checkPasswordSet:!1,shouldBackup:!0,password:t})),"break";a||(yield(0,V.wait)(50))};l.length>0;){if("break"===(yield*f()))break}}catch(m){_e.default.common.error("recover error:",(0,ke.toPlainErrorObject)(m)),j.deviceUtils.showErrorToast(m,"action__connection_timeout")}finally{var p;yield S.preloadingCreateAccountDone({walletId:r,networkId:o,accountId:null==(p=n)?void 0:p.id,template:i})}d()}));return function(t){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){setTimeout((function(){D(n)}))}),[]),(0,O.jsxs)(A.default,{w:"full",h:"full",children:[(0,O.jsx)(xe.SkipAppLock,{}),(0,O.jsx)(E.default,{size:"lg"}),(0,O.jsx)(c.default.DisplayMedium,{mt:3,children:p.formatMessage({id:"action__recover_accounts"})}),(0,O.jsx)(c.default.Body1,{mt:2,color:"text-subdued",children:p.formatMessage({id:"msg__recover_account_progress"},{0:k,1:v})}),l&&(0,O.jsx)(c.default.Body2,{position:"absolute",bottom:1,color:"text-subdued",children:p.formatMessage({id:"msg__recover_account_stopping"})})]})};const je=function(){var e=(0,h.useRoute)().params,t=e.accounts,n=e.walletId,r=e.network,o=e.purpose,i=e.config,s=e.template,l=(0,h.useNavigation)(),c=(0,m.useState)(!1),d=(0,f.default)(c,2),u=d[0],p=d[1],g=(0,m.useState)(!1),y=(0,f.default)(g,2),v=y[0],b=y[1];return(0,O.jsx)(a.default,{height:"340px",headerShown:!1,hidePrimaryAction:!0,onSecondaryActionPress:function(){v?p(!0):l.goBack()},children:(0,O.jsx)(we.default,{walletId:n,skipSavePassword:!0,field:we.ValidationFields.Account,children:function(e){return b(!0),(0,O.jsx)(Ie,{password:e,accounts:t,walletId:n,network:r,purpose:o,template:s,config:i,stopFlag:u,onDone:function(){var e;null!=l&&null!=l.canGoBack&&l.canGoBack()&&(null==l||null==l.getParent||null==(e=l.getParent())||null==e.goBack||e.goBack())}})}})})};var Oe=n(561220),Te=n(854787),Se=function(){return(0,O.jsx)(s.default,{h:"8px"})};const Pe=function(){var e=(0,g.default)(),t=(0,h.useRoute)(),n=(0,_.useRuntime)().wallets,r=(0,w.useManageNetworks)(void 0).enabledNetworks,o=(0,h.useNavigation)(),i=t.params.walletId,s=(0,m.useMemo)((function(){return n.find((function(e){return e.id===i}))}),[i,n]),l=(0,m.useMemo)((function(){return r.filter((function(e){return"hw"===(null==s?void 0:s.type)?e.settings.hardwareAccountEnabled:"imported"===(null==s?void 0:s.type)?e.settings.importedAccountEnabled:"watching"!==(null==s?void 0:s.type)||e.settings.watchingAccountEnabled}))}),[r,s]);var d=(0,m.useCallback)((function(e){o.navigate(k.CreateAccountModalRoutes.CreateAccountAuthentication,{walletId:i,onDone:function(t){var n=function(e){var t=e.accountNameInfo.default.category;return parseInt(t.split("'/")[0])}(e),r=function(e){return e.accountNameInfo.default.template}(e);o.replace(k.CreateAccountModalRoutes.RecoverAccountsList,{purpose:n,walletId:i,network:e.id,password:t,template:r})}})}),[o,i]),u=(0,m.useCallback)((function(e){var t=e.item;return(0,O.jsxs)(Oe.default,{height:"56px",alignItems:"center",flexDirection:"row",borderRadius:"12px",paddingX:"16px",_pressed:{bg:"surface-pressed"},_hover:{bg:"surface-hovered"},onPress:function(){d(t)},children:[(0,O.jsx)(R.default,{size:"32px",token:{logoURI:t.logoURI,name:t.shortName}}),(0,O.jsx)(c.default.Body1Strong,{ml:"16px",mr:"12px",children:t.shortName}),"evm"===t.impl?(0,O.jsx)(Te.default,{title:"EVM",size:"sm",type:"default"}):null]})}),[d]);return(0,O.jsx)(a.default,{height:"640px",header:e.formatMessage({id:"modal__select_chain"}),footer:null,flatListProps:{style:{paddingLeft:0,paddingRight:0},data:l,renderItem:u,ItemSeparatorComponent:Se,keyExtractor:function(e){return e.id},showsVerticalScrollIndicator:!1}})};var Ce=n(549876),Me=n(468702),Ae=n(829585),Ee=n(46486),Re=n(988955),De=n(259825),Ne=n(361301),Le=n(231846),Be=n(327377),Fe=n(793525),Ue=function(e){var t=e.onSelect,n=(0,g.default)(),r=(0,m.useState)(0),o=(0,f.default)(r,2),a=o[0],i=o[1];return(0,O.jsxs)(Ne.default,{space:8,children:[(0,O.jsx)(Le.default,{values:["CSV","TXT"],selectedIndex:a,onChange:i}),(0,O.jsx)(N.default,{type:"primary",size:"xl",onPress:function(){t(0===a?"csv":"txt")},children:n.formatMessage({id:"action__export"})})]})};const He=function(e){var t=e.onSelect;(0,Fe.showOverlay)((function(e){return(0,O.jsx)(De.default,{title:(0,Be.formatMessage)({id:"title__select_file_format"}),closeOverlay:e,modalLizeProps:{tapGestureEnabled:!1},children:(0,O.jsx)(Ue,{onSelect:function(n){null==e||e(),setTimeout((function(){return null==t?void 0:t(n)}))}})})}))};var We=function(){var e=(0,u.default)((function*(){return null}));return function(){return e.apply(this,arguments)}}();const Ve=function(){var e=(0,g.default)(),t=(0,h.useRoute)().params,n=t.data,r=t.walletId,o=t.networkId,i=(0,m.useMemo)((function(){var e="",t=0;for(var r of n)n.length>1&&(t>0&&(e+="\n"),e+=`// ${r.name}\n`),r.data.forEach((function(t){e+=`${t.address}\n`})),t+=1;return e.replace(/\n$/,"")}),[n]),c=(0,m.useMemo)((function(){return`${`${e.formatMessage({id:"form__address"})}\n`}${i}`}),[i,e]),d=(0,m.useCallback)(function(){var e=(0,u.default)((function*(e){var t=yield Promise.all([b.default.engine.getWallet(r),b.default.engine.getNetwork(o)]),n=(0,f.default)(t,2),a=n[0],i=n[1];return`${a.name}-${i.impl}-addresses.${e}`}));return function(t){return e.apply(this,arguments)}}(),[r,o]),p=(0,m.useCallback)(function(){var e=(0,u.default)((function*(e){var t=yield d(e),n=document.createElement("a"),r=new Blob(("txt"===e?i:c).split("\n").map((function(e){return`${e}\n`})),{type:"text/plain",endings:"native"});n.href=URL.createObjectURL(r),n.download=t,document.body.appendChild(n),n.click()}));return function(t){return e.apply(this,arguments)}}(),[c,d,i]),y=(0,m.useCallback)(function(){var e=(0,u.default)((function*(e){var t=yield d(e),n=`${null!=Ae.cacheDirectory?Ae.cacheDirectory:""}${t}`,r=yield We();r&&r.open({url:n,title:t,filename:t}).catch((function(){}))}));return function(t){return e.apply(this,arguments)}}(),[d]),v=(0,m.useCallback)(function(){var e=(0,u.default)((function*(e){var t=yield d(e);if(Re.default){var n=`${Re.default.CachesDirectoryPath}/${t}`,r="txt"===e?i:c;Re.default.writeFile(n,r,"utf8").then((function(t){console.log("FILE WRITTEN!",t),y(e)})).catch((function(e){console.log("ERROR WRITING FILE!",e)}))}}));return function(t){return e.apply(this,arguments)}}(),[y,i,c,d]),x=(0,m.useCallback)((function(){He({onSelect:function(e){p(e)}})}),[v,p]),w=(0,m.useCallback)((function(){setTimeout((function(){(0,X.copyToClipboard)(i),Z.default.show({title:e.formatMessage({id:"msg__copied"})})}),200)}),[i,e]);return(0,O.jsx)(a.default,{height:"460px",header:e.formatMessage({id:"action__export_addresses"}),primaryActionTranslationId:"action__export_file",primaryActionProps:{type:"basic"},onPrimaryActionPress:x,secondaryActionTranslationId:"action__copy",secondaryActionProps:{type:"basic"},onSecondaryActionPress:w,children:(0,O.jsx)(s.default,{w:"full",h:"full",bg:"action-secondary-default",borderRadius:"lg",borderColor:"border-default",borderWidth:Ee.default.hairlineWidth,children:(0,O.jsx)(Me.ScrollView,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,style:{width:"100%"},children:(0,O.jsx)(s.default,{px:3,py:2,w:"full",children:i.split("\n").map((function(e,t){return(0,O.jsxs)(s.default,{alignItems:"flex-start",flexDirection:"row",children:[(0,O.jsx)(l.default,{typography:{sm:"Body2",md:"Body2"},color:"text-disabled",fontWeight:500,fontSize:14,lineHeight:"20px",fontFamily:"monospace",textAlign:"left",width:"29px",children:t+1}),(0,O.jsx)(l.default,{ml:1,flex:1,fontSize:14,lineHeight:"20px",fontWeight:500,fontFamily:"monospace",color:e.startsWith("//")?"text-disabled":"text-default",overflow:"hidden",children:e})]},t)}))})})})})};var ze=n(922819),Ke=n(996606),Ge=n(968079),$e=n(940915),Ze=n(613549),qe=n(920458);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=2**31;var Je=n(493877);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t){var n=e.split(Ze.INDEX_PLACEHOLDER).filter(Boolean),r=t;for(var o of n){var a;r=null==(a=r.split(o).filter(Boolean))?void 0:a[0]}return r.endsWith("'")?r.slice(0,-1):r}const rt=function(){var e=(0,g.default)(),t=(0,h.useRoute)().params,n=t.walletId,r=t.networkId,o=t.data,i=t.password,c=(0,h.useNavigation)(),d=(0,m.useCallback)((function(){c.goBack()}),[c]),p=function(e){var t=e.data,n=e.walletId,r=e.networkId,o=e.password,a=e.onClose,i=(0,g.default)(),s=n.startsWith("hw"),l="setRange"===t.type,c=(0,m.useRef)(!1),d=(0,m.useState)(0),p=(0,f.default)(d,2),h=p[0],y=p[1],v=(0,m.useState)([]),x=(0,f.default)(v,2),_=x[0],k=x[1],I=(0,m.useRef)([]),O=(0,m.useRef)([]),T=(0,m.useState)(""),S=(0,f.default)(T,2),P=S[0],C=S[1],M=(0,w.useAppSelector)((function(e){return e.hardware.previousAddress})),A=(0,m.useCallback)((function(e,n){if("setRange"===t.type){var r=t.generateCount,o=n?1:Math.floor(e.length/Number(r)*100)/100;k(e),y(o)}}),[t]);(0,m.useEffect)((function(){var e;if(l){var t=null!=(e=null==M?void 0:M.data)?e:{};if(t){var n=t.path,o=t.address;O.current.findIndex((function(e){return e.path===(null==M?void 0:M.data.path)}))<0||(C(null!=o?o:""),b.default.serviceDerivationPath.convertPlainAddressItemToImportableHDAccount({networkId:r,path:null!=n?n:"",address:null!=o?o:""}).then((function(e){I.current.push(e),A(I.current)})))}}}),[M,l,r,A]),(0,m.useEffect)((function(){return b.default.dispatch((0,qe.clearPreviousAddress)()),function(){b.default.dispatch((0,qe.clearPreviousAddress)())}}),[]);var E=(0,m.useCallback)(function(){var e=(0,u.default)((function*(e){var t=e.start,i=e.offset,s=e.purpose,l=e.template;try{return yield b.default.engine.searchHDAccounts(n,r,o,t,i,s,l)}catch(c){throw j.deviceUtils.showErrorToast(c),setTimeout((function(){return a()}),200),c}}));return function(t){return e.apply(this,arguments)}}(),[r,o,n,a]);return(0,m.useEffect)((function(){l&&(s||(0,u.default)((function*(){var e,n,o,a=t.fromIndex,i=t.generateCount,s=t.derivationOption,l=null==s?void 0:s.template,d=parseInt(null!=(e=null==s||null==(n=s.category)||null==(o=n.split("'/"))?void 0:o[0])?e:"44"),f=Number(a)-1,p=f,m=Number(i);p+m>Qe&&(m=Qe-p);for(var h=[],g=0;p<f+m;){var y=5;if(p+5>f+m&&(y=m-g),y<=0)break;if(c.current)break;var v=yield E({start:p,offset:y,purpose:d,template:l}),x=yield Promise.all(v.map(function(){var e=(0,u.default)((function*(e){return Ye(Ye({},e),{},{displayAddress:yield b.default.engine.getDisplayAddress(r,e.displayAddress)})}));return function(t){return e.apply(this,arguments)}}()));if(h.push.apply(h,(0,Ge.default)(x)),p+=5,g+=y,x.length!==y){A(h,!0);break}A(h)}}))())}),[t,s,l,r,o,n,E,A]),(0,m.useEffect)((function(){l&&s&&(0,u.default)((function*(){var e=t.fromIndex,o=t.generateCount,a=t.derivationOption,s=null==a?void 0:a.template;if(!s)throw new Error("must be a template");for(var l=[],c=0;c<Number(o||0);c++){var d=Number(e)-1+c;l.push(d)}O.current=l.map((function(e){return{path:s.replace(Ze.INDEX_PLACEHOLDER,e.toString())}}));try{var u=yield b.default.serviceDerivationPath.batchGetHWAddress({networkId:r,walletId:n,indexes:l,template:s,confirmOnDevice:!0});A(u)}catch(f){_e.default.common.info("getHWAddressByTemplate error: ",f),(f||{}).className===$e.OneKeyErrorClassNames.OneKeyHardwareError?j.deviceUtils.showErrorToast(f):Z.default.show({title:i.formatMessage({id:"msg__cancelled_during_the_process"},{type:"error"})}),A(I.current,!0)}}))()}),[t,s,l,r,n,A,i]),{progress:h,progressText:(0,m.useMemo)((function(){if(l){var e=t.generateCount||"0";return`${Number.isSafeInteger(_.length)?_.length:0}/${e}`}}),[t,l,_.length]),generatedAccounts:_,previousAddress:P,cancelFlagRef:c}}({data:o,walletId:n,networkId:r,password:i,onClose:d}),y=p.progress,v=p.progressText,x=p.previousAddress,_=p.generatedAccounts,I=p.cancelFlagRef,T=function(e){var t=e.data,n=e.walletId,r=e.networkId,o=e.password,a=(0,g.default)(),i=(0,Je.default)(),s=n.startsWith("hw"),l="walletAccounts"===t.type,c=(0,m.useRef)(!1),d=(0,m.useState)(0),p=(0,f.default)(d,2),h=p[0],y=p[1],v=(0,m.useState)([]),x=(0,f.default)(v,2),_=x[0],k=x[1],I=(0,m.useRef)([]),O=(0,m.useRef)(""),T=(0,m.useState)(""),S=(0,f.default)(T,2),P=S[0],C=S[1],M=(0,w.useAppSelector)((function(e){return e.hardware.previousAddress})),A=(0,m.useCallback)((function(e,n){if("walletAccounts"===t.type){var r=t.networkDerivations.reduce((function(e,t){return e+t.accounts.length}),0),o=e.reduce((function(e,t){return e+(s?t.accountData.filter((function(e){return e.confirm})).length:t.accountData.length)}),0),a=n?1:Math.floor(o/Number(r)*100)/100;k(e),y(a)}}),[t,s]);return(0,m.useEffect)((function(){var e;if(l){var t=null!=(e=null==M?void 0:M.data)?e:{};if(t){var n=t.path,o=t.address;O.current&&I.current.forEach((function(e){if(e.template===O.current){var t=e.accountData,a=t.findIndex((function(e){return e.fullPath===n}));if(-1!==a){if(o&&t[a].address.toLowerCase()!==o.toLowerCase())throw new Error("not same address");o&&b.default.serviceDerivationPath.convertPlainAddressItemToImportableHDAccount({networkId:r,path:null!=n?n:"",address:null!=o?o:""}).then((function(e){var n;t[a].address=e.displayAddress,t[a].confirm=!0,C(null!=(n=e.displayAddress)?n:""),A(I.current)}))}}}))}}}),[M,l,r,A]),(0,m.useEffect)((function(){l&&(s||(0,u.default)((function*(){var e=!1,s=t.networkDerivations,l=[],d=(yield b.default.engine.getNetwork(r)).impl,u=function*(t){var s=yield b.default.engine.getAccounts(t.accounts,r),u=[];for(var f of s)try{var p;if(c.current||e)break;var m=f.template;m&&d!==Ze.IMPL_COSMOS||(m=(0,H.getDefaultAccountNameInfoByImpl)(d).template);var h=f.path.split("/"),g=Number(h[1].endsWith("'")?h[1].slice(0,-1):h[1]),y=null==(p=m)?void 0:p.split("/").findIndex((function(e){return e.startsWith(Ze.INDEX_PLACEHOLDER)}));if(!Number.isSafeInteger(y)||Number(y)<0)throw _e.default.common.error("can not find account index: ",f),new Error("can not find account index");var v=h[null!=y?y:0].replace(/'$/,""),x=yield b.default.engine.getAccountsByVault({walletId:n,networkId:r,password:o,indexes:[parseInt(v,10)],purpose:g,template:m});1===x.length&&f.address!==(null==x?void 0:x[0].displayAddress)&&(f.address=x[0].displayAddress);var w=yield b.default.engine.getDisplayAddress(r,f.address);u.push(tt(tt({},f),{},{address:w,index:nt(t.template,f.path)}));var _=u.sort((function(e,t){return Number(e.index)-Number(t.index)})),k=l.findIndex((function(e){return e.template===t.template}));k>-1?l.splice(k,1,tt(tt({},t),{},{accountData:_})):l.push(tt(tt({},t),{},{accountData:_})),A(l)}catch(I){_e.default.common.info("Fetch Wallet Accounts error: ",I),(I||{}).className===$e.OneKeyErrorClassNames.OneKeyHardwareError?j.deviceUtils.showErrorToast(I):Z.default.show({title:a.formatMessage({id:"msg__cancelled_during_the_process"})},{type:"error"}),A(l,!0),e=!0,i.goBack();break}};for(var f of s)yield*u(f)}))())}),[t,s,l,A,r,n,a,o,i]),(0,m.useEffect)((function(){l&&s&&(0,u.default)((function*(){var e=!1,o=t.networkDerivations,s=[],l=function*(t){try{var o=(yield b.default.engine.getAccounts(t.accounts,r)).map((function(e){var n=nt(t.template,e.path);return tt({fullPath:t.template.replace(Ze.INDEX_PLACEHOLDER,n.toString()),index:Number(n)},e)})).sort((function(e,t){return Number(e.index)-Number(t.index)}));if(O.current=t.template,I.current.push(tt(tt({},t),{},{accountData:o.map((function(e){return tt(tt({},e),{},{confirm:!1})}))})),(yield b.default.serviceDerivationPath.batchGetHWAddress({networkId:r,walletId:n,indexes:o.map((function(e){return Number(e.index)})),confirmOnDevice:!0,template:t.template})).forEach((function(e){var t=o.findIndex((function(t){return t.fullPath===e.path}));t>-1&&(o[t].displayAddress=e.displayAddress)})),s.push(tt(tt({},t),{},{accountData:o})),c.current||e)return"break"}catch(l){return _e.default.common.info("Fetch Wallet Accounts error: ",l),(l||{}).className===$e.OneKeyErrorClassNames.OneKeyHardwareError?j.deviceUtils.showErrorToast(l):Z.default.show({title:a.formatMessage({id:"msg__cancelled_during_the_process"})},{type:"error"}),A(s,!0),e=!0,i.goBack(),"break"}};for(var d of o)if("break"===(yield*l(d)))break}))()}),[t,s,l,A,r,n,a,o,i]),{progress:h,progressText:(0,m.useMemo)((function(){if(l){var e=t.networkDerivations.reduce((function(e,t){return e+t.accounts.length}),0);return`${(s?I.current:_).reduce((function(e,t){return e+(s?t.accountData.filter((function(e){return e.confirm})).length:t.accountData.length)}),0)}/${e}`}}),[t,s,l,_,h]),previousAddress:P,walletAccounts:_,cancelFlagRef:c}}({data:o,walletId:n,networkId:r,password:i}),S=T.progress,P=T.progressText,C=T.previousAddress,M=T.walletAccounts,E=T.cancelFlagRef,R=n.startsWith("hw"),D=(0,m.useRef)(!1),N=(0,m.useRef)(!1),L="setRange"===o.type,B=(0,m.useMemo)((function(){return L?y:S}),[L,y,S]),F=(0,m.useMemo)((function(){return L?v:P}),[L,v,P]),U=(0,m.useMemo)((function(){return L?x:C}),[L,x,C]),W=(0,m.useCallback)((function(e){D.current=e,I.current=e,E.current=e}),[I,E]);return(0,m.useEffect)((function(){if(!N.current&&B>=1){var t,a,i,s,l;if(N.current=!0,L)t=[{template:null!=(a=null==(i=o.derivationOption)?void 0:i.template)?a:"",name:null!=(s=(0,Ke.formatDerivationLabel)(e,null==(l=o.derivationOption)?void 0:l.label))?s:"",data:_.map((function(e){return{address:e.displayAddress,path:e.path,index:e.index}}))}];else t=M.map((function(e){var t;return{template:e.template,name:null!=(t=e.name)?t:"",data:e.accountData.map((function(e){return{index:e.index,address:e.address,path:e.path}}))}}));setTimeout((function(){D.current||(t.every((function(e){return!e.data.length}))?c.goBack():c.replace(k.CreateAccountModalRoutes.ExportAddresses,{networkId:r,walletId:n,data:t}))}),500)}}),[B,L,o,_,M,e,r,n,R,c]),(0,O.jsx)(a.default,{height:R?"auto":"375px",header:void 0,closeable:!1,closeOnOverlayClick:!1,hideSecondaryAction:!0,hideBackButton:!0,headerShown:!1,primaryActionTranslationId:"action__cancel",primaryActionProps:{type:"basic"},onPrimaryActionPress:(0,u.default)((function*(){if(W(!0),R){var e=yield b.default.engine.getHWDeviceByWalletId(n);e&&b.default.serviceHardware.cancel(e.mac)}c.goBack()})),children:(0,O.jsxs)(A.default,{w:"full",h:"full",children:[(0,O.jsx)(s.default,{mt:6,children:(0,O.jsx)(ze.default.Circle,{progress:B,text:(0,O.jsx)(A.default,{children:(0,O.jsx)(l.default,{typography:{sm:"DisplayMedium",md:"DisplayLarge"},children:F})})})}),(0,O.jsx)(l.default,{mt:6,typography:{sm:"Heading",md:"Heading"},children:e.formatMessage({id:"title__fetching_addresses"})}),U&&(0,O.jsxs)(Ne.default,{mt:4,space:1,children:[(0,O.jsx)(l.default,{textAlign:"center",typography:{sm:"Body2Strong",md:"Body2Strong"},color:"text-subdued",children:e.formatMessage({id:"form__previous_confirmed"})}),(0,O.jsx)(l.default,{typography:{sm:"Body2",md:"Body2"},wordBreak:"break-all",children:U})]})]})})};var ot=n(679978);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var it=(0,n(324665).default)(),st=[{name:k.CreateAccountModalRoutes.CreateAccountForm,component:T},{name:k.CreateAccountModalRoutes.CreateAccountAuthentication,component:S.default},{name:k.CreateAccountModalRoutes.RecoverAccountsList,component:ve},{name:k.CreateAccountModalRoutes.RecoverAccountsAdvanced,component:de.default},{name:k.CreateAccountModalRoutes.RecoverAccountsConfirm,component:je},{name:k.CreateAccountModalRoutes.RecoverAccountsConfirmAuthentication,component:S.default},{name:k.CreateAccountModalRoutes.RecoverySelectChainList,component:Pe},{name:k.CreateAccountModalRoutes.BulkCopyAddresses,component:Ce.default},{name:k.CreateAccountModalRoutes.FetchAddressModal,component:rt},{name:k.CreateAccountModalRoutes.ExportAddresses,component:Ve},{name:k.CreateAccountModalRoutes.BitcoinUsedAddress,component:P.default}];const lt=function(){var e=(0,o.default)();return(0,O.jsx)(it.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,ot.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:st.map((function(e){return(0,O.jsx)(it.Screen,{name:e.name,component:e.component},e.name)}))})}},723451:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Be});var r=n(256666),o=n(539144),a=n(459632),i=n(877531),s=n(795116),l=n(719392),c=n(669083),d=n(634795),u=n(202784),f=n(472719),p=n(783112),m=n(945821),h=n(268883),g=n(859071),y=n(821919),v=n(854341),b=n(552322),x=function(e){var t=e.privatekey,n=e.name,r=e.template,o=e.networkId,a=e.password,i=e.withEnableAuthentication,f=e.onSuccess,h=e.onFailure,g=(0,p.default)();return(0,u.useEffect)((function(){function e(){return(e=(0,d.default)((function*(){try{var e=yield m.default.serviceAccount.addImportedAccount(a,o,t,n,r);i&&(m.default.dispatch((0,y.setEnableLocalAuthentication)(!0)),yield(0,v.savePassword)(a)),e&&(null==f||f({account:e}))}catch(l){var s=l.key;c.default.show({title:g.formatMessage({id:s})},{type:"error"}),null==h||h()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,b.jsx)(s.default,{h:"full",w:"full",children:(0,b.jsx)(l.default,{size:"lg"})})};const w=function(){var e,t=(0,f.useRoute)(),n=(0,g.useNavigation)(),r=null!=(e=t.params)?e:{},o=r.privatekey,a=r.name,s=r.networkId,l=r.template,c=r.onSuccess,d=r.onFailure;return(0,u.useEffect)((function(){n.setOptions({gestureEnabled:!1})}),[n]),(0,b.jsx)(i.default,{footer:null,headerShown:!1,children:(0,b.jsx)(h.default,{walletId:null,skipSavePassword:!0,field:h.ValidationFields.Account,children:function(e,t){var n=t.withEnableAuthentication;return(0,b.jsx)(x,{withEnableAuthentication:n,privatekey:o,name:a,template:l,networkId:s,password:e,onSuccess:c,onFailure:d})}})})};var _=n(566147),k=n(968079),I=n(921311),j=n(284382),O=n(324639),T=n(747225),S=n(481047),P=[j.UserInputCategory.IMPORTED,j.UserInputCategory.WATCHING];const C=function(){var e=(0,p.default)(),t=(0,f.useNavigation)(),n=(0,I.default)(),r=n.control,o=n.handleSubmit,a=n.getValues,s=n.watch,l=(0,f.useRoute)().params,h=l.text,g=l.checkResults,y=l.onSuccess,v=l.defaultName,x=(0,T.useGeneral)().activeNetworkId,w=(0,T.useRuntime)().wallets,C=(0,u.useMemo)((function(){return(0,k.default)(new Set(g.reduce((function(e,t){return e.concat(t.possibleNetworks||[])}),[])))}),[g]),M=s("networkId",x&&C.includes(x)?x:C[0]),A=(0,u.useMemo)((function(){return g.filter((function(e){var t=e.possibleNetworks;return(void 0===t?[]:t).includes(M)})).map((function(e){return e.category}))}),[M,g]),E=(0,u.useMemo)((function(){var t,n=null==(t=g.find((function(e){var t;return null==(t=e.possibleNetworks)?void 0:t.includes(M)})))?void 0:t.derivationOptions;if(!n||!n.length)return[];var r=[];for(var o of n){var a="";if("string"===typeof o.label)a=o.label;else if("object"===typeof o.label){var i;a=e.formatMessage({id:null==(i=o.label)?void 0:i.id})}var s=void 0;if("string"===typeof o.desc)s=o.desc;else if("object"===typeof o.desc){var l,c;s=e.formatMessage({id:null==(l=o.desc)?void 0:l.id},null==(c=o.desc)?void 0:c.placeholder)}r.push({label:a,value:o.template,description:s})}return r}),[M,g,e]),R=(0,u.useMemo)((function(){return E.length?E[0].value:""}),[E]),D=(0,u.useMemo)((function(){var e=Object.fromEntries(w.filter((function(e){return["imported","watching"].includes(e.type)})).map((function(e){return[e.type,e.nextAccountIds.global||""]})));return[e.imported?`Account #${e.imported}`:"",e.watching?`Account #${e.watching}`:""]}),[w]),N=(0,u.useMemo)((function(){var e;return null!=(e=a("importAs"))?e:P.indexOf(A[0])}),[a,A]),L=(0,u.useCallback)((function(){var e=t.getParent()||t;e.canGoBack()&&e.goBack()}),[t]),B=(0,u.useCallback)(function(){var n=(0,d.default)((function*(n){var r,o=null!=(r=n.importAs)?r:P.indexOf(A[0]),a=P[o],i=n.name||v||D[o],s=n.template||R||void 0;if(a===j.UserInputCategory.IMPORTED)t.navigate(S.CreateWalletModalRoutes.AddImportedAccountDoneModal,{privatekey:h,networkId:n.networkId,name:i,template:s,onSuccess:y,onFailure:L});else if(a===j.UserInputCategory.WATCHING)try{var l=yield m.default.serviceAccount.addWatchAccount(n.networkId,h,i,s);null==y||y({account:l})}catch(u){var d=u.key;c.default.show({title:e.formatMessage({id:d})}),null==L||L()}}));return function(e){return n.apply(this,arguments)}}(),[v,A,D,t,h,y,L,R,e]);return(0,b.jsx)(i.default,{header:e.formatMessage({id:"action__add_account"}),headerDescription:e.formatMessage({id:0===N?"wallet__imported_accounts":"wallet__watched_accounts"}),primaryActionProps:{type:"primary",onPromise:o(B)},primaryActionTranslationId:"action__import",hideSecondaryAction:!0,children:(0,b.jsxs)(_.default,{children:[1===C.length?void 0:(0,b.jsx)(O.default,{selectableNetworks:C,control:r,name:"networkId",hideHelpText:!0}),1===A.length?void 0:(0,b.jsx)(_.default.Item,{name:"importAs",label:e.formatMessage({id:"form__import_as"}),control:r,children:(0,b.jsx)(_.default.SegmentedControl,{values:[e.formatMessage({id:"wallet__imported_accounts"}),e.formatMessage({id:"wallet__watched_accounts"})]})}),E.length<=1?void 0:(0,b.jsx)(_.default.Item,{name:"template",label:e.formatMessage({id:"form__address_type_label"}),control:r,children:(0,b.jsx)(_.default.Select,{headerShown:!1,footer:null,defaultValue:R,options:E})})]})})};var M=n(742903),A=n(911968);const E=function(){var e,t=(0,f.useNavigation)(),n=null!=(e=(0,f.useRoute)().params)?e:{},r=n.password,o=n.withEnableAuthentication,a=(0,u.useCallback)((0,d.default)((function*(){var e=yield m.default.engine.generateMnemonic();t.navigate(S.CreateWalletModalRoutes.MnemonicModal,{password:r,withEnableAuthentication:o,mnemonic:e})})),[t,r,o]);return(0,b.jsx)(A.Attentions,{onPress:a})};var R=n(33809),D=function(e){var t=e.password,n=e.mnemonic,r=e.withEnableAuthentication,o=e.onSuccess,a=(0,p.default)(),i=(0,g.useNavigationActions)(),f=i.closeWalletSelector,h=i.openRootHome;return(0,u.useEffect)((function(){function e(){return(e=(0,d.default)((function*(){try{var e=yield m.default.serviceAccount.createHDWallet({password:t,mnemonic:n});r&&(m.default.dispatch((0,y.setEnableLocalAuthentication)(!0)),yield(0,v.savePassword)(t)),e&&(null==o||o({wallet:e}))}catch(s){var i=s.key;c.default.show({title:a.formatMessage({id:i})})}f(),h(),(0,R.closeExtensionWindowIfOnboardingFinished)()}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,b.jsx)(s.default,{h:"full",w:"full",children:(0,b.jsx)(l.default,{size:"lg"})})};const N=function(){var e,t=(0,f.useRoute)(),n=(0,g.useNavigation)(),r=null!=(e=t.params)?e:{},o=r.mnemonic,a=r.onSuccess;return(0,u.useEffect)((function(){n.setOptions({gestureEnabled:!1})}),[n]),(0,b.jsx)(i.default,{footer:null,headerShown:!1,children:(0,b.jsx)(h.default,{skipSavePassword:!0,walletId:null,field:h.ValidationFields.Wallet,children:function(e,t){var n=t.withEnableAuthentication;return(0,b.jsx)(D,{password:e,mnemonic:o,withEnableAuthentication:n,onSuccess:a})}})})};var L=n(571861),B=function(e){var t=e.password,n=e.withEnableAuthentication,r=(0,f.useNavigation)();return(0,u.useEffect)((function(){r.replace(S.CreateWalletModalRoutes.AttentionsModal,{password:t,withEnableAuthentication:n})}),[]),(0,b.jsx)(s.default,{h:"full",w:"full",children:(0,b.jsx)(l.default,{size:"lg"})})};const F=function(){return(0,b.jsx)(i.default,{footer:null,children:(0,b.jsx)(h.default,{walletId:null,skipSavePassword:!0,field:h.ValidationFields.Wallet,children:function(e,t){var n=t.withEnableAuthentication;return(0,b.jsx)(B,{password:e,withEnableAuthentication:n})}})})};var U=n(713144),H=n(10918),W=n(794953),V=n(302478),z=n(932330),K=n(432986),G=n(776553),$=n(793525),Z=n(526002);const q=function(){var e=(0,p.default)(),t=(0,f.useNavigation)(),n=(0,f.useRoute)().params,r=n.device,o=n.entry,a=m.default.serviceHardware,h=(0,u.useRef)(null),g=(0,u.useCallback)((function(){null!=t&&null!=t.canGoBack&&t.canGoBack()&&t.goBack()}),[t]);(0,u.useEffect)((function(){var t=setTimeout((function(){g(),c.default.show({title:e.formatMessage({id:"action__connection_timeout"})})}),6e4);return h.current=t,function(){h.current&&clearTimeout(h.current)}}),[g,e]),(0,u.useEffect)((function(){function e(){return(e=(0,d.default)((function*(){var e=null;try{var n;e=yield Promise.race([a.getFeatures(null!=(n=r.connectId)?n:""),new Promise((function(e,t){return setTimeout(t,3e4)}))])}catch(i){return g(),(i||{}).code===V.CustomOneKeyHardwareError.NeedOneKeyBridge?void(0,$.showDialog)((0,b.jsx)(W.default,{})):void K.deviceUtils.showErrorToast(i,"action__connection_timeout")}if(h.current&&clearTimeout(h.current),e.initialized)try{m.default.dispatch((0,z.setOnBoardingLoadingBehindModal)(!0)),yield(0,G.wait)(600),t.replace(S.RootRoutes.Onboarding,{screen:Z.EOnboardingRoutes.BehindTheScene,params:{password:"",mnemonic:"",isHardwareCreating:{device:r,features:e},entry:o}})}finally{yield(0,G.wait)(600),m.default.dispatch((0,z.setOnBoardingLoadingBehindModal)(!1))}else t.navigate(S.RootRoutes.Modal,{screen:S.ModalRoutes.CreateWallet,params:{screen:S.CreateWalletModalRoutes.SetupHardwareModal,params:{device:r}}})}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=(0,b.jsxs)(s.default,{h:"152px",children:[(0,b.jsx)(l.default,{size:"lg"}),(0,b.jsx)(H.default.DisplayMedium,{mt:6,children:e.formatMessage({id:"modal__device_status_check"})})]});return(0,b.jsx)(i.default,{footer:null,staticChildrenProps:{justifyContent:"center",flex:"1",p:6,px:{base:4,md:6}},onModalClose:function(){(0,R.closeExtensionWindowIfOnboardingFinished)()},children:y})};var X=n(259924),Y=n(361301),Q=n(225447),J=n(263585),ee=n(627009);const te=function(){var e=(0,p.default)(),t=(0,g.useHelpLink)({path:""}),n=(0,f.useNavigation)(),r=(0,f.useRoute)(),o=((null==r?void 0:r.params)||{}).device,a=(0,b.jsx)(s.default,{children:(0,b.jsxs)(Y.default,{space:8,children:[(0,b.jsx)(s.default,{h:"160px",bgColor:"surface-neutral-subdued",borderRadius:"24px",children:(0,b.jsx)(Q.default,{source:J,w:"116.66px",h:"103.89px"})}),(0,b.jsxs)(Y.default,{space:2,children:[(0,b.jsx)(H.default.DisplayMedium,{textAlign:"center",children:e.formatMessage({id:"modal__check_the_box_contents"})}),(0,b.jsx)(H.default.Body2,{textAlign:"center",color:"text-subdued",children:e.formatMessage({id:"modal__check_the_box_contents_desc"})})]}),(0,b.jsx)(X.default,{alertType:"error",title:e.formatMessage({id:"alert_only_use_a_recovery_seed_from_device"}),dismiss:!1})]})});return(0,b.jsx)(i.default,{primaryActionTranslationId:"action__continue",secondaryActionTranslationId:"action__contact_us",onSecondaryActionPress:function(){(0,ee.openUrl)(t)},onPrimaryActionPress:function(){n.navigate(S.RootRoutes.Modal,{screen:S.ModalRoutes.CreateWallet,params:{screen:S.CreateWalletModalRoutes.SetupNewDeviceModal,params:{device:o,type:"Restore"}}})},scrollViewProps:{children:a}})};var ne=n(18861),re=n(901906);const oe=function(){var e=(0,p.default)(),t=(0,f.useNavigation)(),n=(0,f.useRoute)(),r=((null==n?void 0:n.params)||{}).device,o=[{title:e.formatMessage({id:"content__enter_your_recovery_seed"}),description:e.formatMessage({id:"content__enter_your_recovery_seed_desc"})},{title:e.formatMessage({id:"content__set_a_pin_code"}),description:e.formatMessage({id:"content__set_a_pin_code_desc"})},{title:e.formatMessage({id:"content__follow_instructions"}),description:e.formatMessage({id:"content__follow_instructions_desc"})}],a=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ne.default,{bgColor:"surface-neutral-subdued",w:"full",h:"160px",borderRadius:"12px",mb:8,children:(0,b.jsx)(Q.default,{source:re,w:"full",h:"full",resizeMode:"cover"})}),(0,b.jsxs)(ne.default,{children:[(0,b.jsx)(H.default.DisplayMedium,{mb:2,children:e.formatMessage({id:"content__select_restore_wallet"})}),(0,b.jsx)(H.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"content__select_restore_wallet_desc"})})]}),o.map((function(e,t){return(0,b.jsxs)(ne.default,{flexDirection:"row",mt:4,children:[(0,b.jsx)(s.default,{rounded:"full",bg:"decorative-surface-one",size:8,mr:4,children:(0,b.jsx)(H.default.Body2Strong,{color:"decorative-icon-one",children:t+1})}),(0,b.jsxs)(ne.default,{flex:1,pt:1,children:[(0,b.jsx)(H.default.Body1Strong,{children:e.title}),(0,b.jsx)(H.default.Body2,{color:"text-subdued",mt:1.5,children:e.description})]})]},t)}))]});return(0,b.jsx)(i.default,{header:"Restore Wallet",height:"640px",primaryActionTranslationId:"action__ok_im_done",secondaryActionTranslationId:"action__learn_more",onPrimaryActionPress:function(){t.navigate(S.RootRoutes.Modal,{screen:S.ModalRoutes.CreateWallet,params:{screen:S.CreateWalletModalRoutes.DeviceStatusCheckModal,params:{device:r}}})},scrollViewProps:{children:a}})};var ae=n(470310),ie=n(435581),se=n(540366);const le=function(){var e,t=(0,p.default)(),n=(0,f.useNavigation)(),r=(0,f.useRoute)(),o=((null==r?void 0:r.params)||{}).device,a=(0,b.jsxs)(Y.default,{space:4,w:"full",children:[(0,b.jsxs)(se.default,{borderRadius:"12px",px:4,onPress:function(){n.navigate(S.RootRoutes.Modal,{screen:S.ModalRoutes.CreateWallet,params:{screen:S.CreateWalletModalRoutes.SetupNewDeviceModal,params:{device:o,type:"SetupNew"}}})},children:[(0,b.jsxs)(ae.default,{justifyContent:"space-between",alignItems:"center",children:[(0,b.jsx)(s.default,{size:12,borderRadius:"12px",bg:"surface-neutral-default",children:(0,b.jsx)(ie.default,{name:"PlusCircleOutline"})}),(0,b.jsx)(ie.default,{name:"ChevronRightOutline",size:24})]}),(0,b.jsxs)(Y.default,{space:1,mt:3,children:[(0,b.jsx)(H.default.Body1Strong,{children:t.formatMessage({id:"modal__setup_new_device"})}),(0,b.jsx)(H.default.Body2,{color:"text-subdued",children:t.formatMessage({id:"modal__setup_new_device_desc"})})]})]}),(0,b.jsxs)(se.default,{borderRadius:"12px",px:4,onPress:function(){n.navigate(S.RootRoutes.Modal,{screen:S.ModalRoutes.CreateWallet,params:{screen:S.CreateWalletModalRoutes.RestoreHardwareWalletModal,params:{device:o}}})},children:[(0,b.jsxs)(ae.default,{justifyContent:"space-between",alignItems:"center",children:[(0,b.jsx)(s.default,{size:12,borderRadius:"12px",bg:"surface-neutral-default",children:(0,b.jsx)(ie.default,{name:"RestoreOutline"})}),(0,b.jsx)(ie.default,{name:"ChevronRightOutline",size:24})]}),(0,b.jsxs)(Y.default,{space:1,mt:3,children:[(0,b.jsx)(H.default.Body1Strong,{children:t.formatMessage({id:"modal__restore_wallet"})}),(0,b.jsx)(H.default.Body2,{color:"text-subdued",children:t.formatMessage({id:"modal__restore_wallet_desc"})})]})]})]});return(0,b.jsx)(i.default,{header:null!=(e=o.name)?e:"",headerDescription:t.formatMessage({id:"content__not_actived"}),footer:null,scrollViewProps:{children:a}})};var ce=n(139256),de=n(31711),ue=n(495668),fe=n(299382),pe=n(640515),me=function(e){switch(e){case"classic":case"classic1s":return ue;case"mini":return fe;case"touch":return pe;default:return}},he=function(e){switch(e){case"classic":case"classic1s":return re;case"mini":return ce;case"touch":return de;default:return}};const ge=function(){var e=(0,p.default)(),t=(0,f.useNavigation)(),n=(0,f.useRoute)(),r=(null==n?void 0:n.params)||{},o=r.device,a=r.type,l=(0,g.useHelpLink)({path:"articles/4408289773455"}),c=(0,g.useHelpLink)({path:"articles/360004487195"}),d=(0,u.useMemo)((function(){if(!o)return null;switch(o.deviceType){case"classic":case"classic1s":return c;case"mini":return l;default:return null}}),[c,o,l]),m=(0,u.useMemo)((function(){var t=[{title:e.formatMessage({id:"content__set_a_pin_code"}),description:e.formatMessage({id:"content__set_a_pin_code_desc"})},{title:e.formatMessage({id:"content__follow_instructions"}),description:e.formatMessage({id:"content__follow_instructions_desc"})}];return"SetupNew"===a?t.unshift({title:e.formatMessage({id:"content__write_down_all_recovery_seed"}),description:e.formatMessage({id:"content__write_down_all_recovery_seed_desc"})}):t.unshift({title:e.formatMessage({id:"content__enter_your_recovery_seed"}),description:e.formatMessage({id:"content__enter_your_recovery_seed_desc"})}),"touch"!==o.deviceType&&"pro"!==o.deviceType||t.splice.apply(t,[1,1].concat((0,k.default)(t.splice(0,1,t[1])))),t}),[o.deviceType,e,a]),h=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ne.default,{bgColor:"surface-neutral-subdued",w:"full",h:"160px",borderRadius:"12px",mb:8,children:(0,b.jsx)(Q.default,{source:"SetupNew"===a?me(o.deviceType):he(o.deviceType),w:"full",h:"full",resizeMode:"cover"})}),(0,b.jsxs)(ne.default,{children:[(0,b.jsx)(H.default.DisplayMedium,{mb:2,children:"SetupNew"===a?e.formatMessage({id:"content__select_create_new_wallet"}):e.formatMessage({id:"content__select_restore_wallet"})}),(0,b.jsx)(H.default.Body2,{color:"text-subdued",children:"SetupNew"===a?e.formatMessage({id:"content__select_create_new_wallet_desc"}):e.formatMessage({id:"content__select_restore_wallet_desc"})})]}),m.map((function(e,t){return(0,b.jsxs)(ne.default,{flexDirection:"row",mt:4,children:[(0,b.jsx)(s.default,{rounded:"full",bg:"decorative-surface-one",size:8,mr:4,children:(0,b.jsx)(H.default.Body2Strong,{color:"decorative-icon-one",children:t+1})}),(0,b.jsxs)(ne.default,{flex:1,pt:1,children:[(0,b.jsx)(H.default.Body1Strong,{children:e.title}),(0,b.jsx)(H.default.Body2,{color:"text-subdued",mt:1.5,children:e.description})]})]},t)}))]});return(0,b.jsx)(i.default,{header:"SetupNew"===a?e.formatMessage({id:"modal__setup_new_device"}):e.formatMessage({id:"modal__restore_wallet"}),height:"640px",primaryActionTranslationId:"action__ok_im_done",hideSecondaryAction:!d,secondaryActionTranslationId:"action__learn_more",onPrimaryActionPress:function(){t.popToTop()},onSecondaryActionPress:function(){d&&(0,ee.openUrl)(d)},scrollViewProps:{children:h}})};var ye=n(749888);const ve=function(){var e,t=(0,p.default)(),n=(0,f.useRoute)(),r=((0,g.useNavigationActions)().openRootHome,(0,ye.default)()),o=(0,R.useOnboardingDone)(),a=(null==n?void 0:n.params)||{},l=a.device,c=a.onPressOnboardingFinished,m=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.default,{flex:1,children:[(0,b.jsx)(s.default,{bg:"surface-success-default",borderRadius:"full",size:"56px",children:(0,b.jsx)(ie.default,{name:"CheckOutline",color:"icon-success"})}),(0,b.jsx)(H.default.DisplayMedium,{mt:6,children:t.formatMessage({id:"modal__setup_complete"})}),(0,b.jsx)(H.default.Body1,{color:"text-subdued",textAlign:"center",mt:2,children:t.formatMessage({id:"modal__setup_complete_desc"})})]}),(0,b.jsx)(s.default,{})]}),h=(0,u.useCallback)((0,d.default)((function*(){r(),c?(yield(0,G.wait)(2e3),null==c||c()):o({delay:600})})),[r,c,o]);return(0,b.jsx)(i.default,{header:null!=(e=l.name)?e:"",headerDescription:t.formatMessage({id:"content__activated"}),secondaryActionTranslationId:"action__close",secondaryActionProps:{onPress:h},staticChildrenProps:{flex:"1",p:6,px:{base:4,md:6}},hidePrimaryAction:!0,onModalClose:function(){(0,R.closeExtensionWindowIfOnboardingFinished)()},children:m})};var be=n(196234),xe=n(190769),we=n(640671),_e=n(292147),ke=n(97450),Ie=n(59758),je=n(625514);const Oe=function(){var e=(0,p.default)(),t=(0,f.useNavigation)(),n=m.default.dispatch,r=(0,f.useRoute)().params,o=r.walletId,a=r.pinCode,i=r.backupData,s=r.onSuccess,l=(0,u.useState)(""),h=(0,be.default)(l,2),g=h[0],y=h[1],v=(0,u.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),x=(0,be.default)(v,1)[0],w=(0,u.useState)("primary"),_=(0,be.default)(w,2),k=_[0],I=_[1],j=(0,u.useState)(e.formatMessage({id:"action__connect"})),O=(0,be.default)(j,2),T=O[0],P=O[1],C=(0,u.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),M=(0,be.default)(C,2),A=M[0],E=M[1],R=(0,u.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),D=(0,be.default)(R,2),N=D[0],L=D[1],B=(0,u.useState)("guide"),F=(0,be.default)(B,2),U=F[0],H=F[1],W=(0,u.useState)(0),V=(0,be.default)(W,2),K=V[0],G=V[1],$=function(){(t.getParent()||t).goBack()},Z=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(""===i.trim())return c.default.show({title:e.formatMessage({id:"msg__unknown_error"})}),void t.goBack();I("basic"),P(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__searching"})),L(e.formatMessage({id:"title__searching_desc"})),H("connect"),we.default.cancel(),we.default.setMnemonic(i,a,function(){var t=(0,d.default)((function*(t,r,a){if(console.log("state",a),r){if(_e.default.onekeyLite.debug("NFC read success:",r,a),console.log("NFC read data:",r),I("primary"),P(e.formatMessage({id:"action__i_got_it"})),E(e.formatMessage({id:"title__backup_completed"})),L(e.formatMessage({id:"title__backup_completed_desc"})),H("complete"),o){var i=yield m.default.engine.confirmHDWalletBackuped(o);if(!i||!1===(null==i?void 0:i.backuped))return;n((0,z.updateWallet)(i))}null==s||s()}else if(t){var l,c;_e.default.onekeyLite.debug("NFC read error code",t.code,t.message,a),y(null!=(l=null==a||null==(c=a.pinRetryCount)?void 0:c.toString())?l:"0"),G(t.code)}}));return function(e,n,r){return t.apply(this,arguments)}}(),r)},q=function(t){switch(_e.default.onekeyLite.debug("Onekey Lite Reset handler NfcConnectState",t),t.code){case 1:case 3:default:break;case 2:I("basic"),P(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__transferring_data"})),L(e.formatMessage({id:"title__transferring_data_desc"})),H("transfer")}};return(0,u.useEffect)((function(){return we.default.addConnectListener(q),"ios"!==xe.default.OS&&Z(),function(){we.default.removeConnectListeners()}}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ke.SkipAppLock,{}),(0,b.jsx)(Ie.default,{title:x,connectType:"ble",actionState:A,actionDescription:N,operateType:U,onCloseConnect:function(){console.log("handleCloseConnect")},onActionPress:function(){switch(U){case"guide":Z();break;case"connect":case"transfer":if("ios"===xe.default.OS)return;we.default.cancel(),$();break;default:$()}},actionPressStyle:k,actionPressContent:T}),(0,b.jsx)(je.default,{code:K,pinRetryCount:g,onRetry:function(){return t.replace(S.CreateWalletModalRoutes.OnekeyLiteBackupPinCodeVerifyModal,{walletId:o,backupData:i,onSuccess:s})},onRetryConnect:function(){Z(!0)},onExit:function(){$()},onIntoNfcSetting:function(){we.default.intoSetting(),$()},onDialogClose:function(){return G(0)}})]})};var Te=n(759109);const Se=function(){var e=(0,p.default)(),t=(0,f.useNavigation)(),n=(0,f.useRoute)().params,r=n.walletId,o=n.backupData,a=n.onSuccess;return(0,b.jsx)(Te.default,{title:e.formatMessage({id:"title__onekey_lite_pin"}),description:e.formatMessage({id:"content__enter_onekey_lite_pin_to_continue"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return t.replace(S.CreateWalletModalRoutes.OnekeyLiteBackupModal,{walletId:r,pinCode:e,backupData:o,onSuccess:a}),Promise.resolve(!0)}})};const Pe=function(){var e=(0,p.default)(),t=(0,f.useNavigation)();return(0,b.jsx)(Te.default,{title:e.formatMessage({id:"title__onekey_lite_pin"}),description:e.formatMessage({id:"content__enter_onekey_lite_pin_to_continue"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return t.replace(S.CreateWalletModalRoutes.OnekeyLiteRestoreModal,{pinCode:e}),Promise.resolve(!0)}})};var Ce=n(252261);const Me=function(){var e=(0,p.default)(),t=(0,g.useNavigationActions)().openRootHome,n=(0,f.useNavigation)(),r=(0,f.useRoute)().params.pinCode,o=(0,u.useState)(""),a=(0,be.default)(o,2),i=a[0],s=a[1],l=(0,u.useState)(),c=(0,be.default)(l,2),d=c[0],m=c[1],h=(0,u.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),y=(0,be.default)(h,1)[0],v=(0,u.useState)("primary"),x=(0,be.default)(v,2),w=x[0],_=x[1],k=(0,u.useState)(e.formatMessage({id:"action__connect"})),I=(0,be.default)(k,2),j=I[0],O=I[1],T=(0,u.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),P=(0,be.default)(T,2),C=P[0],M=P[1],A=(0,u.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),E=(0,be.default)(A,2),R=E[0],D=E[1],N=(0,u.useState)("guide"),L=(0,be.default)(N,2),B=L[0],F=L[1],U=(0,u.useState)(0),H=(0,be.default)(U,2),W=H[0],V=H[1],z=function(){(n.getParent()||n).goBack()},K=function(){O(e.formatMessage({id:"action__go_to_view"})),M(e.formatMessage({id:"title__recovery_completed"})),D(e.formatMessage({id:"title__recovery_completed_desc"})),F("done")},G=function(){_("basic"),O(e.formatMessage({id:"action__cancel"})),M(e.formatMessage({id:"title__searching"})),D(e.formatMessage({id:"title__searching_desc"})),F("connect"),we.default.cancel(),we.default.getMnemonicWithPin(r,(function(t,r,o){if(r)_e.default.onekeyLite.debug("NFC read success, card state:",o),m(r),_("primary"),O(e.formatMessage({id:"action__continue"})),M(e.formatMessage({id:"title__nfc_data_has_been_read"})),D(e.formatMessage({id:"title__nfc_data_has_been_read_desc"})),F("complete"),n.navigate(S.CreateWalletModalRoutes.OnekeyLiteRestoreDoneModal,{mnemonic:r,onSuccess:function(){K()}});else if(t){var a,i;_e.default.onekeyLite.debug("NFC read error",t),s(null!=(a=null==o||null==(i=o.pinRetryCount)?void 0:i.toString())?a:"0"),V(t.code)}else _e.default.onekeyLite.debug("NFC read unknown error, card state:",o),V(Ce.CardErrors.ExecFailure)}))},$=function(t){switch(_e.default.onekeyLite.debug("handlerNfcConnectState",t),t.code){case 1:case 3:default:break;case 2:_("basic"),O(e.formatMessage({id:"action__cancel"})),M(e.formatMessage({id:"title__transferring_data"})),D(e.formatMessage({id:"title__transferring_data_desc"})),F("transfer")}};return(0,u.useEffect)((function(){return we.default.addConnectListener($),"ios"!==xe.default.OS&&G(),function(){we.default.removeConnectListeners()}}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ke.SkipAppLock,{}),(0,b.jsx)(Ie.default,{title:y,connectType:"ble",actionState:C,actionDescription:R,operateType:B,onCloseConnect:function(){_e.default.onekeyLite.debug("handleCloseConnect")},onActionPress:function(){switch(B){case"guide":G();break;case"connect":case"transfer":if("ios"===xe.default.OS)return;we.default.cancel(),z();break;case"complete":if(!d)return;n.navigate(S.CreateWalletModalRoutes.OnekeyLiteRestoreDoneModal,{mnemonic:d,onSuccess:function(){K()}});break;case"done":t(),setTimeout((function(){}),600);break;default:z()}},actionPressStyle:w,actionPressContent:j}),(0,b.jsx)(je.default,{code:W,pinRetryCount:i,onRetryConnect:function(){return G()},onRetry:function(){return n.replace(S.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal)},onExit:function(){z()},onDialogClose:function(){return V(0)},onIntoNfcSetting:function(){we.default.intoSetting(),z()}})]})};var Ae=function(e){var t=e.password,n=e.mnemonic,r=e.withEnableAuthentication,o=e.onSuccess,a=m.default.serviceAccount,i=m.default.dispatch,f=(0,p.default)();return(0,u.useEffect)((function(){t&&(0,d.default)((function*(){try{yield a.createHDWallet({password:t,mnemonic:n}),r&&(i((0,y.setEnableLocalAuthentication)(!0)),yield(0,v.savePassword)(t)),null==o||o()}catch(s){var e=s.key;c.default.show({title:f.formatMessage({id:e})})}}))()}),[]),(0,b.jsx)(s.default,{w:"full",h:"full",children:(0,b.jsx)(l.default,{size:"lg"})})};const Ee=function(){var e=(0,f.useRoute)().params,t=e.onSuccess,n=e.mnemonic,r=(0,f.useNavigation)();return(0,b.jsx)(i.default,{footer:null,children:(0,b.jsx)(h.default,{walletId:null,skipSavePassword:!0,field:h.ValidationFields.Wallet,children:function(e,o){var a=o.withEnableAuthentication;return(0,b.jsx)(Ae,{password:e,mnemonic:n,withEnableAuthentication:a,onSuccess:function(){null!=r&&null!=r.canGoBack&&r.canGoBack()&&r.goBack(),null==t||t()}})}})})};var Re=n(679978);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ne=(0,n(324665).default)(),Le=[{name:S.CreateWalletModalRoutes.ConnectHardwareModal,component:U.default},{name:S.CreateWalletModalRoutes.SetupSuccessModal,component:ve},{name:S.CreateWalletModalRoutes.SetupHardwareModal,component:le},{name:S.CreateWalletModalRoutes.SetupNewDeviceModal,component:ge},{name:S.CreateWalletModalRoutes.DeviceStatusCheckModal,component:q},{name:S.CreateWalletModalRoutes.RestoreHardwareWalletModal,component:te},{name:S.CreateWalletModalRoutes.RestoreHardwareWalletDescriptionModal,component:oe},{name:S.CreateWalletModalRoutes.AppWalletDoneModal,component:N},{name:S.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal,component:Pe},{name:S.CreateWalletModalRoutes.OnekeyLiteRestoreModal,component:Me},{name:S.CreateWalletModalRoutes.OnekeyLiteRestoreDoneModal,component:Ee},{name:S.CreateWalletModalRoutes.OnekeyLiteBackupPinCodeVerifyModal,component:Se},{name:S.CreateWalletModalRoutes.OnekeyLiteBackupModal,component:Oe},{name:S.CreateWalletModalRoutes.AddExistingWalletModal,component:M.default},{name:S.CreateWalletModalRoutes.WalletConnectQrcodeModal,component:a.WalletConnectQrcodeModal},{name:S.CreateWalletModalRoutes.AddImportedOrWatchingAccountModal,component:C},{name:S.CreateWalletModalRoutes.AddImportedAccountDoneModal,component:w},{name:S.CreateWalletModalRoutes.AttentionsModal,component:E},{name:S.CreateWalletModalRoutes.MnemonicModal,component:L.MnemonicContainer},{name:S.CreateWalletModalRoutes.NewWalletModal,component:F}];const Be=function(){var e=(0,o.default)();return(0,b.jsx)(Ne.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,Re.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:Le.map((function(e){return(0,b.jsx)(Ne.Screen,{name:e.name,component:e.component},e.name)}))})}},816446:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var r=n(539144),o=n(33809),a=n(877531),i=n(634795),s=n(196234),l=n(361301),c=n(10918),d=n(470310),u=n(435581),f=n(321668),p=n(669083),m=n(795116),h=n(18861),g=n(866904),y=n(719392),v=n(510374),b=n(202784),x=n(472719),w=n(459494),_=n(783112),k=n(749888),I=n(568505),j=n(613549),O=n(292147),T=(n(213208),n(945821)),S=n(722363),P=n(953150),C=n(859071),M=n(826771),A=n(958698),E=n(950585),R=n(480601),D=n(729973),N=n(612210),L=n(896953),B=n(552322);const F=function(e){var t=e.visible,n=e.onCancel,o=e.onConfirm,a=(0,_.default)(),i=(0,r.default)(),c=(0,b.useState)(!1),d=(0,s.default)(c,2),p=d[0],y=d[1];return(0,B.jsxs)(N.default,{visible:t,onClose:n,children:[(0,B.jsxs)(l.default,{w:"100%",alignItems:"center",mb:4,children:[(0,B.jsx)(m.default,{mb:5,borderRadius:"999",size:"48px",backgroundColor:"surface-neutral-default",children:(0,B.jsx)(u.default,{name:"ExclamationTriangleOutline",size:24})}),(0,B.jsx)(g.default,{typography:{sm:"Heading",md:"DisplayMedium"},color:"text-default",mb:2,children:a.formatMessage({id:"modal__rug_warning"})}),(0,B.jsx)(g.default,{typography:{sm:"Body2",md:"Body1"},color:"text-subdued",textAlign:"center",children:a.formatMessage({id:"modal__rug_warning_desc"})}),(0,B.jsx)(L.default,{mt:5,alignItems:"center",onChange:function(e){return y(e)},isChecked:p,children:(0,B.jsx)(g.default,{color:"text-subdued",ml:2,typography:{sm:"Body1Strong",md:"Body2Strong"},children:a.formatMessage({id:"content__i_am_aware_of_the_above_risks"})})})]}),(0,B.jsxs)(h.default,{flexDirection:"row",w:"100%",mt:2,children:[(0,B.jsx)(f.default,{flex:"1",onPress:n,size:i?"lg":"base",children:a.formatMessage({id:"action__cancel"})}),(0,B.jsx)(h.default,{w:4}),(0,B.jsx)(f.default,{flex:1,type:"primary",size:i?"lg":"base",onPress:function(){p&&(null==o||o())},isDisabled:!p,children:a.formatMessage({id:"action__confirm"})})]})]})};var U={permissions:[{text:"content__view_the_address_of_your_permitted_accounts_required",icon:"EyeOutline"},{text:"content__send_transactions_and_signature_request",icon:"CheckOutline"}]};function H(e){var t,n=e.isWalletConnectPreloading,r=e.walletConnectError,o=(e.getWalletConnectBridge,e.account),a=e.origin,i=e.hostname,s=e.network,g=e.walletId,b=(0,_.default)(),x=(0,S.useCreateAccountInWallet)({walletId:g,networkId:null==s?void 0:s.id}),k=x.createAccount,j=x.isCreateAccountSupported;return n?(0,B.jsx)(m.default,{flex:1,minH:"300px",children:r?(0,B.jsx)(v.default,{emoji:"\ud83d\ude35",title:r,subTitle:b.formatMessage({id:"empty__connection_failed_desc"})}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(y.default,{size:"lg"}),null]})}):null!=o&&o.id?(0,B.jsxs)(l.default,{flex:"1",space:"20px",bg:"surface-default",p:"4",borderRadius:"12px",children:[(0,B.jsxs)(d.default,{alignItems:"center",children:[(0,B.jsxs)(d.default,{alignItems:"center",children:[(0,B.jsx)(h.default,{size:"32px",borderWidth:2,borderColor:"surface-subdued",mr:"-8px",zIndex:1,rounded:"full",children:(0,B.jsx)(w.default,{w:"full",h:"full",borderRadius:"full",zIndex:100,source:I})}),(0,B.jsx)(h.default,{size:"32px",overflow:"hidden",rounded:"full",borderWidth:2,zIndex:2,borderColor:"surface-subdued",bg:"surface-subdued",children:(0,B.jsx)(w.default,{w:"full",h:"full",source:{uri:`${a}/favicon.ico`},fallbackElement:(0,B.jsx)(m.default,{width:"full",height:"full",borderRadius:"full",bg:"background-selected",children:(0,B.jsx)(u.default,{name:"QuestionMarkOutline"})})})})]}),(0,B.jsx)(c.default.Body1Strong,{ml:"2",children:b.formatMessage({id:"title__connect_to_website"})})]}),(0,B.jsx)(l.default,{pt:"4",borderTopColor:"divider",borderTopWidth:"1px",children:U.permissions.map((function(e,t){return(0,B.jsxs)(d.default,{mb:"4",children:[(0,B.jsx)(h.default,{borderRadius:"full",bg:"rgba(2, 190, 50, .1)",size:"9",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(u.default,{size:24,name:e.icon,color:"icon-success"})}),(0,B.jsx)(c.default.Body1,{ml:"12px",alignSelf:"center",flex:1,children:b.formatMessage({id:e.text})})]},t)}))}),(0,B.jsx)(l.default,{borderBottomWidth:"1px",borderBottomColor:"divider",pb:"4",children:(0,B.jsxs)(d.default,{alignItems:"center",children:[(0,B.jsx)(c.default.Body2Strong,{color:"text-subdued",flex:1,children:b.formatMessage({id:"form__account"})}),(0,B.jsx)(d.default,{alignItems:"center",children:(0,B.jsxs)(c.default.Body2Strong,{ml:"12px",children:[null==o?void 0:o.name,null!=o&&o.address&&null!=o&&o.address.length?`(${o.address.slice(-4)})`:""]})})]})}),(0,B.jsx)(D.DappSecurityView,{origin:a,hostname:i,networkId:null!=(t=null==s?void 0:s.id)?t:""})]}):(0,B.jsxs)(m.default,{flex:1,minH:"300px",children:[(0,B.jsx)(v.default,{emoji:"\ud83d\udcb3",title:b.formatMessage({id:"empty__no_account_title"})}),(0,B.jsx)(h.default,{position:"relative",w:{md:"full"},alignItems:"center",h:"56px",justifyContent:"center",children:(0,B.jsx)(f.default,{leftIconName:j?"PlusOutline":"BanOutline",type:"primary",onPress:function(){j?k():p.default.show({title:b.formatMessage({id:S.NETWORK_NOT_SUPPORT_CREATE_ACCOUNT_I18N_KEY},{0:null==s?void 0:s.shortName})})},size:"lg",children:b.formatMessage({id:"action__create_account"})})})]})}var W=Object.freeze({});const V=function(){var e,t,n,r,o=T.default.dispatch,l=(0,C.useAppSelector)((function(e){return e.refresher.closeDappConnectionPreloadingTs})),c=(0,b.useState)(!1),d=(0,s.default)(c,2),u=d[0],f=d[1],m=(0,_.default)(),h=(0,C.useActiveWalletAccount)(),g=h.networkImpl,y=h.network,v=h.accountAddress,w=h.accountPubKey,I=h.account,S=h.walletId,D=(0,A.default)().sourceInfo,N=null!=D?D:W,L=N.origin,U=N.scope,V=N.id,z=(0,b.useMemo)((function(){return e=L,[].some((function(t){return t.includes(e.toLowerCase())}));var e}),[L]),K=(0,b.useMemo)((function(){try{return new URL(L).hostname}catch(t){var e;return(null==L||null==(e=L.split("://"))?void 0:e[1])||L}}),[L]),G=(0,x.useRoute)(),$=null==G||null==(e=G.params)?void 0:e.walletConnectUri,Z=null==G||null==(t=G.params)?void 0:t.isDeepLink,q=null==G||null==(n=G.params)?void 0:n.refreshKey,X=Boolean($),Y=(0,b.useState)(""),Q=(0,s.default)(Y,2),J=Q[0],ee=Q[1],te=(0,k.default)(),ne=(0,b.useRef)(!1);(0,E.useEffectOnUpdate)((function(){ne.current||X&&l&&(ne.current=!0,te())}),[l,te,o,X]),(0,b.useEffect)((function(){return function(){ne.current=!0}}),[]);var re=(0,b.useMemo)((function(){return $?P.default.getWalletConnectUriInfo({uri:$}):null}),[$]),oe=(0,b.useCallback)((function(){var e,t;return(null==re?void 0:re.v1)&&(null==re||null==(e=re.v1)?void 0:e.bridge)||(null==re?void 0:re.v2)&&`relay-protocol=${null==re||null==(t=re.v2)?void 0:t.relayProtocol}`||""}),[re]);(0,b.useEffect)((function(){$&&(q&&ee(""),T.default.walletConnect.connect({uri:$||"",isDeepLink:Z}).then((function(){o((0,R.refreshConnectedSites)())})).catch((function(e){O.default.common.error(e),ee(m.formatMessage({id:"modal__failed_to_connect"}))})))}),[q,te,o,m,Z,$,null==re?void 0:re.v2]);var ae=(0,b.useCallback)((0,i.default)((function*(){if((!g||!v)&&!(0,j.isLightningNetworkByImpl)(g))throw new Error("Wallet or account not selected, you should create or import one.");var e=v;U===j.IMPL_COSMOS&&(e=w);var t=[e].filter(Boolean);if("ethereum"===U&&(t=[e].filter(Boolean)),"near"===U&&(t={accounts:[e].filter(Boolean)}),"solana"===U&&(t=e),"webln"===U){var n,r=JSON.parse(null!=(n=null==I?void 0:I.addresses)?n:"").hashAddress;if(!r)throw new Error("Wrong lightning account.");e=r}return yield T.default.serviceDapp.saveConnectedAccounts({site:{origin:L},networkImpl:g,address:e}),t})),[v,w,I,g,L,U]),ie=(0,M.default)({id:V,closeOnError:!0});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(F,{visible:u,onCancel:function(){return f(!1)},onConfirm:function(){return f(!1)}}),(0,B.jsx)(a.default,{header:X?m.formatMessage({id:"content__connecting"}):m.formatMessage({id:"title__dapp_connection"}),headerDescription:X?"WalletConnect":null!=(r=null==y?void 0:y.shortName)?r:"",primaryActionProps:{isDisabled:!L},hidePrimaryAction:X||!(null!=I&&I.id),hideSecondaryAction:!0,primaryActionTranslationId:"action__confirm",secondaryActionTranslationId:"action__cancel",onPrimaryActionPress:function(){var e=(0,i.default)((function*(e){var t=e.close;try{if(!z){var n=yield ae();return yield ie.resolve({close:t,result:n})}f(!0)}catch(o){var r=o;console.error(o),p.default.show({title:(null==r?void 0:r.message)||"Confirm Connection failed."},{type:"error"})}}));return function(t){return e.apply(this,arguments)}}(),onSecondaryActionPress:function(e){var t=e.close;ie.reject(),t()},onModalClose:ie.reject,scrollViewProps:{contentContainerStyle:{flex:1},children:(0,B.jsx)(H,{walletConnectError:J,isWalletConnectPreloading:X,getWalletConnectBridge:oe,network:y,account:I,walletId:S,hostname:K,origin:L})}})]})};var z=n(737790),K=n(402814),G=n(379573),$=n(776553);const Z=function(){var e=(0,_.default)(),t=(0,A.default)().sourceInfo,n=(null!=t?t:{}).id,r=(0,C.useNavigationActions)().openNetworkSelector,o=(0,k.default)(),s=(0,C.useActiveWalletAccount)().network,p=(0,M.default)({id:n,closeOnError:!0});return(0,B.jsxs)(a.default,{footer:null,primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:!0},hidePrimaryAction:!0,secondaryActionTranslationId:"action__cancel",onSecondaryActionPress:function(e){var t=e.close;p.reject(),t()},onModalClose:p.reject,children:[(0,B.jsx)(m.default,{flex:1,children:(0,B.jsxs)(l.default,{alignItems:"center",mb:4,children:[(0,B.jsxs)(d.default,{alignItems:"center",children:[(0,B.jsx)(h.default,{size:"64px",borderWidth:2,borderColor:"surface-subdued",mr:"-16px",zIndex:1,rounded:"full",children:(0,B.jsx)(w.default,{w:"full",h:"full",source:{uri:`${(null==t?void 0:t.origin)||""}/favicon.ico`},fallbackElement:(0,B.jsx)(m.default,{width:"full",height:"full",borderRadius:"full",bg:"background-selected",children:(0,B.jsx)(u.default,{name:"QuestionMarkOutline"})})})}),(0,B.jsx)(h.default,{size:"64px",overflow:"hidden",borderWidth:2,zIndex:2,rounded:"full",borderColor:"surface-subdued",bg:"surface-subdued",position:"relative",children:(0,B.jsx)(z.default,{size:"64px",token:{logoURI:null==s?void 0:s.logoURI,name:null==s?void 0:s.shortName}})}),(0,B.jsx)(h.default,{size:"20px",rounded:"full",bg:"surface-subdued",position:"absolute",right:0,bottom:0,zIndex:200,children:(0,B.jsx)(u.default,{size:20,name:"ExclamationCircleSolid",color:"icon-critical"})})]}),(0,B.jsx)(c.default.DisplayLarge,{mt:4,mb:2,children:e.formatMessage({id:"title__network_mismatch"})}),(0,B.jsx)(c.default.Body1,{color:"text-subdued",children:(null==t?void 0:t.hostname)||""}),(0,B.jsx)(c.default.Body1,{color:"text-subdued",textAlign:"center",my:4,children:e.formatMessage({id:"title__network_mismatch_desc"})})]})}),(0,B.jsx)(f.default,{type:"primary",size:"xl",onPress:(0,i.default)((function*(){o(),yield(0,$.wait)(350);var e=null!=t&&t.scope?(0,K.getNetworkImplFromDappScope)(null==t?void 0:t.scope):"";r({mode:G.EAccountSelectorMode.Wallet,networkImpl:e})})),children:e.formatMessage({id:"action__switch"})})]})};var q=n(481047),X=(0,n(324665).default)(),Y=[{name:q.DappConnectionModalRoutes.ConnectionModal,component:V},{name:q.DappConnectionModalRoutes.NetworkNotMatchModal,component:Z}];const Q=function(){(0,o.useOnboardingRequired)();var e=(0,r.default)();return(0,B.jsx)(X.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:Y.map((function(e){return(0,B.jsx)(X.Screen,{name:e.name,component:e.component},e.name)}))})}},318608:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(539144),o=n(196234),a=n(202784),i=n(472719),s=n(783112),l=n(190769),c=n(640671),d=n(481047),u=n(97450),f=n(59758),p=n(625514),m=n(552322);const h=function(){var e=(0,s.default)(),t=(0,i.useNavigation)(),n=(0,i.useRoute)().params,r=n.oldPin,h=n.newPin,g=(0,a.useState)(""),y=(0,o.default)(g,2),v=y[0],b=y[1],x=(0,a.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),w=(0,o.default)(x,1)[0],_=(0,a.useState)("primary"),k=(0,o.default)(_,2),I=k[0],j=k[1],O=(0,a.useState)(e.formatMessage({id:"action__connect"})),T=(0,o.default)(O,2),S=T[0],P=T[1],C=(0,a.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),M=(0,o.default)(C,2),A=M[0],E=M[1],R=(0,a.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),D=(0,o.default)(R,2),N=D[0],L=D[1],B=(0,a.useState)("guide"),F=(0,o.default)(B,2),U=F[0],H=F[1],W=(0,a.useState)(0),V=(0,o.default)(W,2),z=V[0],K=V[1],G=function(){(t.getParent()||t).goBack()},$=function(){j("basic"),P(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__searching"})),L(e.formatMessage({id:"title__searching_desc"})),H("connect"),c.default.cancel(),c.default.changePin(r,h,(function(t,n,r){if(console.log("state",r),n)console.log("NFC read data:",n),j("primary"),P(e.formatMessage({id:"action__i_got_it"})),E(e.formatMessage({id:"title__pin_changed"})),L(e.formatMessage({id:"title__pin_changed_desc"})),H("complete");else if(t){var o,a;console.log("NFC read error",t),console.log("NFC read error code",t.code,t.message),b(null!=(o=null==r||null==(a=r.pinRetryCount)?void 0:a.toString())?o:"0"),K(t.code)}}))},Z=function(t){switch(console.log("Onekey Lite Reset handler NfcConnectState",t),t.code){case 1:case 3:default:break;case 2:j("basic"),P(e.formatMessage({id:"action__cancel"})),E(e.formatMessage({id:"title__transferring_data"})),L(e.formatMessage({id:"title__transferring_data_desc"})),H("transfer")}};return(0,a.useEffect)((function(){return c.default.addConnectListener(Z),"ios"!==l.default.OS&&$(),function(){c.default.removeConnectListeners()}}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.SkipAppLock,{}),(0,m.jsx)(f.default,{title:w,connectType:"ble",actionState:A,actionDescription:N,operateType:U,onCloseConnect:function(){console.log("handleCloseConnect")},onActionPress:function(){switch(U){case"guide":$();break;case"connect":case"transfer":if("ios"===l.default.OS)return;c.default.cancel(),G();break;default:G()}},actionPressStyle:I,actionPressContent:S}),(0,m.jsx)(p.default,{code:z,pinRetryCount:v,onRetry:function(){return t.replace(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinInputPinModal)},onRetryConnect:function(){return $()},onExit:function(){G()},onIntoNfcSetting:function(){c.default.intoSetting(),G()},onDialogClose:function(){return K(0)}})]})};var g=n(759109);const y=function(){var e=(0,s.default)(),t=(0,i.useNavigation)();return(0,m.jsx)(g.default,{title:e.formatMessage({id:"title__enter_current_pin"}),description:e.formatMessage({id:"title__enter_current_pin_desc"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return t.navigate(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinSetModal,{currentPin:e}),Promise.resolve("")}})};var v=n(634795);const b=function(){var e=(0,s.default)(),t=(0,a.useState)(e.formatMessage({id:"title__verify_new_pin_desc"})),n=(0,o.default)(t,2),r=n[0],l=n[1],c=(0,i.useRoute)().params,u=c.currentPin,f=c.newPin,p=(0,i.useNavigation)();return(0,m.jsx)(g.default,{title:e.formatMessage({id:"title__verify_new_pin"}),description:r,securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(){var t=(0,v.default)((function*(t){return t===f||""===t?(p.popToTop(),p.replace(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinModal,{oldPin:u,newPin:f}),Promise.resolve(!0)):(yield Promise.resolve(),l(e.formatMessage({id:"content__for_both_inputs_the_pin_must_be_the_same"})),!1)}));return function(e){return t.apply(this,arguments)}}()})};const x=function(){var e=(0,s.default)(),t=(0,i.useRoute)().params.currentPin,n=(0,i.useNavigation)();return(0,m.jsx)(g.default,{title:e.formatMessage({id:"title__set_up_new_pin"}),description:e.formatMessage({id:"title__set_up_new_pin_desc"}),securityReminder:e.formatMessage({id:"content__we_dont_store_any_of_your_information"}),onComplete:function(e){return n.navigate(d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinRepeatModal,{currentPin:t,newPin:e}),Promise.resolve("")}})};var w=(0,n(324665).default)(),_=[{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinInputPinModal,component:y},{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinSetModal,component:x},{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinRepeatModal,component:b},{name:d.OnekeyLiteChangePinModalRoutes.OnekeyLiteChangePinModal,component:h}];const k=function(){var e=(0,r.default)();return(0,m.jsx)(w.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:_.map((function(e){return(0,m.jsx)(w.Screen,{name:e.name,component:e.component},e.name)}))})}},823670:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(539144),o=n(196234),a=n(202784),i=n(472719),s=n(783112),l=n(190769),c=n(640671),d=n(97450),u=n(59758),f=n(625514),p=n(552322);const m=function(){var e=(0,s.default)(),t=(0,i.useNavigation)(),n=(0,a.useState)(e.formatMessage({id:"app__hardware_name_onekey_lite"})),r=(0,o.default)(n,1)[0],m=(0,a.useState)("primary"),h=(0,o.default)(m,2),g=h[0],y=h[1],v=(0,a.useState)(e.formatMessage({id:"action__connect"})),b=(0,o.default)(v,2),x=b[0],w=b[1],_=(0,a.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below"})),k=(0,o.default)(_,2),I=k[0],j=k[1],O=(0,a.useState)(e.formatMessage({id:"title__place_your_card_as_shown_below_desc"})),T=(0,o.default)(O,2),S=T[0],P=T[1],C=(0,a.useState)("guide"),M=(0,o.default)(C,2),A=M[0],E=M[1],R=(0,a.useState)(0),D=(0,o.default)(R,2),N=D[0],L=D[1],B=function(){(t.getParent()||t).goBack()},F=function(){y("basic"),w(e.formatMessage({id:"action__cancel"})),j(e.formatMessage({id:"title__searching"})),P(e.formatMessage({id:"title__searching_desc"})),E("connect"),c.default.cancel(),c.default.reset((function(t,n,r){console.log("state",r),n?(console.log("NFC read data:",n),y("primary"),w(e.formatMessage({id:"action__i_got_it"})),j(e.formatMessage({id:"title__the_device_has_been_reset"})),P(e.formatMessage({id:"content__you_can_use_it_as_a_new_onekey_lite"})),E("complete")):t&&(console.log("NFC read error",t),console.log("NFC read error code",t.code,t.message),L(t.code))}))},U=function(t){switch(console.log("Onekey Lite Reset handler NfcConnectState",t),t.code){case 1:case 3:default:break;case 2:y("basic"),w(e.formatMessage({id:"action__cancel"})),j(e.formatMessage({id:"title__transferring_data"})),P(e.formatMessage({id:"title__transferring_data_desc"})),E("transfer")}};return(0,a.useEffect)((function(){return c.default.addConnectListener(U),"ios"!==l.default.OS&&F(),function(){c.default.removeConnectListeners()}}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.SkipAppLock,{}),(0,p.jsx)(u.default,{title:r,connectType:"ble",actionState:I,actionDescription:S,operateType:A,onCloseConnect:function(){console.log("handleCloseConnect")},onActionPress:function(){switch(A){case"guide":F();break;case"connect":case"transfer":if("ios"===l.default.OS)return;c.default.cancel(),B();break;default:B()}},actionPressStyle:g,actionPressContent:x}),(0,p.jsx)(f.default,{code:N,onRetryConnect:F,onExit:function(){B()},onIntoNfcSetting:function(){c.default.intoSetting(),B()},onDialogClose:function(){return L(0)}})]})};var h=n(481047),g=(0,n(324665).default)(),y=[{name:h.OnekeyLiteResetModalRoutes.OnekeyLiteResetModal,component:m}];const v=function(){var e=(0,r.default)();return(0,p.jsx)(g.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:y.map((function(e){return(0,p.jsx)(g.Screen,{name:e.name,component:e.component},e.name)}))})}},370774:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Re});var r=n(539144),o=n(877531),a=n(18861),i=n(566147),s=n(866904),l=n(669083),c=n(634795),d=n(921311),u=n(202784),f=n(472719),p=n(206391),m=n.n(p),h=n(783112),g=n(636393),y=n(313503),v=n(945821),b=n(859071),x=n(826771),w=n(481047),_=n(470310),k=n(785192),I=n(795116),j=n(435581),O=n(552322),T=function(e){var t=e.isActive,n=e.step,r=e.complete,o=(0,u.useMemo)((function(){return t?"icon-success":r?"surface-success-default":void 0}),[r,t]),a=(0,u.useMemo)((function(){return t||r?0:"2px"}),[r,t]),i=(0,u.useMemo)((function(){if(!t&&!r)return"text-disabled"}),[r,t]);return(0,O.jsx)(I.default,{size:"32px",bgColor:o,borderRadius:"full",borderWidth:a,borderColor:i,children:r?(0,O.jsx)(j.default,{size:20,color:"icon-success",name:"CheckSolid"}):(0,O.jsx)(s.default,{typography:"Heading",color:t?"text-on-primary":"text-disabled",children:n})})};const S=function(e){var t=e.numberOfSteps,n=e.currentStep,r=(0,u.useMemo)((function(){return new Array(t).fill(0)}),[t]);return(0,O.jsx)(_.default,{paddingX:"35px",paddingY:"10px",space:"8px",justifyContent:"center",width:"full",children:r.map((function(e,r){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(T,{isActive:r+1===n,step:`${r+1}`,complete:r+1<n}),r<t-1?(0,O.jsx)(a.default,{flex:1,justifyContent:"center",children:(0,O.jsx)(k.default,{height:"2px"})}):null]})}))})};var P=n(505240),C=n(107867),M=n(968079),A=n(196234),E=n(433996),R=n(74008);function D(){var e=(0,f.useNavigation)(),t=(0,u.useCallback)((function(){e.navigate(w.InscribeModalRoutes.OrderList)}),[e]);return(0,O.jsx)(E.default,{onPress:t,name:"ClockOutline",type:"plain",size:"lg",circle:!0})}const N=function(){var e=(0,h.default)(),t=(0,f.useNavigation)(),n=(0,R.default)().formatDate,r=(0,b.useActiveWalletAccount)().networkId,a=v.default.serviceInscribe,i=(0,u.useState)([]),l=(0,A.default)(i,2),c=l[0],d=l[1];(0,u.useEffect)((function(){a.getOrderHistoryList(r).then((function(e){return d((0,M.default)(e))}))}),[r,a]);var p=(0,u.useCallback)((function(e){t.navigate(w.InscribeModalRoutes.OrderDetail,{orderHistory:e})}),[t]),m=(0,u.useCallback)((function(e){var t=e.item,r=e.index;return(0,O.jsx)(C.default,{bgColor:"surface-default",onPress:function(){p(t)},borderTopRadius:0===r?"12px":0,borderBottomRadius:r===c.length-1?"12px":0,children:(0,O.jsx)(C.default.Column,{flex:1,text:{label:t.txid,labelProps:{numberOfLines:2,typography:"Body2Mono"},description:n(new Date(t.createdAt)),descriptionProps:{typography:"Body2",color:"text-subdued"}}})})}),[n,null==c?void 0:c.length,p]);return(0,O.jsxs)(o.default,{header:e.formatMessage({id:"title__inscribe_orders"}),height:"640px",footer:null,staticChildrenProps:{flex:1,padding:"16px"},children:[(0,O.jsx)(s.default,{typography:"Heading",mb:"12px",children:e.formatMessage({id:"content__past_orders"})}),(0,O.jsx)(P.default,{m:0,data:c,renderItem:m,keyExtractor:function(e){return e.txid},showDivider:!0}),(0,O.jsx)(s.default,{mt:"12px",typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"content__keep_the_latest_int_inscribing_orders_only"},{0:"50"})})]})};var L=n(605616),B=n(231846),F=n(737790),U=n(942013);const H=function(e){var t=e.network;return t?(0,O.jsxs)(_.default,{space:"6px",children:[(0,O.jsx)(F.default,{size:4,token:{logoURI:t.logoURI}}),(0,O.jsx)(s.default,{typography:"Caption",color:"text-subdued",children:"Bitcoin"+(t.id===U.OnekeyNetwork.tbtc?" Testnet":"")})]}):null};var W=n(719392),V=n(256666),z=n(297263),K=n(933922),G=n(269482),$=n(866880);var Z=n(225447),q=function(e){var t=e.file;return t.type.includes("image/png")||t.type.includes("image/jpeg")?(0,O.jsx)(a.default,{w:"full",h:"full",children:(0,O.jsx)(Z.default,{resizeMethod:"auto",resizeMode:"contain",width:366,height:148,source:{uri:t.dataForUI}})}):(0,O.jsxs)(I.default,{padding:"16px",width:"full",height:"full",children:[(0,O.jsx)(s.default,{typography:"Body1Strong",numberOfLines:2,textAlign:"center",lineBreakMode:"middle",children:t.name}),t.size&&(0,O.jsx)(s.default,{typography:"Caption",children:(0,$.formatBytes)(t.size)})]})};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,V.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=e.file,n=e.setFileFromOut,r=e.setError,o=(0,z.default)(["surface-default","border-default","interactive-default"]),a=(0,A.default)(o,3),i=a[0],d=a[1],f=a[2],p=(0,u.useState)(!1),m=(0,A.default)(p,2),g=m[0],y=m[1],v=(0,h.default)(),b=(0,K.useDropzone)({multiple:!1,accept:{"text/plain":[".txt"],"image/png":[".png",".PNG"],"image/gif":[".gif"],"image/jpeg":[".jpeg",".jpg"],"application/json":[".json"],"audio/mpeg":[".mp3"],"video/mp4":[".mp4"],"image/webp":[".webp"]},onDropAccepted:function(){var e=(0,c.default)((function*(e){try{var t=e[0];n(void 0),r(""),y(!0);var o=yield(0,$.fileToBuffer)(t);if(0===o.length)return l.default.show({title:v.formatMessage({id:"msg__text_file_cannot_be_blank"})},{type:"error"}),void y(!1);if(!((s=o.length)>0&&s<=204800)&&(r(v.formatMessage({id:"msg__file_size_should_less_than_str"},{0:"200KB"})),!t.type.startsWith("image")))return n({dataForUI:"",dataForAPI:"",dataLength:o.length,name:t.name,size:t.size,type:t.type}),void y(!1);var a=yield(0,$.fileToDataUrl)(t),i=G.default.bytesToHex(o);o&&(n({dataForAPI:i,dataForUI:a,dataLength:o.length,name:t.name,size:t.size,type:t.type}),y(!1))}catch(c){y(!1),console.log("e = ",c)}var s}));return function(t){return e.apply(this,arguments)}}()}),x=b.isDragAccept,w=b.getRootProps,_=b.getInputProps;return(0,O.jsxs)("div",Y(Y({},w()),{},{style:{cursor:"pointer",background:i,borderWidth:1,borderStyle:"solid",borderRadius:"12px",height:"148px",overflow:"hidden",borderColor:x?f:d},children:[(0,O.jsx)("input",Y({},_())),t?(0,O.jsx)(q,{file:t}):(0,O.jsx)(I.default,{w:"full",h:"full",children:g?(0,O.jsx)(W.default,{size:"lg"}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(j.default,{name:"ArrowUpTrayOutline",size:36}),(0,O.jsx)(s.default,{fontSize:14,mt:"20px",children:v.formatMessage({id:"form__drag_or_drop_file_to_import"})})]})})]}))}const J=function(e){var t=e.file;return t?(0,O.jsxs)(_.default,{mt:"8px",justifyContent:"space-between",alignItems:"center",children:[(0,O.jsxs)(_.default,{space:"4px",alignItems:"center",children:[(0,O.jsx)(j.default,{size:16,name:"PhotoMini"}),(0,O.jsx)(s.default,{typography:"Caption",color:"text-subdued",children:t.type.toUpperCase()})]}),t.size&&(0,O.jsx)(s.default,{typography:"Caption",children:(0,$.formatBytes)(t.size)})]}):null};const ee=function(){var e=(0,h.default)(),t=(0,u.useState)(0),n=(0,A.default)(t,2),r=n[0],i=n[1],d=(0,f.useNavigation)(),p=(0,f.useRoute)(),m=(null==p?void 0:p.params)||{},g=m.networkId,y=m.accountId,x=(0,u.useState)(),_=(0,A.default)(x,2),k=_[0],I=_[1],j=(0,u.useState)(""),T=(0,A.default)(j,2),P=T[0],C=T[1],M=(0,u.useState)(""),E=(0,A.default)(M,2),R=E[0],N=E[1],F=v.default.serviceInscribe,U=(0,b.useActiveSideAccount)({accountId:y,networkId:g}),W=U.network,V=U.account,z=(0,u.useCallback)((0,c.default)((function*(){var t,n=[],o={networkId:g,accountId:y,contents:n,size:0,address:null==V?void 0:V.address};if(0===r&&null!=k&&k.dataForAPI&&null!=k&&k.name)try{n=yield F.createInscriptionContents({files:[{data:null==k?void 0:k.dataForAPI,filename:null==k?void 0:k.name,mimetype:null==k?void 0:k.type}]}),Object.assign(o,{size:k.size,contents:n,file:k})}catch(u){console.log("error = ",u)}if(1===r){var a=P.trim();if(a.length>0)try{n=yield F.createInscriptionContents({texts:[a]}),Object.assign(o,{size:a.length,contents:n})}catch(u){var i=u.key,s=void 0===i?"":i,c=u.info;"msg__file_size_should_less_than_str"===s&&l.default.show({title:e.formatMessage({id:s},c)},{type:"error"})}}(null==(t=n)?void 0:t.length)>0&&d.navigate(w.InscribeModalRoutes.ReceiveAddress,o)})),[null==V?void 0:V.address,y,k,e,d,g,r,F,P]),K=(0,u.useMemo)((function(){return(0!==r||!k||0!==R.length)&&!(1===r&&P.trim().length>0)}),[R.length,k,r,P]);return(0,O.jsxs)(o.default,{header:e.formatMessage({id:"title__inscribe"}),headerDescription:(0,O.jsx)(H,{network:W}),rightContent:(0,O.jsx)(D,{}),height:"640px",primaryActionTranslationId:"action__next",hideSecondaryAction:!0,primaryActionProps:{onPromise:z,isDisabled:K},staticChildrenProps:{flex:1,padding:"16px"},children:[(0,O.jsx)(S,{numberOfSteps:3,currentStep:1}),(0,O.jsx)(B.default,{style:{marginTop:16},selectedIndex:r,onChange:i,values:[e.formatMessage({id:"form__file"}),e.formatMessage({id:"form__text"})]}),(0,O.jsxs)(a.default,{mt:"24px",children:[0===r?(0,O.jsx)(Q,{file:k,setFileFromOut:I,setError:N}):(0,O.jsx)(L.default,{width:"full",h:"148px",value:P,onChangeText:C,placeholder:e.formatMessage({id:"form__type_here"})}),0===r&&(null!=k&&k.dataForUI||R.length>0)?(0,O.jsx)(J,{file:k,error:R}):null,0===r&&R.length>0?(0,O.jsx)(s.default,{mt:"12px",typography:"Caption",color:"text-critical",children:R}):null,(0,O.jsx)(s.default,{typography:"Caption",color:"text-subdued",mt:"12px",children:e.formatMessage({id:"content__ordinal_support_jpg_webp_png_gif_txt_mp3_mp4_and_more"},{0:"200KB"})})]})]})};var te=n(361301),ne=n(468702),re=n(854787),oe=n(759900),ae=n(503310),ie=n(606201),se=n(561220),le=n(333665),ce=n(749888),de=n(626015),ue=n(119804),fe=n(459729),pe=n(292147),me=(n(213208),n(534159)),he=n(484476),ge=n(920453),ye=n(709303);const ve=function(e){var t=e.file,n=e.text;return t||n?t?t.type.includes("image/png")||t.type.includes("image/jpeg")?(0,O.jsx)(a.default,{width:120,height:120,borderRadius:"6px",bgColor:"surface-default",children:(0,O.jsx)(Z.default,{resizeMethod:"auto",resizeMode:"contain",width:120,height:120,source:{uri:t.dataForUI}})}):(0,O.jsx)(I.default,{bgColor:"surface-default",width:120,height:120,borderRadius:"6px",px:"4px",children:(0,O.jsx)(s.default,{typography:"Body2Mono",numberOfLines:2,textAlign:"center",lineBreakMode:"middle",color:"text-disabled",children:t.type.toUpperCase()})}):n&&n.length>0?(0,O.jsx)(ne.ScrollView,{backgroundColor:"action-secondary-default",contentContainerStyle:{paddingHorizontal:12,paddingVertical:8},borderRadius:"12px",h:"96px",borderColor:"border-default",borderWidth:1,children:(0,O.jsx)(s.default,{typography:"Body2Mono",color:"text-subdued",children:n})}):null:null};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){(0,V.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t=e.label;return(0,O.jsx)(ie.default,{trigger:function(e){var t=Object.assign({},((0,le.default)(e),e));return(0,O.jsx)(se.default,xe(xe({},t),{},{children:(0,O.jsx)(j.default,{name:"InformationCircleMini",size:16,color:"icon-subdued"})}))},bodyProps:{children:(0,O.jsx)(s.default,{children:t})}})};const _e=function(){var e=(0,h.default)(),t=(0,f.useNavigation)(),n=(0,f.useRoute)(),i=(null==n?void 0:n.params)||{},d=i.networkId,p=i.accountId,g=i.receiveAddress,y=i.contents,_=i.size,k=i.file,T=i.sourceInfo,P=v.default.serviceInscribe,C=(0,b.useActiveSideAccount)({accountId:p,networkId:d}),M=C.account,E=C.network,R=(0,u.useState)(fe.INSCRIPTION_PADDING_SATS_VALUES.default),N=(0,A.default)(R,2),L=N[0],B=N[1],F=(0,r.default)(),U=(0,u.useRef)(!1),V=(null!=T?T:{}).id,z=(0,x.default)({id:V}),K=(0,he.useBRC20Content)({content:G.default.hexToText(y[0].hex),contentType:y[0].mimetype}).isBRC20Content,Z=(0,u.useState)(),q=(0,A.default)(Z,2),X=q[0],Y=q[1],Q=(0,ge.useSingleToken)(d,"").token,J=(0,ce.default)(),ee=(0,u.useState)(!0),ie=(0,A.default)(ee,2),le=ie[0],be=ie[1],_e=(0,u.useRef)(!0),ke=(0,u.useCallback)(function(){var e=(0,c.default)((function*(e){be(!0);var t=yield P.fetchFeeRates(d);if(t){var n=yield P.createInscribeOrder({toAddress:g,contents:y,feeRate:t.fastestFee,globalPaddingSats:e,networkId:d,accountId:p});return Y(n),be(!1),n}}));return function(t){return e.apply(this,arguments)}}(),[p,y,d,g,P]),Ie=(0,u.useMemo)((function(){var e=y[0];if(e&&"text"===e.categoryType)return G.default.hexToText(e.hex)}),[y]);(0,u.useEffect)((function(){_e.current&&(_e.current=!1,ke(fe.INSCRIPTION_PADDING_SATS_VALUES.default))}),[ke]);var je=(0,u.useState)(!1),Oe=(0,A.default)(je,2),Te=Oe[0],Se=Oe[1],Pe=(0,u.useState)(!1),Ce=(0,A.default)(Pe,2),Me=Ce[0],Ae=Ce[1],Ee=(0,u.useCallback)((0,c.default)((function*(){if(M&&E&&Q&&X){var n=yield ke(L);if(void 0!==n){Ae(!0);try{var r=yield P.buildInscribeCommitEncodedTx({to:n.fundingAddress,amount:n.fundingValueNative,networkId:d,accountId:p}),o=function(){var e=(0,c.default)((function*(e){setTimeout((function(){Se(!0)}),500);try{var n=yield P.submitInscribeOrder({order:X,commitSignedTx:e,networkId:d});if(n.errors.length>0)l.default.show({title:n.errors[0].message},{type:"error"}),null==z||z.reject();else if(n.txids.length>0){var r={networkId:d,accountId:p,txid:n.txids[0],type:"Send",isSingleTransformMode:!0};t.navigate(w.RootRoutes.Modal,{screen:w.ModalRoutes.Send,params:{screen:w.SendModalRoutes.SendFeedbackReceipt,params:r}})}null==z||z.resolve(),J()}catch(a){null==z||z.reject(),pe.default.common.error("submitOrder error = ",a),Se(!1),U.current=!1;var o=a.message;o&&l.default.show({title:o},{type:"error"})}}));return function(t){return e.apply(this,arguments)}}();r?(Se(!0),t.navigate(w.RootRoutes.Modal,{screen:w.ModalRoutes.Send,params:{screen:w.SendModalRoutes.SendConfirm,params:{accountId:p,networkId:d,signOnly:!0,feeInfoEditable:!0,feeInfoUseFeeInTx:!1,hideSendFeedbackReceipt:!0,hideAdvancedSetting:!0,encodedTx:r,onSuccess:function(){var e=(0,c.default)((function*(e){U.current=!0,yield o(e)}));return function(t){return e.apply(this,arguments)}}(),onModalClose:function(){!1===U.current&&Se(!1)},onFail:function(){Se(!1),null==z||z.reject()}}}})):yield o(),Ae(!1)}catch(s){console.error(s),Ae(!1);var a=s.key,i=s.message;l.default.show({title:"form__amount_invalid"===a?e.formatMessage({id:"msg__insufficient_balance"}):i},{type:"error"})}}}})),[M,p,J,z,e,t,E,d,X,ke,L,P,Q]),Re=(0,ye.useAccountBalanceDetailsInfo)({networkId:d,accountId:p,isInscribe:!0}),De=(0,u.useMemo)((function(){var t,n;return(0,O.jsx)(a.default,{children:(0,O.jsxs)(se.default,{onPress:Re.enabled?function(){return(0,ye.showAccountBalanceDetailsOverlay)({info:Re})}:void 0,children:[(0,O.jsx)(s.default,{typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"form__available_balance"})}),(0,O.jsxs)(a.default,{alignItems:"center",flexDirection:"row",children:[(0,O.jsx)(me.FormatBalanceTokenOfAccount,{accountId:p,networkId:d,token:xe({id:null!=(t=null==Q?void 0:Q.id)?t:"",name:null!=(n=null==Q?void 0:Q.name)?n:""},Q||{}),useRecycleBalance:!1,render:function(e){return(0,O.jsx)(s.default,{typography:"Body1Strong",children:e})}}),Re.enabled?(0,O.jsx)(a.default,{ml:2,children:(0,O.jsx)(j.default,{name:"InformationCircleSolid",size:18})}):null]})]})})}),[p,Re,e,d,Q]);return(0,O.jsx)(o.default,{header:e.formatMessage({id:"title__inscribe"}),headerDescription:(0,O.jsx)(H,{network:E}),rightContent:(0,O.jsx)(D,{}),extraElement:F?null:De,footer:Te?null:void 0,height:"640px",primaryActionTranslationId:"action__next",primaryActionProps:{onPress:Ee,isLoading:Me,isDisabled:le},hideSecondaryAction:!0,staticChildrenProps:{flex:1,padding:"16px"},children:Te?(0,O.jsx)(I.default,{flex:1,children:(0,O.jsx)(W.default,{size:"lg"})}):(0,O.jsxs)(te.default,{flex:1,justifyContent:"space-between",children:[(0,O.jsxs)(ne.ScrollView,{mx:"-16px",bounces:!1,contentContainerStyle:{paddingHorizontal:16},children:[(0,O.jsx)(S,{numberOfSteps:K?2:3,currentStep:K?2:3}),(0,O.jsx)(s.default,{mt:"16px",typography:"Heading",children:e.formatMessage({id:"form__inscribe_preview"})}),(0,O.jsx)(s.default,{mt:"16px",mb:"8px",typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"form__inscription_file_preview"})}),(0,O.jsx)(ve,{file:k,text:Ie}),(0,O.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",children:[(0,O.jsx)(s.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"form__inscription_file_size"})}),(0,O.jsx)(s.default,{typography:"Body2",children:(0,$.formatBytes)(_)})]}),(0,O.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",children:[(0,O.jsx)(s.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"form__inscription_inscribe_to"})}),(0,O.jsxs)(se.default,{flexDirection:"row",alignItems:"center",onPress:function(){(0,ue.copyToClipboard)(g),l.default.show({title:e.formatMessage({id:"msg__copied"})})},children:[(0,O.jsx)(s.default,{typography:"Body2",mr:"8px",children:(0,de.shortenAddress)(g,6)}),(0,O.jsx)(j.default,{name:"Square2StackOutline",size:20})]})]}),(0,O.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",children:[(0,O.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[(0,O.jsx)(s.default,{typography:"Body2Strong",color:"text-subdued",mr:"4px",children:e.formatMessage({id:"form__inscription_value"})}),(0,O.jsx)(we,{label:e.formatMessage({id:"content__set_the_value_of_the_utxo_stored_in_this_inscription"})})]}),(0,O.jsx)(me.FormatBalance,{balance:new(m())(L).shiftedBy(-8).toFixed(),suffix:null==Q?void 0:Q.symbol,formatOptions:{fixed:null==Q?void 0:Q.decimals},render:function(e){return(0,O.jsx)(s.default,{typography:"Body2",children:e})}})]}),(0,O.jsxs)(ae.default,{py:"4px",style:void 0,width:"100%",minValue:546,maxValue:1e4,nativeMode:!1,accessibilityLabel:"sat",step:1,value:L,onChangeBegin:function(){be(!0)},onChange:function(e){B(e)},onChangeEnd:function(e){B(e),ke(e)},children:[(0,O.jsx)(ae.default.Track,{bg:"surface-neutral-default",height:"4px",children:(0,O.jsx)(ae.default.FilledTrack,{bg:"interactive-default",height:"4px"})}),(0,O.jsx)(ae.default.Thumb,{style:{position:"absolute"},borderWidth:0,bg:"transparent",children:(0,O.jsx)(a.default,{borderRadius:"full",borderColor:"icon-default",width:"16px",height:"16px",borderWidth:"3px",bg:"surface-neutral-default"})})]}),(0,O.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,O.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[(0,O.jsx)(s.default,{typography:"Body2Strong",color:"text-subdued",mr:"4px",children:e.formatMessage({id:"form__inscribing_fee"})}),(0,O.jsx)(we,{label:e.formatMessage({id:"content__network_fee_for_inscription_genesis_tx"})})]}),le||void 0===X||void 0===X.fundingValue?(0,O.jsx)(oe.default,{shape:"Subheading"}):(0,O.jsx)(me.FormatBalance,{balance:new(m())(X.fundingValue-L).shiftedBy(-8).toFixed(),suffix:null==Q?void 0:Q.symbol,formatOptions:{fixed:null==Q?void 0:Q.decimals},render:function(e){return(0,O.jsx)(s.default,{typography:"Body2",children:e})}})]}),(0,O.jsxs)(a.default,{mt:"16px",flexDirection:"row",justifyContent:"space-between",children:[(0,O.jsxs)(a.default,{flexDirection:"row",alignItems:"center",children:[(0,O.jsx)(s.default,{typography:"Body2Strong",color:"text-subdued",mr:"4px",children:e.formatMessage({id:"form__service_fee"})}),(0,O.jsx)(re.default,{type:"info",size:"sm",color:"text-success",title:e.formatMessage({id:"form__free__uppercase"})})]}),(0,O.jsx)(s.default,{typography:"Body2",children:"0 BTC"})]}),(0,O.jsx)(s.default,{color:"text-success",typography:"Caption",mt:"8px",children:e.formatMessage({id:"content__onekey_does_not_charge_any_service_fees"})})]}),F?De:null]})})};var ke=n(964295),Ie=n(958698),je=n(790311);var Oe=n(395795),Te=n(627009);const Se=function(){var e=(0,h.default)(),t=(0,f.useRoute)(),n=((null==t?void 0:t.params)||{}).orderHistory,r=(0,b.useActiveWalletAccount)().network,a=(0,u.useCallback)((function(){var e=(0,Oe.buildTransactionDetailsUrl)(r,n.txid);(0,Te.openUrlExternal)(e)}),[r,n.txid]);return(0,O.jsx)(o.default,{header:e.formatMessage({id:"title__order_info"}),height:"640px",footer:null,staticChildrenProps:{flex:1,padding:"16px"},children:(0,O.jsxs)(ne.ScrollView,{children:[(0,O.jsxs)(te.default,{space:"12px",children:[(0,O.jsx)(s.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__payment_info__uppercase"})}),(0,O.jsxs)(te.default,{space:"4px",padding:"16px",bgColor:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",children:[(0,O.jsx)(s.default,{typography:"Body2Strong",color:"text-subdued",children:"TXID"}),(0,O.jsx)(se.default,{onPress:a,children:(0,O.jsx)(s.default,{typography:"Body1Strong",color:"text-subdued",children:n.txid})})]})]}),(0,O.jsxs)(te.default,{space:"12px",mt:"24px",children:[(0,O.jsx)(s.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__receive__uppercase"})}),(0,O.jsxs)(te.default,{space:"4px",padding:"16px",bgColor:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",children:[(0,O.jsx)(s.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"form__receive_address"})}),(0,O.jsx)(s.default,{typography:"Body1Strong",color:"text-subdued",children:n.to})]}),(0,O.jsx)(s.default,{typography:"Caption",color:"text-subdued",children:e.formatMessage({id:"content__the_address_above_is_a_taproot_address_to_receive_your_inscription"})})]}),(0,O.jsxs)(te.default,{space:"12px",mt:"24px",children:[(0,O.jsx)(s.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__inscriptions__uppercase"})}),(0,O.jsx)(te.default,{space:"4px",padding:"16px",bgColor:"surface-default",borderRadius:"12px",borderWidth:"1px",borderColor:"border-subdued",children:(0,O.jsx)(s.default,{typography:"Body1Strong",color:"text-subdued",children:n.previewText})})]})]})})};var Pe=n(265999),Ce=n(609813);const Me=function(){var e=(0,h.default)(),t=(0,f.useRoute)(),n=(0,u.useRef)(),r=(0,f.useNavigation)(),s=v.default.serviceInscribe,l=(null==t?void 0:t.params)||{},p=l.networkId,m=l.accountId,y=l.contents,x=l.size,_=l.file,k=l.address,I=(0,b.useActiveSideAccount)({accountId:m,networkId:p}).network,j=(0,u.useCallback)(function(){var e=(0,c.default)((function*(e){try{return(yield s.checkValidTaprootAddress({address:e,networkId:p,accountId:m})).isTaprootAddress}catch(t){return Promise.resolve(!1)}}));return function(t){return e.apply(this,arguments)}}(),[m,p,s]),T=(0,d.default)({defaultValues:{address:k},mode:"onChange"}),P=T.control,C=T.watch,M=T.formState.isValid,E=(0,u.useState)({warningMessage:"",successMessage:"",errorMessage:""}),R=(0,A.default)(E,2),N=R[0],L=R[1],B=C("address"),F=(0,u.useCallback)((function(t){n.current&&clearTimeout(n.current),n.current=setTimeout((0,c.default)((function*(){try{L({warningMessage:"",errorMessage:"",successMessage:""});var n=(yield s.checkValidTaprootAddress({address:t,networkId:p,accountId:m})).isTaprootAddress;return L(n?{warningMessage:"",errorMessage:"",successMessage:e.formatMessage({id:"form__enter_recipient_address_valid"})}:{warningMessage:"",errorMessage:e.formatMessage({id:"msg__invalid_address_ordinal_can_only_be_sent_to_taproot_address"}),successMessage:""}),n}catch(r){return L({warningMessage:"",errorMessage:e.formatMessage({id:"msg__invalid_address_ordinal_can_only_be_sent_to_taproot_address"}),successMessage:""}),!1}})),100)}),[m,e,p,s]),U=0===(null==B?void 0:B.length)||!M||N.errorMessage.length>0;return(0,O.jsx)(o.default,{header:e.formatMessage({id:"title__inscribe"}),headerDescription:(0,O.jsx)(H,{network:I}),rightContent:(0,O.jsx)(D,{}),height:"640px",primaryActionTranslationId:"action__next",hideSecondaryAction:!0,staticChildrenProps:{flex:1,padding:"16px"},primaryActionProps:{onPress:function(){r.navigate(w.InscribeModalRoutes.CreateOrder,{file:_,networkId:p,accountId:m,receiveAddress:B,contents:y,size:x,orderId:g.default.v4()})},isDisabled:U},children:(0,O.jsx)(a.default,{w:"full",h:"full",children:(0,O.jsxs)(i.default,{space:"8px",children:[(0,O.jsx)(S,{numberOfSteps:3,currentStep:2}),(0,O.jsx)(i.default.Item,{control:P,name:"address",label:e.formatMessage({id:"form__address_to_receive_inscription"}),errorMessage:N.errorMessage,rules:{required:{value:!0,message:e.formatMessage({id:"form__field_is_required"})},validate:F},children:(0,O.jsx)(Pe.default,{maxLength:103,networkId:p,placeholder:e.formatMessage({id:"form__address"}),description:e.formatMessage({id:"content__enter_the_taproot_address_to_receive_ordinal_inscriptions"}),h:{base:120,md:120},plugins:["contact","paste","scan"],addressFilter:j})}),B&&(0,O.jsx)(Ce.AddressLabel,{shouldCheckSecurity:!0,networkId:p,address:B,labelStyle:{mt:1}})]})})})};var Ae=(0,n(324665).default)(),Ee=[{name:w.InscribeModalRoutes.InscribeTransferFromDapp,component:function(){var e=(0,f.useNavigation)(),t=(0,u.useRef)(),n=(0,je.useReduxReady)().isReady,r=(0,Ie.default)(),o=r.sourceInfo,a=r.amount,i=r.ticker;return(0,u.useEffect)((function(){if(n){var r=ke.default.addEventListener("change",(function(n){"active"===n&&setTimeout((function(){t.current&&(e.dispatch(t.current),t.current=void 0)}))})),s=(0,b.getActiveWalletAccount)(),l={networkId:s.networkId,accountId:s.accountId,amount:a,token:{name:i,symbol:i,tokenIdOnNetwork:`brc-20--${null!=i?i:""}`},sourceInfo:o},c=f.StackActions.replace(w.InscribeModalRoutes.BRC20Amount,l);return c&&("active"===ke.default.currentState?setTimeout((function(){return e.dispatch(c)})):t.current=c),function(){r.remove()}}}),[a,n,e,o,i]),null}},{name:w.InscribeModalRoutes.InscribeModal,component:ee},{name:w.InscribeModalRoutes.BRC20Amount,component:function(){var e,t,n=(0,h.default)(),r=(0,f.useNavigation)(),p=(0,f.useRoute)(),_=(null==p?void 0:p.params)||{},k=_.networkId,I=_.accountId,j=_.token,T=_.sourceInfo,P=_.amount,C=v.default.serviceInscribe,M=(0,b.useAccount)({networkId:k,accountId:I}).account,A=(null!=T?T:{}).id,E=(0,x.default)({id:A}),R=(0,b.useBRC20TokenBalance)({networkId:k,accountId:I,token:j}),N=(0,d.default)({mode:"onChange",reValidateMode:"onChange",defaultValues:{amount:null!=P?P:""}}),L=N.control,B=N.formState,F=N.getValues,U=(0,u.useMemo)((function(){return!B.isValid||!M}),[M,B.isValid]),H=(0,u.useCallback)((0,c.default)((function*(){var e,t,o=null==M?void 0:M.address,a=(yield C.checkValidTaprootAddress({address:null!=o?o:"",networkId:k,accountId:I})).isTaprootAddress;if(o&&a){var i=[],s={networkId:k,accountId:I,contents:i,size:0,orderId:g.default.v4(),receiveAddress:o,sourceInfo:T},c=F("amount"),d=(0,y.createBRC20TransferText)(c,null!=(e=null==j?void 0:j.symbol)?e:"");if(d.length>0)try{i=yield C.createInscriptionContents({texts:[d]}),Object.assign(s,{size:d.length,contents:i})}catch(m){var u=m.key,f=void 0===u?"":u,p=m.info;"msg__file_size_should_less_than_str"===f&&l.default.show({title:n.formatMessage({id:f},p)},{type:"error"})}(null==(t=i)?void 0:t.length)>0&&r.navigate(w.InscribeModalRoutes.CreateOrder,s)}else l.default.show({title:n.formatMessage({id:"msg__invalid_address_ordinal_can_only_be_sent_to_taproot_address"})},{type:"error"})})),[null==M?void 0:M.address,I,F,n,r,k,C,T,null==j?void 0:j.symbol]);return(0,O.jsxs)(o.default,{header:n.formatMessage({id:"title__inscribe"}),headerDescription:(0,O.jsx)(s.default,{typography:"Caption",color:"text-subdued",children:`${null!=(e=null==j?void 0:j.name)?e:""} (brc20)`}),rightContent:(0,O.jsx)(D,{}),height:"640px",primaryActionTranslationId:"action__next",hideSecondaryAction:!0,primaryActionProps:{onPromise:H,isDisabled:U},staticChildrenProps:{flex:1,padding:"16px"},onModalClose:E.reject,children:[(0,O.jsx)(S,{numberOfSteps:2,currentStep:1}),(0,O.jsx)(a.default,{mt:6,children:(0,O.jsx)(i.default,{children:(0,O.jsx)(i.default.Item,{name:"amount",label:n.formatMessage({id:"form__amount"}),control:L,rules:{required:!0,validate:function(e){var t,r=new(m())(e);return r.gt(null!=(t=R.availableBalance)?t:"0")?n.formatMessage({id:"msg__insufficient_balance"}):!r.lte(0)&&(r.shiftedBy(1).isInteger()?void 0:n.formatMessage({id:"msg__please_limit_the_amount_of_tokens_to_str_decimal_places_or_less"},{0:1}))}},helpText:`${n.formatMessage({id:"form__available_colon"})} ${null!=(t=null==R?void 0:R.availableBalance)?t:"0"}`,children:(0,O.jsx)(i.default.NumberInput,{})})})})]})}},{name:w.InscribeModalRoutes.OrderList,component:N},{name:w.InscribeModalRoutes.OrderDetail,component:Se},{name:w.InscribeModalRoutes.ReceiveAddress,component:Me},{name:w.InscribeModalRoutes.CreateOrder,component:_e}];const Re=function(){var e=(0,r.default)();return(0,O.jsx)(Ae.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:Ee.map((function(e){return(0,O.jsx)(Ae.Screen,{name:e.name,component:e.component},e.name)}))})}},577331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>vt});var r=n(256666),o=n(539144),a=n(313132),i=n(600784),s=n(612210),l=n(877531),c=n(783723),d=n(361301),u=n(433996),f=n(10918),p=n(566147),m=n(785192),h=n(561220),g=n(866904),y=n(435581),v=n(669083),b=n(634795),x=n(921311),w=n(196234),_=n(202784),k=n(472719),I=n(783112),j=n(945821),O=n(859071),T=/^https?:\/\/|^wss:\/\//,S=n(419479),P=n(552322);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,E=function(){var e=(0,I.default)(),t=(0,k.useNavigation)(),n=(0,k.useRoute)(),r=n.params,a=r.network,i=r.mode,C=(0,o.default)(),E=(0,O.useActiveWalletAccount)().network,R=(0,_.useState)(!1),D=(0,w.default)(R,2),N=D[0],L=D[1],B=(0,_.useState)({connected:!1}),F=(0,w.default)(B,2),U=F[0],H=F[1],W=j.default.serviceNetwork,V=(0,x.default)({defaultValues:{name:"",rpcURL:"",chainId:"",symbol:"",explorerURL:""},mode:"onChange"}),z=V.control,K=V.handleSubmit,G=V.watch,$=V.setValue,Z=V.setError,q=V.trigger,X=V.formState.isValid,Y=(0,_.useMemo)((function(){return U.error?"":U.loading?e.formatMessage({id:"form__rpc_url_connecting"}):U.connected?e.formatMessage({id:"form__rpc_url_fetched"}):void 0}),[U,e]),Q=(0,O.useDebounce)(G("rpcURL"),1e3),J=null==Q?void 0:Q.trim();(0,_.useEffect)((function(){if(a){var e=a.name,t=a.rpcURL,n=a.symbol,r=a.explorerURL;$("name",e||""),$("symbol",n),$("rpcURL",t),$("explorerURL",r)}}),[a,$]),(0,_.useEffect)((function(){(J||A.test(J))&&(H((function(e){return M(M({},e),{},{connected:!1,loading:!0})})),W.preAddNetwork(J).then((function(t){var n=t.chainId,r=t.existingNetwork;$("chainId",n),H(r&&"edit"!==i?{loading:!1,connected:!0,error:e.formatMessage({id:"form__rpc_url_invalid_exist"},{name:r.name})}:{connected:!0,loading:!1})})).catch((function(){H({loading:!1,connected:!1,error:e.formatMessage({id:"form__rpc_fetched_failed"})})})).finally((function(){q("rpcURL")})))}),[J,e,$,Z,W,q,i]);var ee=(0,_.useCallback)(function(){var r=(0,b.default)((function*(r){var o,i,s={name:r.name,rpcURL:r.rpcURL,symbol:r.symbol,explorerURL:r.explorerURL,logoURI:null==(o=n.params)||null==(i=o.network)?void 0:i.logoURI};null!=a&&a.id?(yield W.updateNetwork(a.id,s),v.default.show({title:e.formatMessage({id:"msg__change_saved"})})):(yield W.addNetwork("evm",s),v.default.show({title:e.formatMessage({id:"msg__network_added"})})),t.navigate(S.ManageNetworkModalRoutes.Listing)}));return function(e){return r.apply(this,arguments)}}(),[e,W,t,n,null==a?void 0:a.id]),te=(0,_.useCallback)((function(){L(!0)}),[]),ne=(0,_.useCallback)((function(){t.navigate(S.ManageNetworkModalRoutes.QuickAdd)}),[t]),re=(0,_.useCallback)((0,b.default)((function*(){var n;yield W.deleteNetwork(null!=(n=null==a?void 0:a.id)?n:""),L(!1),v.default.show({title:e.formatMessage({id:"msg__network_removed"})}),null!=t&&null!=t.canGoBack&&t.canGoBack()&&t.goBack()})),[e,W,null==a?void 0:a.id,t]),oe=(0,_.useMemo)((function(){return"add"===i&&a||"edit"===i&&null!=a&&a.id?null:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(h.default,{flex:"1",alignItems:"center",w:"full",bg:"surface-default",borderWidth:"1",borderRadius:"12px",borderColor:"border-subdued",flexDirection:"row",px:"16px",py:"8px",onPress:ne,children:[(0,P.jsx)(y.default,{name:C?"LightningBoltOutline":"LightningBoltMini",size:C?24:20}),(0,P.jsx)(g.default,{typography:C?"Body1Strong":"Body2Strong",flex:"1",ml:"4",children:e.formatMessage({id:"action__quick_add"})}),(0,P.jsx)(y.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]}),(0,P.jsx)(m.default,{my:"6"})]})}),[e,C,i,a,ne]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.default,{header:e.formatMessage({id:"action__add_network"}),hidePrimaryAction:!0,height:"560px",secondaryActionTranslationId:"action__save",secondaryActionProps:{type:"primary",isDisabled:!X||!!U.error||!U.connected,onPromise:K(ee)},scrollViewProps:{children:(0,P.jsx)(c.default,{flexDirection:"row",justifyContent:"center",children:(0,P.jsxs)(d.default,{w:"full",children:[oe,(0,P.jsxs)(p.default,{children:[(0,P.jsx)(p.default.Item,{name:"name",label:e.formatMessage({id:"form__network_name",defaultMessage:"Network Name"}),control:z,rules:{required:{value:!0,message:e.formatMessage({id:"form__field_is_required"})},validate:function(t){if(null==t||!t.trim())return e.formatMessage({id:"form__field_is_required"})},maxLength:{value:30,message:e.formatMessage({id:"form__network_name_invalid"})}},children:(0,P.jsx)(p.default.Input,{size:C?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"rpcURL",control:z,label:e.formatMessage({id:"form__rpc_url",defaultMessage:"RPC URL"}),helpText:Y,formControlProps:{zIndex:10},rules:{required:{value:!0,message:e.formatMessage({id:"form__field_is_required"})},pattern:{value:T,message:e.formatMessage({id:"form__rpc_url_wrong_format"})},maxLength:{value:100,message:e.formatMessage({id:"form__validator_max_length"},{value:100})},validate:function(){return U.error}},children:(0,P.jsx)(p.default.Input,{size:C?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"chainId",control:z,label:e.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),children:(0,P.jsx)(p.default.Input,{isDisabled:!0,size:C?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"symbol",label:e.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),labelAddon:(0,P.jsx)(f.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:z,rules:{maxLength:{value:15,message:e.formatMessage({id:"form__symbol_invalid"})}},children:(0,P.jsx)(p.default.Input,{size:C?"xl":"default",placeholder:"ETH"})}),(0,P.jsx)(p.default.Item,{name:"explorerURL",label:e.formatMessage({id:"form__blockchain_explorer_url",defaultMessage:"Blockchain Explore URL"}),labelAddon:(0,P.jsx)(f.default.Body2,{color:"text-subdued",children:e.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:z,rules:{pattern:{value:/https?:\/\//,message:e.formatMessage({id:"form__blockchain_explorer_url_invalid"})},maxLength:{value:100,message:e.formatMessage({id:"form__validator_max_length"},{value:100})}},children:(0,P.jsx)(p.default.Input,{size:C?"xl":"default"})})]}),"edit"===i&&null!=a&&a.id&&(null==a?void 0:a.id)!==(null==E?void 0:E.id)?(0,P.jsx)(u.default,{name:"TrashMini",mt:6,type:"outline",onPress:te,shadow:void 0,children:e.formatMessage({id:"action__remove"})}):null]})})}}),(0,P.jsx)(s.default,{visible:N,onClose:function(){return L(!1)},contentProps:{iconType:"danger",title:e.formatMessage({id:"dialog__remove_network_title",defaultMessage:"Remove Network"}),content:e.formatMessage({id:"dialog__remove_network_desc",defaultMessage:"\u201c{0}\u201d will be removed from your networks list."},{0:(null==a?void 0:a.name)||""})},footerButtonProps:{primaryActionTranslationId:"action__remove",primaryActionProps:{type:"destructive",size:"lg",onPromise:re},secondaryActionProps:{size:"lg"}}})]})};var R=n(18861),D=n(826771),N=n(958698),L=n(795116),B=n(737790),F=function(e){var t=e.name,n=e.logoURI,r=e.size,o=e.iconName;return(0,P.jsx)(L.default,{children:(0,P.jsxs)(R.default,{size:r,position:"relative",children:[(0,P.jsx)(B.default,{token:{logoURI:n,name:t},size:r}),o?(0,P.jsx)(R.default,{position:"absolute",size:"6",right:"-4px",bottom:"-4px",alignItems:"center",justifyItems:"center",children:(0,P.jsx)(y.default,{name:o,size:24,color:"icon-success"})}):null]})})},U=n(365553);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var W=function(){var e=(0,k.useRoute)().params;if("query"in e){var t=JSON.parse(e.query),n=t.chainName,r=t.chainId,o=t.blockExplorerUrls,a=t.nativeCurrency,i=t.rpcUrls,s=t.iconUrls;return{id:r,chainId:r,name:n,rpcURL:null==i?void 0:i.at(0),symbol:null==a?void 0:a.symbol,exploreUrl:null==o?void 0:o.at(0),iconUrl:null==s?void 0:s.at(0)}}return e};function V(e){var t,n=(0,I.default)(),o=W(),a=o.name,i=o.symbol,s=o.chainId,d=o.rpcURL,u=o.exploreUrl,p=o.iconUrl,m=(0,N.default)(),h=(0,_.useMemo)((function(){return[{label:n.formatMessage({id:"form__name",defaultMessage:"Name"}),value:a},{label:n.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),value:String(parseInt(null!=s?s:"0"))},{label:n.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),value:i},{label:n.formatMessage({id:"form__explorer",defaultMessage:"Explorer"}),value:u},{label:n.formatMessage({id:"form__url",defaultMessage:"RPC Node"}),value:d}]}),[n,a,d,s,i,u]);return(0,P.jsx)(l.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:"560px",footer:null,scrollViewProps:{children:(0,P.jsx)(c.default,{children:(0,P.jsxs)(R.default,{children:[(0,P.jsxs)(R.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mb:"8",mt:"6",children:[(0,P.jsx)(F,{name:i,logoURI:p,size:"64px",iconName:"PlusCircleSolid"}),(0,P.jsx)(f.default.PageHeading,{mt:"4",children:`${n.formatMessage({id:"title__add_a_network"})}`}),(0,P.jsx)(U.SiteSection,{url:null==m||null==(t=m.sourceInfo)?void 0:t.origin,mt:"2",w:"full"}),(0,P.jsx)(f.default.Body1,{mt:"2",children:n.formatMessage({id:"title__add_network_desc"},{0:i})})]}),(0,P.jsx)(R.default,{bg:"surface-default",borderRadius:"12",mt:"2",mb:"3",children:h.map((function(e,t){return(0,P.jsxs)(R.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",p:"4",alignItems:"center",borderTopRadius:0===t?"12":void 0,borderBottomRadius:t===h.length-1?"12":void 0,borderTopColor:"divider",borderTopWidth:0!==t?"1":void 0,children:[(0,P.jsx)(g.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:e.label}),(0,P.jsx)(g.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},maxW:"56",textAlign:"right",children:e.value})]},t)}))})]})})}},e))}var z=function(){var e,t,n=(0,I.default)(),r=W(),o=r.rpcURL,a=r.name,i=r.symbol,s=r.exploreUrl,l=(0,N.default)(),c=(0,D.default)({id:null!=(e=null==(t=l.sourceInfo)?void 0:t.id)?e:""}),d=j.default.serviceNetwork,u=(0,_.useCallback)(function(){var e=(0,b.default)((function*(e){var t=e.close;if(o)try{var r=(yield d.preAddNetwork(o)).existingNetwork;if(r)return void v.default.show({title:n.formatMessage({id:"form__rpc_url_invalid_exist"},{name:r.name})});var l=yield d.addNetwork("evm",{name:null!=a?a:"-",rpcURL:o,symbol:i,explorerURL:s});v.default.show({title:n.formatMessage({id:"msg__network_added"})}),yield c.resolve({close:t,result:l})}catch(u){console.error(u),v.default.show({title:n.formatMessage({id:"form__rpc_fetched_failed"})})}}));return function(t){return e.apply(this,arguments)}}(),[o,d,a,i,s,n,c]);return(0,P.jsx)(V,{footer:!0,hideSecondaryAction:!0,onModalClose:c.reject,primaryActionTranslationId:"action__add",onPrimaryActionPress:u})},K=n(465022),G=n(592923),$=n(719392),Z=n(413888),q=n.n(Z),X=n(259924),Y=n(470310),Q=n(896953),J=n(749888),ee=n(626015),te=n(119804),ne=n(481047),re=n(821919),oe=n(311631),ae=n(793525),ie=n(433423),se=n(297263),le=n(968594);function ce(){var e=(0,se.default)(["text-default","divider","surface-default","border-default"]),t=(0,w.default)(e,4),n=t[0],r=t[1],o=t[2],a=t[3];return(0,P.jsxs)(le.default,{width:"358",height:"172",viewBox:"0 0 358 172",fill:"none",children:[(0,P.jsx)(le.Rect,{x:"5.79102",y:"0.5",width:"116.22",height:"43",rx:"21.5",fill:o}),(0,P.jsx)(le.Circle,{cx:"27.291",cy:"22",r:"14",fill:"url(#pattern0)"}),(0,P.jsx)(le.Path,{d:"M51.291 27.6367V16.3633H58.4473V17.8711H53.041V21.168H58.1582V22.6211H53.041V26.1289H58.4473V27.6367H51.291Z",fill:n}),(0,P.jsx)(le.Path,{d:"M63.807 27.6367L59.7913 16.3633H61.6898L64.7054 25.5273H64.8382L67.8538 16.3633H69.7523L65.7366 27.6367H63.807Z",fill:n}),(0,P.jsx)(le.Path,{d:"M71.401 27.6367V16.3633H73.4166L77.0104 25.3555H77.1354L80.7291 16.3633H82.7448V27.6367H81.151V19.3633H81.0338L77.7213 27.6367H76.4245L73.1198 19.3633H72.9948V27.6367H71.401Z",fill:n}),(0,P.jsx)(le.Path,{d:"M90.6673 27.6367H89.3313L89.9563 24.5664H88.1438L88.4016 23.2461H90.2298L90.7532 20.6289H88.8548L89.1204 19.3164H91.0266L91.6204 16.3633H92.9563L92.3548 19.3164H94.7141L95.3157 16.3633H96.6595L96.0579 19.3164H97.9641L97.7141 20.6289H95.7845L95.2532 23.2461H97.2376L96.9876 24.5664H94.9876L94.3626 27.6367H93.0266L93.6516 24.5664H91.2923L90.6673 27.6367ZM91.511 23.2852H93.9485L94.4954 20.5977H92.0579L91.511 23.2852Z",fill:n}),(0,P.jsx)(le.Path,{d:"M99.316 27.6367V16.3633H100.894L106.691 24.5664H106.808V16.3633H108.511V27.6367H106.933L101.144 19.4492H101.019V27.6367H99.316Z",fill:n}),(0,P.jsx)(le.Rect,{x:"5.79102",y:"0.5",width:"116.22",height:"43",rx:"21.5",stroke:r}),(0,P.jsx)(le.Rect,{x:"5.79102",y:"64.5",width:"116.22",height:"43",rx:"21.5",fill:o}),(0,P.jsx)(le.Circle,{cx:"27.291",cy:"86",r:"14",fill:"url(#pattern1)"}),(0,P.jsx)(le.Path,{d:"M51.291 91.6367V80.3633H55.8223C57.9395 80.3633 59.2129 81.4414 59.2129 83.168V83.1836C59.2129 84.3555 58.3457 85.4102 57.2363 85.5977V85.7305C58.7598 85.8945 59.7754 86.9727 59.7754 88.4414V88.457C59.7754 90.4336 58.3301 91.6367 55.9238 91.6367H51.291ZM55.416 81.793H53.041V85.1602H55.1191C56.666 85.1602 57.4707 84.582 57.4707 83.4883V83.4727C57.4707 82.4102 56.7129 81.793 55.416 81.793ZM55.4707 86.4961H53.041V90.207H55.5723C57.1504 90.207 57.9863 89.5586 57.9863 88.3477V88.332C57.9863 87.1211 57.1191 86.4961 55.4707 86.4961Z",fill:n}),(0,P.jsx)(le.Path,{d:"M64.5648 91.6367V81.8711H61.0179V80.3633H69.8538V81.8711H66.3148V91.6367H64.5648Z",fill:n}),(0,P.jsx)(le.Path,{d:"M75.8698 91.9102C72.737 91.9102 70.7838 89.6445 70.7838 86.0117V85.9961C70.7838 82.3555 72.7291 80.0898 75.862 80.0898C78.3463 80.0898 80.2526 81.6602 80.5495 83.9023L80.5416 83.9414H78.8073V83.918C78.4791 82.5352 77.3463 81.6367 75.862 81.6367C73.8385 81.6367 72.5729 83.3164 72.5729 85.9961V86.0117C72.5729 88.6836 73.8385 90.3633 75.8698 90.3633C77.362 90.3633 78.4791 89.5664 78.7995 88.293L78.8151 88.2617H80.5495V88.3086C80.2213 90.4727 78.3854 91.9102 75.8698 91.9102Z",fill:n}),(0,P.jsx)(le.Path,{d:"M87.9485 91.6367H86.6126L87.2376 88.5664H85.4251L85.6829 87.2461H87.511L88.0345 84.6289H86.136L86.4016 83.3164H88.3079L88.9016 80.3633H90.2376L89.636 83.3164H91.9954L92.597 80.3633H93.9407L93.3391 83.3164H95.2454L94.9954 84.6289H93.0657L92.5345 87.2461H94.5188L94.2688 88.5664H92.2688L91.6438 91.6367H90.3079L90.9329 88.5664H88.5735L87.9485 91.6367ZM88.7923 87.2852H91.2298L91.7766 84.5977H89.3391L88.7923 87.2852Z",fill:n}),(0,P.jsx)(le.Path,{d:"M96.5973 91.6367V80.3633H98.1754L103.972 88.5664H104.089V80.3633H105.793V91.6367H104.214L98.4254 83.4492H98.3004V91.6367H96.5973Z",fill:n}),(0,P.jsx)(le.Rect,{x:"5.79102",y:"64.5",width:"116.22",height:"43",rx:"21.5",stroke:r}),(0,P.jsx)(le.Rect,{x:"5.79102",y:"128.5",width:"116.22",height:"43",rx:"21.5",fill:o}),(0,P.jsx)(le.Circle,{cx:"27.291",cy:"150",r:"14",fill:"url(#pattern2)"}),(0,P.jsx)(le.Path,{d:"M55.6348 155.91C53.0879 155.91 51.4551 154.621 51.2988 152.723L51.291 152.621H53.0098L53.0176 152.707C53.1113 153.73 54.1973 154.387 55.7051 154.387C57.1426 154.387 58.166 153.668 58.166 152.621V152.613C58.166 151.746 57.5566 151.184 56.0645 150.863L54.8301 150.598C52.541 150.113 51.5566 149.051 51.5566 147.387V147.379C51.5645 145.434 53.252 144.09 55.6426 144.09C58.0332 144.09 59.5957 145.441 59.7207 147.191L59.7285 147.301H58.0332L58.0176 147.199C57.8691 146.277 56.9863 145.605 55.6191 145.613C54.2988 145.613 53.3223 146.23 53.3223 147.293V147.301C53.3223 148.137 53.916 148.684 55.377 148.996L56.6035 149.27C58.9707 149.777 59.9395 150.73 59.9395 152.402V152.41C59.9395 154.566 58.2598 155.91 55.6348 155.91Z",fill:n}),(0,P.jsx)(le.Path,{d:"M66.7288 155.91C63.4476 155.91 61.4632 153.621 61.4632 150.004V149.988C61.4632 146.363 63.4945 144.09 66.7288 144.09C69.971 144.09 71.9866 146.371 71.9866 149.988V150.004C71.9866 153.613 69.9866 155.91 66.7288 155.91ZM66.7288 154.363C68.8695 154.363 70.1976 152.645 70.1976 150.004V149.988C70.1976 147.324 68.8616 145.637 66.7288 145.637C64.596 145.637 63.2523 147.324 63.2523 149.988V150.004C63.2523 152.645 64.557 154.363 66.7288 154.363Z",fill:n}),(0,P.jsx)(le.Path,{d:"M74.0416 155.637V144.363H75.7916V154.129H81.0729V155.637H74.0416Z",fill:n}),(0,P.jsx)(le.Path,{d:"M88.386 155.637H87.0501L87.6751 152.566H85.8626L86.1204 151.246H87.9485L88.472 148.629H86.5735L86.8391 147.316H88.7454L89.3391 144.363H90.6751L90.0735 147.316H92.4329L93.0345 144.363H94.3782L93.7766 147.316H95.6829L95.4329 148.629H93.5032L92.972 151.246H94.9563L94.7063 152.566H92.7063L92.0813 155.637H90.7454L91.3704 152.566H89.011L88.386 155.637ZM89.2298 151.285H91.6673L92.2141 148.598H89.7766L89.2298 151.285Z",fill:n}),(0,P.jsx)(le.Path,{d:"M97.0348 155.637V144.363H98.6129L104.41 152.566H104.527V144.363H106.23V155.637H104.652L98.8629 147.449H98.7379V155.637H97.0348Z",fill:n}),(0,P.jsx)(le.Rect,{x:"5.79102",y:"128.5",width:"116.22",height:"43",rx:"21.5",stroke:r}),(0,P.jsx)(le.Path,{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M125.511 8.5H124.511V7.5H125.511V8.5ZM129.511 8.5H127.511V7.5H129.511V8.5ZM133.511 8.5H131.511V7.5H133.511V8.5ZM137.511 8.5H135.511V7.5H137.511V8.5ZM140.511 8.5H139.511V7.5H140.511C140.869 7.5 141.226 7.50769 141.58 7.52293L141.537 8.52201C141.197 8.50739 140.855 8.5 140.511 8.5ZM145.6 9.0524C144.937 8.90606 144.263 8.78771 143.581 8.69865L143.71 7.70706C144.422 7.7999 145.124 7.9233 145.815 8.07591L145.6 9.0524ZM149.506 10.283C148.877 10.0222 148.235 9.78797 147.58 9.58164L147.88 8.62785C148.563 8.84303 149.233 9.08732 149.889 9.35927L149.506 10.283ZM153.138 12.1774C152.563 11.8103 151.971 11.4676 151.364 11.1507L151.826 10.2641C152.46 10.5945 153.077 10.9518 153.676 11.3345L153.138 12.1774ZM156.387 14.6737C155.883 14.2119 155.359 13.7718 154.817 13.3549L155.426 12.562C155.992 12.9966 156.538 13.4553 157.063 13.9366L156.387 14.6737ZM159.156 17.6938C158.739 17.1513 158.299 16.6274 157.837 16.1237L158.574 15.4479C159.055 15.9729 159.514 16.519 159.949 17.0845L159.156 17.6938ZM161.36 21.147C161.043 20.5394 160.7 19.9474 160.333 19.3724L161.176 18.8343C161.559 19.4338 161.916 20.051 162.247 20.6845L161.36 21.147ZM162.929 24.9311C162.723 24.2761 162.489 23.6335 162.228 23.0046L163.151 22.6216C163.423 23.2774 163.668 23.9475 163.883 24.6306L162.929 24.9311ZM163.812 28.9301C163.723 28.2473 163.605 27.5739 163.458 26.911L164.435 26.6954C164.587 27.3867 164.711 28.0889 164.804 28.8007L163.812 28.9301ZM164.011 32C164.011 31.656 164.003 31.3138 163.989 30.9735L164.988 30.9306C165.003 31.2852 165.011 31.6417 165.011 32V32.9643H164.011V32ZM164.011 36.8214V34.8929H165.011V36.8214H164.011ZM164.011 40.6786V38.75H165.011V40.6786H164.011ZM164.011 44.5357V42.6071H165.011V44.5357H164.011ZM164.011 48.3929V46.4643H165.011V48.3929H164.011ZM164.011 52.25V50.3214H165.011V52.25H164.011ZM164.011 56.1071V54.1786H165.011V56.1071H164.011ZM164.011 59.9643V58.0357H165.011V59.9643H164.011ZM164.011 63.8214V61.8929H165.011V63.8214H164.011ZM164.011 67.6786V65.75H165.011V67.6786H164.011ZM164.011 71.5357V69.6071H165.011V71.5357H164.011ZM164.011 75.3929V73.4643H165.011V75.3929H164.011ZM164.011 79.25V77.3214H165.011V79.25H164.011ZM164.011 83.1071V81.1786H165.011V83.1071H164.011ZM164.011 85.5V85.0357H165.011V86.9643H164.011V86.5H163.511V85.5H164.011ZM125.511 86.5H124.511V85.5H125.511V86.5ZM129.511 86.5H127.511V85.5H129.511V86.5ZM133.511 86.5H131.511V85.5H133.511V86.5ZM137.511 86.5H135.511V85.5H137.511V86.5ZM141.511 85.5V86.5H139.511V85.5H141.511ZM145.511 86.5H143.511V85.5H145.511V86.5ZM149.511 86.5H147.511V85.5H149.511V86.5ZM153.511 86.5H151.511V85.5H153.511V86.5ZM157.511 86.5H155.511V85.5H157.511V86.5ZM161.511 86.5H159.511V85.5H161.511V86.5ZM165.011 88.8929V90.8214H164.011V88.8929H165.011ZM165.011 92.75V94.6786H164.011V92.75H165.011ZM165.011 96.6071V98.5357H164.011V96.6071H165.011ZM165.011 100.464V102.393H164.011V100.464H165.011ZM165.011 104.321V106.25H164.011V104.321H165.011ZM165.011 108.179V110.107H164.011V108.179H165.011ZM165.011 112.036V113.964H164.011V112.036H165.011ZM165.011 115.893V117.821H164.011V115.893H165.011ZM165.011 119.75V121.679H164.011V119.75H165.011ZM165.011 123.607V125.536H164.011V123.607H165.011ZM165.011 127.464V129.393H164.011V127.464H165.011ZM165.011 131.321V133.25H164.011V131.321H165.011ZM165.011 135.179V137.107H164.011V135.179H165.011ZM165.011 139.036V140C165.011 140.358 165.003 140.715 164.988 141.069L163.989 141.026C164.003 140.686 164.011 140.344 164.011 140V139.036H165.011ZM164.804 143.199C164.711 143.911 164.587 144.613 164.435 145.305L163.458 145.089C163.605 144.426 163.723 143.753 163.812 143.07L164.804 143.199ZM163.883 147.369C163.668 148.052 163.423 148.723 163.151 149.378L162.228 148.995C162.489 148.367 162.723 147.724 162.929 147.069L163.883 147.369ZM162.247 151.315C161.916 151.949 161.559 152.566 161.176 153.166L160.333 152.628C160.7 152.053 161.043 151.461 161.36 150.853L162.247 151.315ZM159.949 154.915C159.514 155.481 159.055 156.027 158.574 156.552L157.837 155.876C158.299 155.373 158.739 154.849 159.156 154.306L159.949 154.915ZM157.063 158.063C156.538 158.545 155.992 159.003 155.426 159.438L154.817 158.645C155.359 158.228 155.883 157.788 156.387 157.326L157.063 158.063ZM153.676 160.665C153.077 161.048 152.46 161.405 151.826 161.736L151.364 160.849C151.971 160.532 152.563 160.19 153.138 159.823L153.676 160.665ZM149.889 162.641C149.233 162.913 148.563 163.157 147.88 163.372L147.58 162.418C148.235 162.212 148.877 161.978 149.506 161.717L149.889 162.641ZM145.815 163.924C145.124 164.077 144.422 164.2 143.71 164.293L143.581 163.301C144.263 163.212 144.937 163.094 145.6 162.948L145.815 163.924ZM141.58 164.477C141.226 164.492 140.869 164.5 140.511 164.5H139.511V163.5H140.511C140.855 163.5 141.197 163.493 141.537 163.478L141.58 164.477ZM125.511 164.5H124.511V163.5H125.511V164.5ZM129.511 164.5H127.511V163.5H129.511V164.5ZM133.511 164.5H131.511V163.5H133.511V164.5ZM137.511 164.5H135.511V163.5H137.511V164.5Z",fill:a}),(0,P.jsx)(le.Path,{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M200.011 83.1133L205.011 86L200.011 88.8868V83.1133ZM166.011 86.5H165.011V85.5H166.011V86.5ZM170.011 86.5H168.011V85.5H170.011V86.5ZM174.011 86.5H172.011V85.5H174.011V86.5ZM178.011 86.5H176.011V85.5H178.011V86.5ZM182.011 86.5H180.011V85.5H182.011V86.5ZM186.011 86.5H184.011V85.5H186.011V86.5ZM190.011 86.5H188.011V85.5H190.011V86.5ZM194.011 86.5H192.011V85.5H194.011V86.5ZM198.011 86.5H196.011V85.5H198.011V86.5Z",fill:a}),(0,P.jsx)(le.Rect,{x:"207.511",y:"64.5",width:"144.698",height:"43",rx:"21.5",fill:o}),(0,P.jsx)(le.Circle,{cx:"229.011",cy:"86",r:"14",fill:"url(#pattern3)"}),(0,P.jsx)(le.Path,{d:"M253.011 91.5547L257.081 80.2812H258.972L263.042 91.5547H261.198L260.183 88.5078H255.87L254.847 91.5547H253.011ZM257.956 82.2578L256.339 87.1016H259.714L258.089 82.2578H257.956Z",fill:n}),(0,P.jsx)(le.Path,{d:"M267.589 91.7188C265.113 91.7188 263.597 90.0312 263.597 87.2891V87.2734C263.597 84.5859 265.105 82.9062 267.581 82.9062C269.714 82.9062 270.988 84.1094 271.222 85.7578V85.7969L269.597 85.8047L269.589 85.7812C269.402 84.9453 268.714 84.3203 267.589 84.3203C266.175 84.3203 265.324 85.4453 265.324 87.2734V87.2891C265.324 89.1641 266.191 90.3047 267.589 90.3047C268.652 90.3047 269.308 89.8203 269.581 88.9062L269.597 88.8672H271.222L271.206 88.9375C270.902 90.5859 269.691 91.7188 267.589 91.7188Z",fill:n}),(0,P.jsx)(le.Path,{d:"M276.394 91.7188C273.918 91.7188 272.402 90.0312 272.402 87.2891V87.2734C272.402 84.5859 273.91 82.9062 276.386 82.9062C278.519 82.9062 279.793 84.1094 280.027 85.7578V85.7969L278.402 85.8047L278.394 85.7812C278.207 84.9453 277.519 84.3203 276.394 84.3203C274.98 84.3203 274.129 85.4453 274.129 87.2734V87.2891C274.129 89.1641 274.996 90.3047 276.394 90.3047C277.457 90.3047 278.113 89.8203 278.386 88.9062L278.402 88.8672H280.027L280.011 88.9375C279.707 90.5859 278.496 91.7188 276.394 91.7188Z",fill:n}),(0,P.jsx)(le.Path,{d:"M285.223 91.7188C282.73 91.7188 281.207 90.0547 281.207 87.3203V87.3047C281.207 84.5781 282.738 82.9062 285.223 82.9062C287.699 82.9062 289.23 84.5703 289.23 87.3047V87.3203C289.23 90.0547 287.707 91.7188 285.223 91.7188ZM285.223 90.3047C286.676 90.3047 287.504 89.1953 287.504 87.3203V87.3047C287.504 85.4219 286.676 84.3203 285.223 84.3203C283.762 84.3203 282.941 85.4219 282.941 87.3047V87.3203C282.941 89.2031 283.762 90.3047 285.223 90.3047Z",fill:n}),(0,P.jsx)(le.Path,{d:"M293.762 91.7188C291.848 91.7188 290.856 90.5703 290.856 88.5625V83.0703H292.551V88.1641C292.551 89.5703 293.067 90.2656 294.309 90.2656C295.668 90.2656 296.395 89.4141 296.395 88.0469V83.0703H298.082V91.5547H296.395V90.2734H296.262C295.856 91.1875 294.996 91.7188 293.762 91.7188Z",fill:n}),(0,P.jsx)(le.Path,{d:"M300.208 91.5547V83.0703H301.903V84.3594H302.028C302.442 83.4531 303.254 82.9062 304.489 82.9062C306.387 82.9062 307.434 84.0391 307.434 86.0625V91.5547H305.747V86.4609C305.747 85.0547 305.161 84.3594 303.919 84.3594C302.676 84.3594 301.903 85.2109 301.903 86.5781V91.5547H300.208Z",fill:n}),(0,P.jsx)(le.Path,{d:"M312.684 91.6094C310.817 91.6094 310.052 90.9531 310.052 89.3203V84.4062H308.724V83.0703H310.052V80.9297H311.778V83.0703H313.599V84.4062H311.778V88.9141C311.778 89.8281 312.122 90.2031 312.958 90.2031C313.216 90.2031 313.364 90.1953 313.599 90.1719V91.5234C313.325 91.5703 313.013 91.6094 312.684 91.6094Z",fill:n}),(0,P.jsx)(le.Path,{d:"M320.865 91.5547H319.529L320.154 88.4844H318.341L318.599 87.1641H320.427L320.951 84.5469H319.052L319.318 83.2344H321.224L321.818 80.2812H323.154L322.552 83.2344H324.912L325.513 80.2812H326.857L326.255 83.2344H328.162L327.912 84.5469H325.982L325.451 87.1641H327.435L327.185 88.4844H325.185L324.56 91.5547H323.224L323.849 88.4844H321.49L320.865 91.5547ZM321.709 87.2031H324.146L324.693 84.5156H322.255L321.709 87.2031Z",fill:n}),(0,P.jsx)(le.Path,{d:"M329.514 91.5547V80.2812H331.092L336.889 88.4844H337.006V80.2812H338.709V91.5547H337.131L331.342 83.3672H331.217V91.5547H329.514Z",fill:n}),(0,P.jsx)(le.Rect,{x:"207.511",y:"64.5",width:"144.698",height:"43",rx:"21.5",stroke:r}),(0,P.jsxs)(le.Defs,{children:[(0,P.jsx)(le.Pattern,{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,P.jsx)(le.Use,{xlinkHref:"#image0_27494_190806",transform:"scale(0.01)"})}),(0,P.jsx)(le.Pattern,{id:"pattern1",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,P.jsx)(le.Use,{xlinkHref:"#image1_27494_190806",transform:"scale(0.0078125)"})}),(0,P.jsx)(le.Pattern,{id:"pattern2",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,P.jsx)(le.Use,{xlinkHref:"#image2_27494_190806",transform:"scale(0.0078125)"})}),(0,P.jsx)(le.Pattern,{id:"pattern3",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,P.jsx)(le.Use,{xlinkHref:"#image3_27494_190806",transform:"scale(0.0104167)"})}),(0,P.jsx)(le.Image,{id:"image0_27494_190806",width:"100",height:"100",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAABcVBMVEUAAADy9fjy9Pfy9Pjz9ffx8/j////x8/by9ffy9ffy9Pjx8vv19f/y9fjx8vXw9vbz9fjy9Pfv7/bz9ffy9Pfy9Pby9Pny9Pby8/jy8vbz///y9ffy9Pjy9Pfy8/fy8/fx8fbx9ffz9fjy9Pfy9Pfx8/fy9Pfy9Pfx8vfx8vfx8vbv9/f////z9ffy9Pfx9Pjx9Pfx8vXy9Pjx8/jy9Pfz9frx8fHy9fj09vjy9PcvMDCCg4QTExM0NTVyc3QyMzPw8vXq7O/s7vHg4uWJiovu8PN6e3xHSEg+QEDn6ezExcinqao5Ojrv8fTT1NfLzc+0tbdaXFzb3eC4urydnqCPkJGFhod1d3grLCzk5unY2dzR09WusLKqrK2goqOYmpuBgoNSU1NBQ0MhISEXFxfO0NKWl5hsbW5gYmI7PD3d3+HV1tmSk5WLjI5+f4BNTk4mJyfIyczAwsNmaGhWV1gcHBzi5Oe8vsCkpaaZm51pamvF4323AAAAOXRSTlMA/O3x5UIEJs2cmBECtSMa0E8I4386LZ+bKAve16V2YjiJWunXuK6reV8tIAPnt1r1tot3aUk4t4qPku6CAAAF2UlEQVRo3s2aV0MaQRCAr9ATsSFYYo8ao9H0ZO9EekeaCFEBxQbE3mKSXx/uDrij7SzgQ74XfVA/d2dnd3YHipBV4+Abw4JugqURotkJXZ9halBLPSND2uUlBrWAmZw2P4vhhXp2gKFRG2hmYFY91JvhpdmkYxEAO2Ba6UExplfRiATGMqLpTvFWzyJiVPpuNEY9gzqCMWg7XVDTw6hjVJ/HO3GMrdGoC+hF8sG8mHuHukQ1pyF0jNKoa2gL0ZT196Ge6OuHHTOvUY+8moEcagb1zLwacBCs3KwLAbz7gnUQLKvztDcAbmeYsXydhx1bB5u2rB1M/69t19UrBHPLb3LxBBz9NmtsnGTt/nSXJdyFE17JL1o5NBYEY//NCxL/LQIZbWWZI8nzfV6UcJsOOPfXmx1aFYIJHFQktiQCUY01BWQRwXgyfEXCHe0hkG+NE/aZZLLO3TUJ57XDE/api8ly5nhZEr5DIMPGupVlQAQEeYWEK/5CIPqXCskIg2B2z+ok3CUCYd4qBjJKkiIxvl7i3+9oKCMkETlNNUi4whaCYOVlrCdZvmd8o8Qa62AoKwx51JUSzueCM7JakZtIon7ZQsJ54VwxVQq510QbYyuJNYggdFLaq1lYEuFbSrjiFuEhOQs7HBdtJFwWQXwUk2QAlmzz7SRHPxHAgHBHMjPwDp9qK+HSTijrhfp4mgY3xhDfXmJ7gtbXclkySZAiGAl3vQv8+lJZwoApsoOVcGd2YL5WKS1YaG3XOw6LP+olRxGEx0gNQpKEW6nw3vusG4/1mr9AVTFIvYFSJKcYhDfut1ptGxsbx3WaEMLyhjIA+8mdrNjMlxWCRODxRvbk8RWlgfoAVIzVqF/9vS4JCkEicSIPJ4VNljVKhz9FshVFwScZZIlSU8pg90hqAl8xuoV5uro/qhokiczxjWiJ45JlgmKx+0lSiPaDrJAl8nCE4NguMMnCUjSwMYrRxkmkWTs6x2wsFP6ekI6HrVZAIo7Gn0btwUpCQrRBiUQJk/fY6fLE4qSSfBQ3Xfiz15Xyk0jCOy6EC/wEVNN5w5Dkho/YsXU3Nhk90sZSxEoeC1Gn8GMeTDIuYCR7+07xS+66vaQU2hLnNeRof0fFbpDObE6aiETK11rC/QmIilz+FrdBTmEz/o87ey5otqJX/mbJsXdPPA0yD9wBJipTwKEVSfE7dwHxL2XzDZKT/Lbk94a5YgB7aBnxx4lw9h4ExdDsJn0KyaNPjII94fZz3MMp/vhdZfDl0AFfJimlQcIbrkqOK5mR9IF3CIaiqCWEZU88tVIxhziwYFyUnBSkfz1a5ASusBXxZFmyjPBEeZHLoF26yl/bNnzS9+dpm3SYYK+o9LRwu2YI74oXp3ZpArfFvHO5w5WSaA+8nMIFt6N2kcu5FKWrr1qnZoCCmxL4Dl5OarcsdyxQWXT34VrF7UFYZgkvQbd8jYugA6FowSqXwi6iS9CQDpLYlWX9WcRd4mqEo/D1RMREd1RzpzkF4JOUiZIwq+DHtFTrqv4eujMyK9V2zCQCibWU+CMIwCI/RLFEz1DNkgz4VjAid5b0CMS10yw5hF87FZ0OMwNbgk2SOPjayYwom2QWWGLPNEhKUQRh0NS1yYZhiyNZJwkn4debhu7TNE3yuq2UHIKv3PRUYztuAcE8KSRx+M12sb+pIaciCEuoJvFvE0+WknWaICy1F+4zDzhZcy2bcghm3y1JCvB7rUVDtbL0wRLPkyjxJeDWxnj3TZrA77LEGiNu0jQzw8AW1+Um5wVTfX6mt+bcafoBnKz32Cbgl/ewJQS+bLODQKNxHvUMo/4f2rLP02CGGbf00iqXmnIwmjlVtw7VuuyA0C7SXQ1jbYzqgP6pLgYz/EkeBuFgDJ1+pERvpDpGM6LvYDSs/q3QjulGM0o2Glo1OYZRQKyYXrPgIHQmM6CAGAI+eqX7qB6nngGNeXqSaRnrpWWthnpGhI/DfdANVz8Ot2CYGjSuEv7uP0uD/EyE1e6xAAAAAElFTkSuQmCC"}),(0,P.jsx)(le.Image,{id:"image1_27494_190806",width:"128",height:"128",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAC91BMVEUAAAD4lBr3lBv3kxr/qiv/v0D3lBv4kxr4kxv/mxv3lBv/lSv4lhz4kxr4lBv3lxv3lRv4kxv4lBr6lhv4lRz3lBv3lyD5lBv4kxv6kx34kxr4lBr3kxv6lBz/nSf4lBr//4D3kxr4lhv4lBr7lB34lBr7lh33lBr4kxr3kxv/nyD4kxv/lyP/lRr3lBv4lBv6lRv3lBv4lBv4lBv4kxr/lCH4lBr4lBr3lBv6lBv/niT3kxr////+/v3+/fz5uWr3lBz3kxv4p0X++vX837z71KT97975sVr3lB3+/v74qUj3mCX83bj4pUD+8+f5sVv3myz7zJP5s175tGD++/b7zZX6wn/97dn97936xIP4ojr3mCT3mSf3liL++vb4pD/5rlX82a/6wn797tv6xof84sH4qUn827L5r1b4pkT7z5r+8uT83LX969b958z++/f+9+/6wn36xIL+9u34ojv6wHr97Nj3njL6xob5s1/3lR73lR/+/fv++fL6x4n83bf95cn4p0b6vHL4pkP7zpf4pkL3min6yIv+/Pn5uWz6w4D95sr6v3n97Nf5tWL4qkz848T84sL+9uz4qkv3nC36xYX95836vnX848P6vXP++fT83rn96dL81qn4oDb96M/7zpj+9ev70qH7z5v3lSD+8+b5uGn6wXv97tz71KX96tL3lyL827P96M771ab5tmX84L/4qUr70qD3njH7z5n4q074q03++PH+8eP6xYT84L798N/++PD6u3D71af96tP70Z784cH5slz969T5t2b706P6w4H3mCb96dH5r1f5rlP5tGH4rFD84L34qEf4oTn6x4r++fP3mir3myv5sl33nS/5um73mSj70Jz3nC77y5L4pUH84cD5sFf7yo7+9Oj3nTD5um3816r95Mf7zJT95Mb+9+783rr82Kz969X4rE/98eH4oDf6x4j4rVH82K398eL7zZb5sVn+9On3liH3njP3lyP82K76vXT837v5uWv+/Pr4qEaA3nGYAAAAO3RSTlMA/uzCBgTGudocqQxJ+9JChPnMOItDIHy7NK/f7TcNiALES/M+1D3piagQlRYdhtlexayrdB91uIVfFSGgzMAAAAaaSURBVHhexdtldxvJEgbgEhriGLKGxI7XsWNI7MQUvm+Zw8zMzMxMy8zMzMzMcJmZmZnvhz2arH16xoq6eiTdef6ARqffOdNdXUWuVBfXj0wf0ZBZ5M/J8RdlNoxIH1lfXE3/Fz0ycgNViKoqkJvRg5IpmJUd7omYeoazs4KUHOfU9IVI35pzKOHyC+pgoK4gnxKpT6EPhnyFfShRKlPgSkolJUJeAK4F8iheaUMQlyFpFI/Q0P6IU/+hIXKtvAIJUFFO7oRKfEgIX0mIXBhcioQpdZGEMj8SyF9GZvoN8CGhfAP6kYHgQCTcwCCJndsbSdD7XBIa1AtJ0eszJDIsFUmSOkz0/1ORNKmDBOvfC0nUS5uDYG8kVe+g5v0fiCQb2I9iGYCkG0AxlPlgZvKT110xHkZ8ZTG+P36YOTSbmTu+t386DPgH01mESmHoc3zGj2CiNETRlcDUl9jyICLWv7X6uYOQKKGoyn0wdSNb3kPEHGZeuub37dDylVMUoQrAPAKW+xFxPVs2Qq8i2iIMB9xG4BkAWHSYLbMgMJy6SesPPccSH2XLfESMY0vT+RDon0ZOjRCY8+Jtr92OLlexZQwifsaWNyDSSA55kLiDmdl6CDUCLdIIqPLILgCBSc38qU1jLrodv+Ez9kkjoAqQTSUkprHqvsvYMhYRf2HLhK9AqJJUKZCYw9GsQMQMtrwDqRRS9IHIYxzVXZvnrh2/lS33QEytHxRCHoHoOprY8lmIFVKXfB8kFu+cvItjk0cA8OVTpwKITVm5l2M4/PRaiBVQp1SYePdCjuWyG+6FTF1X/Q1mVnJsUy8WPkJnNa8GZqazzvyPIFFDlmBfmDnEeo8fgl7fIEVkwdDzrHj2qbmb7+Lujn8VelkUkQ1D+1kxDgA2rL6enfYuglY2RYRh6En1vZsEC5ZtPMJ2x6AVturvPWFm/M3chR9Dl2+/PoFtTkKnZw8iyoChK1gxB4rvL2XV2FboZBBRLgxdx4ppUH3cwarLoZNLRIF4ItA8CTY7WHWnaFtSFU8E7oDdEtsi/BQ6VUTVMHSNPQIOx1nxCrSqqRiGXmLF23B4mRVboFVMo2BI/YnmD+AwjxVboVVPtYmMAPY1sWIdtGopHWYmqj/xZzjMYNVOaKVTSjwRaIHdrP+y6guSvXHYOAKqeW8+8XV0emTGBFatgl6YMo0j4DT133e+33L/TQtGb2O7S6GXSUUw8hSLrRoPvSLyw8gCllp6CgJ+yoGRz7PQ1OcgkWP4AK1fZpkbr4XwAfzuI7CrmaObvWJaG2T8VOQ+Al9btPyCNR3c3dFWSBUZvoajuQs3LQaAg8tPr2KnX5+AUCY1GEVA3Xh+iE4T737BuQgXQaaBRsDAWlacVjciq53pvAEiIyjddQRmQnXtGLZpHgeJdKqNKwKqFvuXaNMSCIykercRuBVOLWyzHwL1RluyiZot7wpWzYNAsdGmdCcrDqCb/7HNF6FXTVTl7kTQ9E10t51V06BVJTqYLNxyz4HFAMZNcEbA6UFWfQNaAdHR7FvM3HzrutHNrHgWUbzAqpuglSs5nE6K+gWche52s+kSZOiP5+p5TxeB77DNdwXHc0GBom0sR/Ewulu2jVU3H4ROWFKiOcDRHL7kB8uXwGbiD9nmFmhlS4pUV/HZXHjJxh9PuReW8y//SRPb7YFWlqBMN4U1rn54zc+3zmtip23TBWU6QaGyrX3l5O3swt3QqpGWatvadxz7BZtpWigv1VIdBDbM/eURlvsVtOqMy/Wt14xmobGLTcr1+T4I3cIyszcYXVhQIWTaXmXLQ4//lmM5MhN6hYaXVuoHfyHwu5OP8tls2W16aSUtU1zMlvsQ8QeObtOCR4yv7ajSKAJ/RMQFbPnTA09f+Vf+VPPe255odXNxSQFZBNQP/ZXK1fXf/t6+fub650/9A1IBN5fXJ7oi4Ly6NpdHDkOgN1eNgNq9YG6IqwaGyWz5p9rAMh8a0gYGGqqPwHa2/EttYBkDN4a6amJp5zN2xx2BipC7Np7zHti8i3mqLQL7YM5XHkcj03l7dsQdgZI4W7nUCDwEc6WhRDSzLdvz6NXM/B8Y8w9OWDvflEvXPQNTvjKvGxo9b+n0uqnV67ZerxubvW7t9ri5fZDX7f1eDzh4PeLh8ZCLx2M+g70edPJ61Mu10PD4h92GhygeaY2IS2OaxwOPHo98ejz0muCx31QYSC3I93bw2ePRb8+H35OvunhUbXpKuHP8P5ySXjvK5fj/J86IE8PpwyWFAAAAAElFTkSuQmCC"}),(0,P.jsx)(le.Image,{id:"image2_27494_190806",width:"128",height:"128",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAC91BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMcN6Ra+BRq8VWp8eIdNyCetpPrsRfnst3hdVbosmYZOKKcd1TqsZDu79zidRAvr6aYuOBfNmUaOGPbN9plM9xi9OlVemcYOSObt9+f9hnls5MscNJtcJ7gdevTeyoU+lwjNJFucB1h9RujtJdoMqgW+ZHt8E7w7w4xbuWZuJskdFhnMxen8pYpchVqMe0R+6EeNt5hNZqktBYpMg+wL0xzLgzyrkUCh26QfGpUemJc92GdtxLs8LKMPi4Q/C2Re+ySe2rUOutT+uFd9ttj9FlmM1jmswu0Ld/fdks0rYDBAa+PfKiWuefXeadXuWTaeF9gNh6gtZim8w1yLoq1LUY5q4XBx7AO/SjWOhao8kh3bFkmc1OsMQwzrgf37Ac4q+8P/KxS+08wb00HkwaBB/DOPUn1rQuJEkoKUbOLPoj27MV6azSKfvFNfbHM/dml84S7asbV1U2x7o3xrrWJP3BOPRxY7kn2LQl2bMpSVokTVgkLkU5YHsRDRoQBBQKCxJpa7YN8KguRF0o1bRhdLJRR4VEVoA/W341PWEhUlcWESMFBwpMTIMxQF86GE1LrL5Pnblae69VgK1Hjqc/lqNWQ4dIUYFMialTW5NdPIpaQIkJOS8aGSx5TrRQhatDk6Z4G5IlWWInNk0qEjiOZ9trhcddlMNPpb9yTq1pSqBpKItvG4gqaXAkQlEIUjwNRzzLI/CTYNthg7suu6hpU6YfyKFhWaF5LJ5mR5sVxZUPzZReSJM8UXQwXm8pVGIgQ00mMkkHMCYMJya1GtOGVcZvd8JgaquLIqoluZ4P15obxJkmsJkgtpdcOYc4b4Mwdn4Hn21HLGgFcE3ZClsfAAAAKXRSTlMA/fkXwvCcSBIK6dCXBmDXeCTsxtzUy62MU0E2KfOkgVZRLlXhtWc+Hr/WlvgAAAllSURBVHjavNVXooIwEAXQTBotIl1QrK9597/B5z+KGJKcFUwfZiEp/y5Fv5NNqggglW7lri8u+3LDvEviMddym3JM8Ecc+vcW+4yizHXGMYtnOh+ZF2JvsgrvkcpMJJhrh6IlLMa35z1zKB6k4vgIV7urqzJsop8jLBzlkLjIPs8Itr7zmK10P1VYQZ1KtoYoFFaqzoLZSoaasBqvvxLL9A2HE9xYFSHqCI6QjCx2r4FDzXXzYftNBafSXnzUfg3ndMwWu0l4UI+LH08HH6g7LBz/Fp600aL8W4In1C6owdjBo+7G3ohrgk9ShN2/KZ3M3r8e3pm5m3hN4V0VzSxggwCalxEIiSA68eoBEYIg83wQLxyB8OFpA2oEUws2deYIhgo2UVYISN0nJ/ifGDN7iSoMw/hRXErLBQLLSGjnc0YdHcYFdQZcwQ01N9zGC/POHHVuyqULHUfBCxO9sBQyBbGyi1JCWyBoLElUEkxBEVKhNCjaoOii7z1+Z74zZ843M3fz/APnd573eZdzwhBTxs8LXenpdRkZ+fnZcXFxCQnV1b0FBYWFw21tNXq92dzY3NzePtU3em9goLOzu7u7p+cm1uDg4G2sB6B/SKow6XkS4M1+/oc5pUrFI+RjhGwJQo3e3AgIUxShR4rw134cBUha8AL7+Z/mYpVKpaqrK70OXMgmCL2AMDIMBAShvU+CMIgFBLsHyE7+thP5lKP3j4gowwgqQAACYgKPUGiLMGWHAAQ/1uVy6OtiC47NqatKASGWr4MEocAWoZ0gdAKCUIfddSSni+IUnD3DfP+VErW6gyKoKII0CnqaRkDoJi7sWIzyX+/iaRSCGFpcKY4uKcmjCEpwgVUIs+DCKHVhx8K8TejzQxktMLO4YjK0FkdH5+Wp1VVVJAvYhTrak2CDUAg9RRCi8PMLexacdjoE9zeHhhoMgFCSd+hCGSAIWQATxFloa7NriO11BxshyBrBQPn6Ly5rtdq0IZPBgE2QImAXSB1oFkgazVaE7Q2HV7qwEXxlDTDub14rqqzUpqU1QB0AAeIoRAHSCC5QBDBhxGYs/N5wvBFCCcAx+fwtZ+XmYgQtIDQICLgncRytCBkSF8RpbP5ucXYeki8BfySj+eV4nS4rK9feBdoQtj0pIAg9+cuCnMg/mL0G5r/F5MTHHxLwLkAaiwGB9CSNgnRJkYbYsvOfsRCO+8hdYv1fK2J4BJ0IwdQqNASdTJINITTE8JbF6OJHwhHZCsz0PyZ6eqiHgsasGid6QnRHrAPkgvxhHJ/zRG6TJ/wyuITcKAiBD3KjfHAGvZAb5XWUCw5EblRgMBfqh9wov8vwPeRGeZ7ngpCspvfuWnVf0COiZ7ye83qL9Qr0gtfCwsJLXmuTLhEEcYxfEreWUsLDNbWRkVfro6ISE5tSUzMzWyoqrMMRVkQaGY728xlWxNqMKwAnWdfYxOvklHCNRlOLCcoxQlNT6o3MlpaKGGFF5BYVwZ4cgj0J89ke4Y8rBCEc6x6e/KhITsEMtdgFipB5iKATbymTyVAsdzPNvjO60Iccswsn9xTJ2AVciEjiQmIquAAEObarGhYlWdUiBEzg3IMTHLsLJ1aXFIpkIKglCBAFKEQMZqAI4ILszdQ16zyJfpw3Ymr6zXUF1MEGgdYBskBvJooAJpAL3nkVvDkPxNb86hJB0ABCveCCFUEHCPRaEJ1tgIBNcErgwSFHmnh/JSlJ7EI5QaBZkHWho6O0lG8I5ey4E4L/xJq7a1NRGMCvrbbWklBFsY0tovi66CJEkKjQTKZTh06hODSh5NG4JWlTHIxjggYNJJkSB/UmkxUaKV2UKBUKGaJ1aaHUpVVQwUnBxXPud0+++zwXh3J//8D59Xud79yUIwC9MDV1U5WIWapwAxIBCspYYFFAhTuwu3a+8g0gBbwYeGWFW5AIE4XrWgXoSXxQXll91uSmAIqQV4leL8lDhvUknUyq4ajdHGkeqMJV9qCkUejsJXlFaHsZtn/6qAIkghhox8LtaVBgPQkK3Z6UHxGrnDo4IhwXbQ0++EDhMijQ4YhjAW4IpoDVeE+l0PlmvRAIuBBxsrBFDDTViFFYZA3BxgJWIw7HP5xRfFK0Z+bv73eU94Q3Mi8VXgNvZZaAVwovuux951xGw6KjDMNC4hxDzq9kF51dSj3Or+UDzj5MXM4/zQS3aEuzvSLzUM9jLU80PEck0YILRGDUtg2SG+FAIjE3F56YGB9/kJ6cnJ9f8PvZfIZbSrs/w3zG4bhr1QRn4QMFn/pGPJ7PB6gBKiwQBdP5DPekbj7v8j5QDPTZnP8lHgsG4/mAWiGtKPhAwbgzLUIUYGFZalosA30ugeA+xj8/FI0Rg2AeFMAAokAMUAHyQB8RGAW4qlsNq2XALVCODnLzH82FQCGOUaAKGARUgEfELA0C7kytNdGCwVHOh0qg/jmbSuVyoWg0yvKAUUAF3JmUUrjbVZhuNTgfKgHPAcvz11PZLFUI0SigQti8IbQ7Eyi0JOuLoF8Aek9Y/v21cqFWUBSioKCphbRSC36rtW2nwZnDvYLCUI/5+b8ilUq5XCjUtArxAFFQR8GgcI2tbS3O+T2nBcapQ6b1t16ORMwV8gYFIqCqBdYQT9d4rzKP0OWgaf6LxWKEAAY1agAKrCESkAeMgl5hZ5n/aQAZGTP5+zdLJaZQgSBkmUIMFVSloChQA1lhm3v+2BkBOXzeWH/VaqkECkoeapAHHAsGBRYEUNiW/uP/afr1nbiyWa0aFAqFrCERxECvQKOQyXxaFrmMCGpc+mnY/lFVDDAPWAqYhzwGQbmkwGDro8355wYExORCSNYf6blvwow5kiRx+g+uAc7P9/sP/nyPXPpXvZ0tNwiCYRj+FBkWJRHt2LhMjKYb93+DXU47tRL4jXkugWHg5Hu525C2+KVM3GbScY8jFrTbzXiu+xwygTVuExnb65gNEJUjpyf8zRSO3MlggaKfdDIsIN8UJrXEP2baWe+w/2Hz/afdQN/QnEHTY6WhdgSyGatJisDBL7E4aRdVVSh4MVPcyEUY+BJZvMynEY8YOgHqUqcxXt+A6o+NlQvES4YQ9syDLv/5Izx4fLn99PODRDjVZrcln6/CIA42PftHr1krEVE3HlOff7fsERsTRc6TNRcvLzoGEsOq9PtiQcfI+W0pfj8MUoGcsd31O/8/ap584frpJ/9/twr+PgHBoRT8lbPDdQAAAABJRU5ErkJggg=="}),(0,P.jsx)(le.Image,{id:"image3_27494_190806",width:"96",height:"96",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa7SURBVHgB7Z2/bxRHFMe/mMiNm3MBWAqS96giBIotJcKdD2jcQf4C7C402O6QUALEspSIwjYN6bD/gph/AK87o0TyERClPe5sKHwUllJm3u7Maffu9vfM7Pp2PtJwy3E34t535r2Z2bczF1BRpqZaDXoRZZIXR5RGoATpiMICr0e8tKm0224HFeQCKoIw+H1eZnlpwTe2Stqi7PLickEYKkCpAgijz/NyD77RTeLysoWSxShFAG74Fn95CvNGj2Kbly0uxDYMY0yAQGtfhHr3ogrGy3MuxCYMYUQAbnwy+jP0B86qwmBICK0CCFfzGtVt8UkwaBZCiwDc8A5/WYM/qhkGNuELwaCYi1AMN/4D+EFtCsMD/Zb7ExPO1+Nj1oZClPUAEWRpZLOE4WYdfm9QMrFTIoBwOTs4v74+K4yX2ypc0ggKwo1P3XMf9TE+4fCyI357IQoJIPw9Gf+8DC9V4vCyL2yQm9xBWIzt/4RFBuc95CCXAML467BI5vKKkFkA0eVsy++HRGBchPdZvpRpFBQIuJZopvnoKPVcIXUQFkPNv2BJYkfYKhWpeoCYZNVtqFkEBr8nJE7W0vYAmuE6sKTFgW+zRBKDMG/98/zld1iyMpMmKMe6oBouMaiGXNB03JJFkguyrqcYFDvX4j4Q2QOE63kNiwpo4c4d9A9xPSBVELGkIrIhDxRAtH4HFlU43KYD75NE9QDb+tXzVMynQnzT+4bp1n/z5nXcuTOLGzeu48qVS957BwdHODxkePfuH+zt/Y0i6K4/AzItJ7SI2ReEuQCHMCDA5cuXsLj40DNQHJ8/f8GTJ7/h5OQLqlR/ThgPxs3gG6GJGDc+ZTH8DM1cu+bgxYsVXL36beJnx8bGcPfuLPb3/8XpabrbsLrrL0CDT852+eSMyTd6Y0ChuztpoJa5uvqL98PTQp+l70gXUmb9CgjF124PELNe7ev86+t/YHw8+x3M0dFRNJsO3r7dLbV+BTi8F2zwXvAf/SXYA1rQzMzMj4VaGfnzOJ+uu36FzMuLoADa3c+tWz+gKDSiKat+hdyTF54Awv20oBkKjkWJa6G661dIS84JZA9owQDN5iSKQkG2rPoV4+XNSgGM9DtLCM/mUgAjibQqJjuHh0el1a+YFv0xEngaUTsfP35CUQ4OGMqqXzG0QNegHmAsjVzFGJvWb8qqXwNTRgX48OGTV/JC6zZxi2e669eAJ4ADg2xsvMLZ2RmyQt+hRbOy61eMQwIUH7tlwF99XMlkJN84K6mCrO76FeMJYDy1nALd4uLjVD+YXMrS0uNMwVF3/QqZvGBq/T8KWr+hJYRm0+EzWb8zkuFoRENBtYhPN1F/QRgJcIp6PmBRBTqluCBLl0bhZ8QsxbAClIwVoGRIAO13oi2RdCgviAQoLRDXKC9oEB0ahtKTL8b3dahpXlAv7kV+h36OX3wHg9Q4L6iX9xQDjN2BIGxeUAhGAjAYZHX110zGkdB3Hj16mPg53fUrxhNA6f43cdi8oD7aRgWweUF9tEfEs6wMBrB5QSG83XzlTFh7QiRh84JCeJ5HCuDCYhqv0UsBtmEAmxcUwqU/PAFEHHChGZsX1KW7X3VwNfQNNGPzgrpsyYugAJvQjM0L6uLKi64AptyQzQvCm+DeEb03ZJ5DMzYvKOxpSn1MldZtkpYOyKW8fPkq13K0zvpz0veY6iAB6JH6NRiiZnlBC707sQ8SgO6OUS+w6Spq6Wv9RN9NeRGMtceCGjLQpnH7BZWasjhkDGz9RFxaygIsqoj0KJECiB2ejKwRDTmbcUegJCVmLcPmDRWBISGexm5beXzMOhMTzgmG5ywY0yxH7RUnSdw3lM5M4SKM88sZWLKwwY2fuN9q2tzQZzCcPXHOYfBtlkgqAcTc4DZsPEgDg79NZSpbpdq8W2K3r0+Fnu3rCVGxnR9Es5DF+ETmEzREUP7KL+dgCUIjnsw7juU6Q4bOSrEihCDjryMHuU9REiJQCkHd5wgLeVq+JFMQHoQIzHS0iYN64Y0Ms/r8XgoLQNijDPOj5CE98R+Z5mUDww/9xmlVR9sq6QFBxN7Tw3jwA7mcZdWHOys/T1gMUynJi9aPjD97pglalv8paWEtD8p7QJAh6A0M/ijHhSa0CiA5h0J498Xzju2zYEQAyTkQgsEPspuqTsxOwqgAErFNPm2VXJVJnAu/xbswTCkCSAJbJj+Aod17A7jwM8KNtfZBlCpAkIAYVL6H+hEUg290ymHfLtPoQSojQC+BDWWpOPA3F2yI6wb6M/c6gcLgP4BOr7RU0K6KwXv5H1wMX/KXzUE7AAAAAElFTkSuQmCC"})]})]})}var de=function(){var e=(0,I.default)(),t=(0,oe.useSafeAreaInsets)().bottom,n=(0,O.useActiveWalletAccount)().account;return(0,P.jsxs)(d.default,{pb:`${t}px`,children:[(0,P.jsx)(f.default.DisplayLarge,{textAlign:"center",children:e.formatMessage({id:"modal__all_networks_account"})}),(0,P.jsx)(f.default.Body1,{textAlign:"center",mt:"2",mb:"6",color:"text-subdued",children:e.formatMessage({id:"modal__all_networks_account_desc"})}),(0,P.jsx)(Y.default,{justifyContent:"center",children:(0,P.jsx)(ce,{})}),(0,P.jsxs)(Y.default,{w:"full",justifyContent:"space-between",mt:"6",children:[(0,P.jsx)(f.default.Body1,{children:e.formatMessage({id:"form__current"})}),(0,P.jsx)(f.default.Body1Strong,{children:null==n?void 0:n.name})]})]})},ue=function(){return(0,ae.showOverlay)((function(e){return(0,P.jsx)(ie.BottomSheetSettings,{closeOverlay:e,titleI18nKey:"title__help",children:(0,P.jsx)(de,{onClose:e})})}))},fe=n(381786),pe=n(389992);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(){return(0,P.jsx)(R.default,{h:"6"})},ye=function(e){var t=e.accounts,n=e.name,r=e.logoURI,o=e.isChecked,a=e.onChange,i=e.networkId,s=(0,I.default)(),l=(0,O.useNavigation)(),c=(0,O.useActiveWalletAccount)().wallet,d=(0,_.useMemo)((function(){var e,n;return 1===(null==t?void 0:t.length)?(0,ee.shortenAddress)(null!=(e=null==(n=t[0])?void 0:n.address)?e:""):s.formatMessage({id:"form__str_addresses"},{0:t.length})}),[t,s]),f=(0,_.useCallback)((function(e){return a({networkId:i,value:e,accounts:t})}),[t,a,i]),p=(0,_.useCallback)((function(e){var t=e.account,n=e.network;if(t){var r=t.address,o=t.displayAddress,a=t.template;if("hw"===(null==c?void 0:c.type))l.navigate(ne.RootRoutes.Modal,{screen:ne.ModalRoutes.Receive,params:{screen:ne.ReceiveTokenModalRoutes.ReceiveToken,params:{address:r,displayAddress:o,wallet:c,network:n,account:t,template:a}}});else{var i;if(!o&&!r)return;(0,te.copyToClipboard)(null!=(i=null!=o?o:r)?i:""),v.default.show({title:s.formatMessage({id:"msg__address_copied"})})}}}),[s,c,l]),m=(0,_.useCallback)((function(){(0,fe.allNetworksSelectAccount)({networkId:i,accounts:t}).then((function(e){e&&p(e)}))}),[p,i,t]);return(0,P.jsxs)(Y.default,{children:[(0,P.jsx)(B.default,{flex:"1",token:{logoURI:r,name:n,symbol:d},showInfo:!0}),(0,P.jsx)(L.default,{mr:"3",children:(0,P.jsx)(u.default,{name:"Square2StackOutline",iconSize:20,type:"plain",onPress:m})}),(0,P.jsx)(L.default,{children:(0,P.jsx)(Q.default,{isChecked:o,onChange:f})})]})},ve=function(){var e,t=(0,I.default)();return null!=(e=(0,O.useAppSelector)((function(e){return e.settings.hideAllNetworksSelectNetworkTips})))&&e?null:(0,P.jsx)(R.default,{mt:"6",children:(0,P.jsx)(X.default,{title:t.formatMessage({id:"msg__tips_optimize_load_times_by_choosing_fewer_chains"}),dismiss:!0,alertType:"info",customIconName:"InformationCircleMini",onDismiss:function(){j.default.dispatch((0,re.setHideAllNetworksSelectNetworkTips)(!0))}})})},be=function(e){var t=e.title,n=e.search,r=e.length,o=(0,I.default)();return r?(0,P.jsx)(R.default,{pb:"3",pt:6,bg:"background-default",children:n?null:(0,P.jsx)(f.default.Subheading,{children:o.formatMessage({id:t},{0:null!=r?r:0})})}):null},xe=n(505240),we=n(854787),_e=n(107867),ke=n(671029),Ie=n(744128),je=n(386190),Oe=Object.freeze({});var Te=n(321668);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Me=n(307061),Ae=n(254073),Ee=n.n(Ae),Re=n(97856),De=Ee()((function(e){j.default.serviceNetwork.updateNetworks(e)}),1e3,{leading:!1,trailing:!0}),Ne=function(e){var t=e.item,n=e.onLabelPress,r=e.isDisabled,o=e.onToggle,a=(0,_.useState)(t.enabled),i=(0,w.default)(a,2),s=i[0],l=i[1],c=(0,_.useCallback)((function(e){l((function(e){return!e})),o(e)}),[o]);return(0,P.jsxs)(_e.default,{flex:1,onPress:n,children:[(0,P.jsx)(_e.default.Column,{children:(0,P.jsx)(B.default,{size:8,token:{logoURI:t.logoURI,name:t.name,symbol:t.name}})}),(0,P.jsx)(_e.default.Column,{text:{label:t.name},flex:1}),(0,P.jsx)(_e.default.Column,{text:{label:(0,P.jsx)(we.default,{size:"sm",title:t.impl.toUpperCase()})}}),(0,P.jsx)(_e.default.Column,{text:{label:(0,P.jsx)(Me.default,{isDisabled:r,isChecked:s,labelType:"false",onToggle:function(){return c(t)}})},alignItems:"flex-end"})]})},Le=n(968079),Be=n(553197),Fe=function(e){var t=e.visible,n=e.onClose,r=e.onConfirm,o=(0,I.default)();return(0,P.jsx)(s.default,{visible:t,contentProps:{iconType:"info",title:o.formatMessage({id:"dialog__discard_changes_title",defaultMessage:"Discard Changes"}),content:o.formatMessage({id:"dialog__discard_changes_desc",defaultMessage:"Are you sure to discard the unsaved changes"})},footerButtonProps:{onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){null==r||r()}),500)},primaryActionTranslationId:"action__discard",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary"},secondaryActionProps:{}},onClose:n})},Ue=function(e){var t=e.index,n=e.network,r=e.isActive,o=e.onDrag,a=e.onFixTop;return(0,P.jsx)(Be.View,{from:{scale:1},animate:{scale:r?.8:1},children:(0,P.jsxs)(R.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",py:2,children:[(0,P.jsx)(B.default,{size:8,token:{logoURI:n.logoURI,symbol:n.name},showInfo:!0,showDescription:!1}),(0,P.jsx)(g.default,{typography:"Body1Strong",flex:1,children:n.name}),(0,P.jsxs)(Y.default,{alignItems:"center",space:2,children:[t>0?(0,P.jsx)(u.default,{type:"plain",size:"sm",circle:!0,name:"ArrowUpTopMini",onPress:a}):null,(0,P.jsx)(u.default,{type:"plain",size:"sm",circle:!0,name:"Bars3Mini",onPressIn:function(){return o()}})]})]})})},He=function(){var e=(0,I.default)(),t=(0,k.useNavigation)(),n=j.default.serviceNetwork,r=(0,_.useRef)({isDiscard:!1}),a=(0,_.useRef)(),i=(0,o.default)(),s=(0,_.useState)(!1),c=(0,w.default)(s,2),d=c[0],u=c[1],f=(0,O.useManageNetworks)(void 0).enabledNetworks,p=(0,_.useState)(null!=f?f:[]),m=(0,w.default)(p,2),h=m[0],g=m[1],y=(0,_.useState)((function(){return JSON.stringify(h.map((function(e){return[e.id,e.enabled]})))})),x=(0,w.default)(y,1)[0];(0,_.useEffect)((function(){setTimeout((function(){var e;null==(e=a.current)||e.forceUpdate()}),500)}),[a]);var T=(0,_.useState)((function(){var e={};return f.forEach((function(t){e[t.id]=t.enabled})),e})),S=(0,w.default)(T,1)[0],C=(0,_.useCallback)((function(e){g([e].concat((0,Le.default)(h.filter((function(t){return t.id!==e.id})))))}),[h]),M=(0,_.useCallback)((function(e){var t=e.item,n=e.drag,r=e.isActive,o=(0,e.getIndex)();return(0,P.jsx)(Ue,{index:o,total:h.length,network:t,isActive:r,onDrag:n,onFixTop:function(){return C(t)}},t.id)}),[h.length,C]),A=(0,_.useCallback)((0,b.default)((function*(){var o=JSON.stringify(h.map((function(e){return[e.id,S[e.id]]})));x!==o&&(yield n.updateNetworks(h.map((function(e){return[e.id,S[e.id]]}))),v.default.show({title:e.formatMessage({id:"msg__change_saved"})})),null!=t&&null!=t.canGoBack&&t.canGoBack()&&(r.current.isDiscard=!0,t.goBack())})),[S,h,x,n,e,t]),E=(0,_.useCallback)((function(e){var t=JSON.stringify(h.map((function(e){return[e.id,S[e.id]]})));x===t||r.current.isDiscard||(e.preventDefault(),u(!0))}),[S,h,x,r]),R=(0,_.useCallback)((function(){r.current.isDiscard=!0,u(!1),t.goBack()}),[t]);return(0,_.useEffect)((function(){return t.addListener("beforeRemove",E),function(){t.removeListener("beforeRemove",E)}}),[E,t]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.default,{header:e.formatMessage({id:"modal__sort"}),height:"560px",hidePrimaryAction:!0,secondaryActionProps:{type:"primary",onPromise:A,w:i?"full":void 0},secondaryActionTranslationId:"action__save",sortableListProps:{showsVerticalScrollIndicator:!1,ref:a,data:h,keyExtractor:function(e){return e.id},renderItem:M,onDragEnd:function(e){var t=e.data;return g(t)},contentContainerStyle:{paddingHorizontal:i?16:24,paddingVertical:i?8:16}}}),(0,P.jsx)(Fe,{visible:d,onConfirm:R,onClose:function(){return u(!1)}})]})};var We=n(942013),Ve=function(e){var t=e.visible,n=e.onClose,r=e.onConfirm,o=(0,I.default)();return(0,P.jsx)(s.default,{visible:t,contentProps:{iconType:"info",title:o.formatMessage({id:"dialog__discard_changes_title",defaultMessage:"Discard Changes"}),content:o.formatMessage({id:"dialog__discard_changes_desc",defaultMessage:"Are you sure to discard the unsaved changes"})},footerButtonProps:{onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){null==r||r()}),500)},primaryActionTranslationId:"action__discard",secondaryActionTranslationId:"action__cancel",primaryActionProps:{type:"primary"},secondaryActionProps:{}},onClose:n})};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e){return $e.apply(this,arguments)}function $e(){return $e=(0,b.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We.OnekeyNetwork.eth;return(yield j.default.serviceNetwork.getRPCEndpointStatus(e,t)).responseTime})),$e.apply(this,arguments)}var Ze=n(510374),qe=n(292147),Xe=n(418687),Ye=n(568674),Qe=n(822505),Je=function(e){var t=e.value,n=e.onChange,r=(0,o.default)();return(0,P.jsx)(p.default.Input,{value:t,onChange:function(e){return null==n?void 0:n(null==e||null==e.trim?void 0:e.trim())},size:r?"xl":"default",autoFocus:!0,focusable:!0,placeholder:"https://"})};const et=function(e){var t=e.onClose,n=e.onConfirm,r=e.networkId,o=(0,I.default)(),a=(0,fe.useRPCUrls)(r),i=a.custom,l=a.preset,c=(0,_.useState)(!1),d=(0,w.default)(c,2),u=d[0],m=d[1],h=(0,x.default)({defaultValues:{url:""}}),g=h.control,y=h.handleSubmit,v=h.setError,k=y(function(){var e=(0,b.default)((function*(e){m(!0);var a=e.url,i=!1;try{var s=yield Promise.all([(0,fe.measureRpc)(r,a,!1),j.default.serviceNetwork.fetchRpcChainId({url:a,networkId:r})]),l=(0,w.default)(s,2),c=l[0],d=l[1];c.latestBlock&&(null===d||r.endsWith(d))||(i=!0)}catch(u){i=!0}if(i)return v("url",{message:o.formatMessage({id:"form__rpc_fetched_failed"})},{shouldFocus:!0}),void m(!1);j.default.dispatch((0,re.updateCustomNetworkRpc)({networkId:r,type:"add",rpc:a})),null==t||t(),null==n||n()}));return function(t){return e.apply(this,arguments)}}());return(0,P.jsxs)(s.default,{visible:!0,children:[(0,P.jsx)(L.default,{w:"full",mb:"6",children:(0,P.jsx)(f.default.DisplayMedium,{children:o.formatMessage({id:"action__add_node"})})}),(0,P.jsxs)(p.default,{children:[(0,P.jsx)(p.default.Item,{name:"url",defaultValue:"",control:g,rules:{required:{value:!0,message:o.formatMessage({id:"form__field_is_required"})},pattern:{value:T,message:o.formatMessage({id:"form__rpc_url_wrong_format"})},validate:function(e){if(i.includes(e)||l.includes(e))return o.formatMessage({id:"content__existing"})}},children:(0,P.jsx)(Je,{})}),(0,P.jsx)(Qe.default.FooterButton,{marginTop:0,secondaryActionTranslationId:"action__cancel",onSecondaryActionPress:function(){return null==t?void 0:t()},onPrimaryActionPress:function(){return k()},primaryActionTranslationId:"action__confirm",primaryActionProps:{isLoading:u}})]})]})};var tt=n(759900),nt=n(550580),rt=n(201663),ot=function(e){var t=e.url,n=e.measure,r=e.checked,o=e.isEdit,a=e.canEdit,i=e.onRemove,s=(0,I.default)(),l=n||{},c=l.responseTime,p=l.iconColor,h=l.latestBlock,g=(0,_.useMemo)((function(){return n?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(rt.default,{borderWidth:0,backgroundColor:p}),(0,P.jsx)(f.default.Caption,{color:p,ml:"2",children:"number"===typeof c?`${c} ms`:s.formatMessage({id:"content__not_available"})})]}):(0,P.jsx)(tt.default,{shape:"Caption"})}),[n,p,s,c]),v=(0,_.useMemo)((function(){return n?"number"===typeof h&&h?(0,P.jsxs)(f.default.Caption,{color:"text-subdued",children:[s.formatMessage({id:"content__height"}),": ",h]}):null:(0,P.jsx)(tt.default,{shape:"Caption"})}),[n,s,h]),b=(0,_.useMemo)((function(){return r?(0,P.jsx)(R.default,{p:"8px",children:(0,P.jsx)(y.default,{name:"CheckMini",size:20,color:"interactive-default"})}):o&&a?(0,P.jsx)(nt.AnimatePresence,{children:(0,P.jsx)(Be.View,{from:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{type:"timing",duration:150},children:(0,P.jsx)(u.default,{name:"TrashMini",type:"plain",circle:!0,onPress:function(){return i(t)}})})}):null}),[r,o,a,i,t]);return(0,P.jsxs)(Y.default,{w:"full",alignItems:"center",children:[(0,P.jsxs)(d.default,{flex:"1",children:[(0,P.jsx)(f.default.Body2Strong,{numberOfLines:1,flex:"1",isTruncated:!0,children:t}),(0,P.jsx)(Y.default,{mt:"6px",children:(0,P.jsxs)(Y.default,{alignItems:"center",children:[g,!!v&&(0,P.jsx)(m.default,{bg:"border-subdued",orientation:"vertical",h:"3",mx:2},"rightDivider"),v]})})]}),b]})};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=function(){var e=(0,I.default)();return(0,P.jsx)(Ye.default,{trigger:(0,P.jsx)(f.default.Body2Strong,{children:e.formatMessage({id:"content__what_is_node_height"})}),pb:"16px",children:(0,P.jsx)(f.default.Body2,{px:"8px",color:"text-subdued",children:e.formatMessage({id:"content__what_is_node_height_desc"})})})};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){var t,n=(0,I.default)(),o=e.network,a=(0,N.default)();return(0,P.jsx)(l.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:"560px",footer:null,scrollViewProps:{children:o?(0,P.jsx)(c.default,{children:(0,P.jsx)(R.default,{children:(0,P.jsxs)(R.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mb:"8",mt:"6",children:[(0,P.jsx)(F,{size:"64px",name:o.name,logoURI:o.logoURI,iconName:"ArrowRightCircleSolid"}),(0,P.jsx)(f.default.PageHeading,{mt:"4",children:n.formatMessage({id:"title__switch_to_str"},{0:o.shortName})}),(0,P.jsx)(U.SiteSection,{url:null==a||null==(t=a.sourceInfo)?void 0:t.origin,mt:"2",w:"full"}),(0,P.jsx)(f.default.Body1,{mt:"2",color:"text-subdued",textAlign:"center",children:n.formatMessage({id:"content__allow_this_site_to_switch_your_network_to_str"},{0:o.name})})]})})}):(0,P.jsx)($.default,{})}},e))}var dt=function(){var e,t,n=(0,k.useRoute)(),r=(0,_.useState)(),o=(0,w.default)(r,2),a=o[0],i=o[1],s=JSON.parse(n.params.query),l=s.chainId,c=s.networkId?s.networkId:`evm--${parseInt(l)}`,d=(0,N.default)(),u=(0,D.default)({id:null!=(e=null==(t=d.sourceInfo)?void 0:t.id)?e:""});(0,_.useEffect)((function(){(0,b.default)((function*(){var e=yield j.default.engine.getNetwork(c);i(e)}))()}),[c]);var f=(0,_.useCallback)(function(){var e=(0,b.default)((function*(e){var t=e.close;try{var n=j.default.serviceNetwork,r=yield n.changeActiveNetwork(c);yield u.resolve({close:t,result:r})}catch(o){console.error(o)}}));return function(t){return e.apply(this,arguments)}}(),[u,c]);return(0,P.jsx)(ct,{footer:!0,network:a,hidePrimaryAction:!a,hideSecondaryAction:!0,onModalClose:u.reject,primaryActionTranslationId:"action__switch",onPrimaryActionPress:f})},ut=n(911929),ft=n(776553),pt=function(e){var t=e.measure,n=(0,I.default)(),r=t||{},o=r.responseTime,a=r.iconColor,i=r.latestBlock,s=(0,_.useMemo)((function(){return t?(0,P.jsxs)(Y.default,{alignItems:"center",children:[(0,P.jsx)(rt.default,{borderWidth:0,backgroundColor:a}),(0,P.jsx)(f.default.Body1,{color:a,ml:"2",textAlign:"right",children:"number"===typeof o?`${o} ms`:n.formatMessage({id:"content__not_available"})})]}):(0,P.jsx)(tt.default,{shape:"Caption"})}),[t,a,n,o]),l=(0,_.useMemo)((function(){return t?"number"===typeof i&&i?(0,P.jsxs)(f.default.Caption,{color:"text-subdued",textAlign:"right",children:[n.formatMessage({id:"content__height"}),": ",i]}):null:(0,P.jsx)(tt.default,{shape:"Caption"})}),[t,n,i]);return(0,P.jsxs)(d.default,{alignItems:"flex-end",children:[s,l]})};var mt=n(679978);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gt=(0,n(324665).default)(),yt=[{name:S.ManageNetworkModalRoutes.NetworkAccountSelector,component:a.NetworkAccountSelectorModal},{name:S.ManageNetworkModalRoutes.NetworkSelector,component:i.NetworkSelectorModal},{name:S.ManageNetworkModalRoutes.Listing,component:function(){var e=(0,I.default)(),t=(0,o.default)(),n=(0,Re.useManageNetworks)(void 0).allNetworks,r=(0,_.useState)(""),a=(0,w.default)(r,2),i=a[0],s=a[1],c=(0,k.useNavigation)(),d=(0,_.useState)((0,Re.getActiveWalletAccount)().network),u=(0,w.default)(d,2),f=u[0],p=u[1],m=(0,_.useRef)((0,Re.getManageNetworks)(void 0).allNetworks.map((function(e){return[e.id,e.enabled]})));(0,_.useEffect)((function(){m.current=n.map((function(e){return[e.id,e.enabled]}))}),[n]);var h=(0,_.useMemo)((function(){return n.filter((function(e){for(var t of Object.values(q()(e,"name","shortName","id","symbol")))if((0,pe.strIncludes)(String(t),i))return!0;return!1}))}),[n,i]),g=(0,_.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";c.navigate(ne.ManageNetworkModalRoutes.AddNetwork,{network:e,mode:t})}),[c]),y=(0,_.useCallback)((function(e){m.current=m.current.map((function(t){return t[0]===e.id?[t[0],!t[1]]:t})),De(m.current),j.default.serviceAllNetwork.onNetworksDisabled({networkIds:[e.id]})}),[]);(0,k.useFocusEffect)((0,_.useCallback)((function(){s(""),p((0,Re.getActiveWalletAccount)().network)}),[]));var v=(0,_.useCallback)((function(e){var t=e.item;return(0,P.jsx)(Ne,{onLabelPress:t.preset?void 0:function(){return g(t,"edit")},item:t,isDisabled:t.id===(null==f?void 0:f.id),onToggle:y})}),[f,g,y]);return(0,P.jsxs)(l.default,{header:e.formatMessage({id:"action__customize_network"}),height:"560px",hideSecondaryAction:!0,primaryActionProps:{type:"primary",w:t?"full":void 0},primaryActionTranslationId:"action__add_network",onPrimaryActionPress:function(){return g()},children:[(0,P.jsx)(G.default,{w:"full",value:i,mb:"4",onChangeText:function(e){return s(e)},placeholder:e.formatMessage({id:"content__search"}),onClear:function(){return s("")}}),(0,P.jsx)(xe.default,{data:h,contentContainerStyle:{flex:null!=h&&h.length?void 0:1},renderItem:v,keyExtractor:function(e){return e.id},ListEmptyComponent:pe.NetworkListEmpty})]})}},{name:S.ManageNetworkModalRoutes.AddNetwork,component:E},{name:S.ManageNetworkModalRoutes.CustomNetwork,component:function(e){var t=e.route.params,n=t.name,r=t.rpcURL,a=t.symbol,i=t.exploreUrl,d=t.id,u=t.chainId,m=(0,I.default)(),h=(0,O.useActiveWalletAccount)().network,g=(0,k.useNavigation)(),y=(0,_.useState)({connected:!1}),S=(0,w.default)(y,2),C=S[0],M=S[1],A=j.default.serviceNetwork,E=(0,x.default)({defaultValues:{name:n,rpcURL:r,symbol:a,exploreUrl:i,id:d,chainId:u},mode:"onChange"}),R=E.control,D=E.handleSubmit,N=E.watch,L=E.setError,B=E.setValue,F=E.trigger,U=E.formState.isValid,H=(0,_.useState)(!1),W=(0,w.default)(H,2),V=W[0],z=W[1],K=(0,o.default)(),G=(0,_.useCallback)((function(){z(!0)}),[]),$=(0,_.useCallback)((0,b.default)((function*(){yield A.deleteNetwork(d),z(!1),v.default.show({title:m.formatMessage({id:"msg__network_removed"})}),null!=g&&null!=g.canGoBack&&g.canGoBack()&&g.goBack()})),[m,A,d,g]),Z=(0,_.useCallback)(function(){var e=(0,b.default)((function*(e){yield A.updateNetwork(d,{rpcURL:e.rpcURL,name:e.name,symbol:e.symbol,explorerURL:e.exploreUrl}),v.default.show({title:m.formatMessage({id:"msg__change_saved"})}),null!=g&&null!=g.canGoBack&&g.canGoBack()&&g.goBack()}));return function(t){return e.apply(this,arguments)}}(),[A,d,m,g]),q=(0,_.useMemo)((function(){return C.error?"":C.loading?m.formatMessage({id:"form__rpc_url_connecting"}):C.connected?m.formatMessage({id:"form__rpc_url_fetched"}):void 0}),[C,m]),X=(0,O.useDebounce)(N("rpcURL"),1e3),Y=null==X?void 0:X.trim();return(0,_.useEffect)((function(){Y&&Ce.test(Y)&&(M((function(e){return Pe(Pe({},e),{},{connected:!1,loading:!0})})),A.preAddNetwork(Y).then((function(e){e.chainId===u?M({connected:!0,loading:!1}):M({loading:!1,connected:!0,error:m.formatMessage({id:"form__chain_id_invalid"})})})).catch((function(){M({loading:!1,connected:!1,error:m.formatMessage({id:"form__rpc_fetched_failed"})})})).finally((function(){F("rpcURL")})))}),[Y,m,B,L,A,u,F]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.default,{header:n,height:"560px",primaryActionProps:{onPromise:D(Z),isDisabled:!U&&!!C.error||!C.connected},primaryActionTranslationId:"action__save",hideSecondaryAction:!0,scrollViewProps:{children:(0,P.jsx)(c.default,{flexDirection:"row",justifyContent:"center",children:(0,P.jsxs)(p.default,{children:[(0,P.jsx)(p.default.Item,{name:"name",label:m.formatMessage({id:"form__network_name",defaultMessage:"Network Name"}),control:R,rules:{required:{value:!0,message:m.formatMessage({id:"form__field_is_required"})},validate:function(e){if(null==e||!e.trim())return m.formatMessage({id:"form__field_is_required"})},maxLength:{value:30,message:m.formatMessage({id:"form__network_name_invalid"})}},children:(0,P.jsx)(p.default.Input,{size:K?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"rpcURL",control:R,label:m.formatMessage({id:"form__rpc_url",defaultMessage:"RPC URL"}),helpText:q,rules:{required:{value:!0,message:m.formatMessage({id:"form__field_is_required"})},pattern:{value:T,message:m.formatMessage({id:"form__rpc_url_wrong_format"})},maxLength:{value:100,message:m.formatMessage({id:"form__validator_max_length"},{value:100})},validate:function(){return C.error}},children:(0,P.jsx)(p.default.Input,{size:K?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"chainId",label:m.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),control:R,children:(0,P.jsx)(p.default.Input,{isDisabled:!0,placeholder:m.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),size:K?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"symbol",label:m.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),labelAddon:(0,P.jsx)(f.default.Body2,{color:"text-subdued",children:m.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:R,rules:{maxLength:{value:15,message:m.formatMessage({id:"form__symbol_invalid"})}},children:(0,P.jsx)(p.default.Input,{placeholder:"ETH",size:K?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"exploreUrl",label:m.formatMessage({id:"form__blockchain_explorer_url",defaultMessage:"Blockchain Explore URL"}),labelAddon:(0,P.jsx)(f.default.Body2,{color:"text-subdued",children:m.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:R,rules:{pattern:{value:/https?:\/\//,message:m.formatMessage({id:"form__blockchain_explorer_url_invalid"})},maxLength:{value:100,message:m.formatMessage({id:"form__validator_max_length"},{value:100})}},children:(0,P.jsx)(p.default.Input,{size:K?"xl":"default"})}),(null==h?void 0:h.id)!==d?(0,P.jsx)(Te.default,{w:"full",size:K?"xl":"lg",type:"outline",leftIconName:"TrashMini",onPress:G,children:m.formatMessage({id:"action__remove",defaultMessage:"Remove"})}):null]})})}}),(0,P.jsx)(s.default,{visible:V,contentProps:{iconType:"danger",title:m.formatMessage({id:"dialog__remove_network_title",defaultMessage:"Remove Network"}),content:m.formatMessage({id:"dialog__remove_network_desc",defaultMessage:"\u201c{0}\u201d will be removed from your networks list."},{0:n})},footerButtonProps:{primaryActionTranslationId:"action__remove",primaryActionProps:{type:"destructive",size:"lg",onPromise:$},secondaryActionProps:{size:"lg"}},onClose:function(){return z(!1)}})]})}},{name:S.ManageNetworkModalRoutes.PresetNetwork,component:function(e){var t=e.route,n=t.params,r=n.name,a=n.rpcURL,i=n.chainId,d=n.symbol,u=n.exploreUrl,m=n.id,h=n.impl,g=(0,I.default)(),y=(0,_.useState)(!1),T=(0,w.default)(y,2),S=T[0],C=T[1],M=(0,_.useRef)({preventRemove:!1,isResetting:!1}),A=(0,k.useNavigation)(),E=(0,_.useState)([]),R=(0,w.default)(E,2),D=R[0],N=R[1],L=(0,_.useState)(null!=a?a:""),B=(0,w.default)(L,2),F=B[0],U=B[1],H=(0,_.useState)({}),W=(0,w.default)(H,2),V=W[0],z=W[1],K=j.default.serviceNetwork,G=(0,x.default)({mode:"onChange",defaultValues:{name:r,rpcURL:a,chainId:i,symbol:d,exploreUrl:u,id:m}}),Z=G.control,q=G.handleSubmit,X=G.reset,Y=G.watch,Q=G.getValues,J=(0,_.useState)(!1),ee=(0,w.default)(J,2),te=ee[0],ne=ee[1],re=(0,o.default)(),oe=(0,O.useDebounce)(Y("rpcURL"),1e3),ae=(0,_.useCallback)((function(){ne(!0)}),[]);(0,_.useEffect)((function(){K.getPresetRpcEndpoints(m).then((function(e){var t=e.urls,n=e.defaultRpcURL;N(t),U(n)}))}),[K,m]);var ie=(0,_.useCallback)(function(){var e=(0,b.default)((function*(e){yield K.updateNetwork(m,{rpcURL:e.rpcURL}),v.default.show({title:g.formatMessage({id:"msg__change_saved"})}),M.current.preventRemove=!0,null!=A&&null!=A.canGoBack&&A.canGoBack()&&A.goBack()}));return function(t){return e.apply(this,arguments)}}(),[K,m,g,A,M]);(0,_.useEffect)((function(){D.forEach((function(e){Ge(e,m).then((function(t){return z((function(n){var r;return Ke(Ke({},n),{},((r={})[e]=t,r))}))}),(function(e){console.error(e)}))}))}),[D,m]);var se=(0,_.useMemo)((function(){return D.map((function(e){return{value:e,label:e,trailing:V[e]?(0,P.jsxs)(f.default.Body2Strong,{color:(t=V[e],t<=300?"text-success":t<=1e3?"text-warning":"text-critical"),children:[V[e],"ms"]}):(0,P.jsx)($.default,{size:"sm"})};var t}))}),[D,V]),le=(0,_.useCallback)((function(){M.current.isResetting=!0,X(Ke(Ke({},t.params),{},{rpcURL:F})),ne(!1),v.default.show({title:g.formatMessage({id:"msg__network_reset"})}),A.popToTop()}),[t.params,g,X,A,F,M]),ce=(0,_.useCallback)((function(e){M.current.isResetting&&!M.current.preventRemove?(M.current.isResetting=!1,e.preventDefault()):Q("rpcURL")===a||M.current.preventRemove||(e.preventDefault(),C(!0))}),[M,Q,a]),de=(0,_.useCallback)((function(){M.current.preventRemove=!0,C(!1),A.goBack()}),[A]);(0,_.useEffect)((function(){return A.addListener("beforeRemove",ce),function(){A.removeListener("beforeRemove",ce)}}),[ce,A]);var ue=(0,_.useState)(!1),fe=(0,w.default)(ue,2),pe=fe[0],me=fe[1],he=(0,_.useState)({connected:!1}),ge=(0,w.default)(he,2),ye=ge[0],ve=ge[1];(0,_.useEffect)((function(){var e,t=null!=(e=null==oe?void 0:oe.trim())?e:"";t?(ve({connected:!1,loading:!0}),D.includes(t)?V[t]&&ve({connected:!0,loading:!1,speed:V[t]}):Ce.test(t)&&K.preAddNetwork(t).then((function(e){e.chainId!==i?ve({connected:!1,loading:!1,error:g.formatMessage({id:"form__chain_id_invalid"})}):Ge(t,m).then((function(e){return ve({connected:!0,loading:!1,speed:e})}))})).catch((function(){ve({connected:!1,loading:!1,error:g.formatMessage({id:"form__rpc_fetched_failed"})})}))):ve({connected:!1})}),[oe,D,V,K,i,g,m]);var be=(0,_.useMemo)((function(){return ye.error?ye.error:ye.loading?g.formatMessage({id:"form__rpc_url_connecting"}):ye.connected?g.formatMessage({id:"form__rpc_url_spped"},{value:ye.speed}):void 0}),[ye,g]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.default,{header:r,height:"560px",primaryActionProps:{onPromise:q(ie),isDisabled:oe===a||!ye.connected},primaryActionTranslationId:"action__save",hideSecondaryAction:!0,scrollViewProps:{showsVerticalScrollIndicator:!1,children:(0,P.jsx)(c.default,{flexDirection:"row",justifyContent:"center",children:(0,P.jsxs)(p.default,{children:[(0,P.jsx)(p.default.Item,{name:"name",label:g.formatMessage({id:"form__network_name",defaultMessage:"Network Name"}),control:Z,children:(0,P.jsx)(p.default.Input,{isDisabled:!0,size:re?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"rpcURL",control:Z,label:g.formatMessage({id:"form__rpc_url",defaultMessage:"RPC URL"}),labelAddon:(0,P.jsx)(Me.default,{size:"sm",label:g.formatMessage({id:"content__custom"}),isChecked:pe,onToggle:function(){return me((function(e){return!e}))}}),formControlProps:{zIndex:10},helpText:be,rules:{validate:function(){return ye.connected}},children:pe?(0,P.jsx)(p.default.Input,{size:re?"xl":"default"}):(0,P.jsx)(p.default.Select,{title:g.formatMessage({id:"content__preset_rpc",defaultMessage:"Preset PRC URLs"}),footer:null,containerProps:{zIndex:999,padding:0},options:se,dropdownProps:{width:"352px"},dropdownPosition:"right",triggerSize:re?"xl":"default"})}),"evm"===h?(0,P.jsx)(p.default.Item,{name:"chainId",label:g.formatMessage({id:"form__chain_id",defaultMessage:"Chain ID"}),control:Z,children:(0,P.jsx)(p.default.Input,{placeholder:g.formatMessage({id:"form__chain_id"}),isDisabled:!0,size:re?"xl":"default"})}):null,(0,P.jsx)(p.default.Item,{name:"symbol",label:g.formatMessage({id:"form__symbol",defaultMessage:"Symbol"}),labelAddon:(0,P.jsx)(f.default.Body2,{color:"text-subdued",children:g.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:Z,children:(0,P.jsx)(p.default.Input,{placeholder:"ETH",isDisabled:!0,size:re?"xl":"default"})}),(0,P.jsx)(p.default.Item,{name:"exploreUrl",label:g.formatMessage({id:"form__blockchain_explorer_url",defaultMessage:"Blockchain Explore URL"}),labelAddon:(0,P.jsx)(f.default.Body2,{color:"text-subdued",children:g.formatMessage({id:"form__hint_optional",defaultMessage:"Optional"})}),control:Z,children:(0,P.jsx)(p.default.Input,{isDisabled:!0,size:re?"xl":"default"})}),(0,P.jsx)(Te.default,{w:"full",size:re?"xl":"lg",onPress:ae,isDisabled:oe===F,children:g.formatMessage({id:"action__reset",defaultMessage:"Reset"})})]})})}}),(0,P.jsx)(s.default,{visible:te,contentProps:{iconType:"info",title:g.formatMessage({id:"dialog__reset_network_title",defaultMessage:"Reset Network"}),content:g.formatMessage({id:"dialog__reset_network_desc",defaultMessage:"{0} will be revert to the default config"},{0:r})},footerButtonProps:{onPrimaryActionPress:le,primaryActionTranslationId:"action__reset",primaryActionProps:{type:"primary",size:"lg"},secondaryActionProps:{size:"lg"}},onClose:function(){return ne(!1)}}),(0,P.jsx)(Ve,{visible:S,onConfirm:de,onClose:function(){return C(!1)}})]})}},{name:S.ManageNetworkModalRoutes.AddNetworkConfirm,component:z},{name:S.ManageNetworkModalRoutes.SwitchNetwork,component:dt},{name:S.ManageNetworkModalRoutes.RPCNode,component:function(){var e=(0,I.default)(),t=(0,k.useRoute)().params.networkId,n=(0,_.useState)(!1),r=(0,w.default)(n,2),o=r[0],a=r[1],i=(0,O.useNetwork)({networkId:t}).network,s=(0,fe.useRPCUrls)(null==i?void 0:i.id),c=s.preset,d=s.custom,u=s.refresh,f=(0,_.useState)({}),p=(0,w.default)(f,2),m=p[0],h=p[1],g=(0,_.useCallback)((function(e){return(0,Le.default)(e).sort((function(e,t){var n,r,o,a;return(null!=(n=null==m||null==(r=m[e])?void 0:r.responseTime)?n:1e5)-(null!=(o=null==m||null==(a=m[t])?void 0:a.responseTime)?o:1e5)}))}),[m]),y=(0,_.useCallback)((function(e){j.default.serviceNetwork.updateNetwork(t,{rpcURL:e})}),[t]),v=(0,_.useCallback)((function(){(0,ae.showDialog)((0,P.jsx)(et,{networkId:t,onConfirm:u}))}),[t,u]),b=(0,_.useCallback)((function(){a(!o)}),[o]),x=(0,_.useCallback)((function(e){j.default.dispatch((0,re.updateCustomNetworkRpc)({networkId:t,type:"remove",rpc:e})),u()}),[t,u]),T=(0,_.useMemo)((function(){return d.length?o?e.formatMessage({id:"action__done"}):e.formatMessage({id:"action__edit"}):null}),[d,o,e]),S=(0,_.useMemo)((function(){return[{headerProps:{title:e.formatMessage({id:"content__custom"}),actions:[{label:T,onPress:b}]},footerText:(0,P.jsx)(L.default,{px:"2",mt:"4",children:(0,P.jsx)(Te.default,{w:"full",size:"lg",onPress:v,children:e.formatMessage({id:"action__add_node"})})}),data:g(d)},{headerProps:{title:e.formatMessage({id:"content__default"})},data:g(c)}]}),[d,c,e,g,v,b,T]),C=(0,_.useCallback)((function(e){var n=0,r=0,o=function(e){r+=1,(0,fe.measureRpc)(t,e,!1).then((function(t){h((function(n){var r;return it(it({},n),{},((r={})[e]=t,r))}))})).finally((function(){r-=1}))},a=setInterval((function(){for(;r<3;)o(e[n]),n+=1;n>=e.length&&(clearInterval(a),n=0)}),600)}),[t]);return(0,_.useEffect)((function(){var e=setTimeout((function(){var e=[].concat((0,Le.default)(c),(0,Le.default)(d));e.length&&C(e)}),1e3);return function(){return clearTimeout(e)}}),[d,c,C]),(0,P.jsx)(l.default,{header:e.formatMessage({id:"modal__rpc_node"}),height:"560px",footer:null,headerDescription:(null==i?void 0:i.name)||"",hideSecondaryAction:!0,hidePrimaryAction:!0,children:(0,P.jsx)(Xe.default,{ListHeaderComponent:st,stickySectionHeadersEnabled:!1,sections:S,renderItem:function(e){var t=e.item,n=t===(null==i?void 0:i.rpcURL);return(0,P.jsx)(_e.default,{flex:1,onPress:n?void 0:function(){return y(t)},children:(0,P.jsx)(_e.default.Column,{children:(0,P.jsx)(ot,{url:t,measure:m[t],checked:n,isEdit:o,canEdit:d.includes(t)&&!n,onRemove:x})})})},keyExtractor:function(e,t){return`${e}_${t}`}})})}},{name:S.ManageNetworkModalRoutes.QuickAdd,component:function(){var e=(0,I.default)(),t=(0,_.useState)(0),n=(0,w.default)(t,2),r=n[0],o=n[1],a=(0,_.useState)(!0),i=(0,w.default)(a,2),s=i[0],c=i[1],d=(0,_.useState)(""),u=(0,w.default)(d,2),p=u[0],m=u[1],h=(0,O.useManageNetworks)(void 0).allNetworks,g=(0,_.useState)(!1),y=(0,w.default)(g,2),v=y[0],x=y[1],T=(0,_.useState)(null),C=(0,w.default)(T,2),M=C[0],A=C[1],E=(0,_.useState)([]),R=(0,w.default)(E,2),D=R[0],N=R[1],F=(0,_.useState)(!1),U=(0,w.default)(F,2),H=U[0],W=U[1],V=(0,k.useNavigation)(),z=j.default.serviceNetwork,K=(0,_.useCallback)((function(){o(0),c(!0),W(!H)}),[H]),Z=(0,_.useCallback)((function(e){o(0),c(!0),m(e)}),[]),q=(0,O.useDebounce)(p,1e3),X=(0,_.useCallback)((0,b.default)((function*(){x(!0);try{var e=yield z.fetchChainList({page:r,pageSize:50,query:q,showTestNet:H}),t=e.filter((function(e){return!h.find((function(t){return t.id===`evm--${e.chainId}`}))}));e.length<50&&c(!1),N(r>0?function(e){return[].concat((0,Le.default)(e),(0,Le.default)(t))}:t)}catch(n){}setTimeout((function(){x(!1)}),500)})),[h,z,q,H,r]),Q=(0,_.useCallback)(function(){var e=(0,b.default)((function*(e){var t,n,r,o,a,i,s;A(e);var l=null!=(t=null==(n=e.rpc)?void 0:n[0])?t:"";for(var c of e.rpc)try{var d=yield z.preAddNetwork(c);if(d&&d.chainId){l=c;break}}catch(u){qe.default.http.warn("preAddNetwork error: ",u)}A(null),V.navigate(S.ManageNetworkModalRoutes.AddNetwork,{mode:"add",network:{name:null!=(r=e.name)?r:"",rpcURL:l,symbol:null!=(o=null==(a=e.nativeCurrency)?void 0:a.symbol)?o:"",explorerURL:null!=(i=null==(s=e.explorers)?void 0:s[0].url)?i:"",logoURI:e.logoURI}})}));return function(t){return e.apply(this,arguments)}}(),[V,z]);(0,_.useEffect)((function(){X()}),[X]);var J=(0,_.useMemo)((function(){return v?(0,P.jsx)(L.default,{py:"144px",children:(0,P.jsx)($.default,{size:"lg"})}):D.length?null:(0,P.jsx)(Ze.default,{py:"96px",emoji:"\ud83d\udd0d",title:e.formatMessage({id:"content__no_results",defaultMessage:"No Result"})})}),[e,v,D]);return(0,P.jsxs)(l.default,{header:e.formatMessage({id:"action__quick_add"}),height:"560px",footer:null,children:[(0,P.jsxs)(Y.default,{w:"full",mb:"4",children:[(0,P.jsx)(G.default,{flex:"1",placeholder:e.formatMessage({id:"content__search"}),value:p,onChangeText:Z,onClear:function(){return Z("")},mr:"1"}),(0,P.jsx)(Me.default,{label:e.formatMessage({id:"form__testnets"}),isChecked:H,onToggle:K})]}),(0,P.jsx)(xe.default,{onEndReached:function(){s&&!v&&o(r+1)},data:D,ListFooterComponent:J,renderItem:function(t){var n,r,o,a=t.item;return(0,P.jsxs)(_e.default,{onPress:function(){return Q(a)},flex:1,children:[(0,P.jsx)(_e.default.Column,{children:(0,P.jsx)(B.default,{size:8,token:{logoURI:a.logoURI,name:a.name}})}),(0,P.jsx)(_e.default.Column,{text:{label:a.name,description:(0,P.jsxs)(Y.default,{children:[(0,P.jsxs)(f.default.Caption,{color:"text-subdued",children:[e.formatMessage({id:"content__currency"}),":"]}),(0,P.jsx)(f.default.Caption,{color:"text-subdued",ml:"1",children:null!=(n=null==(r=a.nativeCurrency)?void 0:r.symbol)?n:""}),(0,P.jsxs)(f.default.Caption,{ml:"16px",color:"text-subdued",children:[e.formatMessage({id:"form__chain_id"}),":"]}),(0,P.jsx)(f.default.Caption,{color:"text-subdued",ml:"1",children:null!=(o=a.chainId)?o:""})]})},flex:1}),a.chainId===(null==M?void 0:M.chainId)?(0,P.jsx)(_e.default.Column,{children:(0,P.jsx)($.default,{})}):null]})},keyExtractor:function(e,t){var n;return`${null!=(n=e.name)?n:""}_${e.chainId}_${t}`}})]})}},{name:S.ManageNetworkModalRoutes.Sort,component:He},{name:S.ManageNetworkModalRoutes.SwitchRpc,component:function(){var e,t,n,r=(0,I.default)(),o=(0,_.useRef)(!1),a=function(){var e=(0,k.useRoute)().params;return"query"in e?JSON.parse(e.query):e}(),i=a.name,s=a.rpcURL,d=a.logoURI,u=a.networkId,p=(0,N.default)(),m=(0,D.default)({id:null!=(e=null==(t=p.sourceInfo)?void 0:t.id)?e:"",closeWindowAfterResolved:!0}),h=(0,ut.useAsync)((function(){return(0,fe.measureRpc)(u,s,!1)}),[u,s]),y=h.result,v=h.loading,x=(0,fe.useRPCUrls)(u),w=x.preset,O=x.custom,T=x.defaultRpc,S=x.loading,C=(0,_.useMemo)((function(){return v||!y}),[v,y]),M=(0,_.useMemo)((function(){return w.includes(s)||O.includes(s)||T===s}),[w,O,s,T]),A=(0,_.useMemo)((function(){return[{label:r.formatMessage({id:"network__network",defaultMessage:"Network"}),value:i},{label:r.formatMessage({id:"form__url",defaultMessage:"RPC Node"}),value:s},{label:r.formatMessage({id:"form__status",defaultMessage:"Status"}),value:(0,P.jsx)(pt,{measure:v?void 0:y})}]}),[r,i,s,v,y]),E=(0,_.useMemo)((function(){var e;return M?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(f.default.PageHeading,{mt:"4",children:`${r.formatMessage({id:"title__youve_added_this_rpc_node"})}`}),(0,P.jsx)(f.default.Body1,{mt:"2",children:r.formatMessage({id:"title__you_ve_added_this_rpc_node_desc"})})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(f.default.PageHeading,{mt:"4",children:`${r.formatMessage({id:"title__add_rpc_node"})}`}),(0,P.jsx)(U.SiteSection,{url:null==p||null==(e=p.sourceInfo)?void 0:e.origin,mt:"2",w:"full"}),(0,P.jsx)(f.default.Body1,{mt:"2",children:r.formatMessage({id:"title__add_rpc_node_desc"})})]})}),[M,r,null==p||null==(n=p.sourceInfo)?void 0:n.origin]),L=(0,_.useCallback)(function(){var e=(0,b.default)((function*(e){var t=e.close;j.default.dispatch((0,re.updateCustomNetworkRpc)({networkId:u,type:"add",rpc:s})),o.current=!0,yield m.resolve({close:t,result:null})}));return function(t){return e.apply(this,arguments)}}(),[s,u,m]),B=(0,_.useCallback)(function(){var e=(0,b.default)((function*(e){var t=e.close;s&&(M||(j.default.dispatch((0,re.updateCustomNetworkRpc)({networkId:u,type:"add",rpc:s})),yield(0,ft.wait)(1e3)),o.current=!0,yield j.default.serviceNetwork.updateNetwork(u,{rpcURL:s}),yield m.resolve({close:t,result:null}))}));return function(t){return e.apply(this,arguments)}}(),[s,M,u,m]),H=(0,_.useCallback)((function(){o.current||m.reject()}),[m]);return(0,P.jsx)(l.default,{height:"560px",enableMobileFooterWrap:!0,onModalClose:H,secondaryActionTranslationId:"action__add_to_rpc_node_list_only",primaryActionTranslationId:M?"action__switch":"action__add_n_switch",hideSecondaryAction:M||S,onSecondaryActionPress:L,onPrimaryActionPress:B,secondaryActionProps:{isDisabled:C},primaryActionProps:{isDisabled:C},scrollViewProps:{children:(0,P.jsx)(c.default,{children:(0,P.jsxs)(R.default,{children:[(0,P.jsxs)(R.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mb:"8",mt:"6",children:[(0,P.jsx)(F,{size:"64px",name:i,logoURI:d,iconName:"PlusCircleSolid"}),E]}),(0,P.jsx)(R.default,{bg:"surface-default",borderRadius:"12",mt:"2",mb:"3",children:A.map((function(e,t){return(0,P.jsxs)(R.default,{display:"flex",flexDirection:"row",justifyContent:"space-between",p:"4",alignItems:"center",borderTopRadius:0===t?"12":void 0,borderBottomRadius:t===A.length-1?"12":void 0,borderTopColor:"divider",borderTopWidth:0!==t?"1":void 0,children:[(0,P.jsx)(g.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},color:"text-subdued",children:e.label}),"string"===typeof e.value?(0,P.jsx)(g.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},textAlign:"right",flex:"1",isTruncated:!0,pl:"6",children:e.value}):e.value]},t)}))})]})})}})}},{name:S.ManageNetworkModalRoutes.AllNetworksNetworkSelector,component:function(){var e,t,n=(0,I.default)(),r=(0,J.default)(),o=(0,k.useRoute)(),a=(0,Ie.useAllNetworksIncludedNetworks)(),i=null!=(e=null==o?void 0:o.params)?e:{},s=i.filter,c=i.onConfirm,d=i.accountId,u=null!=(t=(0,Ie.useAllNetworksWalletAccounts)({accountId:d}))?t:Oe,f=(0,_.useCallback)((function(e){var t=e.network,n=e.accounts;n.length<=1?(null==c||c({network:t,account:n[0]}),null==r||r()):(0,je.showAllNetworksAccountDerivationsSelector)({network:t,accounts:n,onConfirm:function(e){null==c||c({network:t,account:e}),null==r||r()}})}),[r,c]),p=(0,_.useCallback)((function(e){var t,r=e.item,o=null!=(t=null==u?void 0:u[r.id])?t:[];if("function"===typeof s){var a;if(o.length)if(!(o=(null!=(a=null==u?void 0:u[r.id])?a:[]).filter((function(e){return s({network:r,account:e})}))).length)return null;if(!s({network:r,account:o[0]}))return null}return(0,P.jsxs)(_e.default,{flex:"1",onPress:function(){f({network:r,accounts:o})},children:[(0,P.jsx)(_e.default.Column,{children:(0,P.jsx)(B.default,{size:8,token:{logoURI:r.logoURI}})}),(0,P.jsx)(_e.default.Column,{text:{label:r.name}}),(0,P.jsx)(_e.default.Column,{children:o.length>1?(0,P.jsx)(we.default,{type:"default",size:"sm",ml:"3",title:n.formatMessage({id:"form__str_addresses"},{0:o.length})}):null})]})}),[n,u,s,f]);return(0,P.jsx)(l.default,{header:n.formatMessage({id:"form__select_network"}),footer:null,height:"560px",children:(0,P.jsx)(ke.LazyDisplayView,{delay:300,children:(0,P.jsx)(xe.default,{data:a.filter((function(e){return!(null==u||!u[e.id])})),contentContainerStyle:{flex:null!=a&&a.length?void 0:1},renderItem:p,keyExtractor:function(e){return e.id}})})})}},{name:S.ManageNetworkModalRoutes.AllNetworksAccountsDetail,component:function(){var e=(0,I.default)(),t=(0,_.useState)(""),n=(0,w.default)(t,2),r=n[0],o=n[1],a=(0,O.useActiveWalletAccount)().accountId,i=(0,_.useState)(!0),s=(0,w.default)(i,2),c=s[0],d=s[1],f=(0,_.useState)(),p=(0,w.default)(f,2),m=p[0],h=p[1],g=(0,J.default)();(0,_.useEffect)((function(){j.default.serviceAllNetwork.getSelectableNetworkAccounts({accountId:a}).then((function(e){h(e)})).finally((function(){setTimeout((function(){d(!1)}),500)}))}),[a]);var y=(0,_.useMemo)((function(){return m?r?m.filter((function(e){for(var t of Object.values(q()(e,"name","shortName","id","symbol")))if((0,pe.strIncludes)(String(t),r))return!0;return!1})):m:[]}),[m,r]),v=(0,_.useMemo)((function(){if(!m)return[];var e=[],t=[];for(var n of y)n.selected?e.push(n):t.push(n);return[{title:"form__selected_str_uppercase",data:e},{title:"form__not__selected_str_uppercase",data:t}]}),[m,y]),b=(0,_.useCallback)((function(e){var t=e.networkId;h((function(e){var n;return null!=(n=null==e?void 0:e.map((function(e){return e.id===t?he(he({},e),{},{selected:!e.selected}):e})))?n:[]}))}),[]),x=(0,_.useCallback)((function(e){var t=e.item;return(0,P.jsx)(ye,{name:t.name,logoURI:t.logoURI,accounts:t.accounts,isChecked:t.selected,networkId:t.id,onChange:b})}),[b]),k=(0,_.useCallback)((function(e){var t=e.section;return(0,P.jsx)(be,{title:t.title,length:t.data.length,search:r})}),[r]),T=(0,_.useCallback)((function(){var e;j.default.serviceAllNetwork.updateAllNetworksAccountsMap({accountId:a,selectedNetworkAccounts:null!=(e=null==m?void 0:m.filter((function(e){return e.selected})))?e:[]}),g()}),[a,g,m]),S=(0,_.useCallback)((function(){o("")}),[]),C=(0,_.useCallback)((function(e){return e.id}),[]),M=(0,_.useMemo)((function(){return null!=y&&y.length?(0,P.jsx)(ve,{}):(0,P.jsx)(pe.NetworkListEmpty,{})}),[null==y?void 0:y.length]);return(0,P.jsx)(l.default,{header:e.formatMessage({id:"title__select_networks"}),height:"560px",rightContent:(0,P.jsx)(u.default,{type:"plain",size:"lg",circle:!0,name:"QuestionMarkCircleOutline",onPress:ue}),hideSecondaryAction:!0,onPrimaryActionPress:T,primaryActionTranslationId:"action__done",children:c?(0,P.jsx)($.default,{size:"lg"}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(G.default,{w:"full",value:r,onChangeText:o,placeholder:e.formatMessage({id:"content__search"}),onClear:S}),(0,P.jsx)(K.SectionList,{stickySectionHeadersEnabled:!1,sections:v,contentContainerStyle:{flexGrow:1},keyExtractor:C,renderItem:x,renderSectionHeader:k,ItemSeparatorComponent:ge,ListHeaderComponent:M})]})})}}];const vt=function(){var e=(0,o.default)();return(0,P.jsx)(gt.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,mt.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:yt.map((function(e){return(0,P.jsx)(gt.Screen,{name:e.name,component:e.component},e.name)}))})}},83894:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var r=n(539144),o=n(53594),a=n(877531),i=n(719392),s=n(321668),l=n(18861),c=n(795116),d=n(866904),u=n(225447),f=n(669083),p=n(634795),m=n(196234),h=n(202784),g=n(472719),y=n(783112),v=n(46486),b=n(626015),x=n(497741),w=n(268883),_=n(546349),k=n(814817),I=(n(213208),n(945821)),j=n(493877),O=n(432986);function T(e){var t=e.walletId,n=e.currentAccountId,r=e.currentNetworkId,o=(0,h.useState)(!0),a=(0,m.default)(o,2),i=a[0],s=a[1],l=(0,h.useState)(!1),c=(0,m.default)(l,2),d=c[0],u=c[1];return(0,h.useEffect)((function(){(0,p.default)((function*(){try{var e=yield I.default.serviceNostr.getNostrAccount({walletId:t,currentNetworkId:r,currentAccountId:n});u(!(null==e||!e.address||null==e||!e.pubKey))}catch(o){u(!1)}finally{s(!1)}}))()}),[t,n,r]),{isFetchNostrAccount:i,existNostrAccount:d}}var S=n(552322),P=function(e){var t=e.walletId,n=e.networkId,o=e.accountId,a=e.password,i=(0,y.default)(),g=(0,h.useState)(),w=(0,m.default)(g,2),T=w[0],P=w[1],C=(0,h.useState)(!1),M=(0,m.default)(C,2),A=M[0],E=M[1],R=(0,h.useState)(!1),D=(0,m.default)(R,2),N=D[0],L=D[1],B=(0,h.useState)(!1),F=(0,m.default)(B,2),U=F[0],H=F[1],W=(0,j.default)(),V=(0,r.default)(),z=(0,k.isHardwareWallet)({walletId:t}),K=(0,h.useRef)(!0);(0,h.useEffect)((function(){(0,p.default)((function*(){try{K.current=!0,H(!0);var e=yield I.default.serviceNostr.getPublicKeyEncodedByNip19({walletId:t,networkId:n,accountId:o,password:a});P(e)}catch(r){O.deviceUtils.showErrorToast(r),setTimeout((function(){null==W.goBack||W.goBack()}),200)}finally{K.current=!1,H(!1)}}))()}),[t,n,o,a,W]);var G=(0,h.useCallback)((0,p.default)((function*(){if(!K.current){H(!0);try{var e=yield I.default.serviceNostr.validateNpubOnHardware({walletId:t,networkId:n,accountId:o,password:""});T===e||f.default.show({title:i.formatMessage({id:"msg__address_is_inconsistent_please_check_manually"})},{type:"default"}),E(!0)}catch(r){O.deviceUtils.showErrorToast(r)}finally{H(!1)}}})),[t,n,o,T,i]),$=(0,h.useMemo)((function(){return(0,S.jsxs)(l.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,S.jsxs)(l.default,{borderRadius:"24px",alignItems:"center",justifyContent:"center",w:{base:296,md:208},h:{base:296,md:208},bgColor:"white",borderWidth:v.default.hairlineWidth,borderColor:"border-default",overflow:"hidden",children:[(0,S.jsx)(u.default,{source:x,w:{base:296,md:208},h:{base:296,md:208}}),(0,S.jsx)(c.default,{position:"absolute",top:0,left:0,right:0,bottom:0,p:4,children:(0,S.jsx)(d.default,{typography:{sm:"Body1",md:"Body2"},color:"#000",opacity:80,textAlign:"center",children:i.formatMessage({id:"content__check_the_address_on_device"})})})]}),(0,S.jsxs)(l.default,{alignItems:"center",mt:V?"32px":"24px",mx:"auto",maxWidth:"full",children:[(0,S.jsx)(d.default,{mt:"8px",maxW:"256px",color:"text-subdued",textAlign:"center",typography:{sm:"Body1",md:"Body2"},w:"full",maxWidth:"full",children:U?T:(0,b.shortenAddress)(null!=T?T:"")}),(0,S.jsx)(s.default,{mt:"24px",type:"primary",size:V?"lg":"base",isLoading:U,onPress:function(){return G()},children:i.formatMessage({id:"action__check_address"})}),(0,S.jsx)(s.default,{mt:4,size:V?"lg":"base",onPress:function(){return L(!0)},children:i.formatMessage({id:"action__dont_have_device"})})]})]})}),[i,V,T,U,G]);return z&&!A&&!N?(0,S.jsx)(S.Fragment,{children:$}):(0,S.jsx)(_.PrivateOrPublicKeyPreview,{privateOrPublicKey:T,qrCodeContainerSize:{base:296,md:208}})};const C=function(){var e=(0,y.default)(),t=(0,g.useRoute)().params,n=t.walletId,r=t.networkId,o=t.accountId,s=T({walletId:n,currentAccountId:o,currentNetworkId:r}),l=s.isFetchNostrAccount,c=s.existNostrAccount,d=(0,h.useMemo)((function(){return c?(0,S.jsx)(P,{walletId:n,networkId:r,accountId:o,password:""}):(0,S.jsx)(w.default,{walletId:n,children:function(e){return(0,S.jsx)(P,{walletId:n,networkId:r,accountId:o,password:e})}})}),[c,n,r,o]);return(0,S.jsx)(a.default,{footer:null,header:e.formatMessage({id:"title__nostr_public_key"}),height:"auto",children:l?(0,S.jsx)(i.default,{size:"lg"}):d})};var M=n(361301),A=n(470310),E=n(435581),R=n(749888),D=n(261961),N=n(859071),L=n(826771),B=n(958698),F=n(517972),U=n(481047);const H=function(){var e,t,n=(0,y.default)(),o=(0,r.default)(),i=(0,N.useNavigation)(),s=(0,B.default)(),u=s.sourceInfo,g=s.walletId,v=s.networkId,b=s.accountId,x=(0,L.default)({id:null!=(e=null==u?void 0:u.id)?e:"",closeWindowAfterResolved:!0}),w=(0,F.useInteractWithInfo)({sourceInfo:u}),_=(0,h.useState)(!1),k=(0,m.default)(_,2),j=k[0],O=k[1],P=T({walletId:null!=g?g:"",currentAccountId:null!=b?b:"",currentNetworkId:null!=v?v:""}).existNostrAccount,C=(0,R.default)(),H=(0,h.useCallback)(function(){var e=(0,p.default)((function*(e){try{if(!g)throw new Error("walletId is required");O(!0);var t=yield I.default.serviceNostr.getPublicKeyHex({walletId:g,networkId:null!=v?v:"",accountId:null!=b?b:"",password:e});setTimeout((function(){x.resolve({result:t,close:C})}),300)}catch(a){var r=a.key,o=a.info;r&&"onekey_error"!==r?f.default.show({title:n.formatMessage({id:r},null!=o?o:{})},{type:"error"}):f.default.show({title:(null==a?void 0:a.message)||a},{type:"error"}),x.reject()}finally{O(!1)}}));return function(t){return e.apply(this,arguments)}}(),[g,v,b,C,n,x]),W=(0,h.useCallback)((function(){P?H(""):i.navigate(U.NostrModalRoutes.NostrAuthentication,{walletId:null!=g?g:"",networkId:null!=v?v:"",accountId:null!=b?b:"",onDone:H})}),[g,v,b,i,H,P]);return(0,S.jsx)(a.default,{header:n.formatMessage({id:"title__nostr_request"}),primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:j,isLoading:j},onPrimaryActionPress:function(){return W()},secondaryActionTranslationId:"action__cancel",onModalClose:x.reject,onSecondaryActionPress:function(e){var t=e.close;x.reject(),t()},height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,paddingVertical:o?16:24},children:(0,S.jsxs)(l.default,{children:[(0,S.jsx)(D.TxInteractInfo,{origin:null!=(t=null==w?void 0:w.url)?t:"",name:null==w?void 0:w.name,icon:null==w?void 0:w.icons[0],networkId:"",mb:0}),(0,S.jsx)(d.default,{my:4,typography:"Heading",children:`${n.formatMessage({id:"msg__allow_website_to"})}:`}),(0,S.jsx)(l.default,{py:4,children:(0,S.jsx)(M.default,{space:4,children:(0,S.jsxs)(A.default,{alignItems:"center",children:[(0,S.jsx)(c.default,{bgColor:"surface-success-subdued",borderRadius:"full",width:9,height:9,children:(0,S.jsx)(E.default,{size:20,color:"icon-success",name:"CheckSolid"})}),(0,S.jsx)(d.default,{ml:4,typography:"Body1",color:"text-default",children:n.formatMessage({id:"msg__read_your_public_key"})})]})})})]})}})};var W=n(896953),V=n(552082);const z=function(){var e,t,n,o,i,c,u,g=(0,y.default)(),v=(0,r.default)(),b=(0,N.useNavigation)(),x=(0,B.default)(),w=x.sourceInfo,_=x.walletId,j=x.networkId,O=x.accountId;if("string"===typeof(null==w?void 0:w.data.params))n=null==w?void 0:w.data.params;else{var T=null==w?void 0:w.data.params;o=T.event,i=T.pubkey,c=T.plaintext,u=T.ciphertext}var P=(0,L.default)({id:null!=(e=null==w?void 0:w.id)?e:"",closeWindowAfterResolved:!0}),C=(0,k.isHdWallet)({walletId:null!=_?_:""}),M=(0,F.useInteractWithInfo)({sourceInfo:w}),A=(0,h.useState)(!1),E=(0,m.default)(A,2),H=E[0],z=E[1],K=(0,h.useState)(!1),G=(0,m.default)(K,2),$=G[0],Z=G[1],q=(0,h.useState)(!1),X=(0,m.default)(q,2),Y=X[0],Q=X[1],J=(0,h.useMemo)((function(){return o?V.ESignType.signEvent:n?V.ESignType.signSchnorr:i&&c?V.ESignType.encrypt:i&&u?V.ESignType.decrypt:void 0}),[i,c,o,u,n]),ee=(0,R.default)(),te=(0,h.useCallback)(function(){var e=(0,p.default)((function*(e){try{if(!_)throw new Error("walletId is required");var t,r,a;if(Z(!0),J===V.ESignType.signEvent)t=yield I.default.serviceNostr.signEvent({walletId:_,networkId:null!=j?j:"",accountId:null!=O?O:"",password:e,event:null!=(r=o)?r:{},options:C?{host:null!=(a=null==w?void 0:w.hostname)?a:"",autoSign:H}:void 0});else if(J===V.ESignType.encrypt){var s,l;t=yield I.default.serviceNostr.encrypt({walletId:_,networkId:null!=j?j:"",accountId:null!=O?O:"",password:e,pubkey:null!=(s=i)?s:"",plaintext:null!=(l=c)?l:""})}else if(J===V.ESignType.decrypt){var d,p;t=yield I.default.serviceNostr.decrypt({walletId:_,networkId:null!=j?j:"",accountId:null!=O?O:"",password:e,pubkey:null!=(d=i)?d:"",ciphertext:null!=(p=u)?p:""})}else if(J===V.ESignType.signSchnorr){var m;t=yield I.default.serviceNostr.signSchnorr({walletId:_,networkId:null!=j?j:"",accountId:null!=O?O:"",password:e,sigHash:null!=(m=n)?m:""})}setTimeout((function(){var e,n;P.resolve({result:null!=(e=null==(n=t)?void 0:n.data)?e:null,close:ee})}),300)}catch(v){var h=v.key,y=v.info;h&&"onekey_error"!==h?f.default.show({title:g.formatMessage({id:h},null!=y?y:{})},{type:"error"}):f.default.show({title:(null==v?void 0:v.message)||v},{type:"error"}),P.reject()}finally{Z(!1)}}));return function(t){return e.apply(this,arguments)}}(),[_,j,O,ee,g,P,o,i,c,u,n,J,H,null==w?void 0:w.hostname,C]),ne=(0,h.useCallback)((function(){return b.navigate(U.NostrModalRoutes.NostrAuthentication,{walletId:null!=_?_:"",networkId:null!=j?j:"",accountId:null!=O?O:"",onDone:te})}),[_,j,O,b,te]),re=(0,h.useMemo)((function(){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.default,{type:"plain",onPress:function(){Q(!Y)},children:Y?g.formatMessage({id:"action__hide_details"}):g.formatMessage({id:"action__view_details"})}),Y&&(0,S.jsx)(l.default,{bg:"surface-default",borderColor:"border-default",borderWidth:1,borderRadius:12,paddingX:4,paddingY:3,my:4,children:(0,S.jsx)(d.default,{typography:"Body2",color:"text-subdued",children:JSON.stringify(o,null,2)})})]})}),[g,o,Y]),oe=(0,h.useState)(null),ae=(0,m.default)(oe,2),ie=ae[0],se=ae[1],le=(0,h.useMemo)((function(){var e;return J===V.ESignType.signEvent&&Number(null==(e=o)?void 0:e.kind)===V.EventKind.DM}),[J,o]);(0,h.useEffect)((function(){var e,t;le&&null!=(e=o)&&e.content&&I.default.serviceNostr.getEncryptedData(null==(t=o)?void 0:t.content).then((function(e){e&&e.plaintext&&se(e.plaintext)}))}),[o,le]);var ce=(0,h.useMemo)((function(){var e;return J===V.ESignType.signEvent&&Number(null==(e=o)?void 0:e.kind)===V.EventKind.DM&&ie&&ie.length>0?(0,S.jsxs)(l.default,{bg:"surface-default",borderColor:"border-default",borderWidth:1,borderRadius:12,paddingX:4,paddingY:3,mb:4,children:[(0,S.jsxs)(d.default,{mb:2,typography:"Body1Strong",children:[g.formatMessage({id:"form__nostr_plaintext"}),":"]}),(0,S.jsx)(d.default,{typography:"Body2",color:"text-subdued",children:ie})]}):null}),[g,J,o,ie]),de=(0,h.useMemo)((function(){var e,t;return J===V.ESignType.encrypt?c:J===V.ESignType.decrypt?u:J===V.ESignType.signSchnorr?n:null!=(e=null==(t=o)?void 0:t.content)?e:`(${g.formatMessage({id:"msg__no_content"})})`}),[J,o,c,u,n,g]),ue=(0,h.useMemo)((function(){var e,t,n,r;return J!==V.ESignType.signEvent?"":V.i18nSupportEventKinds.includes(Number(null==(e=o)?void 0:e.kind))?g.formatMessage({id:`msg__nostr_event_kind_${null!=(n=null==(r=o)?void 0:r.kind)?n:"unknown"}`}):g.formatMessage({id:"msg__nostr_event_kind_unknown"},{kind:null==(t=o)?void 0:t.kind})}),[g,J,o]),fe=(0,h.useMemo)((function(){return J===V.ESignType.encrypt?g.formatMessage({id:"msg__nostr_allow_website_to_encrypt_data"}):J===V.ESignType.decrypt?g.formatMessage({id:"msg__nostr_allow_website_to_decrypt_data"}):g.formatMessage({id:"msg__allow_sign_event"},{kind:ue})}),[g,J,ue]);return(0,S.jsx)(a.default,{header:g.formatMessage({id:"title__nostr_request"}),primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:$,isLoading:$},onPrimaryActionPress:function(){return ne()},secondaryActionTranslationId:"action__cancel",onModalClose:P.reject,onSecondaryActionPress:function(e){var t=e.close;P.reject(),t()},height:le?"580px":"500px",scrollViewProps:{contentContainerStyle:{paddingVertical:v?16:24,flex:1},children:(0,S.jsxs)(l.default,{h:"full",flexDirection:"column",justifyContent:"space-between",children:[(0,S.jsxs)(l.default,{children:[(0,S.jsx)(D.TxInteractInfo,{origin:null!=(t=null==M?void 0:M.url)?t:"",name:null==M?void 0:M.name,icon:null==M?void 0:M.icons[0],networkId:"",mb:0}),(0,S.jsxs)(l.default,{bg:"surface-default",borderColor:"border-default",borderWidth:1,borderRadius:12,paddingX:4,paddingY:3,my:4,children:[(0,S.jsx)(d.default,{mb:2,typography:"Heading",children:fe}),(0,S.jsx)(d.default,{typography:"Body2",color:"text-subdued",children:de})]}),ce,J===V.ESignType.signEvent&&re]}),J===V.ESignType.signEvent&&C&&(0,S.jsx)(l.default,{py:3,children:(0,S.jsx)(W.default,{containerStyle:{mr:2},isChecked:H,onChange:z,title:g.formatMessage({id:"content__remember_my_choice_and_dont_ask_again"})})})]})}})};var K=(0,n(324665).default)(),G=[{name:U.NostrModalRoutes.GetPublicKey,component:H},{name:U.NostrModalRoutes.SignEvent,component:z},{name:U.NostrModalRoutes.NostrAuthentication,component:o.default},{name:U.NostrModalRoutes.ExportPubkey,component:C}];const $=function(){var e=(0,r.default)();return(0,S.jsx)(K.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:G.map((function(e){return(0,S.jsx)(K.Screen,{name:e.name,component:e.component},e.name)}))})}},846447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var r=n(539144),o=n(877531),a=n(510374),i=n(321668),s=n(433996),l=n(453028),c=n(18861),d=n(866904),u=n(225447),f=n(669083),p=n(196234),m=n(202784),h=n(472719),g=n(783112),y=n(46486),v=n(626015),b=n(119804),x=n(45668),w=(n(213208),n(945821)),_=n(859071),k=n(493877),I=n(776553),j=n(552322);const O=function(){var e,t=(0,g.default)(),n=(0,h.useRoute)(),O=(0,k.default)(),T=null!=(e=n.params)?e:{},S=T.accountId,P=T.networkId,C=T.paymentRequest,M=T.paymentHash,A=(0,r.default)(),E=(0,_.useNetwork)({networkId:P}).network,R=(0,_.useAccount)({accountId:null!=S?S:null,networkId:null!=P?P:""}).account,D=(0,m.useMemo)((function(){return(0,v.shortenAddress)(C,57)}),[C]),N=(0,m.useState)(!1),L=(0,p.default)(N,2),B=L[0],F=L[1],U=(0,m.useCallback)((function(){(0,b.copyToClipboard)(C),f.default.show({title:t.formatMessage({id:"msg__copied"})})}),[C,t]),H=(0,m.useRef)();return(0,m.useEffect)((function(){if(M&&P&&S){var e=w.default.serviceLightningNetwork;return H.current=setInterval((function(){e.fetchSpecialInvoice({paymentHash:M,networkId:P,accountId:S}).then((function(e){e.is_paid&&(f.default.show({title:t.formatMessage({id:"msg__payment_received"})}),clearInterval(H.current),setTimeout((function(){null==O||O.goBack(),null==O||O.goBack()}),500))})).catch((function(e){console.error(e)}))}),(0,I.getTimeDurationMs)({seconds:5})),function(){H.current&&clearInterval(H.current)}}}),[M,P,S,t,O]),(0,j.jsx)(o.default,{footer:null,header:t.formatMessage({id:"action__receive"}),headerDescription:(0,j.jsxs)(c.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[(0,j.jsx)(u.default,{alt:"logoURI",source:{uri:null==E?void 0:E.logoURI},size:4,borderRadius:"full",mr:2}),(0,j.jsx)(d.default,{textAlign:"center",typography:"Caption",color:"text-subdued",children:null==E?void 0:E.name})]}),height:"auto",scrollViewProps:{contentContainerStyle:{justifyContent:"center",paddingVertical:A?16:24},children:C?(0,j.jsxs)(c.default,{mt:10,flex:1,flexDirection:"column",children:[(0,j.jsx)(c.default,{alignItems:"center",flexDirection:"column",children:(0,j.jsx)(c.default,{borderRadius:"24px",bgColor:"#FFFFFF",p:A?"16px":"11px",shadow:"depth.4",children:(0,j.jsx)(l.default,{value:C,logo:x,size:186,logoSize:40,logoMargin:2,logoBackgroundColor:"white"})})}),(0,j.jsxs)(c.default,{alignItems:"center",mt:A?"32px":"24px",maxW:"256px",mx:"auto",children:[(0,j.jsx)(d.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"Body1Strong"},noOfLines:1,children:null==R?void 0:R.name}),(0,j.jsx)(d.default,{typography:"Body2",color:"text-subdued",numberOfLines:50,children:B?C:D}),(0,j.jsx)(s.default,{mt:1,name:B?"EyeOutline":"EyeSlashOutline",type:"plain",hitSlop:8,onPress:function(){return F(!B)},borderWidth:y.default.hairlineWidth,borderColor:"border-default"}),(0,j.jsx)(i.default,{mt:"24px",mb:10,size:A?"lg":"base",leftIconName:"Square2StackMini",onPress:function(){U()},children:t.formatMessage({id:"action__copy"})})]})]}):(0,j.jsx)(a.default,{emoji:"\ud83d\udcb3",title:t.formatMessage({id:"empty__no_account_title"})})}})};var T=n(566147),S=n(634795),P=n(921311),C=n(206391),M=n.n(C),A=n(534159),E=n(481047),R=n(249915);const D=function(){var e,t,n=(0,g.default)(),a=(0,r.default)(),i=(0,h.useRoute)(),s=(0,_.useNavigation)(),l=null!=(e=i.params)?e:{},f=l.networkId,y=l.accountId,v=(0,_.useNetwork)({networkId:f}).network,b=(0,P.default)({mode:"onChange"}),x=b.control,k=b.handleSubmit,I=(0,b.watch)("amount"),O=(0,m.useState)({errorMessage:""}),C=(0,p.default)(O,2),D=C[0],N=C[1],L=(0,_.useNativeToken)(f),B=(0,m.useState)(!1),F=(0,p.default)(B,2),U=F[0],H=F[1],W=(0,m.useState)(null),V=(0,p.default)(W,2),z=V[0],K=V[1];(0,m.useEffect)((function(){f&&y&&w.default.serviceLightningNetwork.getInvoiceConfig({networkId:f,accountId:y}).then((function(e){K(e)}))}),[f,y]);var G=(0,m.useCallback)(function(){var e=(0,S.default)((function*(e){if(!U&&f&&y){H(!0);var t=e.amount||"0";try{var r=yield w.default.serviceLightningNetwork.createInvoice({networkId:f,accountId:y,amount:t,description:e.description});s.navigate(E.RootRoutes.Modal,{screen:E.ModalRoutes.Receive,params:{screen:R.ReceiveTokenModalRoutes.ReceiveInvoice,params:{networkId:f,accountId:y,paymentRequest:r.payment_request,paymentHash:r.payment_hash}}})}catch(i){console.error(i);var o=i.key,a=i.info;return o?(N({errorMessage:n.formatMessage({id:o},null!=a?a:{})}),!1):(N({errorMessage:n.formatMessage({id:"form__create_invoice_failed"})}),!1)}finally{H(!1)}}}));return function(t){return e.apply(this,arguments)}}(),[U,f,s,n,y]),$=k(G);return(0,j.jsx)(o.default,{header:n.formatMessage({id:"action__receive"}),headerDescription:(0,j.jsxs)(c.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[(0,j.jsx)(u.default,{alt:"logoURI",source:{uri:null==v?void 0:v.logoURI},size:4,borderRadius:"full",mr:2}),(0,j.jsx)(d.default,{textAlign:"center",typography:"Caption",color:"text-subdued",children:null==v?void 0:v.name})]}),hideSecondaryAction:!0,primaryActionTranslationId:"action__next",primaryActionProps:{isDisabled:U,isLoading:U},onPrimaryActionPress:function(){return $()},height:"418px",scrollViewProps:{contentContainerStyle:{flex:1,paddingVertical:a?16:24},children:(0,j.jsxs)(T.default,{children:[(0,j.jsx)(T.default.Item,{label:`${n.formatMessage({id:"content__amount"})}(${n.formatMessage({id:"form__sats__units"})})`,control:x,errorMessage:D.errorMessage,name:"amount",formControlProps:{width:"full"},rules:{min:{value:0,message:n.formatMessage({id:"form__field_too_small"},{0:0})},pattern:{value:/^[0-9]*$/,message:n.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(e){var t=new(M())(e);return t.isInteger()?null!=z&&z.maxReceiveAmount&&t.isGreaterThan(null==z?void 0:z.maxReceiveAmount)?n.formatMessage({id:"msg_receipt_amount_should_be_less_than_int_sats"},{0:null==z?void 0:z.maxReceiveAmount}):void 0:n.formatMessage({id:"form__field_only_integer"})}}},defaultValue:"",children:(0,j.jsx)(T.default.Input,{type:"number",size:a?"xl":"default",placeholder:n.formatMessage({id:"form__enter_amount"}),rightCustomElement:(0,j.jsx)(d.default,{px:4,typography:"Button1",color:"text-subdued",children:n.formatMessage({id:"form__sats__units"})})})}),(0,j.jsx)(A.FormatCurrencyTokenOfAccount,{accountId:null!=y?y:"",networkId:null!=(t=null==v?void 0:v.id)?t:"",token:L,value:new(M())(I),render:function(e){return(0,j.jsx)(d.default,{typography:"Body2",color:"text-subdued",mt:"-18px",children:e})}}),(0,j.jsx)(T.default.Item,{label:n.formatMessage({id:"form__description"}),control:x,name:"description",formControlProps:{width:"full"},rules:{maxLength:{value:40,message:n.formatMessage({id:"msg_description_can_be_up_to_int_characters"},{0:"40"})}},defaultValue:"",children:(0,j.jsx)(T.default.Textarea,{size:a?"xl":"default",totalLines:a?3:5,placeholder:n.formatMessage({id:"form__a_message_to_the_payer_optional"})})})]})}})};var N=n(737790),L=n(795116),B=n(259924),F=n(16280),U=n(497741),H=n(432986),W=n(613549),V=n(15304);const z=function(){var e,t,n,s,k,I,O,T,P,C=(0,g.default)(),M=(0,h.useRoute)(),A=null!=(e=M.params)?e:{},E=A.address,R=A.displayAddress,D=A.name,z=M.params,K=(0,r.default)(),G=(0,_.useActiveWalletAccount)(),$=null!=(t=null==z?void 0:z.account)?t:null==G?void 0:G.account,Z=null!=(n=null==z?void 0:z.network)?n:null==G?void 0:G.network,q=null!=(s=null==z?void 0:z.wallet)?s:null==G?void 0:G.wallet,X=null==z?void 0:z.customPath,Y=null!=(k=null==z?void 0:z.template)?k:null==$?void 0:$.template,Q=null==z?void 0:z.receiveInscription,J=(null==$?void 0:$.id)||"",ee=(null==Z?void 0:Z.id)||"",te=(null==q?void 0:q.id)||"",ne=null!=(I=null!=(O=null!=(T=null!=R?R:E)?T:null==$?void 0:$.displayAddress)?O:null==$?void 0:$.address)?I:"",re=null!=(P=null!=D?D:null==$?void 0:$.name)?P:"",oe=w.default.engine,ae="hw"===(null==q?void 0:q.type),ie=(0,m.useState)(!1),se=(0,p.default)(ie,2),le=se[0],ce=se[1],de=(0,m.useState)(!1),ue=(0,p.default)(de,2),fe=ue[0],pe=ue[1],me=(0,m.useState)(!1),he=(0,p.default)(me,2),ge=he[0],ye=he[1],ve=(0,m.useMemo)((function(){return Y&&X}),[Y,X]),be=(0,m.useCallback)((0,S.default)((function*(){return yield oe.getHWAddress(J,ee,te)})),[oe,J,ee,te]),xe=(0,m.useCallback)((0,S.default)((function*(){if(!X||!Y)return"";var e=X.split("/")[3].slice(0,-1);return(yield w.default.serviceDerivationPath.getHWAddressByTemplate({networkId:ee,walletId:te,index:parseInt(null!=e?e:"0",10),template:Y,fullPath:X})).address})),[X,Y,ee,te]),we=(0,m.useCallback)((0,S.default)((function*(){ye(!0);try{var e,t=(e=ve?yield xe():yield be())===(null!=E?E:null==$?void 0:$.address);t||f.default.show({title:C.formatMessage({id:"msg__address_is_inconsistent_please_check_manually"})},{type:"default"}),ce(t),console.log(e)}catch(n){H.deviceUtils.showErrorToast(n)}finally{ye(!1)}})),[be,xe,ve,C,E,$]),_e=(0,m.useCallback)((function(){(0,b.copyToClipboard)(ne),f.default.show({title:C.formatMessage({id:"msg__address_copied"})})}),[ne,C]),ke=(0,m.useMemo)((function(){return!!(0,W.isBTCNetwork)(ee)&&(!(0,F.isTaprootAddress)(ne)||!Q)}),[ee,Q,ne]),Ie=(0,m.useCallback)((function(){return ke?(0,j.jsx)(B.default,{dismiss:!1,alertType:"warn",containerProps:{width:"100%",mb:6},title:C.formatMessage({id:(0,F.isTaprootAddress)(ne)?"msg__donot_send_ordinal_inscriptions_or_brc20_tokens_to_this_address":"msg__donot_send_ordinal_inscriptions_or_brc20_tokens_to_non_taproot_address"})}):null}),[ke,C,ne]),je=(0,m.useMemo)((function(){return(0,j.jsxs)(c.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Ie(),(0,j.jsxs)(c.default,{borderRadius:"24px",alignItems:"center",justifyContent:"center",w:{base:296,md:208},h:{base:296,md:208},bgColor:"white",borderWidth:y.default.hairlineWidth,borderColor:"border-default",overflow:"hidden",children:[(0,j.jsx)(u.default,{source:U,w:{base:296,md:208},h:{base:296,md:208}}),(0,j.jsx)(L.default,{position:"absolute",top:0,left:0,right:0,bottom:0,p:4,children:(0,j.jsx)(d.default,{typography:{sm:"Body1",md:"Body2"},color:"#000",opacity:80,textAlign:"center",children:C.formatMessage({id:"content__check_the_address_on_device"})})})]}),(0,j.jsxs)(c.default,{alignItems:"center",mt:K?"32px":"24px",mx:"auto",maxWidth:"full",children:[(0,j.jsx)(d.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"Body1Strong"},noOfLines:1,children:re}),(0,j.jsx)(d.default,{mt:"8px",maxW:"256px",color:"text-subdued",textAlign:"center",typography:{sm:"Body1",md:"Body2"},w:"full",maxWidth:"full",children:ge?ne:(0,v.shortenAddress)(ne)}),(0,j.jsx)(i.default,{mt:"24px",type:"primary",size:K?"lg":"base",isLoading:ge,onPress:function(){return we()},children:C.formatMessage({id:"action__check_address"})}),ve?null:(0,j.jsx)(i.default,{mt:4,size:K?"lg":"base",onPress:function(){return pe(!0)},children:C.formatMessage({id:"action__dont_have_device"})})]})]})}),[Ie,C,K,re,ge,ne,ve,we]),Oe=ae&&!le&&!fe;return(0,j.jsx)(o.default,{footer:null,header:C.formatMessage({id:"action__receive"}),headerDescription:(0,j.jsxs)(c.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[Q?(0,j.jsx)(V.default,{width:16,height:16}):(0,j.jsx)(N.default,{size:4,token:{logoURI:null==Z?void 0:Z.logoURI,name:null==Z?void 0:Z.name}}),(0,j.jsx)(d.default,{textAlign:"center",typography:"Caption",color:"text-subdued",ml:2,children:Q?"Ordinals":null==Z?void 0:Z.name})]}),height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,justifyContent:"center",paddingVertical:K?16:24},children:ne?(0,j.jsx)(j.Fragment,{children:Oe?je:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(c.default,{mb:4,w:"auto",mx:"auto",children:[Ie(),(0,j.jsx)(d.default,{typography:"Body2",color:"text-subdued",textAlign:"center",children:C.formatMessage({id:"content__receive_description"})}),fe&&(0,j.jsx)(d.default,{typography:"Body2",color:"text-warning",textAlign:"center",children:C.formatMessage({id:"content__address_not_confirmed_on_device"})})]}),(0,j.jsxs)(c.default,{flex:1,justifyContent:"center",flexDirection:"column",children:[(0,j.jsx)(c.default,{alignItems:"center",flexDirection:"column",children:(0,j.jsx)(c.default,{borderRadius:"24px",bgColor:"#FFFFFF",p:K?"16px":"11px",shadow:"depth.4",children:(0,j.jsx)(l.default,{value:ne,logo:x,size:186,logoSize:40,logoMargin:2,logoBackgroundColor:"white"})})}),(0,j.jsxs)(c.default,{alignItems:"center",mt:K?"32px":"24px",maxW:"256px",mx:"auto",children:[(0,j.jsx)(d.default,{textAlign:"center",typography:{sm:"DisplayMedium",md:"Body1Strong"},noOfLines:1,children:re}),(0,j.jsx)(d.default,{mt:"8px",color:"text-subdued",textAlign:"center",typography:{sm:"Body1",md:"Body2"},w:"full",maxWidth:"full",children:ne}),(0,j.jsx)(i.default,{mt:"24px",size:K?"lg":"base",leftIconName:"Square2StackMini",onPress:function(){_e()},children:C.formatMessage({id:"action__copy_address"})})]})]})]})}):(0,j.jsx)(a.default,{emoji:"\ud83d\udcb3",title:C.formatMessage({id:"empty__no_account_title"})})}})};var K=(0,n(324665).default)(),G=[{name:R.ReceiveTokenModalRoutes.ReceiveToken,component:z},{name:R.ReceiveTokenModalRoutes.CreateInvoice,component:D},{name:R.ReceiveTokenModalRoutes.ReceiveInvoice,component:O}];const $=function(){var e=(0,r.default)();return(0,j.jsx)(K.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:G.map((function(e){return(0,j.jsx)(K.Screen,{name:e.name,component:e.component},e.name)}))})}},748549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Aa});var r=n(256666),o=n(539144),a=n(53594),i=n(877531),s=n(785192),l=n(18861),c=n(669083),d=n(634795),u=n(361301),f=n(470310),p=n(866904),m=n(795116),h=n(435581),g=n(196234),y=n(202784),v=n(472719),b=n(783112),x=n(46486),w=n(749888),_=n(945821),k=n(859071),I=n(826771),j=n(958698),O=n(481047),T=n(280553),S=n(552322);const P=function(){var e,t,n=(0,b.default)(),r=(0,o.default)(),a=(0,v.useRoute)(),P=(0,k.useNavigation)(),C=null!=(e=a.params)?e:{},M=C.walletId,A=C.networkId,E=C.accountId,R=C.lnurlDetails,D=C.isSendFlow,N=(0,j.default)(),L=N.sourceInfo,B=N.walletId,F=N.networkId,U=N.accountId,H=N.lnurlDetails,W=D?M:B,V=D?A:F,z=D?E:U,K=D?R:H,G=(0,I.default)({id:null!=(t=null==L?void 0:L.id)?t:"",closeWindowAfterResolved:!0}),$=(0,k.useAccount)({accountId:null!=z?z:"",networkId:null!=V?V:""}).account,Z=(0,y.useState)(!1),q=(0,g.default)(Z,2),X=q[0],Y=q[1],Q=(0,w.default)(),J=(0,y.useState)({allowText:"",title:"",actionI18nId:"action__login__lnurl",successText:""}),ee=(0,g.default)(J,2),te=ee[0],ne=ee[1];(0,y.useEffect)((function(){"register"!==K.action?"link"!==K.action?"auth"!==K.action?ne({allowText:n.formatMessage({id:"content__allow_dapp_to_login_with_onekey"}),title:n.formatMessage({id:"title__lnurl_login"}),actionI18nId:"action__login__lnurl",successText:n.formatMessage({id:"msg__lnurl_login_successful"})}):ne({allowText:n.formatMessage({id:"content__allow_dapp_to_connect_with_onekey"}),title:n.formatMessage({id:"title__lnurl_authentication"}),actionI18nId:"action__authorize__lnurl",successText:n.formatMessage({id:"msg__lnurl_authorization_successful"})}):ne({allowText:n.formatMessage({id:"content__allow_dapp_to_link_with_onekey"}),title:n.formatMessage({id:"title__lnurl_link"}),actionI18nId:"action__link__lnurl",successText:n.formatMessage({id:"msg__lnurl_link_successful"})}):ne({allowText:n.formatMessage({id:"content__allow_dapp_to_register_with_onekey"}),title:n.formatMessage({id:"title__lnurl_register"}),actionI18nId:"action__register__lnurl",successText:n.formatMessage({id:"msg__lnurl_register_successful"})})}),[K.action,n]);var re=(0,y.useCallback)((function(e,t){return(0,S.jsxs)(f.default,{alignItems:"flex-start",children:[(0,S.jsx)(m.default,{bgColor:"surface-success-subdued",borderRadius:"full",width:9,height:9,children:(0,S.jsx)(h.default,{size:20,color:"icon-success",name:e})}),(0,S.jsx)(p.default,{ml:4,typography:"Body1",color:"text-default",children:t})]})}),[]),oe=(0,y.useMemo)((function(){return"auth"===K.action?(0,S.jsxs)(u.default,{space:4,children:[re("EyeOutline",n.formatMessage({id:"content__watch_your_account_balance_and_activity"})),re("CheckSolid",n.formatMessage({id:"content__allow_dapp_to_register_with_onekey"})),re("CheckSolid",n.formatMessage({id:"content__request_invoices_and_send_transaction"}))]}):re("CheckSolid",n.formatMessage({id:"content__request_lnurl_linkingkey"}))}),[re,K,n]),ae=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){try{if(!W)throw new Error("walletId is required");Y(!0),yield _.default.serviceLightningNetwork.lnurlAuth({password:e,walletId:W,networkId:null!=V?V:"",lnurlDetail:K}),c.default.show({title:te.successText}),setTimeout((function(){D?(Q(),Q()):G.resolve({close:Q})}),300)}catch(o){var t=o.key,r=o.info;t&&"onekey_error"!==t?c.default.show({title:n.formatMessage({id:t},null!=r?r:{})},{type:"error"}):c.default.show({title:(null==o?void 0:o.message)||o},{type:"error"}),Q(),D||G.reject()}finally{Y(!1)}}));return function(t){return e.apply(this,arguments)}}(),[K,W,V,Q,te.successText,n,G,D]),ie=(0,y.useCallback)((function(){return P.navigate(O.SendModalRoutes.LNURLAuthentication,{walletId:W,onDone:ae})}),[W,P,ae]);return(0,S.jsx)(i.default,{header:te.title,headerDescription:(0,S.jsx)(T.LNModalDescription,{networkId:V}),primaryActionTranslationId:te.actionI18nId,primaryActionProps:{isDisabled:X,isLoading:X},onPrimaryActionPress:function(){return ie()},secondaryActionTranslationId:"action__cancel",onModalClose:D?void 0:G.reject,onSecondaryActionPress:function(e){var t=e.close;D?null!=P&&null!=P.canGoBack&&P.canGoBack()&&P.goBack():(G.reject(),t())},height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,paddingVertical:r?16:24},children:(0,S.jsxs)(l.default,{children:[(0,S.jsxs)(l.default,{children:[(0,S.jsx)(p.default,{typography:"Body2Strong",children:n.formatMessage({id:"form__request_from"})}),(0,S.jsxs)(l.default,{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",borderWidth:x.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",mt:1,py:2,px:3,bgColor:"action-secondary-default",children:[(0,S.jsx)(p.default,{typography:"Body1Strong",color:"text-default",children:K.domain}),(0,S.jsx)(p.default,{typography:"Body2Mono",color:"text-subdued",lineHeight:"1.5em",children:new URL(K.url).host})]})]}),(0,S.jsx)(p.default,{my:4,typography:"Heading",children:te.allowText}),(0,S.jsx)(l.default,{py:4,children:oe}),(0,S.jsx)(s.default,{my:4}),(0,S.jsxs)(f.default,{alignItems:"center",justifyContent:"space-between",children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:"Account"}),(0,S.jsx)(p.default,{typography:"Body2Strong",children:null==$?void 0:$.name})]})]})}})};var C=n(921311),M=n(817620),A=n.n(M),E=n(413888),R=n.n(E),D=n(254595),N=n(920453),L=n(150796),B=n(566147),F=n(206391),U=n.n(F),H=n(534159),W=n(261961),V=n(517972);const z=function(e){var t,n=e.accountId,r=e.networkId,a=e.useFormReturn,i=e.amount,s=e.minimumAmount,c=e.maximumAmount,d=e.origin,u=e.descriptionLabelId,f=e.memo,m=e.commentAllowedLength,h=e.metadata,v=e.siteImage,w=e.nativeToken,k=e.amountReadOnly,I=(0,b.default)(),j=(0,o.default)(),O=a.control,T=(0,a.watch)("amount"),P=(0,y.useMemo)((function(){return Number(s)}),[s]),C=(0,y.useMemo)((function(){return Number(c)}),[c]),M=(0,V.useInteractWithInfo)({sourceInfo:{id:"mockId",hostname:"",scope:"webln",origin:d,data:{method:"sendPayment"}}}),A=(0,y.useState)(null),E=(0,g.default)(A,2),R=E[0],D=E[1];(0,y.useEffect)((function(){r&&n&&_.default.serviceLightningNetwork.getInvoiceConfig({networkId:r,accountId:n}).then((function(e){D(e)}))}),[r,n]);var N=(0,y.useMemo)((function(){if(!(Number(i)>0||P>0&&P===C))return P>0&&C>0?(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:I.formatMessage({id:"form__between_int_and_int_sats"},{min:P,max:C<P?null==R?void 0:R.maxSendAmount:Math.min(C,Number(null==R?void 0:R.maxSendAmount))})}):void 0}),[i,P,C,I,R]),L=(0,y.useMemo)((function(){if(!h||!h.length)return null;try{return JSON.parse(h).map((function(e){var t=(0,g.default)(e,2),n=t[0],r=t[1];if("text/plain"===n||"text/long-desc"===n)return(0,S.jsx)(B.default.Item,{label:I.formatMessage({id:"form__payment_description"}),name:"description",control:O,formControlProps:{width:"full"},children:(0,S.jsx)(l.default,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderWidth:x.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",py:2,px:3,bgColor:"action-secondary-default",children:(0,S.jsx)(p.default,{typography:"Body2Mono",color:"text-subdued",lineHeight:"1.5em",numberOfLines:10,children:r})})},r)})).filter(Boolean)}catch(e){console.error(e)}return[]}),[O,I,h]),U=(0,y.useMemo)((function(){var e;return C&&C>0&&C>P&&C<Number(null==R?void 0:R.maxSendAmount)&&(e=C),{min:{value:P,message:I.formatMessage({id:"form__field_too_small"},{0:P})},max:e?{value:e,message:I.formatMessage({id:"form__field_too_large"},{0:e})}:void 0,pattern:{value:/^[0-9]*$/,message:I.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!(P<=0)||e){var t=new F.BigNumber(e);return t.isInteger()?null!=R&&R.maxSendAmount&&t.isGreaterThan(null==R?void 0:R.maxSendAmount)?I.formatMessage({id:"msg__the_sending_amount_cannot_exceed_int_sats"},{0:null==R?void 0:R.maxSendAmount}):void 0:I.formatMessage({id:"form__field_only_integer"})}}}}),[P,C,I,null==R?void 0:R.maxSendAmount]);return(0,S.jsxs)(B.default,{children:[(0,S.jsx)(B.default.Item,{label:I.formatMessage({id:"form__request_from"}),name:"requestFrom",control:O,formControlProps:{width:"full"},children:(0,S.jsx)(W.TxInteractInfo,{origin:null!=(t=null==M?void 0:M.url)?t:"",name:null==M?void 0:M.name,icon:null!=v?v:null==M?void 0:M.icons[0],networkId:r,mb:0})}),L,f&&f.length?(0,S.jsx)(B.default.Item,{label:I.formatMessage({id:null!=u?u:"form__description__optional"}),control:O,name:"description",formControlProps:{width:"full"},rules:{maxLength:{value:40,message:I.formatMessage({id:"msg_description_can_be_up_to_int_characters"},{0:"40"})}},defaultValue:"",children:(0,S.jsx)(l.default,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderWidth:x.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",py:2,px:3,bgColor:"action-secondary-default",children:(0,S.jsx)(p.default,{typography:"Body2Mono",color:"text-subdued",lineHeight:"1.5em",numberOfLines:10,children:f})})}):null,(0,S.jsx)(B.default.Item,{label:`${I.formatMessage({id:"content__amount"})}`,control:O,name:"amount",formControlProps:{width:"full"},rules:U,isLabelAddonActions:!1,labelAddon:N,children:k?(0,S.jsx)(l.default,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderWidth:x.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",py:2,px:3,bgColor:"action-secondary-default",children:(0,S.jsx)(p.default,{typography:"Body2Mono",color:"text-subdued",lineHeight:"1.5em",children:`${Number(i)} ${I.formatMessage({id:"form__sats__units"})}`})}):(0,S.jsx)(B.default.Input,{type:"number",size:j?"xl":"default",placeholder:I.formatMessage({id:"form__enter_amount"}),isReadOnly:k,rightCustomElement:(0,S.jsx)(p.default,{px:4,typography:"Button1",color:"text-subdued",children:I.formatMessage({id:"form__sats__units"})})})}),(0,S.jsx)(H.FormatCurrencyTokenOfAccount,{accountId:n,networkId:r,token:w,value:new F.BigNumber(T),render:function(e){return(0,S.jsx)(p.default,{typography:"Body2",color:"text-subdued",mt:"-18px",children:e})}}),Number(m)>0&&(0,S.jsx)(B.default.Item,{label:I.formatMessage({id:"form__comment_optional"}),control:O,name:"comment",formControlProps:{width:"full"},rules:{maxLength:{value:Number(m),message:I.formatMessage({id:"msg_description_can_be_up_to_int_characters"},{0:m})}},defaultValue:"",children:(0,S.jsx)(B.default.Textarea,{size:j?"xl":"default",totalLines:j?3:5})})]})};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=n(648431);const Z=function(){var e,t,n,r=(0,b.default)(),a=(0,o.default)(),s=(0,v.useRoute)(),l=(0,k.useNavigation)(),u=null!=(e=s.params)?e:{},f=u.networkId,p=u.accountId,m=u.lnurlDetails,h=u.isSendFlow,x=(0,j.default)(),w=x.sourceInfo,P=x.networkId,M=x.accountId,A=x.lnurlDetails,E=h?f:P,R=h?p:M,D=h?m:A,N=(0,I.default)({id:null!=(t=null==w?void 0:w.id)?t:"",closeWindowAfterResolved:!0}),L=(0,k.useNetwork)({networkId:E}).network,B=Math.floor(+D.minWithdrawable/1e3),F=Math.floor(+D.maxWithdrawable/1e3),U=(0,C.default)({defaultValues:{amount:B>0&&B===F?`${B}`:""}}),H=U.handleSubmit,W=(0,k.useNativeToken)(E),V=(0,y.useState)(!1),z=(0,g.default)(V,2),K=z[0],G=z[1],Z=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){if(!K&&E&&R){G(!0);var t=e.amount||"0";try{var n=yield _.default.serviceLightningNetwork.createInvoice({networkId:E,accountId:R,amount:t,description:D.defaultDescription}),o=D.callback,a=D.k1;yield _.default.serviceLightningNetwork.fetchLnurlWithdrawRequestResult({callback:o,k1:a,pr:n.payment_request});var i={networkId:E,accountId:R,txid:"unknown_txid",type:"LNURLWithdraw",successAction:{tag:"withdrawer",amount:`${t} ${r.formatMessage({id:"form__sats__units"})}`,domain:D.domain}};l.navigate(O.SendModalRoutes.SendFeedbackReceipt,i),h||N.resolve()}catch(f){var s=f.key,d=f.info,u="";s&&"onekey_error"!==s?(u=r.formatMessage({id:s},null!=d?d:{}),c.default.show({title:u},{type:"error"})):(u=null==f?void 0:f.message,c.default.show({title:u||f},{type:"error"})),h||setTimeout((function(){N.resolve({result:{status:"ERROR",reason:u}})}),1500)}finally{G(!1)}}}));return function(t){return e.apply(this,arguments)}}(),[K,E,l,r,R,D,N,h]),q=H(Z);return(0,S.jsx)(i.default,{header:r.formatMessage({id:"title__lnurl_withdraw"}),headerDescription:(0,S.jsx)(T.LNModalDescription,{networkId:E}),primaryActionTranslationId:"action__withdraw",primaryActionProps:{isDisabled:K,isLoading:K},onPrimaryActionPress:function(){return q()},secondaryActionTranslationId:"action__cancel",onModalClose:function(){h||N.reject()},onSecondaryActionPress:function(e){var t=e.close;h?null!=l&&null!=l.canGoBack&&l.canGoBack()&&l.goBack():(N.reject(),t())},height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,paddingVertical:a?16:24},children:(0,S.jsx)($.default,{accountId:null!=R?R:"",networkId:null!=(n=null==L?void 0:L.id)?n:"",useFormReturn:U,amount:B===F?B:void 0,amountReadOnly:B===F,minimumAmount:B,maximumAmount:F,origin:new URL(D.url).origin,descriptionLabelId:"form__withdraw_description",memo:D.defaultDescription,nativeToken:W})}})};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Y=function(){var e,t,n=(0,b.default)(),r=(0,o.default)(),a=(0,v.useNavigation)(),s=(0,j.default)(),l=s.sourceInfo,u=s.networkId,f=s.accountId,p=(0,y.useMemo)((function(){return{networkId:null!=u?u:"",accountId:null!=f?f:""}}),[u,f]),m=(0,k.useActiveSideAccount)(p),h=m.account,x=m.network,w=null==l?void 0:l.data.params,O=(0,I.default)({id:null!=(e=null==l?void 0:l.id)?e:""}),P=(0,C.default)(),M=P.handleSubmit,A=(0,k.useNativeToken)(u),E=(0,N.useSingleToken)(null!=u?u:"","").token,R=(0,y.useState)(!1),D=(0,g.default)(R,2),B=D[0],F=D[1],H=(0,y.useRef)(),W=(0,y.useState)(),V=(0,g.default)(W,2),K=V[0],G=V[1];(0,y.useEffect)((function(){w&&_.default.serviceLightningNetwork.decodedInvoice({payReq:w,networkId:null!=u?u:"",accountId:null!=f?f:""}).then((function(e){G(e)}))}),[w,u,f]);var $=(0,y.useMemo)((function(){var e;return null!=K&&K.millisatoshis?new(U())(null==K?void 0:K.millisatoshis).dividedBy(1e3):new(U())(null!=(e=null==K?void 0:K.satoshis)?e:"0")}),[K]);(0,y.useEffect)((function(){P.setValue("amount",$.toFixed())}),[$,P]);var Z=(0,y.useMemo)((function(){var e=null==K?void 0:K.tags.find((function(e){return"description"===e.tagName}));return null==e?void 0:e.data}),[K]),q=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){if(!B){F(!0);var t=_.default.engine;try{var r,o=yield t.buildEncodedTxFromTransfer({networkId:null!=u?u:"",accountId:null!=f?f:"",transferInfo:X(X({},p),{},{from:"",amount:e.amount,to:w})});a.navigate(L.SendModalRoutes.SendConfirm,{accountId:null!=f?f:"",networkId:null!=u?u:"",encodedTx:o,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:L.SendModalRoutes.WeblnSendPayment,payload:{payloadType:"Transfer",account:h,network:x,token:X(X({},E),{},{sendAddress:"",idOnNetwork:null!=(r=null==E?void 0:E.tokenIdOnNetwork)?r:""}),to:w,value:o.amount,isMax:!1},sourceInfo:l,onFail:function(e){console.log("payfail: ",e),O.reject()}})}catch(d){console.error(d);var i=d.key,s=d.info;if(i&&"onekey_error"!==i)return c.default.show({title:n.formatMessage({id:i},null!=s?s:{})},{type:"error"}),!1;c.default.show({title:(null==d?void 0:d.message)||d},{type:"error"})}finally{F(!1)}}}));return function(t){return e.apply(this,arguments)}}(),[h,n,B,a,x,w,E,p,f,u,O,l]),Y=M(q);return(0,S.jsx)(i.default,{header:n.formatMessage({id:"title__invoice_pay"}),headerDescription:(0,S.jsx)(T.LNModalDescription,{networkId:u}),primaryActionTranslationId:"action__next",primaryActionProps:{isDisabled:B,isLoading:B},onPrimaryActionPress:function(e){var t=e.close;H.current=t,Y()},secondaryActionTranslationId:"action__cancel",onModalClose:O.reject,onSecondaryActionPress:function(e){var t=e.close;O.reject(),t()},height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,paddingVertical:r?16:24},children:(0,S.jsx)(z,{isWebln:!0,accountId:null!=f?f:"",networkId:null!=u?u:"",useFormReturn:P,amount:$.toNumber(),origin:null!=(t=null==l?void 0:l.origin)?t:"",memo:Z,nativeToken:A,amountReadOnly:0!==$.toNumber(),descriptionLabelId:"title__invoice_description"})}})};var Q=n(510374),J=n(706010);function ee(e){var t,n=e.children,r=e.titleI18nKey,o=(0,b.default)(),a=(0,v.useRoute)().params||{},i=a.networkId,s=a.accountId,l=a.sourceInfo,c=(0,I.default)({id:null!=(t=null==l?void 0:l.id)?t:"",closeOnError:!0});return s?n:(0,S.jsx)(J.BaseSendModal,{header:o.formatMessage({id:r||"empty__no_account_title"}),accountId:s,networkId:i,secondaryActionTranslationId:"action__close",onSecondaryActionPress:function(e){var t=e.close;c.reject(),t()},hidePrimaryAction:!0,onModalClose:function(){c.reject()},children:(0,S.jsx)(m.default,{flex:1,minH:"300px",testID:"BaseSendRouteScreen-EmptyAccountView",children:(0,S.jsx)(Q.default,{emoji:"\ud83d\udcb3",title:o.formatMessage({id:"empty__no_account_title"})})})})}ee.wrap=function(e,t){return function(){return(0,S.jsx)(ee,{titleI18nKey:t,children:(0,S.jsx)(e,{})})}};var te=n(402814),ne=n(719392),re=n(259924),oe=n(453982),ae=n.n(oe),ie=n(459740),se=n(655697),le=n(398514),ce=n(613549),de=n(814817),ue=n(213208),fe=n(887371),pe=n(545754),me=n(411987),he=n(695058);function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,he.default)(e);if(t){var o=(0,he.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,me.default)(this,n)}}var ye=function(e){(0,pe.default)(n,e);var t=ge(n);function n(){return t.apply(this,arguments)}return n.prototype.render=function(){return this.state.error?(0,S.jsx)(p.default,{children:this.state.error.message}):this.props.children},(0,fe.default)(n)}(n(174276).ErrorBoundaryBase),ve=n(255281),be=n.n(ve),xe=n(362691),we=n(747225),_e=n(322987),ke=n(830631),Ie=n(627009),je=n(336782),Oe=n(530483);function Te(e){var t,n=e.networkId,r=e.accountAddress,o=e.nativeToken,a=e.isWatchingAccount,i=e.balanceInsufficient,s=e.isNetworkNotMatched,c=e.isAccountNotMatched,d=e.editableNonceStatus,f=e.isNetworkBusy,p=e.isPendingTxSameNonce,m=e.isPendingTxSameNonceWithLowerGas,h=e.isLowMaxFee,g=e.pendingTxCount,y=e.isLNExceedTransferLimit,v=e.lightingNetworkTransferConfig,x=e.prepaidFee,w=e.fee,I=e.isListOrderPsbt,j=[],O=(0,b.default)(),T=(0,we.useTools)(n),P=(0,k.useNetwork)({networkId:n}).network;if(c&&j.push((0,S.jsx)(xe.FormErrorMessage,{isAlertStyle:!0,message:O.formatMessage({id:"msg__mismatched_account"})})),s&&j.push((0,S.jsx)(xe.FormErrorMessage,{isAlertStyle:!0,message:O.formatMessage({id:"msg__mismatched_networks"})})),a&&j.push((0,S.jsx)(xe.FormErrorMessage,{isAlertStyle:!0,message:O.formatMessage({id:"form__error_trade_with_watched_acocunt"})})),i){var C,M,A,E=be()(T,{title:"GasShop"});j.push(x?(0,S.jsx)(xe.FormErrorMessage,{isAlertStyle:!0,message:O.formatMessage({id:"msg__your_str_balance_is_insufficient_desc"},{0:`${null!=w?w:""} ${null!=(C=null==o?void 0:o.symbol)?C:""}`})}):(0,S.jsx)(xe.FormErrorMessage,{isAlertStyle:!0,action:null!=E&&E.link?O.formatMessage({id:"action__buy"}):void 0,onAction:function(){E&&E.link&&(0,Ie.openUrl)(E.link.replace("{address}",null!=r?r:""))},message:O.formatMessage({id:"msg__str_is_required_for_network_fees_top_up_str_to_make_tx"},{0:null!=(M=null==o?void 0:o.symbol)?M:"",1:null!=(A=null==P?void 0:P.name)?A:""})}))}(m||p||d!==Oe.EditableNonceStatusEnum.Less||j.push((0,S.jsx)(xe.FormErrorMessage,{alertType:"warn",isAlertStyle:!0,message:O.formatMessage({id:"msg__nonce_has_been_used_and_may_cause_this_transaction_to_fail"})})),d===Oe.EditableNonceStatusEnum.Greater&&j.push((0,S.jsx)(xe.FormErrorMessage,{alertType:"warn",isAlertStyle:!0,message:O.formatMessage({id:"msg__nonce_is_higher_means_the_tx_will_queued_until_tx_before_are_confirmed"})})),m&&j.push((0,S.jsx)(xe.FormErrorMessage,{isAlertStyle:!0,alertType:"warn",message:O.formatMessage({id:"msg__transaction_with_the_same_nonce_already_exist_please_pay_a_higher_network_fee_otherwise_the_transaction_may_fail"})})),!m&&d!==Oe.EditableNonceStatusEnum.Less&&h&&j.push((0,S.jsx)(xe.FormErrorMessage,{alertType:"warn",isAlertStyle:!0,message:O.formatMessage({id:"msg__eth_tx_warning_future_tx_will_queue"})})),g&&"0"!==g&&j.push((0,S.jsx)(xe.FormErrorMessage,{alertType:"info",isAlertStyle:!0,message:O.formatMessage({id:"msg__eth_tx_warning_tx_will_be_queued_str"},{number:g}),action:O.formatMessage({id:"action__view"}),onAction:function(){_.default.dispatch((0,ke.setHomeTabName)(je.WalletHomeTabEnum.History)),_e.navigationShortcuts.navigateToHome()}})),f&&j.push((0,S.jsx)(xe.FormErrorMessage,{alertType:"info",isAlertStyle:!0,message:O.formatMessage({id:"msg__eth_tx_warning_network_busy_gas_is_high"})})),I&&j.push((0,S.jsx)(xe.FormErrorMessage,{alertType:"info",isAlertStyle:!0,message:O.formatMessage({id:"msg__psbt_will_not_broadcast_to_blockchain_now_no_need_to_pay_tx_fee"})})),y)&&j.push((0,S.jsx)(xe.FormErrorMessage,{alertType:"error",isAlertStyle:!0,message:O.formatMessage({id:"msg__the_sending_amount_cannot_exceed_int_sats"},{0:null!=(t=null==v?void 0:v.maxSendAmount)?t:""})}));return j&&j.length?(0,S.jsx)(u.default,{testID:"SendConfirmErrorsAlert",space:2,pb:4,children:j.map((function(e,t){return(0,S.jsx)(l.default,{children:e},t)}))}):null}var Se=["children","encodedTxs","decodedTxs","confirmDisabled","feeInfoPayloads","feeInfoLoading","totalFeeInNative","handleConfirm","updateEncodedTxsBeforeConfirm","autoConfirm","sourceInfo","feeInput","tokenTransferInfo","isWaitingTxReady","isSingleTransformMode","batchSendConfirmParams"];function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e){var t=e.children,n=e.encodedTxs,r=e.decodedTxs,a=e.confirmDisabled,i=e.feeInfoPayloads,s=e.feeInfoLoading,c=e.totalFeeInNative,u=e.handleConfirm,h=e.updateEncodedTxsBeforeConfirm,g=e.autoConfirm,v=(e.sourceInfo,e.feeInput),x=e.tokenTransferInfo,w=e.isWaitingTxReady,_=e.isSingleTransformMode,I=e.batchSendConfirmParams,j=(0,ie.default)(e,Se),O=I.bulkType,T=n[0],P=r[0],C=i[0],M=(0,b.default)(),A=(0,o.default)(),E=(0,k.useActiveSideAccount)(e),R=E.networkImpl,D=E.networkId,L=E.accountId,B=E.accountAddress,F=E.network,H=(0,N.useNativeToken)(D),W=(0,k.useTokenBalanceWithoutFrozen)({networkId:D,accountId:L,token:H,fallback:"0",useRecycleBalance:!0}),V=(0,y.useMemo)((function(){return O===se.BulkTypeEnum.ManyToMany||O===se.BulkTypeEnum.ManyToOne}),[O]),z=(0,y.useMemo)((function(){var e=new(U())(0);if(V)return!1;for(var t of r)for(var n of t.actions){var o,a;if(n.type===le.IDecodedTxActionType.NATIVE_TRANSFER)e=e.plus(null!=(o=null==(a=n.nativeTransfer)?void 0:a.amount)?o:0)}return new(U())(null!=W?W:"0").lt(e.plus(c))}),[V,W,c,r]),K=(0,y.useMemo)((function(){return(0,de.isWatchingAccount)({accountId:L})}),[L]),G=(0,y.useMemo)((function(){if(V)return!1;if(!T)return!1;if(R===ce.IMPL_EVM){var e=T;if(e&&B&&ae()(e.from)!==ae()(B))return!0}return!1}),[B,T,V,R]),$=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var t=e.close,r=e.onClose,o=n;o&&(h&&(o=yield h(o)),u({close:t,onClose:r,encodedTxs:o}))}));return function(t){return e.apply(this,arguments)}}(),[n,u,h]),Z=(0,S.jsxs)(S.Fragment,{children:[!g&&(0,S.jsx)(Te,{nativeToken:H,isWatchingAccount:K,balanceInsufficient:z,isAccountNotMatched:G}),null!=F&&F.settings.nativeSupportBatchTransfer||V?null:(0,S.jsx)(l.default,{mb:3,children:(0,S.jsx)(re.default,{dismiss:!1,title:M.formatMessage({id:"content__do_not_transfer_to_any_exchange_accounts_to_avoid_loss_of_assets"}),alertType:"warn"})}),v&&(0,S.jsx)(l.default,{mb:3,children:v}),x&&(0,S.jsx)(l.default,{mb:3,children:x}),!_&&(0,S.jsx)(p.default,{typography:"Caption",color:"text-subdued",mb:6,children:M.formatMessage({id:"content__to_ensure_that_the_transaction_will_be_successfully_sent"})})]}),q=(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ye,{children:t}),null]});return(0,S.jsx)(J.BaseSendModal,Ce(Ce({size:A||_?"xs":"xl",height:"598px",primaryActionTranslationId:"action__confirm",primaryActionProps:{isDisabled:K||z||G||s||!C||!T||!P||w||a},secondaryActionTranslationId:"action__cancel",header:M.formatMessage({id:_?"form__transaction":"form__multiple_transactions"}),onSecondaryActionPress:function(e){return(0,e.close)()},onPrimaryActionPress:$},j),{},{scrollViewProps:{children:(0,S.jsxs)(S.Fragment,{children:[w&&(0,S.jsx)(m.default,{minH:"320px",w:"full",h:"full",flex:1,children:(0,S.jsx)(ne.default,{size:"lg"})}),!w&&(A||_?(0,S.jsxs)(S.Fragment,{children:[Z,q]}):(0,S.jsxs)(f.default,{space:6,children:[(0,S.jsx)(l.default,{flex:1,children:q}),(0,S.jsx)(l.default,{flex:1,children:Z})]}))]})}}))}var Ae=n(418687),Ee=n(107867),Re=n(854787),De=n(301842),Ne=n.n(De),Le=n(516760),Be=n.n(Le),Fe=n(545455),Ue=n.n(Fe),He=n(232082),We=n(66751),Ve=n(33809),ze=n(371905),Ke=n(589427);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){var t=e.title,n=e.content;return(0,S.jsxs)(l.default,{flex:1,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:t}),(0,S.jsx)(p.default,{typography:"Body1Strong",mt:1,children:n})]})}function qe(e){for(var t,n,r,o,a,i=e.accountId,c=e.networkId,d=e.payloadInfo,u=e.bulkType,p=e.amountType,m=e.feeInfoPayloads,h=(0,b.default)(),g=null!=(t=null==d?void 0:d.transferInfos)?t:[],v=g[0],x=v.token,w=new(U())(0),_=new Set,I=(0,y.useMemo)((function(){return u===se.BulkTypeEnum.ManyToMany||u===se.BulkTypeEnum.ManyToOne}),[u]),j=0;j<g.length;j+=1){var O,T;if(w=w.plus(g[j].amount),p===ze.AmountTypeEnum.All&&I)w=w.minus(null!=(O=null==m||null==(T=m[j])?void 0:T.current.totalNative)?O:0);_.add(g[j].to.toLowerCase())}var P=(0,N.useSingleToken)(c,null!=x?x:"").token,C=(0,N.useNativeToken)(c),M=(0,k.useTokenBalance)({accountId:i,networkId:c,token:$e($e({},P),{},{sendAddress:v.tokenSendAddress}),fallback:"0",useRecycleBalance:null==(n=null==P?void 0:P.isNative)||n}),A=(0,k.useTokenBalance)({accountId:i,networkId:c,token:C,fallback:"0",useRecycleBalance:!0});return!v||v.isNFT?null:(0,S.jsxs)(l.default,{borderWidth:1,borderColor:"border-subdued",borderStyle:"solid",borderRadius:"12px",paddingX:4,bgColor:"surface-default",children:[(0,S.jsxs)(f.default,{paddingY:4,space:2,children:[(0,S.jsx)(Ze,{title:h.formatMessage({id:"form__address_count"}),content:I?g.length.toString():_.size.toString()}),(0,S.jsx)(Ze,{title:h.formatMessage({id:"form__transfer_amount"}),content:`${p===ze.AmountTypeEnum.All||p===ze.AmountTypeEnum.Random?"~":""}${w.toFixed()} ${null!=(r=null==P?void 0:P.symbol)?r:""}`})]}),u===se.BulkTypeEnum.OneToMany?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.default,{}),(0,S.jsxs)(f.default,{paddingY:4,space:2,children:[!(null!=P&&P.isNative)&&(0,S.jsx)(Ze,{title:h.formatMessage({id:"form__token_balance"}),content:`${null!=M?M:0} ${null!=(o=null==P?void 0:P.symbol)?o:""}`}),(0,S.jsx)(Ze,{title:h.formatMessage({id:"form__str_balance"},{symbol:null==C?void 0:C.symbol}),content:`${null!=A?A:0} ${null!=(a=null==C?void 0:C.symbol)?a:""}`})]})]}):null]})}var Xe=n(43939),Ye=n(259825),Qe=n(425832),Je=n(528755),et=n(940915),tt=n(195212),nt=n(793525),rt=n(712978),ot=n(253557);function at(e){var t,n=e.feeInfoPayload,r=e.value,o=e.onChange,a=(0,y.useMemo)((function(){var e,t;return null!=(e=null==n||null==(t=n.info)?void 0:t.prices)?e:[]}),[null==n||null==(t=n.info)?void 0:t.prices]),i=(0,y.useMemo)((function(){return a?a.map((function(e,t){return{value:t.toString(),title:(0,S.jsx)(ot.FeeSpeedLabel,{index:t,alignItems:"center",space:2})}})):[]}),[a]);return(0,S.jsx)(rt.default,{padding:0,pb:6,items:i,name:"standard fee group",value:r,onChange:o})}function it(e){var t=(0,k.useAppSelector)((function(e){return e.data.feePresetIndexMap}));return null==t?void 0:t[e]}function st(e){var t,n=e.networkId,r=(0,k.useNetwork)({networkId:n}).network;return Boolean(null==r||null==(t=r.settings)?void 0:t.feeInfoEditable)}function lt(e){var t=e.children,n=e.canPress,r=e.onPress;return n?(0,S.jsx)(Je.default,{onPress:r,activeOpacity:.9,children:t}):(0,S.jsx)(S.Fragment,{children:t})}function ct(e){var t,n,r,o,a=e.feeInfoPayloads,i=e.feeInfoLoading,s=e.totalFeeInNative,c=e.minTotalFeeInNative,d=e.accountId,m=e.networkId,x=e.encodedTxs,w=e.batchSendConfirmParams,k=e.isSingleTransformMode,I=e.feeInfoError,j=(0,y.useState)(!1),O=(0,g.default)(j,2),T=O[0],P=O[1],C=(0,v.useNavigation)(),M=(0,b.default)(),A=it(m),E=st({networkId:m})&&e.editable,R=x[0],D=a[0],N=(k?null==D||null==(t=D.selected)?void 0:t.preset:A)||"0";D&&D.selected&&(D.selected.preset=N);var L,B,F=(null==D||null==(n=D.info)?void 0:n.nativeSymbol)||"",U="preset"===(null==D||null==(r=D.selected)?void 0:r.type),W=i||!E||!R||!D||w.signOnly,V=(0,y.useMemo)((function(){if(!I)return null;var e=null;return(e=I instanceof et.OneKeyError&&"onekey_error"!==I.key?M.formatMessage({id:I.key}):I.message)&&e.length>350&&(e=`${e.slice(0,350)}...`),!!e&&!i&&(0,S.jsx)(Qe.Tooltip,{maxW:"360px",isOpen:T,hasArrow:!0,label:e,bg:"surface-neutral-default",_text:{color:"text-default",fontSize:"14px"},px:"16px",py:"8px",placement:"top",borderRadius:"12px",children:(0,S.jsx)(l.default,{children:(0,S.jsx)(h.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})})})}),[I,T,M,i]),z=(0,y.useCallback)((function(){(0,nt.showOverlay)((function(e){return(0,S.jsx)(Ye.default,{title:M.formatMessage({id:"action__edit_fee"}),closeOverlay:e,children:(0,S.jsx)(at,{feeInfoPayload:D,value:D.selected.preset,onChange:function(t){e(),_.default.dispatch((0,tt.setFeePresetIndex)({networkId:m,index:t}))}})})}))}),[D,M,m]),K=(0,y.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).replace;if(!W)return k?void(void 0!==e&&e?C.replace(Oe.SendModalRoutes.SendEditFee,{networkId:m,accountId:d,encodedTx:R,feeInfoSelected:null==D?void 0:D.selected,forBatchSend:!k}):C.navigate({name:Oe.SendModalRoutes.SendEditFee,params:{networkId:m,accountId:d,encodedTx:R,feeInfoSelected:null==D?void 0:D.selected,forBatchSend:!k}})):z()}),[W,k,z,C,m,d,R,null==D?void 0:D.selected]);return k?(0,S.jsx)(lt,{canPress:!!V,onPress:function(){return P(!T)},children:(0,S.jsx)(Xe.default.Box,{borderWidth:1,borderColor:"border-subdued",children:(0,S.jsx)(Xe.default.Item,{onPress:W?null:K,wrap:(0,S.jsxs)(f.default,{p:4,alignItems:"center",pr:2,children:[(0,S.jsxs)(u.default,{flex:1,space:1,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:M.formatMessage({id:"form__gas_fee_settings"})}),(0,S.jsxs)(f.default,{alignItems:"center",children:[(0,S.jsx)(ot.FeeSpeedLabel,{prices:null==D||null==(L=D.info)?void 0:L.prices,index:N,space:2,isCustom:!U,alignItems:"center"}),(0,S.jsx)(p.default,{typography:"Body1Strong",children:(0,S.jsx)(H.FormatCurrencyNativeOfAccount,{networkId:m,accountId:d,value:s,render:function(e){return(0,S.jsxs)(S.Fragment,{children:["(~ ",e,")"]})}})})]}),(0,S.jsxs)(l.default,{w:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:[D?(0,S.jsx)(p.default,{typography:"Body2",color:"text-subdued",children:`${s} ${(null==D||null==(B=D.info)?void 0:B.nativeSymbol)||""}`}):(0,S.jsx)(p.default,{color:"text-subdued",flex:1,children:M.formatMessage({id:"content__calculate_fee"})}),(0,S.jsx)(l.default,{w:2}),V,i?(0,S.jsx)(ne.default,{size:"sm"}):null,(0,S.jsx)(l.default,{flex:1})]})]}),!W&&(0,S.jsx)(l.default,{children:(0,S.jsx)(h.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})})}):(0,S.jsxs)(Xe.default.Box,{borderWidth:1,borderColor:"border-subdued",children:[(0,S.jsx)(Xe.default.Item,{onPress:W?null:K,wrap:(0,S.jsxs)(f.default,{p:4,alignItems:"center",pr:2,children:[(0,S.jsxs)(u.default,{flex:1,space:1,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:M.formatMessage({id:"form__gas_fee_settings"})}),(0,S.jsx)(ot.FeeSpeedLabel,{index:N,prices:null==D||null==(o=D.info)?void 0:o.prices,alignItems:"center",space:2})]}),!W&&(0,S.jsx)(l.default,{children:(0,S.jsx)(h.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})}),(0,S.jsx)(Xe.default.Item,{hidePadding:!0,wrap:(0,S.jsx)(lt,{canPress:!!V,onPress:function(){return P(!T)},children:(0,S.jsx)(l.default,{flexDirection:"column",w:"100%",p:4,children:(0,S.jsxs)(u.default,{space:1,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:M.formatMessage({id:"form__estimate_total_gas_fee"})}),(0,S.jsxs)(l.default,{w:"100%",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:[D?(0,S.jsxs)(p.default,{typography:"Body1Strong",children:[c===s&&`${s} ${F}`,c!==s&&`${c} ~ ${s} ${F}`]}):(0,S.jsx)(p.default,{color:"text-subdued",flex:1,children:M.formatMessage({id:"content__calculate_fee"})}),(0,S.jsx)(l.default,{w:2}),V,i?(0,S.jsx)(ne.default,{size:"sm"}):null,(0,S.jsx)(l.default,{flex:1})]})]})})})})]})}var dt=n(72722);function ut(e){var t=e.networkId,n=e.accountId,r=e.encodedTxs,o=void 0===r?[]:r,a=e.payload,i=e.sourceInfo,s=(0,y.useState)([]),l=(0,g.default)(s,2),c=l[0],d=l[1],u=(0,y.useState)([]),f=(0,g.default)(u,2),p=f[0],m=f[1],h=_.default.engine,v=function(e){var t=e.sourceInfo;return(0,y.useMemo)((function(){if(null!=t&&t.origin)return{url:null==t?void 0:t.origin,name:"",description:"",icons:[],provider:null==t?void 0:t.scope}}),[null==t?void 0:t.origin,null==t?void 0:t.scope])}({sourceInfo:i});return(0,y.useEffect)((function(){Promise.all(o.map((function(e){return h.decodeTx({networkId:t,accountId:n,encodedTx:e,payload:a,interactInfo:v})}))).then((function(e){m(Be()(e,"decodedTx")),d(Be()(e,"decodedTxLegacy,"))}))}),[n,o,h,v,t,a]),{decodedTxs:p,decodedTxsLegacy:c}}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.default)((function*(e){var t=e.accountId,n=e.networkId,r=e.encodedTx,o=e.currentHexData;return yield _.default.engine.updateEncodedTx({networkId:n,accountId:t,encodedTx:r,payload:o,options:{type:le.IEncodedTxUpdateType.customData}})}))).apply(this,arguments)}function ht(e){return gt.apply(this,arguments)}function gt(){return gt=(0,d.default)((function*(e){var t=e.networkId,n=e.accountId,o=e.encodedTx,a=e.networkImpl,i=(e.sendConfirmParams,e.address),s=e.selectedUtxos,l=e.currentHexData;if(!o)throw new Error("prepareEncodedTx encodedTx should NOT be null");if(a===ce.IMPL_EVM){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o);if(c.from=c.from||i,c.value&&c.value.startsWith&&!c.value.startsWith("0x"))throw new Error("prepareSendConfirmEncodedTx ERROR: tx value is not hex string (only 0x prefixed hex string allowed)");try{c.from&&(c.from=ae()(c.from)||c.from),c.to&&(c.to=ae()(c.to)||c.to)}catch(f){}if(n&&t)(yield _.default.engine.getVaultSettings(t)).hexDataEditable&&(c=yield pt({accountId:n,networkId:t,encodedTx:c,currentHexData:l}));return Promise.resolve(c)}if(t){var d=yield _.default.engine.getVaultSettings(t);if(d.hexDataEditable)return n?yield pt({accountId:n,networkId:t,encodedTx:o,currentHexData:l}):Promise.resolve(o);if(d.isFeeRateMode||d.isBtcForkChain){var u=o;return n?yield _.default.engine.updateEncodedTx({networkId:t,accountId:n,encodedTx:u,payload:{selectedUtxos:s},options:{type:le.IEncodedTxUpdateType.advancedSettings}}):Promise.resolve(o)}}return Promise.resolve(o)})),gt.apply(this,arguments)}var yt=n(968079),vt=n(392853),bt=n(292147);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t=5e3;var kt=n(472930),It=function(e){var t=e.decodedTx,n=e.balance,r=e.amount,o=e.totalNativeGasFee,a=t.actions[0],i=a.type,s=a.nativeTransfer;if(i===le.IDecodedTxActionType.NATIVE_TRANSFER&&"undefined"!==typeof s&&("undefined"!==typeof s.utxoFrom||(0,ce.isLightningNetworkByNetworkId)(s.tokenInfo.networkId)))return s.amount;var l=new F.BigNumber(n),c=new F.BigNumber(null!=r?r:0),d=F.BigNumber.min(l,c),u=new F.BigNumber(null!=o?o:0);return d.minus(u).toFixed()};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e){var t=e.batchSendConfirmParamsParsed,n=t.navigation,r=t.routeParams,o=t.sourceInfo,a=t.payload,i=t.payloadInfo,s=t.dappApprove,l=t.onModalClose,u=t.networkId,m=t.accountId,h=t.feeInfoUseFeeInTx,x=t.feeInfoEditable,w=t.feeInfoReuseable,I=t.transferCount,j=r.bulkType,T=r.amountType,P=null==i?void 0:i.tokenInfo,C=null==i?void 0:i.transferInfos,M=(0,b.default)();(0,Ve.useOnboardingRequired)(),(0,kt.useReloadAccountBalance)({networkId:u,accountId:m}),(0,We.useDisableNavigationAnimation)({condition:!!r.autoConfirmAfterFeeSaved});var A=_.default.engine,E=_.default.serviceHistory,R=_.default.serviceToken,D=(0,k.useActiveSideAccount)({accountId:m,networkId:u}),N=D.networkImpl,L=D.accountAddress,B=D.walletId,F=D.network,H=function(e){var t=e.batchSendConfirmParams,n=e.networkImpl,r=e.address,o=(0,y.useState)([]),a=(0,g.default)(o,2),i=a[0],s=a[1];return(0,y.useEffect)((function(){Promise.all(t.encodedTxs.map((function(e){return ht({encodedTx:e,sendConfirmParams:t,networkImpl:n,address:r})}))).then(s)}),[r,n,t,t.encodedTxs]),{encodedTxs:i}}({batchSendConfirmParams:r,networkImpl:N,address:L||""}),W=H.encodedTxs,V=W[0],z=1===W.length,K=ut({accountId:m,networkId:u,encodedTxs:W,payload:i,sourceInfo:o}).decodedTxs,G=K[0],$=K.length,Z=function(e){var t,n,r=e.encodedTxs,o=e.decodedTxs,a=e.useFeeInTx,i=void 0!==a&&a,s=e.pollingInterval,l=void 0===s?0:s,u=e.fetchAnyway,f=void 0!==u&&u,p=e.networkId,m=e.accountId,h=e.signOnly,b=e.forBatchSend,x=e.transferCount,w=e.feeInfoReuseable,I=e.isBtcForkChain,j=(0,v.useIsFocused)(),O=(0,k.useActiveSideAccount)({accountId:m,networkId:p}).network,T=(0,y.useState)(null),S=(0,g.default)(T,2),P=S[0],C=S[1],M=(0,y.useState)([]),A=(0,g.default)(M,2),E=A[0],R=A[1],D=(0,y.useState)(0),N=(0,g.default)(D,2),L=N[0],B=N[1],F=(0,y.useState)(0),H=(0,g.default)(F,2),W=H[0],V=H[1],z=(0,y.useRef)([]),K=(0,y.useRef)(),G=(0,y.useState)(!0),$=(0,g.default)(G,2),Z=$[0],q=$[1],X=(0,v.useRoute)(),Y=null==O?void 0:O.settings,Q=null==Y||null==(t=Y.subNetworkSettings)?void 0:t[p],J=it(p),ee=null==(n=X.params)?void 0:n.feeInfoSelected,te=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e,t){var n,r,o,a=!1,s=ee,l=null!=O?O:{},c=l.decimals,d=l.symbol,u=l.feeDecimals,g={nativeDecimals:c,nativeSymbol:d,feeDecimals:u,feeSymbol:l.feeSymbol,prices:[],defaultPresetIndex:null!=J?J:"1"},y={price:"0",limit:"0"},v=null,k=!s||"preset"===(null==(n=s)?void 0:n.type);if(t&&w&&(g=t.info,k=!1),f&&(k=!0),k)try{g=yield _.default.engine.fetchFeeInfo({accountId:m,networkId:p,encodedTx:e,signOnly:h,transferCount:x})}catch(W){if(null!=O&&O.settings.nativeSupportBatchTransfer||!(yield _.default.serviceBatchTransfer.checkIsBatchTransfer({networkId:p,encodedTx:e}))){var I=W,j=I.code,T=I.data;return C(-32603===j&&T?T:W),bt.default.sendTx.error("engine.fetchFeeInfo ERROR: ",W),null}var S;a=!0;var P,M=0,A=0,E=(yield _.default.engine.getGasInfo(p)).prices,R=Boolean((null==E?void 0:E.length)&&(null==E?void 0:E.every((function(e){return"object"===typeof e})))),D=E[E.length-1];null!=t&&t.info.baseFeeValue&&new(U())(null!=(S=null==t?void 0:t.info.limit)?S:0).isLessThanOrEqualTo(0)&&!R?A=1.5*(M=new(U())(t.info.baseFeeValue).dividedBy(D).times(x).toNumber()):(A=+(yield _.default.engine.proxyJsonRPCCall(p,{method:"eth_getBlockByNumber",params:["latest",!1]})).gasLimit/10,null!=t&&null!=(P=t.info)&&P.limit&&(M=+t.info.limit*x,A=U().min(3*M,A).toNumber())),y=wt({eip1559:R,limit:String(A)},R?{price1559:D}:{price:D}),v=wt({eip1559:R,limit:String(M||A)},R?{price1559:D}:{price:D}),g.prices=E}a||(J&&(g.defaultPresetIndex=J),parseFloat(g.defaultPresetIndex)>g.prices.length-1&&(g.defaultPresetIndex=""+(g.prices.length-1)),parseFloat(g.defaultPresetIndex)<0&&(g.defaultPresetIndex="0")),!s&&g&&i&&g.tx&&(s={type:"custom",custom:g.tx,preset:g.defaultPresetIndex}),s=s||{type:"preset",preset:g.defaultPresetIndex},b&&g&&"preset"===s.type&&s.preset&&(g.customDisabled=!0),"custom"===s.type&&s.custom&&(y=s.custom),g&&"preset"===s.type&&s.preset&&!a&&(y=(0,vt.getSelectedFeeInfoUnit)({info:g,index:s.preset}));var N=(0,vt.calculateTotalFeeRange)(y,u).max,L={value:y,total:N,totalNative:(0,vt.calculateTotalFeeNative)({amount:N,info:g})};if(a&&v){var B=(0,vt.calculateTotalFeeRange)(v,u).max,F=(0,vt.calculateTotalFeeNative)({amount:B,info:g});L.minTotal=B,L.minTotalNative=F}var H={selected:s,info:g,current:L};if(bt.default.sendTx.info("useFeeInfoPayload: ",H),new(U())(null!=(r=null==H||null==(o=H.current)?void 0:o.total)?r:0).isZero()&&(null==Y||!Y.allowZeroFee)&&(null==Q||!Q.allowZeroFee))throw new et.FailedToEstimatedGasError;return H}));return function(t,n){return e.apply(this,arguments)}}(),[ee,O,J,w,f,i,b,null==Y?void 0:Y.allowZeroFee,null==Q?void 0:Q.allowZeroFee,m,p,h,x]);return(0,y.useEffect)((function(){(0,d.default)((function*(){if(!r.length)return null;q(!0);try{var e=r[0],t=yield te(e),n=r.slice(1),o=yield Promise.all(n.map((function(e){return te(e,t)}))),a=[t].concat((0,yt.default)(o)),i=a.includes(null)?[]:a;R(i),i.length>0&&C(null)}catch(l){if(-32603===l.code){var s=l.data.message;"string"===typeof s&&c.default.show({title:s})}R([]),C(l),bt.default.sendTx.error("fetchFeeInfo ERROR: ",l)}finally{q(!1)}}))()}),[o,r,te,R]),(0,y.useEffect)((function(){return clearInterval(K.current),l&&j&&(K.current=setInterval((0,d.default)((function*(){if(!Z&&"custom"!==(null==ee?void 0:ee.type))try{var e=r[0],t=yield te(e),n=r.slice(1),o=yield Promise.all(n.map((function(e){return te(e,t)})));if(o){var a=[t].concat((0,yt.default)(o)),i=a.includes(null)?[]:a;R(i),z.current=i,i.length>0&&C(null)}else z.current&&z.current.length>0&&(R(z.current),C(null))}catch(s){z.current&&z.current.length>0?(R(z.current),C(null)):C(s),bt.default.sendTx.error("feeInfoPollingInterval ERROR: ",s)}})),l)),function(){clearInterval(K.current)}}),[null==ee?void 0:ee.type,te,Z,l,j,r]),(0,y.useEffect)((function(){var e=0,t=0;if(E.length===o.length&&0!==E.length){for(var n=0;n<E.length;n+=1){var r,a,i,s,l,c,d,u;o[n].totalFeeInNative&&!I?(t+=new(U())(null!=(r=o[n].totalFeeInNative)?r:0).toNumber(),e+=new(U())(null!=(a=o[n].totalFeeInNative)?a:0).toNumber()):(t+=new(U())(null!=(i=null==(s=E[n].current)?void 0:s.totalNative)?i:0).toNumber(),e+=new(U())(null!=(l=null!=(c=null==(d=E[n].current)?void 0:d.minTotalNative)?c:null==(u=E[n].current)?void 0:u.totalNative)?l:0).toNumber())}B(t),V(e)}}),[o,E,ee,I]),{feeInfoError:P,minTotalFeeInNative:W,totalFeeInNative:L,feeInfoPayloads:E,feeInfoLoading:Z,getSelectedFeeInfoUnit:vt.getSelectedFeeInfoUnit}}({accountId:m,networkId:u,encodedTxs:W,decodedTxs:K,useFeeInTx:h,pollingInterval:x?_t:0,feeInfoReuseable:w,signOnly:r.signOnly,forBatchSend:!0,transferCount:I,isBtcForkChain:null==F?void 0:F.settings.isBtcForkChain}),q=Z.feeInfoError,X=Z.feeInfoPayloads,Y=Z.feeInfoLoading,Q=Z.totalFeeInNative,J=Z.minTotalFeeInNative;(0,He.useWalletConnectPrepareConnection)({accountId:m,networkId:u});var ee=(0,y.useMemo)((function(){return j===se.BulkTypeEnum.ManyToMany||j===se.BulkTypeEnum.ManyToOne}),[j]),te=(0,y.useMemo)((function(){return(null==P?void 0:P.isNative)&&T===ze.AmountTypeEnum.All&&ee}),[T,ee,null==P?void 0:P.isNative]),ne=(0,y.useMemo)((function(){return K.map((function(e,t){var n,r,o;return C?te?It({decodedTx:e,balance:C[t].amount,amount:C[t].amount,totalNativeGasFee:null==(o=X[t])?void 0:o.current.totalNative}):null!=(n=null==(r=C[t])?void 0:r.amount)?n:"0":"0"}))}),[K,X,te,C]),re=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var t=e.close,o=e.encodedTxs;if(!Ue()(o)){var a=o;x&&!Ue()(X)&&(a=yield Promise.all(o.map((function(e,t){var n;return A.attachFeeInfoToEncodedTx({networkId:u,accountId:m,encodedTx:e,feeInfoValue:null==(n=X[t])?void 0:n.current.value})}))));var i=function(){var e=(0,d.default)((function*(e,o){var a,i=null!=o?o:{},l=i.isAborted,c=i.senderAccounts,d=void 0===c?[]:c,f=i.signedTxs,p=void 0===f?[]:f;ee?(R.batchFetchAccountBalances({networkId:u,walletId:B,accountIds:d.slice(0,p.length).map((function(e){return e.accountId}))}),R.batchFetchAccountTokenBalances({networkId:u,walletId:B,accountIds:d.slice(0,p.length).map((function(e){return e.accountId})),tokenAddress:null==P?void 0:P.tokenIdOnNetwork})):R.fetchAccountTokens({accountId:m,networkId:u}),r.signOnly?yield s.resolve({result:Be()(e,"rawTx")}):yield s.resolve({result:Be()(e,"txid")});var h=r.signOnly?"Sign":"Send",g={networkId:u,accountId:m,txid:null!=(a=e[0].txid)?a:"unknown_txid",type:h,closeModal:t,onDetail:r.onDetail,isSingleTransformMode:z};l||n.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:Oe.SendModalRoutes.SendFeedbackReceipt,params:g}}),r.onSuccess&&r.onSuccess(e,o),E.refreshHistoryUi(),setTimeout((function(){}),0)}));return function(t,n){return e.apply(this,arguments)}}(),c=Ot(Ot({},r),{},{encodedTxs:a,feeInfoPayloads:X,accountId:m,networkId:u,walletId:B,onSuccess:i,onFail:function(e){s.reject({error:e})},onModalClose:l});return n.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:Oe.SendModalRoutes.BatchSendProgress,params:c}})}}));return function(t){return e.apply(this,arguments)}}(),[m,s,A,x,X,ee,z,n,u,l,r,E,R,null==P?void 0:P.tokenIdOnNetwork,B]),oe=(0,S.jsx)(ct,{accountId:m,networkId:u,encodedTxs:W,feeInfoPayloads:X,feeInfoLoading:Y,totalFeeInNative:Q,minTotalFeeInNative:J,batchSendConfirmParams:r,editable:x,isSingleTransformMode:z,feeInfoError:q}),ae=!G||!V,ie=(0,S.jsx)(qe,{accountId:m,networkId:u,payloadInfo:i,bulkType:j,amountType:T,feeInfoPayloads:X}),ce={accountId:m,networkId:u,batchSendConfirmParams:r,sourceInfo:o,encodedTxs:W,decodedTxs:K,payload:a,feeInfoPayloads:X,feeInfoLoading:Y,feeInfoEditable:x,totalFeeInNative:Q,feeInput:oe,tokenTransferInfo:ie,isWaitingTxReady:ae,isSingleTransformMode:z,handleConfirm:re,onSecondaryActionPress:function(e){var t=e.close;s.reject(),t()},onModalClose:l,children:null},de=(0,y.useCallback)((function(){for(var e=[],t=0,n=U().min($,dt.MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM).toNumber();t<n;t+=1){var r;e.push({headerProps:{title:(0,S.jsxs)(f.default,{space:"10px",alignItems:"center",children:[(0,S.jsx)(p.default,{typography:"Subheading",color:"text-subdued",height:"14px",letterSpacing:0,children:`${M.formatMessage({id:"form__transaction"})} #${t+1}\n                `.toUpperCase()}),Ne()(null==C||null==(r=C[t])?void 0:r.txInterval)?null:(0,S.jsx)(Re.default,{size:"sm",margin:0,title:null!=C&&C[t].txInterval?M.formatMessage({id:"form__delay_str"},{duration:`${null==C?void 0:C[t].txInterval}s`}):""})]})},data:[{decodedTx:K[t],transferAmountToUpdate:ne[t]}]})}return e}),[K,M,$,C,ne]);return ce.children=z?(0,S.jsx)(Ke.TxDetailView,{isSendConfirm:!0,isBatchSendConfirm:!0,isSingleTransformMode:z,decodedTx:G,transferAmount:te?ne[0]:void 0}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ae.default,{headerProps:{title:`${M.formatMessage({id:"form__multiple_transactions"})} (${W.length})`},sections:de(),renderItem:function(e){var t=e.item;return(0,S.jsx)(Ee.default,{children:(0,S.jsx)(Ke.TxDetailView,{isSendConfirm:!0,isBatchSendConfirm:!0,isSingleTransformMode:z,decodedTx:t.decodedTx,transferAmount:t.transferAmountToUpdate})},t.decodedTx.txid)}}),$>dt.MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM&&(0,S.jsx)(p.default,{typography:"Body1Strong",color:"text-subdued",textAlign:"center",paddingY:4,children:M.formatMessage({id:"action__str_more_transations"},{count:$-dt.MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM})})]}),(0,S.jsx)(Me,Ot({updateEncodedTxsBeforeConfirm:function(){var e=(0,d.default)((function*(e){return C&&te?Promise.all(e.map((function(e,t){return(0,d.default)((function*(){var n,r,o={amount:ne[t],totalBalance:null==(n=C[t])?void 0:n.amount,feeInfo:null==(r=X[t])?void 0:r.info},a=yield _.default.engine.updateEncodedTx({networkId:u,accountId:m,encodedTx:e,payload:o,options:{type:le.IEncodedTxUpdateType.transfer}});return Promise.resolve(a)}))()}))):Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}()},ce))}const St=function(){var e=function(){var e,t,n,r,o,a,i,s=(0,v.useNavigation)(),l=(0,v.useRoute)(),c=(0,y.useRef)({}),d=null!=(e=l.params)?e:c.current,u=d.sourceInfo,f=d.resendActionInfo,p=d.encodedTxs,m=d.onModalClose,h=d.networkId,g=d.accountId,b=d.transferCount,x=!!d.sourceInfo,w=null==(t=d.feeInfoEditable)||t,_=null!=(n=d.feeInfoUseFeeInTx)&&n,k=null!=(r=d.feeInfoReuseable)&&r,j="cancel"===(null==(o=d.resendActionInfo)?void 0:o.type)||"speedUp"===(null==(a=d.resendActionInfo)?void 0:a.type),O=(0,y.useMemo)((function(){return d.payload}),[d.payload]),T=(0,I.default)({id:null!=(i=null==u?void 0:u.id)?i:"",closeOnError:!0}),S=(0,y.useRef)(m),P=(0,y.useRef)(!1),C=(0,y.useCallback)((function(){P.current||(T.reject(),S.current&&S.current(),P.current=!0)}),[T]);Object.assign(d,{onModalClose:C});var M="InternalSwap"===(null==O?void 0:O.payloadType);return{networkId:h,accountId:g,transferCount:b,dappApprove:T,onModalClose:C,encodedTxs:p,navigation:s,route:l,routeParams:d,sourceInfo:u,isFromDapp:x,feeInfoEditable:w,feeInfoUseFeeInTx:_,feeInfoReuseable:k,isSpeedUpOrCancel:j,payload:O,payloadInfo:d.payloadInfo,resendActionInfo:f,isInternalSwapTx:M}}(),t=e.sourceInfo,n=e.routeParams;return(0,y.useMemo)((function(){return!!t&&!te.ENABLED_DAPP_SCOPE.includes(t.scope)}),[t])?(0,S.jsx)(Me,{accountId:n.accountId,networkId:n.networkId,batchSendConfirmParams:n,feeInfoPayloads:[],feeInfoLoading:!1,encodedTxs:[],decodedTxs:[],totalFeeInNative:0,handleConfirm:function(){return null},children:(0,S.jsx)(Te,{isNetworkNotMatched:!0})}):(0,S.jsx)(Tt,{batchSendConfirmParamsParsed:e})};var Pt=n(922819),Ct=n(740727),Mt=n(268883),At=n(432986),Et=n(776553),Rt=n(609850),Dt=n.n(Rt),Nt=n(785505),Lt=n.n(Nt),Bt=n(572801),Ft=n(107575),Ut=n(27094),Ht=n(620278),Wt=n(493877),Vt=n(751653),zt=n(612210),Kt=n(561220),Gt=n(225447),$t=n(626015),Zt=n(849877),qt=n(672715),Xt=n(759275),Yt=n(342954),Qt=n(433617);function Jt(e){var t=(0,b.default)(),n=e.onClose,r=e.onCancel,o=e.onSubmit,a=e.peerAddress,i=e.myAddress,s=e.peerChainId,m=e.accountInfo,g=e.currentAccount,v=e.currentNetwork,x=e.isAddressMismatched,w=e.isChainMismatched,I=e.connectToWalletResult,j=_.default.engine,O=(0,Qt.useAddExternalAccount)().addExternalAccount,T=(0,k.useNavigationActions)().openRootHome,P=(0,Xt.usePromiseResult)((0,d.default)((function*(){try{var e=(0,Zt.generateNetworkIdByChainId)({impl:ce.IMPL_EVM,chainId:s});return yield j.getNetwork(e)}catch(t){return void bt.default.common.error(t)}})),[j,s]).result,C=(0,y.useMemo)((function(){return x&&w?"content__account_and_network_not_matched":x?"content__account_is_not_matched":w?"content__chain_is_not_matched":void 0}),[x,w]);return(0,S.jsx)(zt.default,{visible:!0,onClose:function(){null==n||n()},contentProps:{contentElement:(0,S.jsxs)(u.default,{space:6,alignSelf:"stretch",children:[(0,S.jsx)(re.default,{title:t.formatMessage({id:C}),alertType:"info",dismiss:!1}),(0,S.jsxs)(u.default,{children:[(0,S.jsxs)(f.default,{children:[(0,S.jsx)(Gt.default,{source:qt,borderRadius:"6px",size:6}),(0,S.jsx)(p.default,{typography:"Body1Strong",ml:3,children:"OneKey"})]}),(0,S.jsxs)(f.default,{justifyContent:"space-between",py:3,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"form__account"})}),(0,S.jsx)(p.default,{typography:"Body2",children:(0,$t.shortenAddress)(i)})]}),(0,S.jsxs)(f.default,{justifyContent:"space-between",py:3,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"network__network"})}),(0,S.jsx)(p.default,{typography:"Body2",children:v.shortName})]})]}),(0,S.jsxs)(u.default,{children:[(0,S.jsxs)(f.default,{children:[(0,S.jsx)(Yt.default,{accountId:g.id,size:6,radius:"6px"}),(0,S.jsx)(p.default,{typography:"Body1Strong",ml:3,children:(null==m?void 0:m.walletName)||"3rd Wallet"})]}),(0,S.jsxs)(f.default,{justifyContent:"space-between",py:3,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"form__account"})}),(0,S.jsxs)(l.default,{children:[(0,S.jsx)(p.default,{typography:"Body2",color:x?"text-critical":"text-default",children:(0,$t.shortenAddress)(a)}),"injectedProvider"===(null==m?void 0:m.type)?(0,S.jsx)(Kt.default,{onPress:(0,d.default)((function*(){null==n||n(),I&&(yield O(I),T(),yield(0,Et.wait)(600),c.default.show({title:t.formatMessage({id:"msg__connect_and_switch"})}))})),children:(0,S.jsxs)(f.default,{justifyContent:"flex-end",children:[(0,S.jsx)(p.default,{color:"text-subdued",children:t.formatMessage({id:"action__connect"})}),(0,S.jsx)(h.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})}):null]})]}),(0,S.jsxs)(f.default,{justifyContent:"space-between",py:3,children:[(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:t.formatMessage({id:"network__network"})}),(0,S.jsx)(p.default,{typography:"Body2",color:w?"text-critical":"text-default",children:(null==P?void 0:P.shortName)||(s?`chainId=${s}`:"")})]})]})]})},footerButtonProps:{primaryActionProps:{type:"primary"},primaryActionTranslationId:"action__continue",onPrimaryActionPress:function(){o(),null==n||n()},onSecondaryActionPress:function(){r(),null==n||n()}}})}var en=["client","walletUrl","shouldTerminateConnection","shouldGoBack"];function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e){var t,n=e.encodedTx,r=e.unsignedMessage,o=e.sourceInfo,a=e.networkId,i=e.accountId,s=e.signOnly,l=(0,b.default)(),c=_.default.validator,u=function(e){var t=e.accountId,n=e.networkId,r=_.default.engine,o=_.default.serviceWalletConnect,a=(0,Ft.useWalletConnectQrcodeModal)().connectToWallet,i=(0,y.useRef)(!1);(0,y.useEffect)((function(){return function(){i.current=!0}}),[]);var s=(0,y.useState)(),l=(0,g.default)(s,2),c=l[0],u=l[1],f=(0,Wt.default)(),p=(0,y.useCallback)((function(e){var t=e.client,n=e.walletUrl,r=e.shouldTerminateConnection,o=e.shouldGoBack,a=(0,ie.default)(e,en);return new Promise((function(e){(0,nt.showDialog)((0,S.jsx)(Jt,nn(nn({},a),{},{onSubmit:function(){e(!0)},onCancel:(0,d.default)((function*(){r&&(yield(0,Ut.terminateWcConnection)({client:t,walletUrl:n})),o&&f.canGoBack()&&f.goBack(),e(!1)}))})))}))}),[f]),m=(0,y.useCallback)((0,d.default)((function*(){var e=yield o.getWalletConnectSessionOfAccount({accountId:t}),a=e.session,i=e.walletService,s=e.accountInfo,l=yield r.getNetwork(n),c={accountInfo:s,walletService:i,session:a,currentAccount:yield r.getAccount(t,n),currentNetwork:l,client:void 0,injectedConnectorInfo:void 0};return u(c),c})),[t,r,n,o]);return{externalAccountInfo:c,getExternalConnector:(0,y.useCallback)((0,d.default)((function*(){var e,n,r,o,s,l=yield m(),c=l.session,d=l.walletService,f=l.accountInfo,h=l.currentAccount,g=l.currentNetwork,y="injectedProvider"===(null==f?void 0:f.type),v="walletConnect"===(null==f?void 0:f.type),b={accountInfo:f,wcConnector:void 0,client:void 0,injectedConnectorInfo:void 0},x=NaN,w=[],_={walletService:d};if(v){var k;if((null==c||!c.connected)&&(yield(0,Et.wait)(Ht.WALLET_CONNECT_SEND_SHOW_RECONNECT_QRCODE_MODAL_DELAY),i.current))return b;var I=yield a({session:c,walletService:d,accountId:t}),j=I.status,O=I.session,T=I.client;if(o=T,u((function(e){return e?nn(nn({},e),{},{session:O,client:o}):e})),!(r=null==(k=o)?void 0:k.connector))throw new Error("WalletConnect Error: connector not initialized.");x=r.chainId,w=r.accounts,_.client=T,_.session=O,_.status=j}if(y){var S,P,C,M=(s=(0,Vt.getInjectedConnector)({name:null==f?void 0:f.walletName})).store;yield null==(S=s.connector)||null==S.connectEagerly?void 0:S.connectEagerly();var A=M.getState();null!=(P=A)&&null!=(C=P.accounts)&&C.length||(yield s.connector.activate(),A=M.getState()),x=A.chainId,w=A.accounts,_.injectedProviderState=A,_.externalAccountInfo=f,u((function(e){return e?nn(nn({},e),{},{injectedConnectorInfo:s}):e}))}var E=`${null!=(e=x)?e:""}`,R=((null==(n=w)?void 0:n[0])||"").toLowerCase(),D=h.address,N=g.extraInfo.networkVersion,L=R!==D,B=E!==N;if(L||B){if(yield(0,Et.wait)(v?Ht.WALLET_CONNECT_SEND_SHOW_MISMATCH_CONFIRM_DELAY:600),i.current)return b;if(!(yield p({myAddress:D,myChainId:N,peerAddress:R,peerChainId:E,client:o,accountInfo:f,currentAccount:h,currentNetwork:g,isAddressMismatched:L,isChainMismatched:B,walletUrl:null==f?void 0:f.walletUrl,shouldGoBack:!0,connectToWalletResult:_})))return b}return i.current?b:{injectedConnectorInfo:s,wcConnector:r,client:o,accountInfo:f}})),[t,a,m,p])}}({accountId:i,networkId:a}),f=u.getExternalConnector,p=u.externalAccountInfo,m=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var t=e||n;if(!t)throw new Error("encodedTx is missing!");var r="",o=yield f(),a=o.wcConnector,i=o.injectedConnectorInfo,d=o.accountInfo;if("walletConnect"===(null==d?void 0:d.type)){if(!a)return;r=s?yield a.signTransaction(t):yield a.sendTransaction(t)}if("injectedProvider"===(null==d?void 0:d.type)){var u,p=null==i?void 0:i.connector;if(!p)return;r=yield null==p||null==(u=p.provider)?void 0:u.request({method:s?"eth_signTransaction":"eth_sendTransaction",params:[t]})}if(bt.default.walletConnect.info("sendTxForExternalAccount -> sendTransaction txid: ",r),r&&(yield c.isValidEvmTxid({txid:r})))return{txid:r,rawTx:"",encodedTx:t};var m=r&&Lt()(r)?r:l.formatMessage({id:"msg__transaction_failed"});throw new Error(m)}));return function(t){return e.apply(this,arguments)}}(),[n,c,l,f,s]);return{externalAccountInfo:p,sendTxForExternalAccount:m,signMsgForExternalAccount:(0,y.useCallback)((0,d.default)((function*(){if(!r)throw new Error("unsignedMessage is missing!");var e=r.payload,t=r.type,n="",a=yield f(),i=a.wcConnector,s=a.injectedConnectorInfo,l=a.accountInfo;if("walletConnect"===(null==l?void 0:l.type)){if(!i)return;if(t===Bt.ETHMessageTypes.PERSONAL_SIGN)n=yield i.signPersonalMessage(e);else if(t===Bt.ETHMessageTypes.ETH_SIGN)n=yield i.signMessage(e);else{var c=Dt()(e);if(t===Bt.ETHMessageTypes.TYPED_DATA_V3||t===Bt.ETHMessageTypes.TYPED_DATA_V4)null==c||c[1];n=yield i.signTypedData(c)}}if("injectedProvider"===(null==l?void 0:l.type)){var d,u,p=null==s?void 0:s.connector;if(!p)return;var m=(0,Bt.getEthProviderMethodFromMessageType)(t);m=m||(null==o||null==(d=o.data)?void 0:d.method)||"",n=yield null==(u=p.provider)?void 0:u.request({method:m,params:e})}return n})),[r,f,null==o||null==(t=o.data)?void 0:t.method])}}var on=(0,y.memo)((function(e){var t=e.password,n=e.currentStep,r=e.setCurrentStep,o=e.currentState,a=e.setIsAuthorized,i=(0,v.useNavigation)(),s=(0,b.default)(),u=(0,v.useRoute)(),f=(0,y.useState)(n),h=(0,g.default)(f,2),x=h[0],w=h[1],I=(0,y.useRef)(!1),j=(0,y.useRef)(!0),O=(0,y.useRef)(),T=u.params,P=T.networkId,C=T.accountId,M=T.encodedTxs,A=T.onSuccess,E=T.onFail,R=T.walletId,D=T.payloadInfo,N=T.feeInfoPayloads,B=T.backRouteName,F=T.sourceInfo,H=T.signOnly,W=void 0!==H&&H,z=T.bulkType,K=D,G=K.senderAccounts,$=K.transferInfos,Z=(0,y.useState)(),q=(0,g.default)(Z,2),X=q[0],Y=q[1],Q=(0,V.useInteractWithInfo)({sourceInfo:F}),J=(0,y.useMemo)((function(){return z===se.BulkTypeEnum.ManyToMany||z===se.BulkTypeEnum.ManyToOne}),[z]),ee=rn({encodedTx:M[0],sourceInfo:F,networkId:P,accountId:C,signOnly:W}).sendTxForExternalAccount,te=(0,y.useRef)(o),ne=(0,y.useRef)(!1),re=(0,y.useState)(),oe=(0,g.default)(re,2),ae=oe[0],ie=oe[1],le=(0,k.useNetwork)({networkId:P}).network,ue=o===L.BatchSendState.inProgress,fe=ut({networkId:P,accountId:C,encodedTxs:M,sourceInfo:F,payload:K}).decodedTxs,pe=M.length,me=new(U())(x/pe).toNumber(),he=(0,y.useCallback)((0,d.default)((function*(){return te.current===L.BatchSendState.inProgress||ne.current?Promise.resolve(!0):(yield(0,Et.wait)(1e3),he())})),[ne]),ge=(0,y.useCallback)((0,d.default)((function*(){for(var e=[],o=n,a=M.length;o<a;o+=1){var i,s,l;ie(yield _.default.engine.getWallet(null!=(i=null==G||null==(s=G[o])?void 0:s.walletId)?i:R)),yield he(),bt.default.sendTx.info("Authentication sendTx:",u.params);var c,d,f,p=null,m=void 0,h=M[o],g=null==$?void 0:$[o];if(J)m=null==G||null==(c=G[o])?void 0:c.accountId;else m=C;if(!m)throw new et.OneKeyError("Can not get sender account id.");if(Y(null==g?void 0:g.txInterval),null!=g&&g.txInterval&&(yield(0,Et.wait)(new(U())(g.txInterval).times(1e3).toNumber()),Y("")),yield he(),ne.current)return null!=(d=p)?d:[];if(p=(0,de.isExternalAccount)({accountId:m})?yield ee(h):yield _.default.serviceBatchTransfer.signAndSendEncodedTx({password:t,networkId:P,accountId:m,encodedTx:h,signOnly:W,pendingTxs:Be()(e,(function(e){return{id:e.txid}}))}),e.push(p),p)yield _.default.serviceHistory.saveSendConfirmHistory({networkId:P,accountId:m,data:{signedTx:p,encodedTx:M[o],decodedTx:(yield _.default.engine.decodeTx({networkId:P,accountId:m,encodedTx:M[o],payload:K,interactInfo:Q})).decodedTx},feeInfo:null==(f=N[o])?void 0:f.current.value});if(bt.default.sendTx.info("Authentication sendTx DONE:",u.params,e),null!=(l=p)&&l.txid&&o<a-1&&(null==le?void 0:le.impl)===ce.IMPL_SOL)for(var y,v=yield _.default.serviceBatchTransfer.confirmTransaction({networkId:P,txid:null==(y=p)?void 0:y.txid}),b=0;v!==Ct.TransactionStatus.CONFIRM_AND_SUCCESS&&v!==Ct.TransactionStatus.CONFIRM_BUT_FAILED&&b<10;){var x;yield(0,Et.wait)(5e3),v=yield _.default.serviceBatchTransfer.confirmTransaction({networkId:P,txid:null==(x=p)?void 0:x.txid}),b+=1}o<a-1&&r(o+1),w(o+1)}return e})),[n,M,G,R,he,u.params,$,J,r,null==le?void 0:le.impl,C,ee,t,P,W,K,Q,N]),ye=(0,y.useCallback)((0,d.default)((function*(){try{if(I.current)return;I.current=!0;var e,t=M,n=[];if(!Ue()(t)){if(e=n=yield ge(),Ue()(n))return;var r=Be()(n,"encodedTx").filter(Boolean);if(r.length!==n.length)throw new Error("signedTxs including null encodedTx, please check code");t=Ue()(r)?t:r}if(!Ue()(e)){var o,a,l,d,u=K;"InternalSwap"===(null==(o=u)?void 0:o.type)&&null!=(a=u)&&a.swapInfo&&null!=(l=u)&&null!=(d=l.swapInfo)&&d.isApprove&&(u=void 0),null==A||A(e,{isAborted:ne.current,senderAccounts:G,signedTxs:n,encodedTxs:t,decodedTxs:Ue()(t)?[]:Be()(yield Promise.all(t.map((function(e){return _.default.engine.decodeTx({networkId:P,accountId:C,encodedTx:e,payload:u,interactInfo:Q})}))),"decodedTx")})}}catch(v){var f,p=v;if(bt.default.common.error(p),B)i.navigate({merge:!0,name:B,params:{}});else{var m;if(!j.current)return;null==(m=i.getParent())||null==m.goBack||m.goBack()}if(yield(0,Et.wait)(600),-32603===(null==p?void 0:p.code)&&"string"===typeof(null==p||null==(f=p.data)?void 0:f.message))c.default.show({title:p.data.message||s.formatMessage({id:"transaction__failed"}),description:p.data.message},{type:"error"});else{var h,g,y=null!=p&&p.key?s.formatMessage({id:null==p?void 0:p.key},null!=(h=null==p?void 0:p.info)?h:{}):null!=(g=null==p?void 0:p.message)?g:"";p.className!==et.OneKeyErrorClassNames.OneKeyWalletConnectModalCloseError&&(At.deviceUtils.showErrorToast(p)||c.default.show({title:y||s.formatMessage({id:"transaction__failed"}),description:y},{type:"error"}))}yield(0,Et.wait)(100),null==E||E(p)}})),[M,ge,K,A,ne,G,P,C,Q,B,E,i,s]);return(0,y.useEffect)((function(){return function(){j.current=!1,ne.current=!0,clearInterval(O.current)}}),[O,j]),(0,y.useEffect)((function(){Ue()(fe)||ye()}),[fe,ye]),(0,y.useEffect)((function(){te.current=o}),[o]),(0,y.useEffect)((function(){a(!Ne()(t))}),[t,a]),(0,S.jsxs)(m.default,{h:"full",w:"full",children:[(0,S.jsx)(l.default,{position:"relative",children:(0,S.jsx)(Pt.default.Circle,{progress:me,text:(0,S.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",textAlign:"center",children:s.formatMessage({id:"form__str_transactions"},{0:(0,S.jsx)(p.default,{typography:"DisplayMedium",textAlign:"center",children:`${x} / ${pe}\n`})})})})}),(0,S.jsxs)(p.default,{typography:"DisplayMedium",mt:"24px",textAlign:"center",children:[o===L.BatchSendState.inProgress&&s.formatMessage({id:"title__transactions_in_progress"}),o===L.BatchSendState.onPause&&s.formatMessage({id:"title__you_ve_paused_the_transaction_generation"})]}),ue?(0,S.jsx)(p.default,{typography:"Body1Strong",color:"text-subdued",children:X?s.formatMessage({id:"form__delay_str"},{duration:`${X}s`}):""}):null,pe>1&&"hw"===(null==ae?void 0:ae.type)&&ue&&(0,S.jsx)(p.default,{textAlign:"center",mt:"4px",typography:"DisplaySmall",color:"text-subdued",children:s.formatMessage({id:"content__you_may_receive_multiple_signing_requests_on_the_hardware_wallet"})}),!ue&&(0,S.jsx)(p.default,{textAlign:"center",mt:"4px",typography:"DisplaySmall",color:"text-subdued",children:s.formatMessage({id:"content__if_you_want_to_cancel_transactions_that_has_already_been_generated"})})]})}));var an=n(10918),sn=n(465760),ln=n(161049),cn=n.n(ln),dn=n(447325);var un=n(737790),fn=n(240634),pn=n(265999),mn=n(609813),hn=n(79722),gn=n(677442);function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(){return(bn=(0,d.default)((function*(e){var t=e.toVal,n=e.walletId,r=e.network,o=e.networkId,a=e.account,i=e.accountId,s=e.transferInfo,l=e.tokenInfo,d=e.navigation,u=e.setIsLoadingAssets,f=e.intl,p=_.default.serviceLightningNetwork,m=_.default.engine;u(!0);try{var h=(0,D.findLnurl)(t);if(!h&&(0,D.isLightningAddress)(t)&&(h=t),h){var g=yield p.getLnurlDetails(h);return"login"===g.tag&&d.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:O.SendModalRoutes.LNURLAuth,params:{walletId:n,networkId:o,accountId:i,lnurlDetails:g,isSendFlow:!0}}}),"payRequest"===g.tag&&d.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:O.SendModalRoutes.LNURLPayRequest,params:vn(vn({},s),{},{networkId:o,accountId:i,to:t,lnurlDetails:g,isSendFlow:!0})}}),"withdrawRequest"===g.tag&&d.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:O.SendModalRoutes.LNURLWithdraw,params:{networkId:o,accountId:i,lnurlDetails:g,isSendFlow:!0}}}),void u(!1)}}catch(j){var y;console.error("Lnurl error: ",j);var v=`${f.formatMessage({id:"msg__invalid_lightning_payment_request"})}. ${null!=(y=null==j?void 0:j.message)?y:""}`;return c.default.show({title:v},{type:"error"}),void u(!1)}try{var b;if(yield p.isZeroAmountInvoice({payReq:t,networkId:o,accountId:i}))return void d.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:O.SendModalRoutes.PreSendAmount,params:vn(vn({},s),{},{networkId:o,accountId:i,to:t})}});var x=yield m.buildEncodedTxFromTransfer({networkId:o,accountId:i,transferInfo:vn(vn({},s),{},{to:t})});d.navigate(O.SendModalRoutes.SendConfirm,{accountId:i,networkId:o,encodedTx:x,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:O.SendModalRoutes.PreSendAddress,payload:{payloadType:"Transfer",account:a,network:r,token:vn(vn({},l),{},{sendAddress:s.tokenSendAddress,idOnNetwork:null!=(b=null==l?void 0:l.tokenIdOnNetwork)?b:""}),to:t,value:x.amount,isMax:!1}})}catch(j){console.error("lightningNetworkSendConfirm ERROR: ",j);var w,k=j.key,I=void 0===k?"":k;if("form__amount_invalid"===I)c.default.show({title:f.formatMessage({id:"form__amount_invalid"},{0:null!=(w=null==l?void 0:l.symbol)?w:""})},{type:"error"});else I?c.default.show({title:f.formatMessage({id:I})},{type:"error"}):c.default.show({title:"string"===typeof j?j:j.message},{type:"error"})}finally{u(!1)}}))).apply(this,arguments)}var xn=n(556658),wn=n(15304),_n=n(431440);function kn(e){var t=e.asset;return t?(0,S.jsxs)(l.default,{flexDirection:"row",alignItems:"center",children:[(0,S.jsx)(wn.default,{width:40,height:40}),(0,S.jsx)(an.default.Body1Strong,{ml:3,numberOfLines:2,flex:1,children:`Inscription #${t.inscription_number}`})]}):(0,S.jsx)(l.default,{size:"40px"})}function In(e){var t,n,r=e.asset,o=e.total,a=(0,b.default)();return(0,S.jsxs)(l.default,{flexDirection:"row",alignItems:"center",children:[(0,S.jsx)(_n.default,{asset:r,borderRadius:"6px",size:40}),(0,S.jsxs)(an.default.Body1Strong,{ml:3,numberOfLines:2,flex:1,children:[1===o&&(null!=(t=r.name)?t:r.contractName),o>1&&a.formatMessage({id:"content__str_and_others_int_nfts"},{firstNFT:null!=(n=r.name)?n:r.contractName,otherNFTs:o-1})]})]})}const jn=function(e){var t=e.asset,n=e.total;return t?t.type===xn.NFTAssetType.BTC?(0,S.jsx)(kn,{asset:t}):(0,S.jsx)(In,{asset:t,total:n}):(0,S.jsx)(l.default,{size:"40px"})};var On=["validateAddress","transferInfos","accountId","networkId","closeModal"];function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pn=n(857280),Cn=n(321668),Mn=n(553197),An=n(419246),En=n(279513);function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e){var t=e.cardWidth,n=e.data,r=e.token,o=e.style,a=e.onSelected,i=e.isSelected;return(0,S.jsx)(l.default,Dn(Dn({borderRadius:"12px",overflow:"hidden"},o),{},{children:(0,S.jsx)(Kt.default,{width:t,flexDirection:"column",onPress:function(){return a(n.inscriptionId,i)},children:function(e){var t=e.isHovered,o=e.isPressed;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(Mn.View,{animate:{opacity:t||o?.8:1},transition:{type:"timing",duration:150},children:[(0,S.jsx)(l.default,{height:"104px",bgColor:"surface-default",padding:1,children:(0,S.jsxs)(m.default,{width:"full",height:"full",children:[(0,S.jsx)(H.FormatBalance,{balance:n.amount,formatOptions:{fixed:6},render:function(e){return(0,S.jsx)(p.default,{typography:"Body2Strong",textAlign:"center",numberOfLines:2,children:e})}}),(0,S.jsx)(p.default,{typography:"CaptionMono",textAlign:"center",color:"text-subdued",children:r.symbol})]})}),(0,S.jsxs)(f.default,{padding:1,bgColor:"surface-selected",alignItems:"center",children:[(0,S.jsx)(wn.default,{}),(0,S.jsxs)(p.default,{typography:"CaptionMono",numberOfLines:1,children:["#",n.inscriptionNumber]})]})]}),(0,S.jsx)(l.default,{position:"absolute",right:"6px",top:"6px",children:(0,S.jsx)(En.SelectedIndicator,{multiSelect:!0,selected:i,width:20})})]})}})}))}function Ln(e){var t=e.onPress,n=e.style,r=e.cardWidth,o=(0,b.default)();return(0,S.jsx)(l.default,Dn(Dn({borderRadius:"12px",overflow:"hidden",borderWidth:1,borderColor:"border-default",borderStyle:"dashed"},n),{},{children:(0,S.jsx)(Kt.default,{width:r-2,flexDirection:"column",onPress:t,children:function(e){var t=e.isHovered,n=e.isPressed;return(0,S.jsx)(Mn.View,{animate:{opacity:t||n?.8:1},transition:{type:"timing",duration:150},children:(0,S.jsx)(l.default,{height:"126px",bgColor:"surface-default",children:(0,S.jsxs)(m.default,{width:"full",height:"full",children:[(0,S.jsx)(h.default,{name:"PlusSolid",size:24}),(0,S.jsx)(p.default,{typography:"Button2",mt:2,children:o.formatMessage({id:"title__inscribe"})})]})})})}})}))}var Bn=n(298537),Fn=n.n(Bn),Un=n(671029),Hn=n(423114),Wn=n(170613),Vn=n(25655),zn=n(433996),Kn=n(311631),Gn=n(790656),$n=n(683094),Zn=n(972584),qn=n(221536),Xn=n(849423),Yn=(0,Xn.atom)({data:[],multi:!1}),Qn=(0,Xn.atom)([]),Jn=(0,Xn.createJotaiContext)(),er=Jn.withProvider,tr=Jn.useContextAtom;function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e){var t,n,r,o,a;return`${null!=(t=e.contractAddress)?t:""}-${null!=(n=e.tokenId)?n:""}-${null!=(r=e.networkId)?r:""}-${null!=(o=e.accountAddress)?o:""}-${null!=(a=e.tokenAddress)?a:""}`}var ar=(0,y.memo)((function(e){var t=e.onSelectAsset,n=e.multiSelect,r=e.cardWidth,o=e.asset,a=e.selectAmount,i=e.selected,s=(0,y.useMemo)((function(){if(null!=o&&o.amount&&Number(null==o?void 0:o.amount)>1&&"erc1155"===o.ercType){var e=new(U())(o.amount).gt(9999)?"9999+":o.amount,t=`${new(U())(a).gt(9999)?"9999+":a}/${e}`;return(0,S.jsx)(Re.default,{position:"absolute",left:"6px",bottom:"6px",title:t,size:"sm",type:"default"})}return null}),[o.amount,o.ercType,a]);return(0,S.jsx)(l.default,{mb:"16px",mr:"2",children:(0,S.jsx)(Kt.default,{flexDirection:"column",width:r,onPress:t,children:function(e){var t,a,c=e.isHovered,d=e.isPressed;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Mn.View,{animate:{opacity:c||d?.8:1},transition:{type:"timing",duration:150},children:(0,S.jsxs)(l.default,{children:[(0,S.jsx)(_n.default,{asset:o,borderRadius:"12px",size:r}),s]})}),(0,S.jsx)(p.default,{typography:"Body2Strong",numberOfLines:2,mt:"8px",children:null!=(t=null!=(a=o.name)?a:o.collection.contractName)?t:""}),(0,S.jsx)(l.default,{position:"absolute",right:"6px",top:"6px",children:(0,S.jsx)(En.SelectedIndicator,{multiSelect:n,selected:i,width:20})})]})}})})}));const ir=(0,y.memo)((function(e){var t=e.cardWidth,n=e.multiSelect,r=e.asset,o=tr(Qn),a=(0,g.default)(o,2),i=a[0],s=a[1],l=(0,y.useMemo)((function(){return i.find((function(e){return or(e)===or(r)}))}),[i,r]),c=(0,y.useMemo)((function(){return!!l}),[l]),d=(0,y.useMemo)((function(){var e;return null!=(e=null==l?void 0:l.selectAmount)?e:"0"}),[null==l?void 0:l.selectAmount]),u=(0,y.useCallback)((function(e,t){var n=rr(rr({},r),{},{selected:e,selectAmount:t});s((function(e){return n.selected?[].concat((0,yt.default)(e),[n]):e.filter((function(e){return or(e)!==or(n)}))}))}),[r,s]),f=(0,y.useCallback)((function(){c?u(!1,"0"):r.amount&&new(U())(r.amount).gt(1)?(0,qn.showAmountInputDialog)({total:r.amount,onConfirm:function(e){u(!0,e)}}):u(!0,"1")}),[r,u,c]);return(0,S.jsx)(ar,{asset:r,selected:c,selectAmount:d,cardWidth:t,onSelectAsset:f,multiSelect:n})}));function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr=(0,y.memo)((function(e){var t=e.accountId,n=e.networkId,r=(0,Kn.useSafeAreaInsets)().bottom,o=(0,b.default)(),a=(0,v.useNavigation)(),i=tr(Qn),s=(0,g.default)(i,1)[0],c=tr(Yn),d=(0,g.default)(c,1)[0].multi;if(0===s.length)return null;var u=s.filter((function(e){return!0===e.selected})),f=0===u.length,p=u.map((function(e){var t,n,r;return{from:"",to:"",isNFT:!0,amount:null!=(t=e.selectAmount)?t:"1",token:null!=(n=e.contractAddress)?n:e.tokenAddress,nftTokenId:null!=(r=e.tokenId)?r:e.tokenAddress,nftType:e.ercType}}));return(0,S.jsx)(l.default,{pt:"16px",pb:{base:`${16+r}px`,md:"24px"},children:(0,S.jsx)(Cn.default,{isDisabled:f,size:"lg",type:"primary",onPress:function(){var e=lr(lr({},p[0]),{},{accountId:t,networkId:n,transferInfos:p});a.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:O.SendModalRoutes.PreSendAddress,params:e}})},children:d&&u.length>0?o.formatMessage({id:"action__send_count_nfts"},{count:u.length}):o.formatMessage({id:"action__send_nft"})})})}));function dr(e){var t=e.accountId,n=e.networkId,r=(0,k.useActiveSideAccount)({networkId:n,accountId:t}).network,o=(0,Gn.isCollectibleSupportedChainId)(n),a=(0,k.useAppSelector)((function(e){return e.refresher.refreshAccountNFTTs})),i=(0,k.useAppSelector)((function(e){return e.general})).activeNetworkId,s=(0,k.useActiveSideAccount)({networkId:n,accountId:t}).accountAddress,l=(0,y.useCallback)((0,d.default)((function*(){t&&n&&o&&null!=r&&r.settings.sendNFTEnable&&(yield _.default.serviceNFT.fetchNFT({accountId:t,networkId:n}))})),[t,o,n,r]);(0,y.useEffect)((function(){l()}),[l]);var c=(0,Xt.usePromiseResult)((function(){return _.default.serviceOverview.buildAccountNFTList({networkId:n,accountId:t})}),[t,n,a]).result,u=tr(Yn),f=(0,g.default)(u,2)[1];return(0,y.useEffect)((function(){!function(){var e,t,r,o,a=null!=(e=null==c||null==(t=c.nfts)||null==(r=t.map((function(e){return e.data})).flat())||null==(o=r.filter((function(e){return!(0,Zt.isAllNetworks)(i)||e.networkId===n&&e.accountAddress===s})))?void 0:o.map((function(e){return e.assets})).flat())?e:[];f({data:a,multi:!!$n.batchTransferContractAddress[n]||n.startsWith(ce.IMPL_SOL)})}()}),[c,f,n,s,i]),null}var ur=(0,y.memo)((function(e){var t=e.networkId,n=e.accountId,r=(0,b.default)(),o=(0,k.useNFTIsLoading)({networkId:t,accountId:n});return(0,S.jsx)(l.default,{flex:1,justifyContent:"center",alignItems:"center",children:o?(0,S.jsx)(ne.default,{size:"lg"}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.default,{typography:"Display2XLarge",fontSize:48,lineHeight:60,children:"\ud83d\uddbc\ufe0f"}),(0,S.jsx)(p.default,{typography:"DisplayMedium",mt:"12px",children:r.formatMessage({id:"empty__no_nfts"})})]})})}));const fr=er((function(e){var t=e.accountId,n=e.networkId,r=(0,b.default)(),o=(0,y.useState)(1),a=(0,g.default)(o,2),i=a[0],s=a[1],c=tr(Yn),d=(0,g.default)(c,1)[0],u=d.data,p=d.multi,m=(0,y.useState)(0),h=(0,g.default)(m,2),v=h[0],x=h[1],w=(0,Zn.useGridListLayout)({maxCardWidth:112,numColumns:3,margin:8,pageWidth:v}),_=w.cardWidth,k=w.numColumns,I=(0,y.useCallback)((function(e){var r,o=e.item;return(0,S.jsx)(ir,{accountId:t,networkId:n,cardWidth:_,multiSelect:p,asset:o},null!=(r=o.tokenId)?r:o.tokenAddress)}),[t,_,n,p]),j=(0,y.useMemo)((function(){return u.slice(0,20*i)}),[u,i]),O=(0,y.useCallback)((function(){s((function(e){return e+1}))}),[]),T=(0,y.useCallback)((function(e){v!==e.nativeEvent.layout.width&&x(e.nativeEvent.layout.width)}),[v]),P=(0,y.useMemo)((function(){return 20*i<u.length?(0,S.jsx)(f.default,{justifyContent:"center",mb:"8",children:(0,S.jsx)(zn.default,{name:"ChevronDownMini",onPress:O,children:r.formatMessage({id:"action__load_more"})})}):null}),[r,i,u.length,O]);return(0,S.jsxs)(l.default,{onLayout:T,flex:"1",children:[(0,S.jsx)(dr,{networkId:n,accountId:t}),v>0?(0,S.jsx)(Vn.default,{numColumns:k,data:j,renderItem:I,showsVerticalScrollIndicator:!1,py:"24px",keyExtractor:or,ListFooterComponent:P,ListEmptyComponent:(0,S.jsx)(ur,{networkId:n,accountId:t})},k):null,(0,S.jsx)(cr,{accountId:t,networkId:n})]})}));var pr=n(231846),mr=n(1491),hr=n(297263),gr=n(514164);const yr=(0,y.memo)((function(e){var t=e.onIndexChange,n=e.options,r=(0,y.useState)(0),o=(0,g.default)(r,2),a=o[0],i=o[1],s=(0,hr.default)("background-default"),l=(0,y.useMemo)((function(){return n.map((function(e){return{key:e.label}}))}),[n]),c=(0,y.useMemo)((function(){var e={};return n.forEach((function(t){e[t.label]=t.view})),(0,mr.SceneMap)(e)}),[n]),d=(0,y.useCallback)((function(){return(0,S.jsx)(pr.default,{selectedIndex:a,onChange:i,values:n.map((function(e){return e.title}))})}),[a,n]),u=(0,y.useCallback)((function(e){i(e),t&&t(e)}),[t]),f=(0,y.useMemo)((function(){return{backgroundColor:s}}),[s]);return(0,S.jsx)(gr.TabView,{lazy:!0,navigationState:{index:a,routes:l},renderScene:c,renderTabBar:d,onIndexChange:u,style:f})}));function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xr=(0,y.memo)((function(e){var t=e.accountId,n=e.networkId,r=e.emptyView,o=(0,v.useNavigation)(),a=(0,v.useRoute)(),i=(0,y.useMemo)((function(){return br({},a.params)}),[a.params]),s=(0,k.useActiveSideAccount)({accountId:t,networkId:n}).walletId,c=(0,y.useMemo)((function(){return(0,S.jsx)(l.default,{h:"24px"})}),[]),d=(0,y.useMemo)((function(){return{paddingHorizontal:0,marginTop:0}}),[]),u=(0,y.useCallback)((function(e){var r=e.token;o.navigate(Oe.SendModalRoutes.PreSendAddress,Fn()({from:"",to:"",amount:""},i,{token:r.address,sendAddress:r.sendAddress,to:void 0,accountId:t,networkId:n})),(0,Hn.notifyIfRiskToken)(r)}),[t,o,n,i]);return t?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.default,{h:"24px"}),(0,S.jsx)(Wn.FullTokenAssetsList,{showSkeletonHeader:!1,walletId:s,accountId:t,networkId:n,showRoundTop:!0,hidePriceInfo:!0,ListHeaderComponent:null,ListFooterComponent:c,contentContainerStyle:d,onTokenPress:u})]}):r}));var wr=(0,y.memo)((function(){var e=(0,b.default)(),t=(0,o.default)(),n=(0,v.useRoute)(),r=(0,y.useMemo)((function(){return br({},n.params)}),[n.params]),a=r.accountId,i=r.networkId;(0,kt.useReloadAccountBalance)({accountId:a,networkId:i});var s=t?"16px":"24px",l=(0,y.useMemo)((function(){return(0,S.jsx)(Q.default,{emoji:"\ud83d\udcb3",title:e.formatMessage({id:"empty__no_account_title"})})}),[e]),c=(0,y.useCallback)((function(){return a?(0,S.jsx)(fr,{networkId:i,accountId:a}):l}),[a,l,i]),d=(0,y.useCallback)((function(){return(0,S.jsx)(xr,{accountId:a,networkId:i,emptyView:l})}),[a,l,i]),u=(0,y.useMemo)((function(){return[{label:"token",title:"Tokens",view:d},{label:"nft",title:"NFTs",view:c}]}),[c,d]);return(0,S.jsx)(J.BaseSendModal,{accountId:a,networkId:i,hidePrimaryAction:!0,height:560,hideSecondaryAction:!1,header:e.formatMessage({id:"action__send"}),footer:null,staticChildrenProps:{flex:1,paddingX:s,paddingTop:s},children:(0,S.jsx)(Un.LazyDisplayView,{delay:100,children:(0,S.jsx)(yr,{options:u})})})})),_r=n(65143),kr=(0,y.memo)((function(e){var t,n=e.session,r=e.currentAccount,o=e.currentNetwork,a=e.accountInfo,i=e.client,s=e.setTitleInfo,c=e.injectedConnectorInfo,m=(0,b.default)(),h=(0,Wt.default)(),v=null==a?void 0:a.walletName,x=(null==a||a.type,null==n?void 0:n.connected),w=(0,y.useMemo)((function(){return{connected:c?c.isConnected:x}}),[c,x]).connected;(0,y.useEffect)((function(){s({title:m.formatMessage({id:"action__connect_str"},{0:v}),subTitle:o.name})}),[o.name,m,s,v]);var _=(0,y.useState)(!1),k=(0,g.default)(_,2),I=k[0],j=k[1];(0,y.useEffect)((function(){if(w&&!c){var e=setTimeout((function(){return j(!0)}),Ht.WALLET_CONNECT_SEND_SHOW_DISCONNECT_BUTTON_DELAY);return function(){clearTimeout(e),j(!1)}}}),[c,w]);var O=(0,y.useMemo)((function(){var e,t,n="icon-default";return null!=i&&null!=(e=i.connector)&&e.isTransportOpen&&(n="icon-warning"),null!=i&&null!=(t=i.connector)&&t.isTransportOpen&&w&&(n="interactive-default"),c&&w&&(n="interactive-default"),(0,S.jsx)(l.default,{position:"absolute",top:"-4px",right:"10px",w:3,h:3,bgColor:n,borderWidth:2,borderColor:"surface-default",borderRadius:"full"})}),[null==i||null==(t=i.connector)?void 0:t.isTransportOpen,w,c]);return(0,S.jsxs)(u.default,{flex:1,children:[(0,S.jsxs)(f.default,{alignItems:"center",children:[(0,S.jsx)(ne.default,{}),(0,S.jsxs)(p.default,{typography:"PageHeading",ml:3,children:[m.formatMessage({id:"content__connecting"}),"..."]})]}),(0,S.jsxs)(f.default,{mt:6,mb:8,alignItems:"center",children:[(0,S.jsxs)(l.default,{children:[(0,S.jsx)(Yt.default,{size:10,accountId:r.id,radius:"12px",mr:3}),O]}),(0,S.jsx)(p.default,{typography:"Heading",children:v})]}),(0,S.jsx)(_r.TxDetailActionBox,{details:[{title:m.formatMessage({id:"form__account"}),content:(0,$t.shortenAddress)(r.address)},{title:m.formatMessage({id:"network__network"}),content:o.name}]}),I?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.default,{typography:"Body2",mt:8,children:m.formatMessage({id:"content__disconnect_and_try_again"},{0:v})}),(0,S.jsx)(Cn.default,{alignSelf:"flex-start",mt:4,size:"lg",onPress:(0,d.default)((function*(){yield(0,Ut.terminateWcConnection)({client:i,walletUrl:null==a?void 0:a.walletUrl}),h.canGoBack()&&h.goBack()})),children:m.formatMessage({id:"action__disconnect"})})]}):null]})}));function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}kr.displayName="AuthExternalAccountInfo";var jr=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)};function Or(e){var t=e.accountId,n=e.networkId,r=e.encodedTx,o=e.feeInfoPayload,a=((0,Wt.default)(),(0,k.useActiveSideAccount)({accountId:t,networkId:n}).networkImpl),i=_.default.engine,s=(0,v.useRoute)(),l=(0,V.useInteractWithInfo)({sourceInfo:s.params.sourceInfo});(0,y.useCallback)((0,d.default)((function*(){var e,c,d,u=jr({networkId:n,accountId:t}),f=null,p=null;try{if(a===ce.IMPL_EVM){f=yield u.parseToNativeTx("0xf86b018502540be40082520894a9b4d559a98ff47c83b74522b7986146538cd4df861b48eb57e0008081e5a06f021ecfb345b8122561c751acdc8c0516632442065c2dc6867c2b19054539dca022f230825979a211d70d4488888d6a3ed9d9c12667e15a6d90df6e5a7a48b440")}p=yield u.parseToNativeTx(r)}catch(y){console.error(y)}var m=yield i.decodeTx({accountId:t,networkId:n,encodedTx:r,payload:(null==(e=s.params)?void 0:e.payloadInfo)||(null==(c=s.params)?void 0:c.payload),interactInfo:l}),h=m.decodedTx,g=m.decodedTxLegacy;console.log("decodeTxTest >>>> ",{feeInfoPayload:o,feeInfoValue:null==o||null==(d=o.current)?void 0:d.value,routeParams:s.params,encodedTx:r,decodedTx:h,nativeTx:p,decodedTxLegacy:g,_nativeTxFromRawTx:f})})),[o,n,t,i,r,s.params,l,a]);return null}function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pr=(0,y.memo)((function(e){var t=e.password,n=e.setTitleInfo,r=(0,v.useNavigation)(),o=(0,b.default)(),a=(0,v.useRoute)(),i=(0,y.useRef)(!1),s=(0,y.useRef)(!0),l=a.params,u=l.networkId,f=l.accountId,p=l.encodedTx,h=l.onSuccess,g=l.onFail,x=l.unsignedMessage,w=l.payloadInfo,k=l.backRouteName,I=l.sourceInfo,j=l.signOnly,O=void 0!==j&&j,T=w||a.params.payload,P=(0,V.useDecodedTx)({accountId:f,networkId:u,encodedTx:p,payload:T}).decodedTx,C=(0,V.useInteractWithInfo)({sourceInfo:I}),M=(0,y.useMemo)((function(){return(0,de.isExternalAccount)({accountId:f})}),[f]),A=rn({encodedTx:p,unsignedMessage:x,sourceInfo:I,networkId:u,accountId:f,signOnly:O}),E=A.externalAccountInfo,R=A.sendTxForExternalAccount,D=A.signMsgForExternalAccount,N=(0,y.useCallback)((0,d.default)((function*(){if(M)return R();bt.default.sendTx.info("Authentication sendTx:",a.params);var e=yield _.default.engine.signAndSendEncodedTx({password:t,networkId:u,accountId:f,encodedTx:p,signOnly:O});return bt.default.sendTx.info("Authentication sendTx DONE:",a.params,e),e})),[M,a.params,t,u,f,p,R,O]),L=(0,y.useCallback)((0,d.default)((function*(){return M?D():yield _.default.engine.signMessage({password:t,networkId:u,accountId:f,unsignedMessage:x})})),[f,M,u,t,D,x]),B=(0,y.useCallback)((0,d.default)((function*(){try{if(i.current)return;i.current=!0;var e,t,n,a=p;if(a){if(e=t=yield N(),!t)return;a=t.encodedTx||a}if(x&&(e=n=yield L(),!n))return;if(e){var l,d,m,y,v=T;"InternalSwap"===(null==(l=v)?void 0:l.type)&&null!=(d=v)&&d.swapInfo&&null!=(m=v)&&null!=(y=m.swapInfo)&&y.isApprove&&(v=void 0),null==h||h(e,{signedTx:t,encodedTx:a,decodedTx:a?(yield _.default.engine.decodeTx({networkId:u,accountId:f,encodedTx:a,payload:v,interactInfo:C})).decodedTx:void 0}),null!=r&&null!=r.canGoBack&&r.canGoBack()}}catch(A){var b,w=A;if(bt.default.common.error(w),k)r.navigate({merge:!0,name:k,params:{}});else{var I;if(!s.current)return;null==(I=r.getParent())||null==I.goBack||I.goBack()}if(yield(0,Et.wait)(600),-32603===(null==w?void 0:w.code)&&"string"===typeof(null==w||null==(b=w.data)?void 0:b.message)){var j,O;null!=w&&null!=(j=w.data)&&j.message.includes("nonce")&&null!=w&&null!=(O=w.data)&&O.message.includes("high")&&(w.data.message=o.formatMessage({id:"msg__invalid_tx_that_nonce_is_higher_than_default"})),c.default.show({title:w.data.message||o.formatMessage({id:"transaction__failed"}),description:w.data.message},{type:"error"})}else{var S,P,M=null!=w&&w.key?o.formatMessage({id:null==w?void 0:w.key},null!=(S=null==w?void 0:w.info)?S:{}):null!=(P=null==w?void 0:w.message)?P:"";w.className!==et.OneKeyErrorClassNames.OneKeyWalletConnectModalCloseError&&(At.deviceUtils.showErrorToast(w)||c.default.show({title:M||o.formatMessage({id:"transaction__failed"}),description:M},{type:"error"}))}yield(0,Et.wait)(100),null==g||g(w)}})),[f,k,p,C,o,r,u,h,g,T,N,L,x]);return(0,y.useEffect)((function(){return function(){s.current=!1}}),[s]),(0,y.useEffect)((function(){(P||x)&&B()}),[P,x,B]),E?(0,S.jsx)(kr,Sr(Sr({},E),{},{setTitleInfo:n})):(0,S.jsx)(m.default,{h:"full",w:"full",children:(0,S.jsx)(ne.default,{testID:"SendAuth-Default-Spinner",size:"lg"})})})),Cr=n(471453),Mr=n(879425),Ar=["children","encodedTx","decodedTx","confirmDisabled","feeInfoPayload","feeInfoLoading","handleConfirm","updateEncodedTxBeforeConfirm","autoConfirm","sourceInfo","advancedSettings","prepaidFee","sendConfirmParams","isListOrderPsbt"];function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dr(e){var t,n,r,o,a,i=(0,b.default)(),s=(0,k.useActiveSideAccount)(e),l=s.network,c=s.networkImpl,u=s.networkId,f=s.accountId,p=s.accountAddress,m=e.children,h=e.encodedTx,v=e.decodedTx,x=e.confirmDisabled,I=e.feeInfoPayload,j=e.feeInfoLoading,O=e.handleConfirm,T=e.updateEncodedTxBeforeConfirm,P=e.autoConfirm,C=e.sourceInfo,M=e.advancedSettings,A=e.prepaidFee,E=e.sendConfirmParams,R=e.isListOrderPsbt,D=(0,ie.default)(e,Ar),N=(0,k.useNativeToken)(null==l?void 0:l.id),L=(0,w.default)(),B=(0,k.useTokenBalanceWithoutFrozen)({networkId:u,accountId:f,token:N,fallback:"0",useRecycleBalance:!0}),F=null!=(t=null==I||null==(n=I.current)?void 0:n.totalNative)?t:"0",H=(0,y.useRef)(!1),W=(0,y.useState)("0"),V=(0,g.default)(W,2),z=V[0],K=V[1],G=(0,y.useState)(!1),$=(0,g.default)(G,2),Z=$[0],q=$[1],X=(0,y.useState)(!1),Y=(0,g.default)(X,2),Q=Y[0],ee=Y[1],te=(0,y.useMemo)((function(){if(C){var e=new(U())(0);for(var t of null!=(n=null==v?void 0:v.actions)?n:[]){var n,r,o;if(t.type===le.IDecodedTxActionType.NATIVE_TRANSFER&&t.direction===le.IDecodedTxDirection.OUT)e=e.plus(null!=(r=null==(o=t.nativeTransfer)?void 0:o.amount)?r:0)}return new(U())(B).lt(e.plus(F).plus(A||"0"))}return new(U())(B).lt(new(U())(F).plus(A||"0"))}),[v,F,B,A,C]),ne=(0,y.useMemo)((function(){if(null!=l&&l.settings.nonceEditable&&null!=M&&M.currentNonce){var e=new(U())(M.currentNonce),t=new(U())(M.originalNonce);return e.isLessThan(t)?Oe.EditableNonceStatusEnum.Less:e.isGreaterThan(t)?Oe.EditableNonceStatusEnum.Greater:Oe.EditableNonceStatusEnum.Equal}return Oe.EditableNonceStatusEnum.None}),[M,l]),re=(0,y.useMemo)((function(){return(0,de.isWatchingAccount)({accountId:f})}),[f]),oe=(0,y.useMemo)((function(){if(!h)return!1;if(c===ce.IMPL_EVM){var e=h;if(e&&p&&ae()(e.from)!==ae()(p))return!0}return!1}),[p,h,c]),se=(0,y.useMemo)((function(){var e,t=null==I?void 0:I.info;return!(null==t||!t.eip1559||null==(e=t.extraInfo)||!e.networkCongestion)&&t.extraInfo.networkCongestion>=Mr.NetworkCongestionThresholds.busy}),[null==I?void 0:I.info]),ue=(0,y.useMemo)((function(){var e=null==I?void 0:I.selected.custom;if(null!=I&&I.info.eip1559||null!=e&&e.eip1559)return"preset"===(null==I?void 0:I.selected.type)?"0"===(null==I?void 0:I.selected.preset):"0"===(null==e?void 0:e.similarToPreset)}),[null==I?void 0:I.info.eip1559,null==I?void 0:I.selected.custom,null==I?void 0:I.selected.preset,null==I?void 0:I.selected.type]),fe=(0,y.useMemo)((function(){return!(null==M||!M.currentHexData||(0,Et.isHexString)(null==M?void 0:M.currentHexData))}),[null==M?void 0:M.currentHexData]),pe=(0,y.useMemo)((function(){if(!h)return!1;if((0,ce.isLightningNetworkByImpl)(c)){return null==h?void 0:h.isExceedTransferLimit}return!1}),[h,c]),me=(0,y.useMemo)((function(){if(!h)return null;if((0,ce.isLightningNetworkByImpl)(c)){return null==h?void 0:h.config}return null}),[h,c]),he=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var t=e.close,n=e.onClose,r=h;r&&(T&&(r=yield T(r)),O({close:t,onClose:n,encodedTx:r}))}));return function(t){return e.apply(this,arguments)}}(),[h,O,T]);return(0,y.useEffect)((function(){!P||j||H.current||(H.current=!0,setTimeout((function(){he({close:L})}),600))}),[j,P,he,L]),(0,y.useEffect)((function(){var e=function(){var e=(0,d.default)((function*(){var e,t=yield _.default.serviceHistory.getLocalHistory({accountId:f,networkId:u,isPending:!0,limit:10});e=(t=t.filter((function(e){var t=e.decodedTx.actions[0];return(t.direction===le.IDecodedTxDirection.OUT||t.direction===le.IDecodedTxDirection.SELF)&&(null==M||!M.currentNonce||!new(U())(M.currentNonce).isLessThanOrEqualTo(e.decodedTx.nonce))}))).length.toString(),K(e)}));return function(){return e.apply(this,arguments)}}();null!=l&&l.settings.showPendingTxsWarning&&e()}),[f,null==M?void 0:M.currentNonce,null==l?void 0:l.settings.showPendingTxsWarning,u]),(0,y.useEffect)((function(){var e=function(){var e=(0,d.default)((function*(){var e=yield _.default.serviceHistory.getLocalHistory({networkId:u,accountId:f,isPending:!0,limit:50});if(null!=l&&l.settings.nonceEditable&&l.settings.feeInfoEditable&&null!=M&&M.currentNonce){var t=null==I?void 0:I.current.value,n=be()(e,(function(e){return new(U())(M.currentNonce).isEqualTo(e.decodedTx.nonce)}));if(n){ee(!0);var r,o,a,i,s,c,d,p,m,h,g=n.decodedTx.feeInfo;if(g&&t)if(g.eip1559){if(new(U())(null!=(a=null==(i=g.price1559)?void 0:i.maxFeePerGas)?a:0).isGreaterThanOrEqualTo(null!=(s=null==(c=t.price1559)?void 0:c.maxFeePerGas)?s:0)||new(U())(null!=(d=null==(p=g.price1559)?void 0:p.maxPriorityFeePerGas)?d:0).isGreaterThanOrEqualTo(null!=(m=null==(h=t.price1559)?void 0:h.maxPriorityFeePerGas)?m:0))return void q(!0)}else if(new(U())(null!=(r=g.price)?r:0).isGreaterThanOrEqualTo(null!=(o=t.price)?o:0))return void q(!0)}else ee(!1)}q(!1)}));return function(){return e.apply(this,arguments)}}();e()}),[f,null==M?void 0:M.currentNonce,I,null==l||null==(r=l.settings)?void 0:r.feeInfoEditable,null==l||null==(o=l.settings)?void 0:o.nonceEditable,u]),(0,S.jsx)(J.BaseSendModal,Rr(Rr({height:"598px",primaryActionTranslationId:E.sourceInfo&&E.signOnly?"action__sign":"action__confirm",primaryActionProps:{isDisabled:re||fe||te||oe||pe||j||!I||!h||!v||x},secondaryActionTranslationId:"action__cancel",header:i.formatMessage({id:"transaction__transaction_confirm"}),onSecondaryActionPress:function(e){return(0,e.close)()},onPrimaryActionPress:he},D),{},{scrollViewProps:{children:(0,S.jsxs)(S.Fragment,{children:[!P&&(0,S.jsx)(Te,{networkId:u,accountAddress:p,nativeToken:N,isWatchingAccount:re,balanceInsufficient:te,isAccountNotMatched:oe,editableNonceStatus:ne,isNetworkBusy:se,isLowMaxFee:ue,pendingTxCount:z,isPendingTxSameNonce:Q,isPendingTxSameNonceWithLowerGas:Z,isLNExceedTransferLimit:pe,lightingNetworkTransferConfig:me,prepaidFee:A,fee:null!=(a=null==I?void 0:I.current.totalNativeForDisplay)?a:"",isListOrderPsbt:R}),(0,S.jsxs)(ye,{children:[m,(0,S.jsx)(Or,{accountId:f,networkId:u,encodedTx:h,feeInfoPayload:I})]}),null]})}}))}var Nr=n(6190),Lr=n(242914);function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){var t=e.children,n=e.canPress,r=e.onPress;return n?(0,S.jsx)(Je.default,{onPress:r,activeOpacity:.9,children:t}):(0,S.jsx)(S.Fragment,{children:t})}function Ur(e){var t,n=e.feeInfoInputEditable,r=e.feeInfoInputLoading,o=e.sendConfirmParams,a=e.encodedTx,i=e.feeInfoPayload,s=st({networkId:e.networkId}),l=(0,y.useMemo)((function(){var e=o.signOnly;return!Ne()(o.feeInfoEditable)&&o.feeInfoEditable&&(e=!1),e}),[o.feeInfoEditable,o.signOnly]);return r||!n||!s||!a||!i||l||(null==i||null==(t=i.info)?void 0:t.disableEditFee)}function Hr(e){var t=e.networkId,n=e.accountId,r=e.encodedTx,o=e.feeInfoPayload,a=e.loading,i=e.renderChildren,s=e.editable,l=e.autoNavigateToEdit,c=e.sendConfirmParams,d=(0,v.useNavigation)(),u=(0,v.useRoute)(),f=Ur({sendConfirmParams:c,feeInfoPayload:o,feeInfoInputEditable:s,feeInfoInputLoading:a,encodedTx:r,networkId:t}),p=(0,y.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).replace,a=void 0!==e&&e;f?console.error("FeeInfoInput is disabled"):a?d.replace(Oe.SendModalRoutes.SendEditFee,{networkId:t,accountId:n,encodedTx:r,feeInfoSelected:null==o?void 0:o.selected,autoConfirmAfterFeeSaved:l,resendActionInfo:u.params.resendActionInfo,sendConfirmParams:c}):d.navigate({name:Oe.SendModalRoutes.SendEditFee,params:{networkId:t,accountId:n,encodedTx:r,feeInfoSelected:null==o?void 0:o.selected,autoConfirmAfterFeeSaved:l,sendConfirmParams:c}})}),[f,d,t,n,r,null==o?void 0:o.selected,l,u.params.resendActionInfo,c]);return(0,y.useEffect)((function(){l&&p({replace:!0})}),[l,p]),f?i({isHovered:!0}):(0,S.jsx)(Kt.default,{onPress:function(){return p({replace:Nr.IS_REPLACE_ROUTE_TO_FEE_EDIT})},children:i})}var Wr=(0,y.memo)((function(e){return(0,S.jsx)(Hr,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));function Vr(e){var t,n,r,o,a,i=e.encodedTx,s=e.feeInfoPayload,c=e.loading,d=e.editable,u=e.sendConfirmParams,m=e.networkId,v=e.accountId,x=e.feeInfoError,w=(0,b.default)(),_="preset"===(null==s||null==(t=s.selected)?void 0:t.type),I=(0,y.useState)(!1),j=(0,g.default)(I,2),O=j[0],T=j[1],P=(0,k.useNetwork)({networkId:m}).network,C=null!=(n=null==s||null==(r=s.current)?void 0:r.totalNativeForDisplay)?n:"",M=null!=(o=null==s||null==(a=s.current)?void 0:a.totalNative)?o:"";M=new(U())(C).isNaN()||!_?M:C,i.totalFeeInNative&&(M=i.totalFeeInNative);var A=!Ur({feeInfoInputLoading:c,feeInfoInputEditable:d,feeInfoPayload:s,networkId:m,encodedTx:i,sendConfirmParams:u}),E=(0,y.useMemo)((function(){var e,t,n,r,o,a;if(!i||!s)return null;var l=s.selected.custom,c=_?null==s||null==(e=s.selected)?void 0:e.preset:null==l?void 0:l.similarToPreset,d=_?null==s||null==(t=s.info)||null==(n=t.waitingSeconds)?void 0:n[Number(c)]:null==l?void 0:l.waitingSeconds;return null!=i&&i.psbtHex&&(new(U())(M).isNaN()||new(U())(M).isLessThanOrEqualTo(0))?void 0:(0,S.jsxs)(f.default,{alignItems:"center",children:[null!=P&&P.settings.hideFeeSpeedInfo?null:(0,S.jsxs)(f.default,{testID:"FeeInfoInputForConfirmLite-ContentTitle-0",flex:1,space:2,alignItems:"center",children:[(0,S.jsx)(ot.FeeSpeedLabel,{prices:null==s||null==(r=s.info)?void 0:r.prices,isCustom:!_,index:null==s||null==(o=s.selected)?void 0:o.preset,space:1}),(0,S.jsx)(Lr.FeeSpeedTime,{prices:null==s||null==(a=s.info)?void 0:a.prices,index:null!=c?c:0,waitingSeconds:d,typography:"Body1Strong",withColor:!0})]}),A&&(0,S.jsx)(h.default,{testID:"FeeInfoInputForConfirmLite-ChevronRightMini-Icon",name:"ChevronRightMini",color:"icon-subdued"})]})}),[i,A,s,_,null==P?void 0:P.settings.hideFeeSpeedInfo,M]),R=(0,y.useMemo)((function(){var e;if(!i||!s)return null;var t=U().max((0,Et.removeTrailingZeros)(new(U())(M||"0").toFixed(8)),0).toFixed();return(0,S.jsxs)(f.default,{space:1,alignItems:"center",children:[(0,S.jsx)(p.default,{children:`${t} ${(null==s||null==(e=s.info)?void 0:e.nativeSymbol)||""}`}),(0,S.jsx)(H.FormatCurrencyNativeOfAccount,{networkId:m,accountId:v,value:t,render:function(e){return(0,S.jsxs)(p.default,{color:"text-subdued",children:["(",e,")"]})}}),c&&(0,S.jsx)(ne.default,{size:"sm"})]})}),[v,i,s,c,m,M]),D=((0,y.useMemo)((function(){var e;if(!_||!i||!s)return null;var t,n,r,o="";"preset"===(null==s||null==(e=s.selected)?void 0:e.type)&&("0"===(null==s||null==(t=s.selected)?void 0:t.preset)&&(o=w.formatMessage({id:"content__maybe_in_30s"})),"1"===(null==s||null==(n=s.selected)?void 0:n.preset)&&(o=w.formatMessage({id:"content__likely_less_than_15s"})),"2"===(null==s||null==(r=s.selected)?void 0:r.preset)&&(o=w.formatMessage({id:"content__very_likely_less_than_15s"})));return(0,S.jsx)(p.default,{color:"text-subdued",flex:1,children:o})}),[i,s,w,_]),(0,y.useMemo)((function(){if(!x)return null;var e=x.className,t=x.key,n=null;return(n="OneKeyError"===e&&"onekey_error"!==t?w.formatMessage({id:x.key}):x.message)&&n.length>350&&(n=`${n.slice(0,350)}...`),!!n&&(0,S.jsx)(Qe.Tooltip,{maxW:"360px",isOpen:O,hasArrow:!0,label:n,bg:"surface-neutral-default",_text:{color:"text-default",fontSize:"14px"},px:"16px",py:"8px",placement:"top",borderRadius:"12px",children:(0,S.jsx)(l.default,{children:(0,S.jsx)(h.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})})})}),[x,O,w])),N=(0,y.useCallback)((function(){var e=null;return e=null!==E?(0,S.jsxs)(l.default,{flexDirection:"column",children:[E,R]}):(0,S.jsx)(Fr,{canPress:!!D,onPress:function(){return T(!O)},children:(0,S.jsxs)(l.default,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:[(0,S.jsx)(p.default,{color:"text-subdued",flex:1,children:w.formatMessage({id:"content__calculate_fee"})}),(0,S.jsx)(l.default,{w:2}),D,c?(0,S.jsx)(ne.default,{size:"sm"}):null,(0,S.jsx)(l.default,{flex:1})]})}),(0,S.jsx)(l.default,{children:e})}),[D,O,w,c,R,E]);return(0,y.useEffect)((function(){return function(){return T(!1)}}),[]),(0,S.jsx)(Wr,{networkId:m,accountId:v,sendConfirmParams:u,editable:d,encodedTx:i,feeInfoPayload:s,loading:c,renderChildren:N})}function zr(e){var t=e.encodedTx,n=e.feeInfoPayload,r=e.loading,o=e.editable,a=e.sendConfirmParams,i=e.networkId,s=e.accountId,l=(0,y.useCallback)((function(e){e.isHovered;return null}),[]);return(0,S.jsx)(Wr,{networkId:i,accountId:s,sendConfirmParams:a,editable:o,encodedTx:t,feeInfoPayload:n,loading:r,renderChildren:l,autoNavigateToEdit:!0})}Wr.displayName="FeeInfoInputContainer";var Kr=n(568674),Gr=n(307061);const $r=function(e){var t,n=e.network,r=e.accountId,o=e.encodedTx,a=e.isChecked,i=e.onToggleCoinControl,l=e.onSelectedUtxos,d=(0,b.default)(),m=(0,Wt.default)(),h=(0,y.useMemo)((function(){return o.inputs.length}),[o.inputs]),g=!(null!=o&&null!=(t=o.transferInfo)&&t.coinControlDisabled),v=(0,y.useMemo)((function(){return o.inputs.reduce((function(e,t){return e.plus(t.value)}),new(U())(0)).shiftedBy(-n.decimals).toFixed()}),[o.inputs,n.decimals]),w=(0,y.useCallback)((function(){m.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.CoinControl,params:{screen:O.CoinControlModalRoutes.CoinControlModal,params:{networkId:n.id,accountId:r,isSelectMode:!0,encodedTx:o,onConfirm:function(e){m.goBack(),g?l(e):c.default.show({title:d.formatMessage({id:"msg__coin_control_is_disabled_for_this_tx"})})}}}})}),[m,n.id,r,o,g,l,d]);return(0,S.jsxs)(u.default,{p:4,borderWidth:x.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",children:[(0,S.jsxs)(f.default,{alignItems:"center",justifyContent:"space-between",children:[(0,S.jsx)(p.default,{typography:"Body1Strong",children:d.formatMessage({id:"form__coin_control"})}),(0,S.jsx)(Gr.default,{labelType:"false",isChecked:a,onToggle:function(){g?i():c.default.show({title:d.formatMessage({id:"msg__coin_control_is_disabled_for_this_tx"})})}})]}),(0,S.jsx)(s.default,{my:4}),(0,S.jsx)(Kt.default,{_pressed:{bg:"surface-pressed"},_hover:{bg:"surface-hovered"},borderRadius:"xl",m:-2,isDisabled:!a,onPress:w,children:(0,S.jsxs)(f.default,{alignItems:"center",justifyContent:"space-between",mx:2,children:[(0,S.jsx)(p.default,{typography:"Body2",color:a?"text-default":"text-disabled",children:d.formatMessage({id:"form__str_selected"},{0:h})}),(0,S.jsxs)(f.default,{alignItems:"center",mr:"-10px",children:[(0,S.jsx)(p.default,{typography:"Body2",color:a?"text-default":"text-disabled",children:`${v} ${n.symbol}`}),(0,S.jsx)(zn.default,{size:"sm",name:"ChevronRightMini",type:"plain",iconColor:a?"icon-subdued":"icon-disabled",isDisabled:!a,onPress:w})]})]})})]})};var Zr=n(606201),qr=n(333665);function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e){var t=e.labelId,n=e.tooltipId,r=e.labelBefore,o=e.labelAfter,a=e.labelProps,i=(0,b.default)();return(0,S.jsxs)(f.default,{alignItems:"center",space:1,children:[(0,S.jsxs)(p.default,Yr(Yr({typography:"Body2Strong"},a),{},{children:[r,i.formatMessage({id:t}),o]})),(0,S.jsx)(Zr.default,{trigger:function(e){var t=Object.assign({},((0,qr.default)(e),e));return(0,S.jsx)(Kt.default,Yr(Yr({},t),{},{children:(0,S.jsx)(h.default,{name:"InformationCircleMini",size:16,color:"icon-subdued"})}))},bodyProps:{children:(0,S.jsx)(p.default,{children:i.formatMessage({id:n})})}})]})}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var to=(0,y.memo)((function(e){var t,n,r,o,a=e.accountId,i=e.networkId,s=e.encodedTx,l=e.advancedSettings,c=e.setAdvancedSettings,d=e.isLoadingAdvancedSettings,u=String(null!=(t=s.nonce)?t:null==l?void 0:l.originalNonce),f=s.data,m=(0,k.useNetworkSimple)(i),g=null==m||null==(n=m.settings)?void 0:n.nonceEditable,v=null==m||null==(r=m.settings)?void 0:r.isBtcForkChain,x=null==m||null==(o=m.settings)?void 0:o.hexDataEditable,w=(0,b.default)(),_=(0,C.default)({mode:"onChange",reValidateMode:"onChange"}),I=_.control,j=_.setValue,O=_.register,T=(0,gn.useFormOnChangeDebounced)({useFormReturn:_}).formValues,P=null==T?void 0:T.nonce,M=null==T?void 0:T.hexData,A=new(U())(null!=P?P:0).isLessThan(new(U())(u)),E=O("nonce",{onBlur:function(){P||j("nonce",u)}}).onBlur,R=(0,y.useMemo)((function(){return!(null==l||!l.isCoinControlChecked)}),[null==l?void 0:l.isCoinControlChecked]),D=(0,y.useMemo)((function(){var e=[];if(g&&""!==u){var t=u===P;e.push((0,S.jsx)(B.default.Item,{name:"nonce",label:(0,S.jsx)(Qr,{labelId:"form__nonce",tooltipId:"content__what_is_nonce_desc"}),rules:{min:0},control:I,helpText:w.formatMessage({id:"form__current_str"},{0:u}),children:(0,S.jsx)(B.default.NumberInput,{borderColor:A?"border-warning-default":"border-default",isDisabled:d,decimal:0,size:"xl",onBlur:E,rightCustomElement:(0,S.jsx)(Cn.default,{isLoading:d,type:"plain",isDisabled:t||d,onPress:function(){return j("nonce",u)},children:(0,S.jsx)(p.default,{color:t?"text-subdued":"text-default",children:w.formatMessage({id:"action__reset"})})})})}))}if(x){var n=f&&""!==f&&"0x"!==f;e.push((0,S.jsx)(B.default.Item,{name:"hexData",label:(0,S.jsx)(Qr,{labelId:"form__hex_data",tooltipId:"form__hex_data_question_mark"}),control:I,rules:{validate:function(e){return!e||((0,Et.isHexString)(e)?void 0:w.formatMessage({id:"msg__invalid_hex_data"}))}},children:(0,S.jsx)(B.default.Textarea,{bgColor:"action-secondary-default",isDisabled:n,marginBottom:"1px"})}))}return v&&e.push((0,S.jsx)($r,{network:m,accountId:a,encodedTx:s,isChecked:R,onToggleCoinControl:function(){c((function(e){return eo(eo({},e),{},{isCoinControlChecked:!e.isCoinControlChecked,selectedUtxos:[]})}))},onSelectedUtxos:function(e){c((function(t){return eo(eo({},t),{},{selectedUtxos:e})}))}})),e}),[g,u,x,v,P,I,w,A,d,E,j,f,m,a,s,R,c]);return(0,y.useEffect)((function(){j("nonce",u),j("hexData",f)}),[f,u,j]),(0,y.useEffect)((function(){Ne()(P)||c((function(e){return eo(eo({},e),{},{currentNonce:P})}))}),[P,c]),(0,y.useEffect)((function(){Ne()(M)||c((function(e){return eo(eo({},e),{},{currentHexData:M})}))}),[M,c]),D&&D.length>0?(0,S.jsx)(Kr.default,{arrowPosition:"right",textAlign:"center",renderCustomTrigger:function(e,t){return t?(0,S.jsx)(Cn.default,{rightIcon:(0,S.jsx)(h.default,{size:12,name:"ChevronDownMini",color:"icon-subdued"}),type:"plain",size:"sm",mt:2,onPress:e,children:(0,S.jsx)(p.default,{typography:"Body1Strong",fontSize:"14px",color:"text-subdued",children:w.formatMessage({id:"action__advance"})})}):null},children:(0,S.jsx)(B.default,{mt:6,textAlign:"left",paddingX:"1px",children:D})}):null}));function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ro=5e3;function oo(e){var t,n,o=e.encodedTx,a=e.useFeeInTx,i=void 0!==a&&a,s=e.pollingInterval,l=void 0===s?0:s,u=e.fetchAnyway,f=void 0!==u&&u,p=e.networkId,m=e.accountId,h=e.signOnly,b=e.forBatchSend,x=e.payload,w=e.ignoreFetchFeeCalling,I=e.shouldStopPolling,j=e.isBtcForkChain,O=(0,v.useIsFocused)(),T=(0,k.useActiveSideAccount)({accountId:m,networkId:p}).network,S=(0,y.useState)(null),P=(0,g.default)(S,2),C=P[0],M=P[1],A=(0,y.useState)(null),E=(0,g.default)(A,2),R=E[0],D=E[1],N=(0,y.useRef)(null),L=(0,y.useState)(!0),B=(0,g.default)(L,2),F=B[0],H=B[1],W=(0,v.useRoute)(),V=it(p),z=(0,k.useAppSelector)((function(e){return e.swapTransactions.swapFeePresetIndex}));x&&"InternalSwap"===(null==x?void 0:x.type)&&z&&(V=z);var K=null==T?void 0:T.settings,G=null==K||null==(t=K.subNetworkSettings)?void 0:t[p],$=null==(n=W.params)?void 0:n.feeInfoSelected,Z=(0,y.useCallback)((0,d.default)((function*(){var e,t,n,a;if(!o)return null;var s=$,l=null!=T?T:{},c=l.decimals,d=l.symbol,u=l.feeDecimals,g={nativeDecimals:c,nativeSymbol:d,feeDecimals:u,feeSymbol:l.feeSymbol,prices:[],defaultPresetIndex:null!=(e=V)?e:"1"},y=!w&&(!s||"preset"===(null==(t=s)?void 0:t.type));if(f&&!w&&(y=!0),y)try{g=yield _.default.engine.fetchFeeInfo({accountId:m,networkId:p,encodedTx:o,signOnly:h}),M(null)}catch(z){var v=z,x=v.code,k=v.data;return M(-32603===x&&k?k:z),bt.default.sendTx.error("engine.fetchFeeInfo ERROR: ",z),null}if(i)if(j){var I=o.totalFee;g.tx={isBtcForkChain:!0,btcFee:new(U())(I).toNumber()}}else{var O=o,S=O.maxFeePerGas,P=O.maxPriorityFeePerGas,C=O.gas,A=O.gasLimit,E=O.gasPrice,R=A||C;if(S&&P){var D={baseFee:new(U())(null!=E?E:0).shiftedBy(-(null!=u?u:0)).toFixed(),maxFeePerGas:new(U())(S).shiftedBy(-(null!=u?u:0)).toFixed(),maxPriorityFeePerGas:new(U())(P).shiftedBy(-(null!=u?u:0)).toFixed()};g.eip1559=!0,g.limit=R||g.limit,g.prices=[D],g.tx={eip1559:!0,limit:R,price1559:D}}else if(E){var N=new(U())(null!=E?E:0).shiftedBy(-(null!=u?u:0)).toFixed();g.limit=R||g.limit,g.prices=[N],g.tx={limit:R,price:N}}else R&&(g.tx=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({limit:R,eip1559:g.eip1559},g.eip1559?{price1559:g.prices[Number(g.defaultPresetIndex)]}:{price:g.prices[Number(g.defaultPresetIndex)]}))}V&&(g.defaultPresetIndex=V),parseFloat(g.defaultPresetIndex)>g.prices.length-1&&(g.defaultPresetIndex=""+(g.prices.length-1)),parseFloat(g.defaultPresetIndex)<0&&(g.defaultPresetIndex="0");var L={price:"0",limit:"0"};!s&&g&&i&&g.tx&&(s={type:"custom",custom:g.tx,preset:g.defaultPresetIndex}),s=s||{type:"preset",preset:g.defaultPresetIndex},b&&g&&"preset"===s.type&&s.preset&&(g.customDisabled=!0),"custom"===s.type&&s.custom&&(L=s.custom),g&&"preset"===s.type&&s.preset&&(L=(0,vt.getSelectedFeeInfoUnit)({info:g,index:s.preset}));var B=(0,vt.calculateTotalFeeRange)(L,c),F=B.max,H=B.maxForDisplay,W={selected:s,info:g,current:{value:L,total:F,totalForDisplay:H,totalNative:(0,vt.calculateTotalFeeNative)({amount:F,info:g}),totalNativeForDisplay:(0,vt.calculateTotalFeeNative)({amount:H,info:g})}};if(bt.default.sendTx.info("useFeeInfoPayload: ",W),new(U())(null!=(n=null==W||null==(a=W.current)?void 0:a.total)?n:0).isZero()&&(null==K||!K.allowZeroFee)&&(null==G||!G.allowZeroFee))throw new et.FailedToEstimatedGasError;return W})),[o,$,T,V,w,f,i,b,null==K?void 0:K.allowZeroFee,null==G?void 0:G.allowZeroFee,m,p,h,j]);return(0,y.useEffect)((function(){(0,d.default)((function*(){if(!o)return null;H(!0);try{var e=yield Z();D(e)}catch(n){if(-32603===n.code){var t=n.data.message;"string"===typeof t&&c.default.show({title:t})}D(null),M(n),bt.default.sendTx.error("fetchFeeInfo ERROR: ",n)}finally{H(!1)}}))()}),[o,Z]),(0,y.useEffect)((function(){var e;return l&&O&&(e=setInterval((0,d.default)((function*(){if(!F&&!I)try{var e=yield Z();e?(D(e),N.current=e):N.current&&(D(N.current),M(null))}catch(t){N.current?(D(N.current),M(null)):M(t),bt.default.sendTx.error("feeInfoPollingInterval ERROR: ",t)}})),l)),function(){clearInterval(e)}}),[Z,O,F,l,I]),{feeInfoError:C,feeInfoPayload:R,feeInfoLoading:F,getSelectedFeeInfoUnit:vt.getSelectedFeeInfoUnit}}function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(){var e,t,n,r,o,a,i,s=(0,v.useNavigation)(),l=(0,v.useRoute)(),c=(0,y.useRef)({}),d=null!=(e=l.params)?e:c.current,u=d.sourceInfo,f=d.resendActionInfo,p=d.encodedTx,m=d.onModalClose,h=d.networkId,g=d.accountId,b=d.prepaidFee,x=!!d.sourceInfo,w=null==(t=d.feeInfoEditable)||t,_=null!=(n=d.feeInfoUseFeeInTx)&&n,k=null!=(r=d.ignoreFetchFeeCalling)&&r,j="cancel"===(null==(o=d.resendActionInfo)?void 0:o.type)||"speedUp"===(null==(a=d.resendActionInfo)?void 0:a.type),O=(0,y.useMemo)((function(){return d.payload}),[d.payload]),T=(0,I.default)({id:null!=(i=null==u?void 0:u.id)?i:"",closeOnError:!0}),S=(0,y.useRef)(m),P=(0,y.useRef)(!1),C=(0,y.useCallback)((function(){P.current||(T.reject(),S.current&&S.current(),P.current=!0)}),[T]);Object.assign(d,{onModalClose:C});var M="InternalSwap"===(null==O?void 0:O.payloadType);return{networkId:h,accountId:g,dappApprove:T,onModalClose:C,encodedTx:p,navigation:s,route:l,routeParams:d,sourceInfo:u,isFromDapp:x,feeInfoEditable:w,feeInfoUseFeeInTx:_,isSpeedUpOrCancel:j,payload:O,payloadInfo:d.payloadInfo,resendActionInfo:f,isInternalSwapTx:M,isTransferTypeTx:!1,ignoreFetchFeeCalling:k,prepaidFee:b}}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uo(e){return(0,S.jsx)(Dr,co(co({},e),{},{confirmDisabled:!0,children:(0,S.jsx)(m.default,{minH:"320px",w:"full",h:"full",flex:1,children:(0,S.jsx)(ne.default,{size:"lg"})})}))}function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mo(e){var t=e.feeInfoPayload,n=e.feeInfoLoading,r=e.feeInfoEditable,o=e.feeInfoError,a=e.encodedTx,i=e.sendConfirmParams,s=e.networkId,l=e.accountId,c=(0,v.useRoute)(),d=(0,b.default)(),u=c.params.autoConfirmAfterFeeSaved,f=!u&&(null==t?void 0:t.selected),p=(0,y.useMemo)((function(){if(!o)return null;var e=null;return(e=o instanceof et.OneKeyError&&"onekey_error"!==o.key?d.formatMessage({id:o.key}):o.message)&&e.length>350&&(e=`${e.slice(0,350)}...`),!!e&&(0,S.jsx)(re.default,{alertType:"error",title:e})}),[o,d]);return(0,S.jsxs)(Dr,po(po({},e),{},{autoConfirm:!!u,hidePrimaryAction:!0,hideSecondaryAction:!0,children:[p,(0,S.jsxs)(m.default,{w:"full",py:16,children:[!p&&(0,S.jsx)(ne.default,{size:"lg"}),f?(0,S.jsx)(zr,{networkId:s,accountId:l,editable:r,encodedTx:a,feeInfoPayload:t,loading:n,sendConfirmParams:i}):null]})]}))}function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yo(e){var t,n,r,o,a=e.payload,i=e.feeInfoPayload,s=e.feeInput,l=e.decodedTx,c=e.advancedSettingsForm,u=l,f=(0,k.useActiveSideAccount)(e),p=f.accountId,m=f.networkId,h=a,g=!(null!=h&&null!=(t=h.token)&&t.idOnNetwork),v=(0,k.useTokenBalanceWithoutFrozen)({networkId:m,accountId:p,token:{tokenIdOnNetwork:null==h||null==(n=h.token)?void 0:n.idOnNetwork,sendAddress:null==h||null==(r=h.token)?void 0:r.sendAddress},useRecycleBalance:null==(o=null==h?void 0:h.token.isNative)||o}),b=(0,y.useMemo)((function(){if(!h)return!1;if(g){var e,t,n,r=new(U())(null!=(e=h.value)?e:0),o=new(U())(v),a=new(U())(null!=(t=null==i||null==(n=i.current)?void 0:n.totalNative)?t:0);if(r.plus(a).gte(o))return!0}return!1}),[h,g,v,i]),x=(0,y.useMemo)((function(){var e,t;return h?b?It({decodedTx:u,balance:v,amount:h.value,totalNativeGasFee:null==i||null==(t=i.current)?void 0:t.totalNative}):null!=(e=h.value)?e:"0":"0"}),[h,b,u,v,i]),w=(0,y.useMemo)((function(){return new(U())(x).lt(0)}),[x]),I=(0,y.useMemo)((function(){return w&&h?h.value:x}),[w,x,h]);return(0,S.jsx)(Dr,go(go({},e),{},{confirmDisabled:w,updateEncodedTxBeforeConfirm:function(){var e=(0,d.default)((function*(e){if(h&&b){var t={amount:I,totalBalance:v,feeInfo:null==i?void 0:i.info},n=yield _.default.engine.updateEncodedTx({networkId:m,accountId:p,encodedTx:e,payload:t,options:{type:le.IEncodedTxUpdateType.transfer}});return Promise.resolve(n)}return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),children:(0,S.jsx)(Ke.TxDetailView,{isSendConfirm:!0,isSingleTransformMode:!0,decodedTx:u,feeInput:s,transferAmount:I,advancedSettingsForm:c})}))}function vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e){var t=e.sendConfirmParamsParsed,n=(0,b.default)();(0,Ve.useOnboardingRequired)();var r=_.default.engine,o=_.default.serviceHistory,a=_.default.serviceToken,i=_.default.serviceNFT,s=_.default.serviceLightningNetwork,l=t.navigation,u=t.routeParams,f=t.feeInfoEditable,p=t.feeInfoUseFeeInTx,m=t.sourceInfo,h=t.payload,v=t.payloadInfo,x=t.resendActionInfo,w=t.isSpeedUpOrCancel,I=t.isFromDapp,j=t.dappApprove,O=t.onModalClose,T=t.networkId,P=t.accountId,C=t.ignoreFetchFeeCalling,M=t.prepaidFee;(0,kt.useReloadAccountBalance)({networkId:T,accountId:P});var A=(0,k.useNetwork)({networkId:T}).network,E=function(e){var t=e.accountId,n=e.networkId,r=(0,y.useState)(!1),o=(0,g.default)(r,2),a=o[0],i=o[1],s=(0,y.useState)({currentHexData:"",currentNonce:"",originalNonce:"",isCoinControlChecked:!1,selectedUtxos:[]}),l=(0,g.default)(s,2),c=l[0],u=l[1],f=_.default.serviceTransaction;return(0,y.useEffect)((function(){i(!0);var e=function(){var e=(0,d.default)((function*(){var e=yield f.getNextTransactionNonce({accountId:t,networkId:n});u((function(t){return io(io({},t),{},{currentNonce:String(e),originalNonce:String(e)})})),i(!1)}));return function(){return e.apply(this,arguments)}}();e()}),[t,n,f]),{isLoading:a,advancedSettings:c,setAdvancedSettings:u}}({accountId:P,networkId:T}),R=E.isLoading,D=E.advancedSettings,N=E.setAdvancedSettings,L=(0,k.useActiveSideAccount)({accountId:P,networkId:T}),B=L.walletId,F=L.networkImpl,H=L.account,W=L.wallet;(0,We.useDisableNavigationAnimation)({condition:!!u.autoConfirmAfterFeeSaved});var z=function(e){var t=e.networkId,n=e.accountId,r=e.sendConfirmParams,o=e.networkImpl,a=e.address,i=e.advancedSettings,s=(0,y.useState)(null),l=(0,g.default)(s,2),c=l[0],d=l[1];return(0,y.useEffect)((function(){ht({networkId:t,accountId:n,encodedTx:r.encodedTx,sendConfirmParams:r,networkImpl:o,address:a,selectedUtxos:i.selectedUtxos,currentHexData:i.currentHexData}).then(d)}),[a,o,r,r.encodedTx,t,n,i.currentHexData,i.selectedUtxos]),{encodedTx:c}}({networkId:T,accountId:P,sendConfirmParams:u,networkImpl:F,address:(null==H?void 0:H.address)||"",advancedSettings:D}),K=z.encodedTx,G=(0,V.useDecodedTx)({accountId:P,networkId:T,encodedTx:K,payload:v||h,sourceInfo:m}).decodedTx,$=(0,y.useMemo)((function(){var e,t=new(U())(null!=(e=null==K?void 0:K.totalFee)?e:"0");return!(null==K||!K.psbtHex||!t.isNaN()&&!t.isLessThanOrEqualTo(0))}),[K]),Z=(0,y.useMemo)((function(){return(0,Cr.checkIsUnListOrderPsbt)(null==G?void 0:G.actions,null==H?void 0:H.address)}),[null==G?void 0:G.actions,null==H?void 0:H.address]),q=(0,y.useMemo)((function(){var e;if(I||!h)return!1;if(G&&1===(null==G||null==(e=G.actions)?void 0:e.length)&&G.actions[0].type===le.IDecodedTxActionType.NATIVE_TRANSFER)return!0;return!1}),[G,I,h]),X=oo({accountId:P,networkId:T,encodedTx:K,useFeeInTx:p,pollingInterval:f?ro:0,signOnly:u.signOnly,payload:v||h,ignoreFetchFeeCalling:C,isBtcForkChain:null==A?void 0:A.settings.isBtcForkChain}),Y=X.feeInfoError,Q=X.feeInfoPayload,J=X.feeInfoLoading;(0,He.useWalletConnectPrepareConnection)({accountId:P,networkId:T});var ee=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var t,p=e.close,m=e.encodedTx;if(m){var h,g=m;f&&Q&&(h=null==Q?void 0:Q.current.value,g=yield r.attachFeeInfoToEncodedTx({networkId:T,accountId:P,encodedTx:m,feeInfoValue:h}));var y=yield r.updateEncodedTx({networkId:T,accountId:P,encodedTx:g,payload:D,options:{type:le.IEncodedTxUpdateType.advancedSettings}}),b=yield r.specialCheckEncodedTx({networkId:T,accountId:P,encodedTx:y}),w=function(){var e=(0,d.default)((function*(e,t){if(a.fetchAccountTokens({accountId:P,networkId:T}),u.signOnly){if((yield r.getVaultSettings(T)).signOnlyReturnFullTx?yield j.resolve({result:e}):yield j.resolve({result:e.rawTx}),$||Z){var n,c,d,f=null==G?void 0:G.actions.find((function(e){var t,n,r;return null!=(t=null==(n=e.brc20Info)?void 0:n.asset)?t:null==(r=e.inscriptionInfo)?void 0:r.asset})),g=null!=(n=null==f||null==(c=f.brc20Info)?void 0:c.asset)?n:null==f||null==(d=f.inscriptionInfo)?void 0:d.asset;if(!g)return;$?(g.listed=!0,yield o.saveSendConfirmHistory({networkId:T,accountId:P,data:t,resendActionInfo:x,feeInfo:h})):g.listed=!1,i.updateAsset({accountId:P,networkId:T,asset:g})}}else yield j.resolve({result:e.txid}),yield o.saveSendConfirmHistory({networkId:T,accountId:P,data:t,resendActionInfo:x,feeInfo:h});if(null!=v&&v.swapInfo&&null!=v&&v.swapInfo.isApprove&&"hw"===(null==W?void 0:W.type)){var y={networkId:T,accountId:P,closeModal:p};l.navigate(Oe.SendModalRoutes.HardwareSwapContinue,y)}else if(u.hideSendFeedbackReceipt)setTimeout((function(){p()}),0);else{var b,w=u.signOnly?"Sign":"Send";e.pendingTx&&(w="SendUnconfirmed");var _=yield s.getSuccessAction({networkId:T,encodedTx:m}),k={networkId:T,accountId:P,txid:null!=(b=e.txid)?b:"unknown_txid",type:w,closeModal:p,onDetail:u.onDetail,isSingleTransformMode:!0,successAction:_};l.navigate(Oe.SendModalRoutes.SendFeedbackReceipt,k)}u.onSuccess&&u.onSuccess(e,t),o.refreshHistoryUi()}));return function(t,n){return e.apply(this,arguments)}}(),_=bo(bo({},u),{},{encodedTx:y,accountId:P,networkId:T,walletId:B,onSuccess:w,onFail:function(e){j.reject({error:e}),u.onFail&&u.onFail(e)},onModalClose:O});delete _._disabledAnimationOfNavigate;var k,I="navigate";if(u.autoConfirmAfterFeeSaved&&(yield(0,Et.wait)(600),I="replace"),b.success)return l[I](Oe.SendModalRoutes.SendAuthentication,_);if(null==A||!A.settings.useSimpleTipForSpecialCheckEncodedTx)return l[I](Oe.SendModalRoutes.SendSpecialWarning,bo(bo({},_),{},{hintMsgKey:null!=(t=b.key)?t:"",hintMsgParams:b.params}));c.default.show({title:n.formatMessage({id:b.key},bo({},null!=(k=b.params)?k:{}))},{type:"error"})}}));return function(t){return e.apply(this,arguments)}}(),[f,Q,r,T,P,D,u,B,O,null==A?void 0:A.settings.useSimpleTipForSpecialCheckEncodedTx,l,j,a,null==v?void 0:v.swapInfo,null==W?void 0:W.type,o,$,Z,G,i,x,s,n]),te=(0,S.jsx)(Vr,{accountId:P,networkId:T,sendConfirmParams:u,editable:f,encodedTx:K,feeInfoPayload:Q,loading:J,feeInfoError:Y}),ne=u.hideAdvancedSetting?void 0:(0,S.jsx)(to,{accountId:P,networkId:T,encodedTx:K,advancedSettings:D,setAdvancedSettings:N,isLoadingAdvancedSettings:R}),re={accountId:P,networkId:T,sendConfirmParams:u,sourceInfo:m,encodedTx:K,decodedTx:G,payload:h,feeInfoPayload:Q,feeInfoLoading:J,feeInfoError:Y,feeInfoEditable:f,feeInput:te,prepaidFee:M,advancedSettings:D,advancedSettingsForm:ne,isListOrderPsbt:$,handleConfirm:ee,onSecondaryActionPress:function(e){var t=e.close;null==u.onFail||u.onFail(new Error("user cancelled")),j.reject(),t()},onModalClose:O,children:null};return G&&K?(re.children=(0,S.jsx)(Ke.TxDetailView,{sendConfirmParamsParsed:t,isSendConfirm:!0,isSingleTransformMode:!0,decodedTx:G,feeInput:te,advancedSettingsForm:ne}),w?(0,S.jsx)(mo,bo({},re)):q?(0,S.jsx)(yo,bo({},re)):(0,S.jsx)(Dr,bo({},re))):(0,S.jsx)(uo,bo({},re))}const wo=function(){var e=so(),t=e.sourceInfo,n=e.routeParams;return(0,y.useMemo)((function(){return!!t&&!te.ENABLED_DAPP_SCOPE.includes(t.scope)}),[t])?(0,S.jsx)(Dr,{accountId:n.accountId,networkId:n.networkId,sendConfirmParams:n,feeInfoPayload:null,feeInfoLoading:!1,encodedTx:null,handleConfirm:function(){return null},children:(0,S.jsx)(Te,{isNetworkNotMatched:!0})}):(0,S.jsx)(xo,{sendConfirmParamsParsed:e})};var _o=n(964295),ko=n(790311);var Io=n(896953),jo=n(856974),Oo=n.n(jo),To=n(822101);function So(e){var t=e.networkId,n=e.accountId,r=e.feeRate,o=e.feeType,a=e.encodedTx,i=(0,y.useState)(null),s=(0,g.default)(i,2),l=s[0],c=s[1],d=(0,k.useDebounce)(r,300);return(0,y.useEffect)((function(){a&&d&&"custom"===o&&_.default.engine.fetchFeeInfo({networkId:t,accountId:n,encodedTx:a,specifiedFeeRate:d}).then((function(e){var t;c(`${(null==(t=e.feeList)?void 0:t[0])||0}`)})).catch((function(){c(null)}))}),[d,o,t,n,a]),{btcTxFee:l}}var Po=n(503310),Co=n(753237),Mo=n.n(Co),Ao=n(594225),Eo=n(212883),Ro=n(968594),Do=n(79694);function No(e){return e>90?0:e>=80&&e<=90?1:2}var Lo=["titleId","tooltipId","value"],Bo=["useFormReturn","feeInfo","setPriorityBooster","feeSymbol"];function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ho(e){return(0,S.jsxs)(Ro.default,Uo(Uo({width:"82",height:"12",viewBox:"0 0 82 12",fill:"none"},e),{},{children:[(0,S.jsxs)(Ro.G,{"clip-path":"url(#clip0_5959_37579)",children:[(0,S.jsx)(Ro.Path,{d:"M73.1747 9.04975L71.5645 6.25952H74.7859L76.3975 9.04975H73.1747Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M74.7859 6.25952H71.5645L73.1747 3.4693H76.3975L74.7859 6.25952Z",fill:"#A8A9AC"}),(0,S.jsx)(Ro.Path,{d:"M78.0077 6.25954L76.3975 3.46931H73.1747L71.5645 0.679077H78.0077L81.2305 6.25954H78.0077Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M78.0077 11.84H71.5645L73.1747 9.04975H76.3975L78.0077 6.25952H81.2305L78.0077 11.84Z",fill:"#A8A9AC"}),(0,S.jsx)(Ro.Path,{d:"M7.32297 6.8917C7.32297 8.89635 5.84342 10.4438 4.0406 10.4438C3.05835 10.4438 2.34483 10.0804 1.86091 9.4616V10.2554H0.125V0.827331L1.86091 0.292969V4.32285C2.34483 3.70507 3.05835 3.3406 4.0406 3.3406C5.84342 3.3406 7.32297 4.88707 7.32297 6.8917ZM5.58705 6.8917C5.58705 5.75915 4.79425 4.99517 3.7173 4.99517C2.64032 4.99517 1.864 5.76222 1.864 6.8917C1.864 8.02117 2.65782 8.78927 3.7173 8.78927C4.77675 8.78927 5.58705 8.0222 5.58705 6.8917Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M8.10352 0.827331L9.83839 0.292969V10.2554H8.10352V0.827331Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M10.6057 6.89168C10.6045 6.18735 10.8123 5.4985 11.2029 4.91238C11.5934 4.32623 12.1492 3.8692 12.7997 3.59915C13.4502 3.3291 14.1662 3.25818 14.857 3.39535C15.5479 3.53253 16.1825 3.87165 16.6805 4.36978C17.1784 4.86788 17.5174 5.50258 17.6544 6.19348C17.7913 6.88435 17.7202 7.60035 17.45 8.25078C17.1797 8.90123 16.7225 9.45683 16.1363 9.8472C15.55 10.2376 14.8611 10.4453 14.1568 10.4438C13.689 10.4488 13.2249 10.3603 12.7917 10.1835C12.3586 10.0068 11.9651 9.74528 11.6343 9.41443C11.3036 9.08358 11.0422 8.69 10.8656 8.2568C10.6889 7.8236 10.6006 7.35948 10.6057 6.89168ZM15.9864 6.89168C15.9864 5.80238 15.1926 5.0384 14.1568 5.0384C13.121 5.0384 12.3406 5.80545 12.3406 6.89168C12.3406 7.97793 13.1344 8.74498 14.1568 8.74498C15.1792 8.74498 15.9864 7.98203 15.9864 6.89168Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M18.3799 6.89168C18.3799 4.88703 19.8862 3.34058 21.931 3.34058C23.2499 3.34058 24.3928 4.03968 24.9447 5.07545L23.4517 5.95063C23.182 5.39875 22.6033 5.04868 21.9176 5.04868C20.8818 5.04868 20.1148 5.81573 20.1148 6.89168C20.1148 7.9676 20.8818 8.72128 21.9176 8.72128C22.6178 8.72128 23.1954 8.38563 23.462 7.83375L24.9683 8.6945C24.6647 9.23178 24.2224 9.67765 23.6875 9.98553C23.1527 10.2934 22.545 10.4521 21.9279 10.4448C19.8862 10.4438 18.3799 8.8963 18.3799 6.89168Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M29.9548 10.2554L27.5065 7.20162V10.2554H25.7705V0.827331L27.5065 0.292969V6.4881L29.819 3.52902H31.8905L29.1878 6.85155L31.9728 10.2554H29.9548Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M38.9058 6.12463V10.2554H37.1698V6.3429C37.1698 5.42758 36.619 4.95705 35.8385 4.95705C34.9913 4.95705 34.358 5.45435 34.358 6.625V10.2554H32.623V3.52898H34.358V4.28163C34.7615 3.67623 35.4618 3.34058 36.3628 3.34058C37.7888 3.34058 38.9058 4.34135 38.9058 6.12463Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M46.8813 3.52898V10.2554H45.1466V9.46158C44.6616 10.067 43.9356 10.4438 42.9536 10.4438C41.1641 10.4438 39.6846 8.8994 39.6846 6.89168C39.6846 4.88395 41.1641 3.34058 42.9536 3.34058C43.9356 3.34058 44.6616 3.7174 45.1466 4.3228V3.52898H46.8813ZM45.1466 6.89168C45.1466 5.7591 44.3526 4.99515 43.2758 4.99515C42.1988 4.99515 41.4223 5.7622 41.4223 6.89168C41.4223 8.02115 42.2163 8.78923 43.2758 8.78923C44.3351 8.78923 45.1466 8.02218 45.1466 6.89168Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M51.404 5.19698V3.52903H49.8833V1.55115L48.1455 2.08551V7.99545C48.1455 9.81168 48.969 10.5241 51.402 10.2606V8.68115C50.4065 8.73573 49.8813 8.72132 49.8813 7.99545V5.19698H51.404Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M52.6201 3.52899H54.3551V10.2554H52.6201V3.52899Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M62.1613 3.52899L59.6045 10.2554H57.6268L55.0713 3.52899H56.9813L58.609 8.23739L60.2503 3.52899H62.1613Z",fill:"#8C8CA1"}),(0,S.jsx)(Ro.Path,{d:"M65.8758 8.87165C66.5481 8.87165 67.0866 8.58955 67.3831 8.19933L68.7813 9.00653C68.1491 9.92083 67.1401 10.448 65.8491 10.448C63.5838 10.448 62.1631 8.90358 62.1631 6.89585C62.1631 4.88813 63.6046 3.34473 65.7141 3.34473C67.7053 3.34473 69.1181 4.919 69.1181 6.89585C69.1153 7.13395 69.0916 7.37135 69.0471 7.60525H63.9793C64.2213 8.49275 64.9616 8.87165 65.8758 8.87165ZM67.3831 6.2616C67.1668 5.29275 66.4411 4.90253 65.7141 4.90253C64.7876 4.90253 64.1543 5.40085 63.9516 6.2616H67.3831Z",fill:"#8C8CA1"})]}),(0,S.jsx)(Ro.Defs,{children:(0,S.jsx)(Ro.ClipPath,{id:"clip0_5959_37579",children:(0,S.jsx)(Ro.Rect,{width:"81.5",height:"12",fill:"white"})})})]}))}function Wo(e){var t=e.price,n=e.useFormReturn,r=e.setPriorityBooster,o=(0,b.default)(),a=n.setValue,i=(0,y.useMemo)((function(){return(0,S.jsx)(l.default,{position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:-1,children:(0,S.jsx)(Mn.View,{style:{height:"100%",backgroundColor:"surface-neutral-subdued"},from:{width:"0%"},animate:{width:"100%"},transition:{loop:!0,type:"timing",duration:Nr.FEE_INFO_POLLING_INTERVAL+100,repeatReverse:!1},children:(0,S.jsx)(l.default,{position:"absolute",left:0,top:0,right:0,bottom:0,bgColor:"surface-neutral-subdued"})})})}),[]);if(!t)return null;var s=t.confidence,c=t.baseFee,d=t.maxFeePerGas,m=t.maxPriorityFeePerGas;return(0,S.jsx)(Do.default,{flexBasis:"49%",onPress:function(){null==r||r(1),a("baseFee",c),a("maxFeePerGas",d),a("maxPriorityFeePerGas",m)},children:function(e){var t;return t="action-secondary-default",e.isPressed&&(t="surface-pressed"),e.isHovered&&(t="surface-hovered"),(0,S.jsxs)(l.default,{px:4,py:2,bg:t,alignItems:"flex-start",justifyContent:"center",borderRadius:"12px",overflow:"hidden",position:"relative",children:[i,(0,S.jsx)(p.default,{typography:"Body2Strong",color:Nr.FEE_LEVEL_TEXT_COLOR_MAP[No(null!=s?s:0)],children:o.formatMessage({id:"form__str_probability"},{0:`${null!=s?s:0}%`})}),(0,S.jsxs)(f.default,{w:"full",justifyContent:"space-between",children:[(0,S.jsxs)(u.default,{flexBasis:"50%",children:[(0,S.jsx)(p.default,{typography:"Caption",color:"text-subdued",children:o.formatMessage({id:"form__priority_fee"})}),(0,S.jsx)(p.default,{typography:"Heading",children:m})]}),(0,S.jsxs)(u.default,{flexBasis:"48%",children:[(0,S.jsx)(p.default,{typography:"Caption",color:"text-subdued",children:o.formatMessage({id:"form__max_fee"})}),(0,S.jsx)(p.default,{typography:"Heading",children:d})]})]})]})}})}function Vo(e){var t=e.titleId,n=e.tooltipId,r=e.value,o=(0,ie.default)(e,Lo),a=(0,b.default)();return(0,S.jsx)(Qe.Tooltip,{maxWidth:"260px",placement:"top",hasArrow:!0,label:a.formatMessage({id:n}),children:(0,S.jsxs)(Do.default,Uo(Uo({},o),{},{children:[(0,S.jsx)(p.default,{color:"text-disabled",textAlign:"center",fontSize:"12px",children:a.formatMessage({id:t})}),(0,S.jsx)(p.default,{typography:"DisplaySmall",textAlign:"center",fontSize:"16px",children:r})]}))})}function zo(e){var t,n,r,o=e.useFormReturn,a=e.feeInfo,i=e.setPriorityBooster,s=e.feeSymbol,c=(0,ie.default)(e,Bo),d=(0,b.default)(),u=(0,y.useMemo)((function(){if(null==a||!a.prices.length)return null;for(var e=[],t=0,n=null==a?void 0:a.prices.length;t<n;t+=2)t%2===0&&e.push((0,S.jsxs)(f.default,{mt:2,justifyContent:"space-between",children:[(0,S.jsx)(Wo,{price:null==a?void 0:a.prices[t],useFormReturn:o,setPriorityBooster:i}),(0,S.jsx)(Wo,{price:null==a?void 0:a.prices[t+1],useFormReturn:o,setPriorityBooster:i})]}));return e}),[null==a?void 0:a.prices,i,o]);return(0,S.jsxs)(l.default,Uo(Uo({},c),{},{children:[(0,S.jsx)(Qr,{labelId:"form__gas_fee_prediction",tooltipId:"content__custom_gas_fee_prediction_desc"}),u,(0,S.jsxs)(f.default,{mt:4,justifyContent:"center",children:[(0,S.jsx)(Vo,{titleId:"form__base_fee",tooltipId:"content__custom_what_is_base_fee_desc",value:`${new(U())(null!=(t=null==a?void 0:a.baseFee)?t:0).toFixed(2)} ${s}`,paddingRight:4}),(0,S.jsx)(Vo,{titleId:"form__max_gas_price",tooltipId:"content__custom_what_is_max_gas_price_desc",value:`${null!=(n=null==a?void 0:a.maxPrice)?n:0} ${s}`,paddingX:4,borderLeftWidth:1,borderRightWidth:1,borderColor:"border-default"}),(0,S.jsx)(Vo,{titleId:"form__pending_tx",value:String(null!=(r=null==a?void 0:a.estimatedTransactionCount)?r:0),tooltipId:"content__custom_what_is_pending_tx_desc",paddingLeft:4})]}),(0,S.jsxs)(f.default,{mt:5,alignItems:"center",justifyContent:"center",space:1,children:[(0,S.jsx)(p.default,{typography:"CaptionStrong",color:"text-disabled",children:d.formatMessage({id:"form__powered_by"})}),(0,S.jsx)(Ho,{})]})]}))}var Ko=n(588594);function Go(e){var t=e;console.error({message:t.message,key:t.key,info:t.info,className:t.className})}var $o=0;function Zo(e){var t,n,r,a,i,s,c,u,m,h,v,x,w=e.feeInfoPayload,k=e.useFormReturn,I=e.autoConfirmAfterFeeSaved,j=e.networkId,O=e.accountId,T=e.blockNativeInit,P=e.setBlockNativeInit,C=e.saveCustom,M=e.setSaveCustom,A=e.encodedTx,E=k.control,R=k.getValues,D=k.setValue,N=k.trigger,L=k.watch,F=(0,gn.useFormOnChangeDebounced)({useFormReturn:k}).formValues,H=(0,b.default)(),W=null!=(t=null==w||null==(n=w.info)?void 0:n.limit)?t:"21000",V=null==w?void 0:w.selected,z=(null==w||null==(r=w.info)?void 0:r.feeSymbol)||"",K=(null==w||null==(a=w.info)?void 0:a.nativeSymbol)||"",G=null==w||null==(i=w.info)?void 0:i.eip1559,$=null==w?void 0:w.info.isBtcForkChain,Z=(0,o.default)(),q=(0,y.useState)(Oo()(null!=(s=null==w||null==(c=w.info)?void 0:c.prices)?s:[])),X=(0,g.default)(q,2),Y=X[0],Q=X[1],J=(0,y.useState)(Mo()(null!=(u=null==w||null==(m=w.info)?void 0:m.prices)?u:[])),ee=(0,g.default)(J,2),te=ee[0],ne=ee[1],oe=(0,y.useState)(1),ae=(0,g.default)(oe,2),ie=ae[0],se=ae[1],le=(0,Ao.useDebounce)(ie,$o),ce=(0,g.default)(le,1)[0],de=(0,y.useState)(null==Y?void 0:Y.maxPriorityFeePerGas),ue=(0,g.default)(de,2),fe=ue[0],pe=ue[1],me=(0,y.useState)(null),he=(0,g.default)(me,2),ge=he[0],ye=he[1],ve=(0,y.useState)(null),be=(0,g.default)(ve,2),xe=be[0],we=be[1],_e=(0,y.useState)(null),ke=(0,g.default)(_e,2),Ie=ke[0],je=ke[1],Oe=(0,y.useState)(null),Te=(0,g.default)(Oe,2),Se=Te[0],Pe=Te[1],Ce=(0,y.useState)(),Me=(0,g.default)(Ce,2),Ae=Me[0],Ee=Me[1],De=(0,y.useRef)(!1),Ne=function(e){var t=e.networkId,n=e.accountId,r=e.encodedTx,o=e.setGasPriceTip,a=e.firstPresetFeeInfo,i=e.lastPresetFeeInfo,s=(0,b.default)(),l=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var o=e.value,a=e.lowValue,i=e.highValue,s=new(U())(o);if(s.isLessThanOrEqualTo(0)||s.isGreaterThan(1e6))throw new et.OneKeyValidatorError("msg__enter_a_fee_rate_between_str_and_str",{min:"0",max:"1000000"});try{r&&(yield _.default.engine.attachFeeInfoToEncodedTx({networkId:t,accountId:n,encodedTx:r,feeInfoValue:{feeRate:o}}))}catch(l){throw new et.OneKeyValidatorError("msg__insufficient_balance")}if(s.shiftedBy(-8).isLessThan(a))throw new et.OneKeyValidatorTip("msg__fee_rate_is_low_for_current_network");if(s.shiftedBy(-8).isGreaterThan(new(U())(i).times(10)))throw new et.OneKeyValidatorTip("msg__fee_rate_is_higher_than_necessary")}));return function(t){return e.apply(this,arguments)}}(),[n,r,t]),c=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var t=e.value,n=a,r=i;try{yield l({value:t,lowValue:n,highValue:r}),o(null)}catch(d){var c=d;if((null==c?void 0:c.className)===et.OneKeyErrorClassNames.OneKeyValidatorError)return o({type:"error",message:s.formatMessage({id:c.key},c.info)}),!1;(null==c?void 0:c.className)===et.OneKeyErrorClassNames.OneKeyValidatorTip&&o({type:"warn",message:s.formatMessage({id:c.key},c.info)})}return!0}));return function(t){return e.apply(this,arguments)}}(),[a,s,i,o,l]);return{feeRateFormValidator:c}}({networkId:j,accountId:O,encodedTx:A,setGasPriceTip:we,firstPresetFeeInfo:te,lastPresetFeeInfo:Y}),Le=Ne.feeRateFormValidator,Be=L("feeRate"),Fe=So({networkId:j,accountId:O,encodedTx:A,feeRate:Be,feeType:"custom"}).btcTxFee,Ue=(0,y.useCallback)((function(e){var t,n;se(e);var r=new(U())(null!=fe?fe:0).times(e);if(D("maxPriorityFeePerGas",r.toFixed()),null!=F&&F.baseFee){var o=r.plus(null!=(t=null==F?void 0:F.baseFee)?t:0);o.isGreaterThanOrEqualTo(null!=(n=null==F?void 0:F.maxFeePerGas)?n:0)?(D("maxFeePerGas",o.plus(1).toFixed()),De.current=!0):De.current&&D("maxFeePerGas",o.plus(1).toFixed())}}),[fe,null==F?void 0:F.baseFee,null==F?void 0:F.maxFeePerGas,D]),He=(0,y.useMemo)((function(){if(!F)return null;var e=F.gasLimit,t=null;return t=G?{baseFee:null==F?void 0:F.baseFee,maxFeePerGas:null==F?void 0:F.maxFeePerGas,maxPriorityFeePerGas:null==F?void 0:F.maxPriorityFeePerGas}:null==F?void 0:F.gasPrice,(0,S.jsx)(Ko.SendEditFeeOverview,{accountId:O,networkId:j,feeInfo:null==w?void 0:w.info,price:t,limit:e,btcCustomFee:Fe})}),[O,null==w?void 0:w.info,F,G,j,Fe]),We=(0,y.useMemo)((function(){var e,t,n;if(!G||null==Ae||!Ae.prices||!F)return null;for(var r,o=!1,a=!1,i=Ae.prices,s=new(U())(F.maxFeePerGas),l=new(U())(F.maxPriorityFeePerGas),c=0,d=i.length;c<d;c+=1){var u=i[c];if(s.isGreaterThanOrEqualTo(u.maxFeePerGas)&&l.isGreaterThanOrEqualTo(u.maxPriorityFeePerGas)){0===c&&s.isGreaterThan(u.maxFeePerGas)&&l.isGreaterThan(u.maxPriorityFeePerGas)?(o=!0,n=u.confidence):n=u.confidence;break}}n||(a=!0,n=null==(r=Oo()(i))?void 0:r.confidence);return(0,S.jsx)(Re.default,{mt:2,size:"lg",type:Nr.FEE_LEVEL_BADGE_TYPE_MAP[No(null!=(e=n)?e:0)],title:H.formatMessage({id:"form__str_probability"},{0:`${o?">":""}${a?"<":""}${null!=(t=n)?t:0}%`})})}),[Ae,F,H,G]),Ve=(0,y.useMemo)((function(){var e,t,n=new(U())(null!=(e=null==F?void 0:F.maxFeePerGas)?e:0).times((null==F?void 0:F.gasLimit)||0).shiftedBy(-((null==w?void 0:w.info.feeDecimals)||0)).toFixed(8),r=new(U())((null==F?void 0:F.maxPriorityFeePerGas)||0).times((null==F?void 0:F.gasLimit)||0).shiftedBy(-(null!=(t=null==w?void 0:w.info.feeDecimals)?t:0)).toFixed(8);return $?(0,S.jsx)(B.default,{mt:4,children:(0,S.jsx)(B.default.Item,{label:"Fee rate (sat/vB)",control:E,name:"feeRate",rules:{validate:function(){var e=(0,d.default)((function*(e){return Le({value:e})}));return function(t){return e.apply(this,arguments)}}()},children:(0,S.jsx)(B.default.NumberInput,{size:Z?"xl":"lg"})})}):(0,S.jsxs)(B.default,{mt:4,children:[G&&(0,S.jsx)(B.default.Item,{label:(0,S.jsx)(Qr,{labelId:"content__max_fee",tooltipId:"content__custom_gas_max_fee_desc",labelAfter:` (${z})`}),control:E,name:"maxFeePerGas",defaultValue:"",rules:{validate:function(){var e=(0,d.default)((function*(e){var t=te,n=Y;try{var r,o,a;yield _.default.validator.validateMaxFee({networkId:j,maxPriorityFee:R("maxPriorityFeePerGas"),value:e,lowValue:null==t?void 0:t.maxFeePerGas,highValue:null==n?void 0:n.maxFeePerGas,minValue:I&&null!=V&&null!=(r=V.custom)&&r.price1559?new(U())(null==V||null==(o=V.custom)||null==(a=o.price1559)?void 0:a.maxFeePerGas).times(Nr.SEND_EDIT_FEE_PRICE_UP_RATIO).toFixed():"0"}),Pe(null)}catch(s){Go(s);var i=s;if((null==i?void 0:i.className)===et.OneKeyErrorClassNames.OneKeyValidatorError)return Pe({type:"error",message:H.formatMessage({id:i.key},i.info)}),!1;(null==i?void 0:i.className)===et.OneKeyErrorClassNames.OneKeyValidatorTip&&Pe({type:"warn",message:H.formatMessage({id:i.key},i.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},children:(0,S.jsx)(B.default.NumberInput,{rightCustomElement:(0,S.jsx)(p.default,{paddingRight:2,typography:"Body1",color:"text-subdued",children:`~${n} ${K}`}),size:Z?"xl":"lg"})}),G&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(B.default.Item,{label:(0,S.jsx)(Qr,{labelId:"content__max_priority_fee",tooltipId:"content__custom_gas_priority_fee_desc",labelAfter:` (${z})`}),control:E,name:"maxPriorityFeePerGas",defaultValue:"",rules:{validate:function(){var e=(0,d.default)((function*(e){var t=te,n=Y;try{var r,o,a;yield _.default.validator.validateMaxPriortyFee({networkId:j,value:e,lowValue:null==t?void 0:t.maxPriorityFeePerGas,highValue:null==n?void 0:n.maxPriorityFeePerGas,minValue:I&&null!=V&&null!=(r=V.custom)&&r.price1559?new(U())(null==V||null==(o=V.custom)||null==(a=o.price1559)?void 0:a.maxPriorityFeePerGas).times(Nr.SEND_EDIT_FEE_PRICE_UP_RATIO).toFixed():"0"}),je(null)}catch(s){Go(s);var i=s;if((null==i?void 0:i.className)===et.OneKeyErrorClassNames.OneKeyValidatorError)return je({type:"error",message:H.formatMessage({id:i.key},i.info)}),!1;(null==i?void 0:i.className)===et.OneKeyErrorClassNames.OneKeyValidatorTip&&je({type:"warn",message:H.formatMessage({id:i.key},i.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},children:(0,S.jsx)(B.default.NumberInput,{mb:0,rightCustomElement:(0,S.jsx)(p.default,{paddingRight:2,typography:"Body1",color:"text-subdued",children:`~${r} ${K}`}),size:Z?"xl":"lg"})}),(0,S.jsxs)(f.default,{alignItems:"center",width:"100%",space:8,mt:-4,children:[(0,S.jsx)(Qr,{labelId:"form__priority_fee_booster",tooltipId:"content__custom_gas_priority_fee_booster_desc",labelProps:{typography:"CaptionStrong",color:"text-subdued"}}),(0,S.jsx)(l.default,{flex:1,pr:2,children:(0,S.jsxs)(Po.default,{accessibilityLabel:H.formatMessage({id:"form__priority_fee_booster"}),nativeMode:!1,step:1,value:ce,width:"100%",minValue:1,maxValue:100,onChange:Ue,children:[(0,S.jsx)(Po.default.Track,{bg:"surface-neutral-default",height:"4px",children:(0,S.jsx)(Po.default.FilledTrack,{bg:"interactive-default",height:"4px"})}),(0,S.jsx)(Qe.Tooltip,{label:`${ie}x`,placement:"top",hasArrow:!0,children:(0,S.jsx)(Po.default.Thumb,{style:{position:"absolute"},borderWidth:0,bg:"transparent",children:(0,S.jsx)(l.default,{borderRadius:"full",borderColor:"icon-default",width:"16px",height:"16px",borderWidth:"3px",bg:"surface-neutral-default"})})})]})})]})]}),!G&&(0,S.jsx)(B.default.Item,{label:`${H.formatMessage({id:"content__gas_price"})} (${z})`,control:E,name:"gasPrice",rules:{validate:function(){var e=(0,d.default)((function*(e){var t=te,n=Y;try{var r,o;yield _.default.validator.validateGasPrice({networkId:j,value:e,minValue:I&&null!=V&&null!=(r=V.custom)&&r.price?new(U())(null==V||null==(o=V.custom)?void 0:o.price).times(Nr.SEND_EDIT_FEE_PRICE_UP_RATIO).toFixed():"0",lowValue:t,highValue:n}),we(null)}catch(i){Go(i);var a=i;if((null==a?void 0:a.className)===et.OneKeyErrorClassNames.OneKeyValidatorError)return we({type:"error",message:H.formatMessage({id:a.key},a.info)}),!1;(null==a?void 0:a.className)===et.OneKeyErrorClassNames.OneKeyValidatorTip&&we({type:"warn",message:H.formatMessage({id:a.key},a.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},defaultValue:"",children:(0,S.jsx)(B.default.NumberInput,{size:Z?"xl":"lg"})}),(0,S.jsx)(B.default.Item,{label:(0,S.jsx)(Qr,{labelId:"content__gas_limit",tooltipId:"content__custom_gas_gas_limit_desc"}),control:E,name:"gasLimit",rules:{validate:function(){var e=(0,d.default)((function*(e){var t,n=null==w||null==(t=w.info)?void 0:t.limit;try{yield _.default.validator.validateGasLimit({networkId:j,value:e,highValue:n}),ye(null)}catch(o){Go(o);var r=o;if((null==r?void 0:r.className)===et.OneKeyErrorClassNames.OneKeyValidatorError)return ye({type:"error",message:H.formatMessage({id:r.key},r.info)}),!1;(null==r?void 0:r.className)===et.OneKeyErrorClassNames.OneKeyValidatorTip&&ye({type:"warn",message:H.formatMessage({id:r.key},r.info)})}return!0}));return function(t){return e.apply(this,arguments)}}()},defaultValue:"",children:(0,S.jsx)(B.default.NumberInput,{size:Z?"xl":"lg",rightCustomElement:(0,S.jsx)(Cn.default,{type:"plain",isDisabled:W===(null==F?void 0:F.gasLimit),onPress:function(){return D("gasLimit",W)},children:(0,S.jsx)(p.default,{color:W===(null==F?void 0:F.gasLimit)?"text-subdued":"text-default",children:H.formatMessage({id:"action__reset"})})})})})]})}),[null==F?void 0:F.maxFeePerGas,null==F?void 0:F.gasLimit,null==F?void 0:F.maxPriorityFeePerGas,null==w?void 0:w.info.feeDecimals,null==w||null==(h=w.info)?void 0:h.limit,$,G,z,E,K,Z,H,ce,Ue,ie,W,Le,te,Y,j,R,I,null==V||null==(v=V.custom)?void 0:v.price1559,null==V||null==(x=V.custom)?void 0:x.price,D]),ze=(0,y.useMemo)((function(){return(0,S.jsx)(S.Fragment,{children:[Se,Ie,xe,ge].map((function(e){return e?(0,S.jsx)(l.default,{mb:2,children:(0,S.jsx)(re.default,{title:e.message,alertType:e.type,dismiss:!1})},e.message):null}))})}),[ge,xe,Se,Ie]);return(0,y.useEffect)((function(){var e,t=function(){var t=(0,d.default)((function*(){try{var t,n,r=yield(0,Eo.getBlockNativeGasInfo)({networkId:j,priceOrder:"desc"});Ee(r),P(!0),Q(Mo()(r.prices)),ne(Oo()(r.prices)),pe(null!=(t=null==(n=Mo()(r.prices))?void 0:n.maxPriorityFeePerGas)?t:"0")}catch(o){o instanceof et.NotImplemented&&clearInterval(e)}}));return function(){return t.apply(this,arguments)}}();return t(),e=setInterval(t,Nr.FEE_INFO_POLLING_INTERVAL),function(){clearInterval(e)}}),[j,pe,P]),(0,y.useEffect)((function(){N("maxFeePerGas")}),[N,null==F?void 0:F.maxPriorityFeePerGas]),(0,y.useEffect)((function(){N("maxPriorityFeePerGas")}),[N,null==F?void 0:F.maxFeePerGas]),Z||!T?(0,S.jsxs)(S.Fragment,{children:[ze,He,We,Ve,T&&(0,S.jsx)(zo,{mt:6,networkId:j,useFormReturn:k,feeInfo:Ae,feeSymbol:z,setPriorityBooster:se}),(0,S.jsx)(l.default,{alignItems:"center",mt:12,children:(0,S.jsx)(Io.default,{onChange:function(e){return M(e)},isChecked:C,children:(0,S.jsx)(p.default,{typography:"Body2Strong",children:H.formatMessage({id:"action__save_as_default_for_custom"})})})})]}):(0,S.jsxs)(f.default,{space:6,alignContent:"flex-start",children:[(0,S.jsxs)(l.default,{flex:1,children:[ze,He,We,Ve]}),(0,S.jsx)(l.default,{flex:1,children:T&&(0,S.jsx)(zo,{networkId:j,useFormReturn:k,feeInfo:Ae,feeSymbol:z,setPriorityBooster:se})})]})}var qo=n(349658);function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qo={marginTop:2,paddingLeft:"16px",paddingRight:"16px",paddingTop:"4px",paddingBottom:"4px",alignItems:"center",height:"64px"},Jo=Yo(Yo({},Qo),{},{marginTop:6});function ea(e){var t,n,r,o=e.feeInfoPayload,a=e.value,i=e.onChange,s=e.accountId,c=e.networkId,d=e.currentCustom,p=e.currentFeeType,m=d||(null==o?void 0:o.selected.custom),h=null==o||null==(t=o.info)?void 0:t.eip1559,g=null==o||null==(n=o.info)?void 0:n.isBtcForkChain,v=(0,y.useMemo)((function(){return g?"custom"!==p?null:null!=d&&d.btcFee?`${null==d?void 0:d.btcFee}`:null:null}),[null==d?void 0:d.btcFee,p,g]),b=(0,y.useMemo)((function(){var e,t,n,r,i=null,l="";"custom"===a?(i=h?null==m?void 0:m.price1559:null==m?void 0:m.price,l=null!=(e=null==m?void 0:m.limit)?e:"0"):(i=null==o||null==(t=o.info)?void 0:t.prices[Number(a)],l=null!=(n=null==o?void 0:o.info.limit)?n:"0",l=new(U())(null==o?void 0:o.info.limitForDisplay).isNaN()?l:null!=(r=null==o?void 0:o.info.limitForDisplay)?r:"0");return(0,S.jsx)(Ko.SendEditFeeOverview,{accountId:s,networkId:c,feeInfo:null==o?void 0:o.info,price:i,limit:l,btcCustomFee:v})}),[s,null==m?void 0:m.limit,null==m?void 0:m.price,null==m?void 0:m.price1559,null==o?void 0:o.info,h,c,a,v]),x=(0,y.useMemo)((function(){var e,t;return null!=(e=null==o||null==(t=o.info)?void 0:t.prices)?e:[]}),[null==o||null==(r=o.info)?void 0:r.prices]),w=(0,y.useMemo)((function(){var e,t;if(!x)return[];var n,r,a,i,l,p,g=null!=(e=null!=(t=null==o?void 0:o.info.limitForDisplay)?t:null==o?void 0:o.info.limit)?e:"0",y=x.map((function(e,t){var n,r,a,i,l,d=null==(n=(null==o?void 0:o.info).waitingSeconds)?void 0:n[t];return Yo({value:t.toString(),title:(0,S.jsx)(ot.FeeSpeedLabel,{index:t,iconSize:28,space:2,prices:null!=(r=null==o?void 0:o.info.prices)?r:[]}),describe:(0,S.jsxs)(f.default,{space:"10px",alignItems:"center",children:[(0,S.jsxs)(u.default,{children:[(0,S.jsx)(Ko.SendEditFeeOverview,{accountId:s,networkId:c,price:e,feeInfo:null==o?void 0:o.info,limit:g,currencyProps:{typography:"Body1",textAlign:"right"},onlyCurrency:!0}),(0,S.jsx)(Lr.FeeSpeedTime,{index:t,waitingSeconds:d,prices:null!=(a=null==o?void 0:o.info.prices)?a:[]})]}),(0,S.jsx)(qo.FeeSpeedTip,{index:t,isEIP1559:null==o?void 0:o.info.eip1559,price:e,limit:null!=(i=null==o?void 0:o.info.limit)?i:"0",feeInfo:null==o?void 0:o.info,prices:null!=(l=null==o?void 0:o.info.prices)?l:[]})]})},Qo)}));null!=o&&o.info.customDisabled||y.push(Yo({value:"custom",title:(0,S.jsx)(ot.FeeSpeedLabel,{isCustom:!0,iconSize:28,alignItems:"center",space:2}),describe:(0,S.jsxs)(f.default,{space:"10px",alignItems:"center",children:[(0,S.jsxs)(u.default,{children:[(m||v)&&(0,S.jsx)(Ko.SendEditFeeOverview,{accountId:s,networkId:c,price:null!=m&&m.eip1559?null==m?void 0:m.price1559:null==m?void 0:m.price,feeInfo:null==o?void 0:o.info,limit:null!=(n=null!=(r=null==m?void 0:m.limit)?r:null==o?void 0:o.info.limit)?n:"0",currencyProps:{typography:"Body1",textAlign:"right"},btcCustomFee:String(null==d?void 0:d.btcFee),onlyCurrency:!0}),(0,S.jsx)(Lr.CustomFeeSpeedTime,{isEIP1559Fee:h,waitingSeconds:null!=(a=null==o?void 0:o.info.waitingSeconds)?a:[],custom:m,prices:null!=(i=null==o?void 0:o.info.prices)?i:[]})]}),(0,S.jsx)(qo.FeeSpeedTip,{isCustom:!0,isEIP1559:null==m?void 0:m.eip1559,price:null!=m&&m.eip1559?null==m?void 0:m.price1559:null==m?void 0:m.price,custom:m,feeInfo:null==o?void 0:o.info,limit:null!=(l=null!=(p=null==m?void 0:m.limit)?p:null==o?void 0:o.info.limit)?l:"0"})]})},Jo));return y}),[x,null==o?void 0:o.info,s,c,m,v,null==d?void 0:d.btcFee,h]);return(0,S.jsxs)(l.default,{children:[b,(0,S.jsx)(rt.default,{padding:"0px",mt:5,items:w,name:"standard fee group",value:a,onChange:function(e){return i(e)}})]})}function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ra(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=new(U())(null!=e?e:"").times(n),o=new(U())(null!=t?t:"");return o.isNaN()&&r.isNaN()?"0":o.isNaN()?r.toFixed():r.isNaN()?o.toFixed():r.isGreaterThan(o)?r.toFixed():o.toFixed()}var oa=(0,y.memo)((function(e){var t,n,r=Object.assign({},((0,qr.default)(e),e)).trigger,a=(0,y.useState)(!1),i=(0,g.default)(a,2),s=i[0],u=i[1],h=(0,y.useState)(!1),x=(0,g.default)(h,2),w=x[0],I=x[1],j=(0,y.useState)(null),O=(0,g.default)(j,2),T=O[0],P=O[1],M=(0,y.useRef)(!1),A=(0,y.useRef)(!1),E=(0,y.useState)(L.ESendEditFeeTypes.standard),R=(0,g.default)(E,2),D=R[0],N=R[1],B=(0,y.useState)(""),F=(0,g.default)(B,2),H=F[0],W=F[1],V=(0,b.default)(),z=(0,o.default)(),K=(0,v.useNavigation)(),G=(0,v.useRoute)(),$=G.params,Z=$.encodedTx,q=$.autoConfirmAfterFeeSaved,X=$.resendActionInfo,Y=$.sendConfirmParams,Q=$.networkId,ee=$.accountId,te=$.forBatchSend,re=(0,k.useActiveSideAccount)({networkId:Q,accountId:ee}).network;(0,We.useDisableNavigationAnimation)({condition:!!q});var oe=(0,y.useMemo)((function(){if(q){var e=Dt()(Z);return delete e.gasLimit,delete e.gas,e}return Z}),[q,Z]),ae=oo({networkId:Q,accountId:ee,encodedTx:oe,fetchAnyway:!0,ignoreFetchFeeCalling:null==Y?void 0:Y.ignoreFetchFeeCalling,useFeeInTx:null==Y?void 0:Y.feeInfoUseFeeInTx,forBatchSend:te,pollingInterval:Nr.FEE_INFO_POLLING_INTERVAL,shouldStopPolling:D===L.ESendEditFeeTypes.advanced}),ie=ae.feeInfoPayload,se=ae.feeInfoLoading,le=ae.getSelectedFeeInfoUnit,ce=null==ie||null==(t=ie.info)?void 0:t.eip1559,de=null==ie||null==(n=ie.info)?void 0:n.isBtcForkChain;(0,y.useEffect)((function(){bt.default.sendTx.info("SendEditFee  >>>>  ",ie,Z)}),[Z,ie]);var ue=(0,y.useMemo)((function(){var e="action__edit_fee";return"speedUp"===(null==X?void 0:X.type)&&(e="form__accelerated_transaction"),"cancel"===(null==X?void 0:X.type)&&(e="form__cancelled_transaction"),D===L.ESendEditFeeTypes.advanced&&(e="title__custom"),V.formatMessage({id:e})}),[V,null==X?void 0:X.type,D]),fe=(0,C.default)({mode:"onBlur",reValidateMode:"onBlur"}),pe=fe.handleSubmit,me=fe.setValue,he=fe.trigger,ge=fe.formState,ye=fe.watch,ve=(0,y.useMemo)((function(){return D===L.ESendEditFeeTypes.advanced||"custom"===H?"custom":"preset"}),[D,H]),be=ye("feeRate"),xe=So({networkId:Q,accountId:ee,encodedTx:Z,feeRate:be,feeType:ve}).btcTxFee,we=function(e){var t=(0,y.useState)(),n=(0,g.default)(t,2),r=n[0],o=n[1],a=(0,y.useCallback)((function(t){void 0!==t&&(o(t),_.default.serviceNetwork.updateNetworkCustomFee(e,t))}),[e]);return(0,y.useEffect)((function(){var t=function(){var t=(0,d.default)((function*(){try{var t=yield _.default.serviceNetwork.getNetworkCustomFee(e);o(t||null)}catch(n){o(null)}}));return function(){return t.apply(this,arguments)}}();t()}),[e]),{customFee:r,updateCustomFee:a}}(Q),_e=we.customFee,ke=we.updateCustomFee,Ie=pe(function(){var e=(0,d.default)((function*(e){var t,n,r=ve;H||"preset"!==r||(r="custom");var o=e.gasPrice||"0";ce&&(o={baseFee:e.baseFee||"0",maxPriorityFeePerGas:e.maxPriorityFeePerGas||"0",maxFeePerGas:e.maxFeePerGas||"0"});var a={type:r,preset:H||"1"},i=na(na({eip1559:ce,limit:e.gasLimit||"0",waitingSeconds:0,similarToPreset:"0"},ce?{price1559:o}:{price:o}),de?{feeRate:e.feeRate}:{});if("custom"===r){var s,l;a.custom=i;var d=(0,To.getCustomFeeSpeedInfo)({custom:a.custom,prices:null!=(s=null==ie?void 0:ie.info.prices)?s:[],waitingSeconds:null!=(l=null==ie?void 0:ie.info.waitingSeconds)?l:[],isEIP1559Fee:ce}),u=d.customSimilarToPreset,f=d.customWaitingSeconds;a.custom.similarToPreset=u,a.custom.waitingSeconds=f,de&&(a.custom.isBtcForkChain=de,e.feeRate&&(a.custom.btcFee=parseInt(xe||"0"))),P(a.custom)}D===L.ESendEditFeeTypes.advanced&&ke(w?a.custom:null),bt.default.sendTx.info("SendEditFee Confirm >>>> ",a);var p=K.getState(),m=null==(t=p.routes[p.index-1])?void 0:t.name;if(q){var h=na(na({},Y),{},{networkId:Q,accountId:ee,encodedTx:Z,resendActionInfo:G.params.resendActionInfo,feeInfoSelected:a,autoConfirmAfterFeeSaved:q,feeInfoUseFeeInTx:!1,feeInfoEditable:!0});return K.replace(Oe.SendModalRoutes.SendConfirm,h)}var g=na(na({},Y),{},{networkId:Q,accountId:ee,feeInfoSelected:a,autoConfirmAfterFeeSaved:q});if(null!=re&&null!=(n=re.settings)&&n.isUTXOModel)try{Object.assign(g,{encodedTx:yield _.default.engine.attachFeeInfoToEncodedTx({networkId:Q,accountId:ee,encodedTx:Z,feeInfoValue:i})})}catch(b){console.error(b);var y=b.key;return void("form__amount_invalid"===(void 0===y?"":y)&&c.default.show({title:V.formatMessage({id:"form__amount_invalid"},{0:""})}))}var v=m||Oe.SendModalRoutes.SendConfirm;return Nr.IS_REPLACE_ROUTE_TO_FEE_EDIT?K.replace(v,g):("preset"===r&&_.default.dispatch((0,tt.setFeePresetIndex)({networkId:Q,index:H})),D===L.ESendEditFeeTypes.advanced?(W("custom"),void N(L.ESendEditFeeTypes.standard)):K.navigate({merge:!0,name:v,params:g}))}));return function(t){return e.apply(this,arguments)}}()),je=(0,y.useCallback)((function(e){var t,n=e.price,r=e.limit,o=e.price1559;if(ce){var a=o;me("baseFee",new(U())(a.baseFee).toFixed()),me("maxFeePerGas",new(U())(a.maxFeePerGas).times(q?Nr.SEND_EDIT_FEE_PRICE_UP_RATIO:1).toFixed()),me("maxPriorityFeePerGas",new(U())(a.maxPriorityFeePerGas).times(q?Nr.SEND_EDIT_FEE_PRICE_UP_RATIO:1).toFixed())}else me("gasPrice",new(U())(null!=n?n:0).toFixed());de&&(e.feeRate?me("feeRate",e.feeRate):me("feeRate",new(U())(null!=n?n:0).shiftedBy(null!=(t=ie.info.feeDecimals)?t:8).toFixed()));me("gasLimit",new(U())(null!=r?r:0).toFixed())}),[ce,de,me,q,null==ie?void 0:ie.info.feeDecimals]);(0,y.useEffect)((function(){if(ie&&D===L.ESendEditFeeTypes.standard&&!(parseFloat(H)<0&&"custom"!==H)&&H)if("custom"===H&&T)je(T);else{var e=le({info:ie.info,index:H}),t=e.limit,n=e.price,r=e.price1559;T||je({price:n,price1559:r,limit:t})}}),[T,_e,ie,D,le,ce,H,je,me]),(0,y.useEffect)((function(){D===L.ESendEditFeeTypes.advanced&&he()}),[D,he]),(0,y.useEffect)((function(){var e,t=null==ie?void 0:ie.selected,n=null!=(e=null==t?void 0:t.type)?e:"preset";if(ie)if(ie&&"preset"===n){var r,o,a=(null==t?void 0:t.preset)||"1";(null==ie||null==(r=ie.info)||null==(o=r.prices)?void 0:o.length)<2&&(a="0"),A.current||(A.current=!0,W(a))}else if("custom"===n){var i,s=null!=T?T:Dt()(null!=(i=null==t?void 0:t.custom)?i:{});if(s&&(A.current||(A.current=!0,W("custom")),P(s),je(s),q)){var l,c,d,u=null==Y?void 0:Y.actionType,f=Oo()(null!=(l=null==ie||null==(c=ie.info)?void 0:c.prices)?l:[]),p=s.limit,m=null==ie||null==(d=ie.info)?void 0:d.limit;if(s.limit=ra(p,m,1),"cancel"===u&&(s.limit=ra("21000",m,1)),null!=s&&s.eip1559){var h=s.price1559;if(h){var g,y=f;h.baseFee=null!=(g=null==y?void 0:y.baseFee)?g:h.baseFee,h.maxFeePerGas=ra(h.maxFeePerGas,null==y?void 0:y.maxFeePerGas,Nr.SEND_EDIT_FEE_PRICE_UP_RATIO),h.maxPriorityFeePerGas=ra(h.maxPriorityFeePerGas,null==y?void 0:y.maxPriorityFeePerGas,Nr.SEND_EDIT_FEE_PRICE_UP_RATIO)}}else{var v=f;s.price=ra(s.price,v,Nr.SEND_EDIT_FEE_PRICE_UP_RATIO)}N(L.ESendEditFeeTypes.advanced)}}}),[q,T,ie,null==ie?void 0:ie.selected,null==ie?void 0:ie.selected.type,null==Y?void 0:Y.actionType,je,me]),(0,y.useEffect)((function(){I(!!_e),!M.current&&void 0!==_e&&ie&&"custom"!==(null==ie?void 0:ie.selected.type)&&(_e&&P(na(na({},_e),{},{limit:null==ie?void 0:ie.info.limit})),M.current=!0)}),[_e,ie]);var Te=(0,S.jsx)(m.default,{w:"full",py:16,children:(0,S.jsx)(ne.default,{size:"lg"})});if(D&&!se){var Se,Pe=(0,S.jsx)(Zo,{blockNativeInit:s,setBlockNativeInit:u,accountId:ee,networkId:Q,autoConfirmAfterFeeSaved:q,feeInfoPayload:ie,useFormReturn:fe,saveCustom:w,setSaveCustom:I,encodedTx:Z}),Ce=te?(0,S.jsx)(at,{feeInfoPayload:ie,value:H,onChange:function(e){W(e)}}):(0,S.jsx)(ea,{accountId:ee,networkId:Q,feeInfoPayload:ie,currentFeeType:ve,currentCustom:T,value:H,onChange:function(e){"custom"===e?T&&"custom"!==H?W(e):N(L.ESendEditFeeTypes.advanced):W(e)}});Te=ie?(0,S.jsx)(l.default,{children:D===L.ESendEditFeeTypes.standard?Ce:Pe}):(0,S.jsx)(l.default,{children:Pe}),null!=ie&&null!=(Se=ie.info)&&Se.customDisabled&&(Te=(0,S.jsx)(l.default,{children:Ce}))}var Me=!z&&!se&&D===L.ESendEditFeeTypes.advanced&&s,Ae=(0,y.useMemo)((function(){return!!se||!(!de&&D!==L.ESendEditFeeTypes.advanced)&&!ge.isValid}),[de,ge.isValid,D,se]);return(0,S.jsx)(J.BaseSendModal,{size:Me?"2xl":"xs",networkId:Q,accountId:ee,height:"598px",trigger:r,primaryActionTranslationId:D===L.ESendEditFeeTypes.advanced?"action__save":"action__apply",primaryActionProps:{isDisabled:Ae},onPrimaryActionPress:function(){return Ie()},hideSecondaryAction:!0,onModalClose:function(){null==Y||null==Y.onModalClose||Y.onModalClose()},onBackActionPress:function(){D===L.ESendEditFeeTypes.advanced?N(L.ESendEditFeeTypes.standard):null!=K&&null!=K.canGoBack&&K.canGoBack()&&K.goBack()},header:ue,footer:Me?(0,S.jsxs)(f.default,{justifyContent:"space-between",alignItems:"center",paddingY:4,paddingX:6,borderTopWidth:1,borderTopColor:"border-subdued",children:[(0,S.jsx)(Io.default,{onChange:function(e){return I(e)},isChecked:w,children:(0,S.jsx)(p.default,{typography:"Body2Strong",children:V.formatMessage({id:"action__save_as_default_for_custom"})})}),(0,S.jsx)(Cn.default,{isDisabled:!ge.isValid,onPress:function(){return Ie()},type:"primary",children:V.formatMessage({id:"action__save"})})]}):void 0,scrollViewProps:{children:(0,S.jsxs)(S.Fragment,{children:[Te,(0,S.jsx)(Or,{networkId:Q,accountId:ee,encodedTx:Z}),!1]})}})})),aa=n(395795);var ia=n(288811),sa=n(147144),la=n(880148),ca=function(e){var t;return((t={})[Bt.ETHMessageTypes.ETH_SIGN]="eth_sign",t[Bt.ETHMessageTypes.PERSONAL_SIGN]="personal_sign",t[Bt.ETHMessageTypes.TYPED_DATA_V1]="signTypedData_v1",t[Bt.ETHMessageTypes.TYPED_DATA_V3]="signTypedData_v3",t[Bt.ETHMessageTypes.TYPED_DATA_V4]="signTypedData_v4",t[Bt.AptosMessageTypes.SIGN_MESSAGE]="signMessage",t[Bt.CommonMessageTypes.SIGN_MESSAGE]="signMessage",t[Bt.CommonMessageTypes.SIMPLE_SIGN]="signMessage",t[Bt.BtcMessageTypes.ECDSA]="signMessage",t[Bt.BtcMessageTypes.BIP322_SIMPLE]="signMessage",t)[e]},da=function(e){return(0,S.jsx)(u.default,{bg:"surface-default",borderRadius:"12px",mt:"4",children:(0,S.jsx)(f.default,{justifyContent:"space-between",space:"16px",padding:"16px",children:(0,S.jsx)(p.default,{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",flex:1,overflowWrap:"anywhere",children:e||"-"})})})},ua=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Ne()(t))return(0,S.jsx)(an.default.Body2,{children:"null\n"});if("boolean"===typeof t)return(0,S.jsx)(an.default.Body2,{children:(t?"true":"false")+"\n"});if("string"===typeof t||"number"===typeof t)return(0,S.jsxs)(an.default.Body2,{wordBreak:"break-all",whiteSpace:"pre-wrap",children:[t,"\n"]});var r=Object.keys(t).map((function(r){return(0,S.jsxs)(an.default.Body2,{color:"text-subdued",children:[`${"".padStart(n)}${r}: `,e(t[r],n+4)]},r)}));return(0,S.jsxs)(an.default.Body2,{children:[n?"\n":"",r]})},fa=function(e){var t,n,r=e.message,o=e.type;if(o===Bt.BtcMessageTypes.ECDSA||o===Bt.BtcMessageTypes.BIP322_SIMPLE)return da(r);if(o===Bt.ETHMessageTypes.PERSONAL_SIGN){var a=r;try{a=sa.toBuffer(r).toString("utf-8")}catch(l){console.error(l)}return da(a)}if(o===Bt.CommonMessageTypes.SIGN_MESSAGE||o===Bt.CommonMessageTypes.SIMPLE_SIGN){var i=r;try{i=sa.toBuffer(r).toString("utf-8")}catch(l){console.error(l)}return da(i)}var s=null!=(t=JSON.parse(r))?t:{};(s=null!=(n=s.message)?n:s,o===Bt.ETHMessageTypes.TYPED_DATA_V1&&Array.isArray(s))&&(s=s.reduce((function(e,t){return e[t.name]=t.value,e}),{}));return(0,S.jsx)(u.default,{bg:"surface-default",borderRadius:"12px",mt:"2",children:(0,S.jsx)(f.default,{justifyContent:"space-between",space:"16px",padding:"16px",children:(0,S.jsx)(p.default,{flex:1,overflowWrap:"anywhere",children:ua(s)})})})},pa=function(e){var t=e.message,n=e.type;if(n===Bt.ETHMessageTypes.PERSONAL_SIGN)return da(t);if(n===Bt.AptosMessageTypes.SIGN_MESSAGE){var r="";try{var o;r=null==(o=JSON.parse(t))?void 0:o.fullMessage}catch(i){console.error(i)}return da(r)}if(n===Bt.CommonMessageTypes.SIGN_MESSAGE)return da(t);var a="";try{a=JSON.stringify(JSON.parse(t),null,4)}catch(s){console.error(s)}return da(a)},ma=function(e){var t,n=e.title,r=e.origin,o=(e.networkId,e.accountId,(0,k.useActiveSideAccount)(e)),a=o.account,i=o.network,s=(0,b.default)(),c=r?`${r}/favicon.ico`:"",d=null!=(t=null==r?void 0:r.split("://")[1])?t:"DApp";return(0,S.jsxs)(l.default,{flexDirection:"column",alignItems:"center",justifyContent:"center",mt:"2",children:[(0,S.jsx)(Gt.default,{source:{uri:c},alt:"logoURI",size:"40px",borderRadius:"full",fallbackElement:(0,S.jsx)(m.default,{w:"40px",h:"40px",rounded:"full",bgColor:"surface-neutral-default",children:(0,S.jsx)(h.default,{size:24,name:"QuestionMarkOutline"})})}),(0,S.jsx)(an.default.DisplayXLarge,{mt:"4",children:n}),(0,S.jsx)(an.default.Body1,{mt:1,color:"text-subdued",children:d}),(0,S.jsxs)(f.default,{alignItems:"center",borderBottomWidth:x.default.hairlineWidth,borderColor:"border-subdued",mt:"32px",alignSelf:"stretch",px:"16px",pb:"12px",children:[(0,S.jsx)(an.default.Body1Strong,{color:"text-subdued",flex:1,children:s.formatMessage({id:"form__account"})}),(0,S.jsxs)(f.default,{alignItems:"center",children:[(0,S.jsx)(Gt.default,{src:null==i?void 0:i.logoURI,size:"24px",borderRadius:"full"}),(0,S.jsx)(an.default.Body1,{ml:"12px",children:null==a?void 0:a.name})]})]})]})};const ha=function(e){var t=e.unsignedMessage,n=e.sourceInfo,r=e.networkId,o=e.accountId,a=(0,b.default)(),i=t.type,s=t.message,l=(0,y.useState)("message"),c=(0,g.default)(l,2),d=c[0],p=c[1],m=(0,y.useMemo)((function(){return o&&o.startsWith("watching-")}),[o]),h=(0,y.useMemo)((function(){return(0,S.jsx)(ma,{networkId:r,accountId:o,title:a.formatMessage({id:"title__signature_request"}),origin:null==n?void 0:n.origin})}),[o,a,r,null==n?void 0:n.origin]),v=(0,y.useMemo)((function(){return(0,S.jsx)(u.default,{bg:"surface-critical-subdued",borderColor:"border-critical-subdued",borderRadius:"12px",borderWidth:1,children:(0,S.jsxs)(f.default,{justifyContent:"space-between",space:"16px",padding:"16px",children:[(0,S.jsx)(Gt.default,{size:"20px",source:la}),(0,S.jsx)(an.default.Body2,{maxW:"95%",children:a.formatMessage({id:"msg__signing_this_message_can_be_dangerous_Only_sign_this_message_if_you_fully_trust_this_site_and_understand_the_potential_risks"})})]})})}),[a]);return i===Bt.ETHMessageTypes.ETH_SIGN||i===Bt.CommonMessageTypes.SIMPLE_SIGN?(0,S.jsxs)(u.default,{children:[h,v,(0,S.jsx)(an.default.Subheading,{mt:"24px",color:"text-subdued",children:a.formatMessage({id:"form__message_tab"})}),da(s)]}):(0,S.jsxs)(u.default,{children:[h,i!==Bt.CommonMessageTypes.SIGN_MESSAGE||t.secure?null:(0,S.jsx)(S.Fragment,{children:v}),function(){var e="message"===d;return(0,S.jsxs)(f.default,{space:2,mt:2,children:[(0,S.jsx)(Cn.default,{type:"plain",size:"base",_text:{color:e?"text-default":"text-subdued"},onPress:function(){return p("message")},children:a.formatMessage({id:"form__message_tab"})}),(0,S.jsx)(Cn.default,{type:"plain",size:"base",_text:{color:e?"text-subdued":"text-default"},onPress:function(){return p("data")},children:a.formatMessage({id:"form__data_tab"})})]})}(),"message"===d?(0,S.jsxs)(u.default,{children:[fa(t),m?(0,S.jsx)(xe.FormErrorMessage,{message:a.formatMessage({id:"form__error_trade_with_watched_acocunt"})}):null]}):(0,S.jsxs)(u.default,{flex:"1",children:[pa(t),(0,S.jsx)(an.default.Subheading,{mt:"24px",color:"text-subdued",children:a.formatMessage({id:"form__sign_method_type_uppercase"})}),(0,S.jsx)(an.default.Body2,{mt:"6px",children:ca(i)})]})]})};var ga=["children","confirmDisabled","handleConfirm","unsignedMessage"];function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ba(e){var t=(0,k.useActiveSideAccount)(e),n=(t.walletId,t.accountId),r=t.networkId,o=e.children,a=e.confirmDisabled,i=e.handleConfirm,s=e.unsignedMessage,l=(0,ie.default)(e,ga),c=(0,y.useMemo)((function(){return n&&n.startsWith("watching-")}),[n]),d=s.type===Bt.ETHMessageTypes.ETH_SIGN;return(0,S.jsx)(J.BaseSendModal,va(va({height:"598px",primaryActionTranslationId:"action__confirm",primaryActionProps:{type:d?"destructive":"primary",isDisabled:c||a},secondaryActionTranslationId:"action__reject",onSecondaryActionPress:function(e){return(0,e.close)()},onPrimaryActionPress:function(e){var t=e.close,n=e.onClose;i({close:t,onClose:n,unsignedMessage:s})}},l),{},{accountId:n,networkId:r,scrollViewProps:{children:o}}))}function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _a=null,ka=n(258387);function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oa=n(446334),Ta=n(75537),Sa=n(679978);function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ca=(0,n(324665).default)(),Ma=[{name:Oe.SendModalRoutes.PreSendToken,component:ee.wrap(wr,"action__send")},{name:Oe.SendModalRoutes.PreSendAddress,component:ee.wrap((function(){var e,t=(0,b.default)(),n=(0,v.useRoute)(),r=(0,y.useState)([]),o=(0,g.default)(r,2),a=o[0],i=o[1],s=(0,y.useState)(!1),u=(0,g.default)(s,2),f=u[0],p=u[1],m=(0,y.useState)(!1),h=(0,g.default)(m,2),x=h[0],w=h[1],I=(0,y.useState)(!1),j=(0,g.default)(I,2),T=j[0],P=j[1],M=(0,y.useState)(!1),A=(0,g.default)(M,2),E=A[0],R=A[1],L=(0,y.useState)(),F=(0,g.default)(L,2),H=F[0],W=F[1],V=(0,y.useState)(!1),z=(0,g.default)(V,2),K=z[0],G=z[1],$=(0,y.useState)(!1),Z=(0,g.default)($,2),q=Z[0],X=Z[1],Y=(0,y.useState)(),Q=(0,g.default)(Y,2),ee=Q[0],ne=Q[1],oe=(0,y.useState)(),ae=(0,g.default)(oe,2),le=ae[0],de=ae[1],ue=_.default.serviceNFT,fe=_.default.serviceBatchTransfer,pe=_.default.engine,me=(0,y.useMemo)((function(){return Sn({},n.params)}),[n.params]),he=me.validateAddress,ge=me.transferInfos,ye=me.accountId,ve=me.networkId,be=me.closeModal,xe=(0,ie.default)(me,On),we=ge&&ge.length>0?ge[0]:xe,_e=we.isNFT,ke=we.isBRC20,Ie=(0,k.useActiveSideAccount)(me),je=Ie.account,Te=Ie.network,Se=Ie.walletId,Pe=(0,ce.isLightningNetworkByImpl)(null==Te?void 0:Te.impl),Ce=(0,C.default)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:{to:we.to||""}}),Me=(0,gn.useFormOnChangeDebounced)({useFormReturn:Ce}),Ae=Me.isLoading,Ee=Me.formValues,Re=Me.isValid,De=(0,hn.useNameServiceStatus)(),Ne=De.onChange,Le=De.disableSubmitBtn,Be=De.isValid,Fe=De.isSearching,Ue=De.address,He=Ce.control,We=Ce.formState,Ve=Ce.trigger,ze=Ce.handleSubmit,Ke=(0,v.useNavigation)(),Ge=(0,N.useSingleToken)(ve,null!=(e=we.token)?e:"").token,$e=(0,k.useNativeToken)(ve);(0,y.useEffect)((function(){_.default.serviceToken.fetchAccountTokens({networkId:ve,accountId:ye})}),[ye,ve]);var Ze=(0,y.useState)(),qe=(0,g.default)(Ze,2),Xe=qe[0],Ye=qe[1];(0,y.useEffect)((function(){(0,d.default)((function*(){if(_e){var e=we.nftTokenId;if(e){var t=we.token,n=yield ue.getAsset({accountId:ye,networkId:ve,contractAddress:t,tokenId:e,local:!0});Ye(n)}}}))()}),[we.nftTokenId,we.token]);var Qe=(0,y.useState)({errorMessage:""}),Je=(0,g.default)(Qe,2),tt=Je[0],nt=Je[1],rt=(0,y.useState)({warningMessage:""}),ot=(0,g.default)(rt,2),at=ot[0],it=ot[1],st=Ae||!(null!=Ee&&Ee.to)||!Re||We.isValidating||Le||x||tt.errorMessage.length>0,lt=(0,y.useCallback)((0,d.default)((function*(){if(!st){var e=Ue||Ee.to;if(Re&&ve&&e){var t=yield _.default.serviceToken.getAddressRiskyItems({address:e,networkId:ve,apiName:fn.GoPlusSupportApis.address_security});i(t)}}})),[ve,Re,Ee,Ue,st]);(0,y.useEffect)((function(){lt()}),[lt]);var ct=(0,y.useCallback)((function(e){return(0,te.makeTimeoutPromise)({asyncFunc:function(){var t=(0,d.default)((function*(){return yield _.default.validator.isContractAddress(ve,e)}));return function(){return t.apply(this,arguments)}}(),timeout:600,timeoutResult:!1})}),[ve]),dt=(0,y.useCallback)((function(e){Ne(e),Ve("to")}),[Ve,Ne]);(0,y.useEffect)((function(){(0,d.default)((function*(){var e,t=yield _.default.engine.getVaultSettings(ve);P(null!=(e=null==t?void 0:t.withDestinationTag)&&e)}))()}),[ve]);var ut=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){if(je&&Te)if(Xe){var n,r=[],o=null;if(we&&(we.from=je.address,we.to=e),ge&&ge.length>1){p(!0);for(var a=0;a<ge.length;a+=1){var i;ge[a].from=je.address,ge[a].to=e;var s=yield ue.getAsset({accountId:ye,networkId:ve,contractAddress:ge[a].token,tokenId:null!=(i=ge[a].nftTokenId)?i:"",local:!0});if(!s)return void c.default.show({title:t.formatMessage({id:"msg__nft_does_not_exist"})},{type:"error"});r.push({asset:s||{},amount:we.amount,from:je.address,to:e})}var l=yield fe.buildEncodedTxsFromBatchApprove({networkId:ve,accountId:ye,transferInfos:ge}),d=l[l.length-1];d&&(n=void 0!==(n=d.nonce)?new(U())(n).toNumber():n),o=yield fe.buildEncodedTxFromBatchTransfer({networkId:ve,accountId:ye,transferInfos:ge,prevNonce:n}),p(!1),Ke.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:Oe.SendModalRoutes.BatchSendConfirm,params:{networkId:ve,accountId:ye,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,encodedTxs:[].concat((0,yt.default)(l),[o]),backRouteName:Oe.SendModalRoutes.PreSendAddress,payloadInfo:{type:"Transfer",nftInfos:r,transferInfos:ge},transferCount:ge.length,onModalClose:be,bulkType:se.BulkTypeEnum.OneToMany}}})}else try{p(!0),o=yield pe.buildEncodedTxFromTransfer({networkId:ve,accountId:ye,transferInfo:we}),p(!1),Ke.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:Oe.SendModalRoutes.SendConfirm,params:Sn(Sn({},we),{},{networkId:ve,accountId:ye,encodedTx:o,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:Oe.SendModalRoutes.PreSendAddress,payloadInfo:{type:"Transfer",nftInfo:{asset:Xe,amount:we.amount,from:je.address,to:e}},onModalClose:be})}})}catch(y){console.error("nftSendConfirm ERROR: ",y);var u=y,f=u.key,m=void 0===f?"":f,h=u.className;if(m){var g={};"form__amount_invalid"===m&&h===et.OneKeyErrorClassNames.OneKeyErrorInsufficientNativeBalance&&(g={0:(null==$e?void 0:$e.symbol)||""}),c.default.show({title:t.formatMessage({id:m},g)},{type:"error"})}else c.default.show({title:(null==y?void 0:y.message)||"ERROR"},{type:"error"});p(!1)}}else c.default.show({title:t.formatMessage({id:"msg__nft_does_not_exist"})},{type:"error"})}));return function(t){return e.apply(this,arguments)}}(),[je,Te,Xe,we,ge,t,fe,ve,ye,Ke,be,ue,pe,null==$e?void 0:$e.symbol]),ft=(0,y.useCallback)((function(e){var n=Ue||e.to;!Ae&&n&&(_e||ke?ut(n):Pe?function(e){bn.apply(this,arguments)}({toVal:n,walletId:Se,network:Te,networkId:ve,account:je,accountId:ye,tokenInfo:Ge,transferInfo:we,navigation:Ke,setIsLoadingAssets:p,intl:t}):Ke.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:Oe.SendModalRoutes.PreSendAmount,params:Sn(Sn({},we),{},{networkId:ve,accountId:ye,to:n,destinationTag:e.destinationTag})}}))}),[Ue,Ae,ut,Ke,we]),pt=ze(ft),mt=(0,y.useMemo)((function(){return T?(0,S.jsx)(B.default.Item,{control:He,name:"destinationTag",rules:{maxLength:{value:10,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){if(e)return!/^[0-9]+$/.test(e)?t.formatMessage({id:"form__enter_a_number_greater_than_or_equal_to_0"}):void 0}},children:(0,S.jsx)(B.default.Input,{type:"number",placeholder:t.formatMessage({id:"form__destination_tag_placeholder"})})}):null}),[He,T,t]),ht=(0,y.useCallback)((function(e){return(0,S.jsx)(hn.default,{name:e,onChange:dt,disableBTC:!1,networkId:ve})}),[ve,dt]),gt=(0,y.useCallback)((function(e){var n=function(){var n=(0,d.default)((function*(){var n=Ue||e||"";if(X(!1),nt({errorMessage:""}),it({warningMessage:""}),R(!1),W(""),G(!1),i([]),n){try{w(!0),yield _.default.validator.validateAddress(ve,n),yield _.default.validator.validatePreSendAddress({address:n,networkId:ve,accountId:ye});var r=yield null==he?void 0:he(ve,n);r&&r.warningMessage?it({warningMessage:r.warningMessage}):it({warningMessage:""})}catch(l){if(console.error("PreSendAddress validateHandle ERROR: ",l),w(!1),Be&&!Ue)return;var o=l.key,a=l.info;return X(!1),R(!1),W(""),G(!1),o?(nt({errorMessage:t.formatMessage({id:o},null!=a?a:{})}),!1):(nt({errorMessage:t.formatMessage({id:"form__address_invalid"})}),it({warningMessage:""}),!1)}if(yield ct(n))nt({errorMessage:""}),X(!0),G(!0);else{var s=yield _.default.serviceAddressbook.getItem({address:n});if(s)X(!0),R(!0),W(s.name),nt({errorMessage:""});else if(X(!0),Pe)(0,D.findLnurl)(n)?(ne("msg__valid_str_payment_request"),de({0:"LNURL"})):ne("msg__valid_payment_request")}return w(!1),!0}}));return function(){return n.apply(this,arguments)}}();n()}),[Ue,ct,ve,ye,he,Be,t,Pe]);return(0,y.useEffect)((function(){var e=function(){var e=(0,d.default)((function*(){(yield _.default.serviceHistory.getLocalHistory({networkId:ve,accountId:ye,isPending:!0,limit:1})).length>0&&_.default.serviceHistory.refreshHistory({networkId:ve,accountId:ye})}));return function(){return e.apply(this,arguments)}}();e()}),[ye,ve]),(0,S.jsx)(J.BaseSendModal,{accountId:ye,networkId:ve,height:"auto",hideSecondaryAction:!0,header:t.formatMessage({id:"modal__send_to"}),primaryActionTranslationId:"action__next",primaryActionProps:{isDisabled:st,isLoading:f},onPrimaryActionPress:function(){return pt()},scrollViewProps:{children:(0,S.jsxs)(l.default,{children:[(0,S.jsxs)(B.default,{children:[_e&&!ke?(0,S.jsx)(jn,{asset:Xe,total:(null==ge?void 0:ge.length)||1}):(0,S.jsxs)(l.default,{flexDirection:"row",alignItems:"center",children:[(0,S.jsx)(un.default,{size:8,token:Ge}),(0,S.jsx)(an.default.Body1Strong,{ml:3,children:null==Ge?void 0:Ge.symbol})]}),(0,S.jsx)(B.default.Item,{control:He,errorMessage:Fe?"":tt.errorMessage,warningMessage:at.warningMessage,name:"to",formControlProps:{width:"full"},helpText:ht,rules:{validate:gt},defaultValue:"",children:(0,S.jsx)(pn.default,{maxLength:Pe?999:103,networkId:ve,h:{base:120,md:120},plugins:Pe?["paste","scan"]:["contact","paste","scan"],placeholder:Pe?t.formatMessage({id:"content__enter_invoice_lightning_address_or_lnurl"}):void 0})}),mt]}),!tt.errorMessage&&(0,S.jsx)(mn.AddressLabel,{mt:1,shouldCheckSecurity:!0,securityInfo:a,networkId:ve,address:Ue||(null==Ee?void 0:Ee.to)||"",isAddressBook:E,addressBookLabel:H,isContractAddress:K,isValidAddress:q,validAddressMessage:ee,validAddressMessageProperty:le,showValidAddressLabel:!0,isLoading:Ae||x||We.isValidating,labelStyle:{mt:1}}),K&&(0,S.jsx)(re.default,{alertType:"info",title:t.formatMessage({id:"msg__the_recipient_address_is_a_contract_address"}),dismiss:!1,containerProps:{mt:4}}),a.length>0&&(0,S.jsx)(re.default,{alertType:"warn",title:t.formatMessage({id:"msg__the_recipient_address_is_a_scam_address"}),dismiss:!1,containerProps:{mt:4}})]})}})}))},{name:Oe.SendModalRoutes.PreSendAmount,component:ee.wrap(Pn.PreSendAmount)},{name:Oe.SendModalRoutes.PreSendBRC20TokenAmount,component:ee.wrap((function(){var e,t,n=(0,b.default)(),r=(0,v.useRoute)(),o=(0,Wt.default)(),a=(0,w.default)(),h=(0,y.useState)(!1),x=(0,g.default)(h,2),I=x[0],j=x[1],T=(0,y.useState)([]),P=(0,g.default)(T,2),C=P[0],M=P[1],A=(0,y.useState)(!0),E=(0,g.default)(A,2),R=E[0],D=E[1],N=(0,y.useState)([]),L=(0,g.default)(N,2),B=L[0],F=L[1],W=null!=(e=r.params)?e:{},V=W.accountId,z=W.networkId,K=W.token,G=(0,k.useAccountSimple)(V),$=(0,y.useCallback)((function(e,t){M(t?function(t){return t.filter((function(t){return t!==e}))}:function(t){return[].concat((0,yt.default)(t),[e])})}),[]),Z=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){try{var t=yield _.default.serviceInscribe.checkValidTaprootAddress({address:e,networkId:z,accountId:V}),r=t.isValidAddress,o=t.isTaprootAddress;if(!r)throw new et.InvalidAddress;if(!o)return{warningMessage:n.formatMessage({id:"content__some_ordinals_wallets_may_not_support_non_taproot_address_check_the_type_before_continue"})}}catch(a){throw new et.InvalidAddress}}));return function(t){return e.apply(this,arguments)}}(),[V,n,z]),q=(0,y.useCallback)((function(){V&&z&&K&&o.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Inscribe,params:{screen:O.InscribeModalRoutes.BRC20Amount,params:{networkId:z,accountId:V,token:K}}})}),[V,o,z,K]),X=(0,y.useCallback)((0,d.default)((function*(){if(V&&z){j(!0);var e=(yield Promise.all(C.map((function(e){return _.default.serviceNFT.getAsset({accountId:V,networkId:z,tokenId:e,local:!0})})))).filter((function(e){return e}));if(e.length!==C.length)return c.default.show({title:n.formatMessage({id:"msg__nft_does_not_exist"})},{type:"error"}),void j(!1);var t=e.map((function(e){return{isNFT:!0,isBRC20:!0,from:"",to:"",amount:"0",nftTokenId:e.inscription_id,token:(null==K?void 0:K.tokenIdOnNetwork)||(null==K?void 0:K.address),nftInscription:{address:e.owner,inscriptionId:e.inscription_id,output:e.output,location:e.location}}}));j(!1),o.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.Send,params:{screen:Oe.SendModalRoutes.PreSendAddress,params:{accountId:V,networkId:z,from:"",to:"",amount:"0",transferInfos:t,validateAddress:function(){var e=(0,d.default)((function*(e,t){return Z(t)}));return function(t,n){return e.apply(this,arguments)}}(),closeModal:a}}})}})),[V,n,a,o,z,C,null==K?void 0:K.address,null==K?void 0:K.tokenIdOnNetwork,Z]),Y=(0,y.useMemo)((function(){var e=C.reduce((function(e,t){var n,r=B.find((function(e){return e.inscriptionId===t}));return new(U())(e).plus(null!=(n=null==r?void 0:r.amount)?n:0).toFixed()}),"0");return(0,S.jsxs)(l.default,{padding:4,children:[(0,S.jsxs)(f.default,{mb:4,children:[(0,S.jsx)(p.default,{typography:"Body1Strong",flex:1,children:n.formatMessage({id:"form__str_selected"},{0:C.length})}),(0,S.jsxs)(u.default,{flex:1,children:[(0,S.jsx)(H.FormatBalance,{balance:e,suffix:K.symbol,formatOptions:{fixed:6},render:function(e){return(0,S.jsx)(p.default,{typography:"Body1Strong",textAlign:"right",numberOfLines:2,children:e})}}),(0,S.jsx)(H.FormatCurrencyTokenOfAccount,{networkId:z,accountId:V,value:e,token:K,render:function(e){return(0,S.jsx)(p.default,{color:"text-subdued",textAlign:"right",children:e})}})]})]}),(0,S.jsx)(Cn.default,{type:"primary",size:"lg",isLoading:I,isDisabled:0===C.length,onPress:X,children:n.formatMessage({id:"action__next"})})]})}),[V,B,X,n,I,z,C,K]),Q=(0,y.useCallback)((function(e){var t=e.item,n=e.cardWidth;return"0"===t.amount&&"0"===t.inscriptionId&&"0"===t.inscriptionNumber?(0,S.jsx)(Ln,{onPress:q,cardWidth:n,style:{mr:2,mb:4}}):(0,S.jsx)(Nn,{cardWidth:n,data:t,token:K,style:{mr:2,mb:4,borderWidth:1,borderColor:"border-default"},isSelected:C.includes(t.inscriptionId),onSelected:$})}),[$,q,C,K]),J=(0,y.useMemo)((function(){var e=B.reduce((function(e,t){var n;return new(U())(e).plus(null!=(n=null==t?void 0:t.amount)?n:0).toFixed()}),"0");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(s.default,{mt:2,mb:4}),(0,S.jsxs)(f.default,{alignItems:"center",children:[(0,S.jsx)(p.default,{typography:"Subheading",flex:1,children:n.formatMessage({id:"form__str_items__uppercase"},{0:B.length})}),(0,S.jsx)(H.FormatBalance,{balance:e,suffix:K.symbol,formatOptions:{fixed:6},render:function(e){return(0,S.jsx)(p.default,{flex:1,typography:"Subheading",textAlign:"right",textTransform:"uppercase",children:e})}})]})]})}),[B,n,K.symbol]),ee=(0,y.useCallback)((function(){if(R)return(0,S.jsx)(m.default,{width:"full",height:"full",children:(0,S.jsx)(ne.default,{})});var e=[].concat((0,yt.default)(B),[{amount:"0",inscriptionId:"0",inscriptionNumber:"0"}]);return(0,S.jsx)(An.GridList,{data:e,renderItem:Q,refreshing:R,ListFooterComponent:J})}),[J,B,R,Q]),te=(0,y.useCallback)((0,d.default)((function*(){if(G&&z&&K){var e,t;D(!0);var n=yield _.default.serviceBRC20.getBRC20AmountList({networkId:z,address:G.address,xpub:null!=(e=G.xpub)?e:"",tokenAddress:null!=(t=K.tokenIdOnNetwork)?t:K.address});F(n.transferBalanceList),D(!1)}})),[G,z,K]);return(0,y.useEffect)((function(){te()}),[te]),(0,S.jsx)(i.default,{header:n.formatMessage({id:"form__amount"}),height:"584px",headerDescription:(0,S.jsx)(p.default,{typography:"Caption",color:"text-subdued",children:`${null!=(t=null==K?void 0:K.name)?t:""} (brc20)`}),footer:Y,children:ee()})}))},{name:Oe.SendModalRoutes.SignMessageConfirm,component:ee.wrap((function(){var e;(0,Ve.useOnboardingRequired)();var t=(0,b.default)(),n=(0,v.useNavigation)(),r=(0,v.useRoute)(),o=r.params,a=o.sourceInfo,i=o.unsignedMessage,s=o.hideToast,l=(0,k.useActiveSideAccount)(r.params),u=l.walletId,f=l.accountId,p=l.networkId,m=(0,I.default)({id:null!=(e=null==a?void 0:a.id)?e:"",closeOnError:!0}),h=(0,y.useCallback)((function(){null==m||m.reject(),null==r.params.onFail||r.params.onFail()}),[m,r.params]);(0,y.useEffect)((function(){clearTimeout(_a),bt.default.sendTx.info("SignMessageConfirm  >>>>  ",i,r.params)}),[i,r.params]);var g=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){var o=e.close,a=e.unsignedMessage;try{a.type!==Bt.ETHMessageTypes.ETH_SIGN&&a.type!==Bt.ETHMessageTypes.PERSONAL_SIGN||(0,ia.validateSignMessageData)(a),a.type===Bt.ETHMessageTypes.TYPED_DATA_V1&&(0,ia.validateTypedSignMessageDataV1)(a),a.type!==Bt.ETHMessageTypes.TYPED_DATA_V3&&a.type!==Bt.ETHMessageTypes.TYPED_DATA_V4||(0,ia.validateTypedSignMessageDataV3V4)(a,(0,Zt.parseNetworkId)(p).chainId)}catch(l){null==m||m.reject({error:l}),null==r.params.onFail||r.params.onFail(l)}var i=wa(wa({},r.params),{},{unsignedMessage:a,accountId:f,networkId:p,walletId:u,onSuccess:function(){var e=(0,d.default)((function*(e){if(yield m.resolve({result:e}),!s){var n=t.formatMessage({id:"transaction__success"});c.default.show({title:n})}null==r.params.onSuccess||r.params.onSuccess(e),r.params.closeImmediately?o():_a=setTimeout((function(){o()}),600)}));return function(t){return e.apply(this,arguments)}}(),onFail:function(e){null==r.params.onFail||r.params.onFail(e)},onModalClose:h});return delete i._disabledAnimationOfNavigate,n.navigate(Oe.SendModalRoutes.SendAuthentication,i)}));return function(t){return e.apply(this,arguments)}}(),[r.params,f,u,p,h,n,m,t,s]),x={header:t.formatMessage({id:"action__sign"}),networkId:p,accountId:f,handleConfirm:g,onSecondaryActionPress:function(e){var t=e.close;m.reject(),null==r.params.onFail||r.params.onFail(),t()},onModalClose:h,sourceInfo:a,unsignedMessage:(0,ia.getValidUnsignedMessage)(i)};return(0,S.jsx)(ba,wa(wa({},x),{},{children:(0,S.jsx)(ha,wa({},x))}))}))},{name:Oe.SendModalRoutes.SendConfirmFromDapp,component:function(){var e=(0,v.useNavigation)(),t=(0,y.useRef)(),n=(0,ko.useReduxReady)().isReady,r=(0,j.default)(),o=r.sourceInfo,a=r.unsignedMessage,i=r.encodedTx,s=r.signOnly,l=void 0!==s&&s,c=r._$t,u=void 0===c?void 0:c,f=r.networkId,p=(0,y.useCallback)((0,d.default)((function*(){var n,r=(0,k.getActiveWalletAccount)(),s=r.networkId,c=r.accountId,d=r.networkImpl;if(i){var p=i,m=p.psbtHex;d===ce.IMPL_SOL&&(p=yield _.default.engine.updateEncodedTx({accountId:c,networkId:s,encodedTx:i,payload:{},options:{type:le.IEncodedTxUpdateType.priorityFees}}));var h={networkId:null!=f?f:s,accountId:c,sourceInfo:o,encodedTx:p,feeInfoEditable:!m,feeInfoUseFeeInTx:!0,ignoreFetchFeeCalling:!!m,signOnly:l,_disabledAnimationOfNavigate:!0,_$t:u};n=v.StackActions.replace(Oe.SendModalRoutes.SendConfirm,h)}if(a){var g={networkId:null!=f?f:s,accountId:c,sourceInfo:o,unsignedMessage:a,_disabledAnimationOfNavigate:!0,_$t:u};n=v.StackActions.replace(Oe.SendModalRoutes.SignMessageConfirm,g)}n&&("active"===_o.default.currentState?setTimeout((function(){return e.dispatch(n)})):t.current=n)})),[u,f,i,e,l,o,a]);return(0,y.useEffect)((function(){if(n){var r=_o.default.addEventListener("change",(function(n){"active"===n&&setTimeout((function(){t.current&&(e.dispatch(t.current),t.current=void 0)}))}));return p(),function(){r.remove()}}}),[n,u,i,e,o,a,l,f,p]),null}},{name:Oe.SendModalRoutes.SendConfirm,component:ee.wrap(wo)},{name:Oe.SendModalRoutes.BatchSendConfirm,component:ee.wrap(St)},{name:Oe.SendModalRoutes.BatchSendProgress,component:ee.wrap((function(){var e,t,n=(0,v.useRoute)().params,r=n.walletId,o=n.onModalClose,a=n.networkId,i=n.accountId,s=n.payloadInfo,c=n.encodedTxs,d=(0,y.useState)(),u=(0,g.default)(d,2),f=u[0],p=u[1],m=(0,y.useState)(L.BatchSendState.inProgress),h=(0,g.default)(m,2),b=h[0],x=h[1],w=(0,y.useState)(!1),_=(0,g.default)(w,2),k=_[0],I=_[1],j=(0,y.useState)(0),O=(0,g.default)(j,2),T=O[0],P=O[1],C=b===L.BatchSendState.onPause,M=s.senderAccounts,A=T<c.length-1;return(0,S.jsx)(J.BaseSendModal,{closeable:!1,hideBackButton:!0,height:"489px",closeOnOverlayClick:!1,accountId:i,networkId:a,header:null==f?void 0:f.title,headerDescription:null==f?void 0:f.subTitle,onModalClose:function(){null==o||o(),(0,Ve.closeExtensionWindowIfOnboardingFinished)()},footer:k?void 0:null,hidePrimaryAction:!k,hideSecondaryAction:!k,primaryActionTranslationId:C?"action__continue":"action__pause",secondaryActionTranslationId:"action__abort",primaryActionProps:{isDisabled:!A&&!C},onPrimaryActionPress:function(){return x(C?L.BatchSendState.inProgress:L.BatchSendState.onPause)},children:(0,S.jsx)(l.default,{flex:1,children:(0,S.jsx)(Mt.default,{walletId:null!=(e=null==M||null==(t=M[T])?void 0:t.walletId)?e:r,field:Mt.ValidationFields.Payment,children:function(e){return(0,S.jsx)(on,{setIsAuthorized:I,setTitleInfo:p,password:e,currentState:b,currentStep:T,setCurrentStep:P,setCurrentState:x})}})})})}))},{name:Oe.SendModalRoutes.SendEditFee,component:ee.wrap(oa)},{name:Oe.SendModalRoutes.TokenApproveAmountEdit,component:ee.wrap((function(e){var t,n,r,o,a,i=Object.assign({},((0,qr.default)(e),e)).trigger,s=_.default.engine,l=(0,b.default)(),c=(0,v.useNavigation)(),u=(0,v.useRoute)(),f=u.params,p=f.encodedTx,m=f.tokenApproveAmount,h=f.isMaxAmount,x=(0,k.useActiveSideAccount)(u.params),w=x.networkId,I=x.accountId,j=x.network,O=(0,y.useState)(h),T=(0,g.default)(O,2),P=T[0],M=T[1],A=u.params,E=A.decodedTx,R=A.sendConfirmParams,D=null==E||null==(t=E.actions)||null==(n=t[0])?void 0:n.tokenApprove,N=null==D?void 0:D.tokenInfo,L=null==N?void 0:N.symbol,F=(0,C.default)({mode:"onChange",reValidateMode:"onChange",defaultValues:{amount:h?"":m}}),U=F.control,H=F.handleSubmit,W=F.trigger,V=(0,gn.useFormOnChangeDebounced)({useFormReturn:F}).isValid,z=H(function(){var e=(0,d.default)((function*(e){var t;if(p){var n=P?ka.InfiniteAmountText:e.amount,r=yield s.updateEncodedTxTokenApprove({networkId:w,accountId:I,encodedTx:p,amount:n}),o=c.getState(),a=(null==(t=o.routes[o.index-1])?void 0:t.name)||Oe.SendModalRoutes.SendConfirm,i=ja(ja({},R),{},{networkId:w,accountId:I,tokenApproveAmount:n,encodedTx:r});return Nr.IS_REPLACE_ROUTE_TO_FEE_EDIT?c.replace(a,i):c.navigate({merge:!0,name:a,params:i})}}));return function(t){return e.apply(this,arguments)}}()),K={required:l.formatMessage({id:"form__max_spend_limit_validateRules"})};return P&&(K.required=""),(0,S.jsx)(J.BaseSendModal,{accountId:I,networkId:w,trigger:i,primaryActionTranslationId:"action__save",onPrimaryActionPress:function(){return z()},primaryActionProps:{isDisabled:!V},hideSecondaryAction:!0,onModalClose:function(){null==R||null==R.onModalClose||R.onModalClose()},secondaryActionTranslationId:"action__reject",header:l.formatMessage({id:"content__spend_limit_amount"}),scrollViewProps:{children:(0,S.jsx)(B.default,{children:(0,S.jsx)(B.default.Item,{label:l.formatMessage({id:"form__max_spend_limit"}),rules:K,control:U,name:"amount",defaultValue:l.formatMessage({id:"form__unlimited"}),helpText:l.formatMessage({id:"content__if_you_choose_max"},{0:null!=(r=null!=(o=null==(a=u.params.sourceInfo)?void 0:a.origin)?o:null==j?void 0:j.shortName)?r:"--"}),children:(0,S.jsx)(B.default.NumberInput,{w:"full",size:"xl",decimal:null==N?void 0:N.decimals,rightText:L,enableMaxButton:!0,isMax:P,maxModeCanEdit:!0,maxButtonTranslationId:"form__unlimited",onMaxChange:function(e){M(e),e&&setTimeout((function(){W("amount")}),300)},maxText:l.formatMessage({id:"form__unlimited"})})})})}})}))},{name:Oe.SendModalRoutes.SendSpecialWarning,component:ee.wrap((function(){var e=(0,b.default)(),t=(0,v.useRoute)().params,n=t.onModalClose,r=t.networkId,o=t.accountId,a=so();return(0,S.jsx)(J.BaseSendModal,{accountId:o,networkId:r,header:e.formatMessage({id:"title__warning"}),primaryActionTranslationId:"action__confirm",onModalClose:function(){null==n||n(),(0,Ve.closeExtensionWindowIfOnboardingFinished)()},hideSecondaryAction:!0,onPrimaryActionPress:function(){a.navigation.navigate(Oe.SendModalRoutes.SendAuthentication,t)},children:(0,S.jsxs)(m.default,{flex:1,children:[(0,S.jsx)(Or,{accountId:o,networkId:r,encodedTx:t.encodedTx}),(0,S.jsx)(l.default,{mb:"16px",p:"12px",rounded:"full",bgColor:"surface-warning-subdued",children:(0,S.jsx)(h.default,{name:"ExclamationTriangleOutline",color:"icon-warning"})}),(0,S.jsx)(an.default.Body1,{textAlign:"center",children:e.formatMessage({id:t.hintMsgKey},t.hintMsgParams)})]})})}))},{name:Oe.SendModalRoutes.SendAuthentication,component:ee.wrap((function(){var e=(0,v.useRoute)().params,t=e.walletId,n=e.onModalClose,r=e.networkId,o=e.accountId,a=(0,y.useState)(),i=(0,g.default)(a,2),s=i[0],c=i[1];return(0,S.jsx)(J.BaseSendModal,{accountId:o,networkId:r,header:null==s?void 0:s.title,headerDescription:null==s?void 0:s.subTitle,footer:null,onModalClose:function(){null==n||n(),(0,Ve.closeExtensionWindowIfOnboardingFinished)()},children:(0,S.jsxs)(l.default,{flex:1,children:[(0,S.jsx)(Or,{accountId:o,networkId:r,encodedTx:e.encodedTx}),(0,S.jsx)(Mt.default,{walletId:t,field:Mt.ValidationFields.Payment,children:function(e){return(0,S.jsx)(Pr,{setTitleInfo:c,password:e})}})]})})}))},{name:Oe.SendModalRoutes.SendFeedbackReceipt,component:ee.wrap((function(){var e=(0,b.default)(),t=(0,v.useRoute)(),r=(0,w.default)(),o=t.params,a=o.networkId,i=o.accountId,s=o.type,c=(0,k.useActiveSideAccount)(t.params),d=c.network,f=c.accountAddress,h=(0,aa.default)(d),I=(0,y.useState)(3),j=(0,g.default)(I,2),O=j[0],T=j[1],P=ue.default.isExtensionUiStandaloneWindow,C=P,M=_.default.serviceDapp,A=(0,y.useCallback)((function(){M.setSendConfirmModalVisible({visible:!1})}),[M]);(0,y.useEffect)((function(){var e=P;return e&&window.addEventListener("beforeunload",A),function(){A(),e&&window.removeEventListener("beforeunload",A)}}),[A,P]);var E=(0,y.useCallback)((function(){var e,n;cn()(null==t||null==(e=t.params)?void 0:e.closeModal)?null==t||null==(n=t.params)||null==n.closeModal||n.closeModal():r();P&&A()}),[null==t?void 0:t.params,P,r,A]);(0,k.useInterval)((function(){C&&T((function(e){var t=e-1;return t<=0&&E(),t}))}),1e3);var R=(0,y.useMemo)((function(){return"Send"===s?e.formatMessage({id:"modal__transaction_submitted"}):"SendUnconfirmed"===s?e.formatMessage({id:"modal__transaction_submitted_unconfirmed"}):"LNURLWithdraw"===s?e.formatMessage({id:"title__lnurl_withdraw_request"}):e.formatMessage({id:"msg__signature_done"})}),[e,s]),D=(0,y.useMemo)((function(){var n=t.params.successAction;return n?"url"===n.tag?(0,S.jsxs)(m.default,{my:2,children:[n.description&&(0,S.jsx)(p.default,{typography:"Body2",color:"text-subdued",textAlign:"center",children:n.description}),n.url&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Cn.default,{mt:4,type:"plain",leftIconName:"ArrowTopRightOnSquareMini",size:"base",borderWidth:x.default.hairlineWidth,borderColor:"border-default",onPress:function(){return(0,Ie.openUrl)(n.url||"")},children:e.formatMessage({id:"action__view_in_browser"})}),(0,S.jsx)(p.default,{typography:"Caption",color:"text-subdued",mt:4,textAlign:"center",children:n.url})]})]}):"message"===n.tag?(0,S.jsx)(m.default,{my:2,children:(0,S.jsx)(p.default,{typography:"Body2",color:"text-subdued",textAlign:"center",children:n.message})}):"withdrawer"===n.tag?(0,S.jsx)(m.default,{my:2,children:(0,S.jsx)(p.default,{typography:"Body2",color:"text-subdued",textAlign:"center",children:e.formatMessage({id:"content__str_withdraw_request_have_been_sent_to_str"},{amount:n.amount,domain:n.domain})})}):void 0:null}),[e,t.params]);return(0,S.jsx)(J.BaseSendModal,{networkId:a,accountId:i,hideBackButton:!0,height:"auto",header:void 0,headerDescription:void 0,primaryActionProps:{children:C?`${e.formatMessage({id:"action__done"})} (${O})`:`${e.formatMessage({id:"action__done"})}`},onPrimaryActionPress:function(){return E()},hideSecondaryAction:!(h.hasAvailable||"function"===typeof t.params.onDetail)||"Sign"===s,secondaryActionTranslationId:"action__view_details",onSecondaryActionPress:function(){E(),setTimeout((function(){var e;if(t.params.onDetail)null==t.params.onDetail||t.params.onDetail(null==t||null==(e=t.params)?void 0:e.txid);else if(!1===t.params.isSingleTransformMode)h.openAddressDetails(f);else{var n;h.openTransactionDetails(null==t||null==(n=t.params)?void 0:n.txid)}}),100)},closeAction:function(){return E()},children:(0,S.jsxs)(u.default,{alignItems:"center",justifyContent:"center",flex:1,children:[(0,S.jsx)(l.default,{w:"200px",h:"200px",children:(0,S.jsx)(sn.default,{width:200,source:n(831903),autoPlay:!0,loop:!1})}),(0,S.jsx)(p.default,{typography:"DisplayMedium",children:R}),D,(0,S.jsx)(l.default,{h:8})]})})}))},{name:Oe.SendModalRoutes.HardwareSwapContinue,component:ee.wrap((function(){var e=(0,b.default)(),t=(0,v.useRoute)(),r=(0,w.default)(),o=t.params,a=o.networkId,i=o.accountId,s=(0,y.useCallback)((function(){var e,n;cn()(null==t||null==(e=t.params)?void 0:e.closeModal)?null==t||null==(n=t.params)||null==n.closeModal||n.closeModal():r()}),[r,null==t?void 0:t.params]);return(0,y.useEffect)((function(){return dn.appUIEventBus.on(dn.AppUIEventBusNames.SwapError,s),dn.appUIEventBus.on(dn.AppUIEventBusNames.SwapCompleted,s),function(){dn.appUIEventBus.off(dn.AppUIEventBusNames.SwapError,s),dn.appUIEventBus.off(dn.AppUIEventBusNames.SwapCompleted,s)}}),[]),(0,S.jsx)(J.BaseSendModal,{networkId:a,accountId:i,hideBackButton:!0,height:"auto",header:void 0,headerDescription:void 0,primaryActionProps:{children:`${e.formatMessage({id:"action__close"})}`,type:"basic"},onPrimaryActionPress:function(){return s()},hideSecondaryAction:!0,closeAction:function(){return s()},children:(0,S.jsxs)(u.default,{alignItems:"center",justifyContent:"center",flex:1,children:[(0,S.jsx)(l.default,{w:"200px",h:"200px",children:(0,S.jsx)(sn.default,{width:200,source:n(831903),autoPlay:!0,loop:!1})}),(0,S.jsx)(p.default,{typography:"DisplayMedium",children:e.formatMessage({id:"title__swap_processing_1_2"})}),(0,S.jsx)(l.default,{h:8}),(0,S.jsxs)(l.default,{position:"relative",children:[(0,S.jsxs)(l.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,S.jsx)(m.default,{w:"8",h:"8",backgroundColor:"interactive-default",borderRadius:"full",mr:"6",children:(0,S.jsx)(h.default,{name:"CheckMini",size:20,color:"text-on-primary"})}),(0,S.jsxs)(l.default,{children:[(0,S.jsx)(an.default.Body1Strong,{children:e.formatMessage({id:"title__approved"})}),(0,S.jsx)(an.default.Body1Strong,{children:e.formatMessage({id:"transaction__swap_status_completed"})})]})]}),(0,S.jsx)(l.default,{h:"6"}),(0,S.jsxs)(l.default,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,S.jsx)(m.default,{w:"8",h:"8",backgroundColor:"surface-subdued",borderRadius:"full",borderWidth:"2",borderColor:"interactive-default",mr:"6",children:(0,S.jsx)(l.default,{w:"2",h:"2",borderRadius:"full",backgroundColor:"interactive-default"})}),(0,S.jsxs)(l.default,{children:[(0,S.jsx)(an.default.Body1Strong,{children:e.formatMessage({id:"form__swap_tokens"})}),(0,S.jsxs)(l.default,{flexDirection:"row",children:[(0,S.jsx)(ne.default,{size:"sm"}),(0,S.jsx)(an.default.Body1Strong,{ml:"2",children:e.formatMessage({id:"form__please_confirm_on_device"})})]})]})]}),(0,S.jsx)(l.default,{w:"8",h:"full",position:"absolute",top:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",zIndex:-1,children:(0,S.jsx)(l.default,{w:"1",height:"80%",bg:"interactive-default"})})]})]})})}))},{name:Oe.SendModalRoutes.NFTDetailModal,component:Ta.default},{name:Oe.SendModalRoutes.LNURLPayRequest,component:function(){var e,t,n,r,a,s=(0,b.default)(),l=(0,o.default)(),u=(0,v.useNavigation)(),f=(0,v.useRoute)(),p=(null!=(e=f.params)?e:{}).isSendFlow,m=(0,j.default)(),h=m.sourceInfo,x=m.lnurlDetails,w=m.transferInfo,O=(0,I.default)({id:null!=(t=null==h?void 0:h.id)?t:"",closeWindowAfterResolved:!0}),P=(0,y.useMemo)((function(){return p?R()(f.params,"lnurlDetails").lnurlDetails:x}),[f.params,x,p]),M=(0,y.useMemo)((function(){return p?A()(G({},f.params),["lnurlDetails"]):w}),[f.params,w,p]);console.log("transferInfo:=====>>>: ",M);var E=(0,k.useActiveSideAccount)(M),B=E.account,F=E.accountId,U=E.networkId,H=E.network,W=Math.floor(Number(null!=(n=null==P?void 0:P.minSendable)?n:0)/1e3),V=Math.floor(Number(null!=(r=null==P?void 0:P.maxSendable)?r:0)/1e3),K=(0,C.default)({defaultValues:{amount:W>0&&W===V?`${W}`:""}}),$=K.handleSubmit,Z=(0,y.useState)(!1),q=(0,g.default)(Z,2),X=q[0],Y=q[1],Q=(0,k.useNativeToken)(U),J=(0,N.useSingleToken)(U,null!=(a=M.token)?a:"").token,ee=(0,y.useMemo)((function(){if(null!=P&&P.metadata)try{var e=JSON.parse(P.metadata).find((function(e){var t=(0,g.default)(e,1)[0];return"image/png;base64"===t||"image/jpeg;base64"===t}));if(e)return`data:${e[0]},${e[1]}`}catch(t){console.error(t)}}),[null==P?void 0:P.metadata]),te=(0,y.useMemo)((function(){return P&&"number"===typeof P.commentAllowed&&P.commentAllowed>0?P.commentAllowed:0}),[P]),ne=(0,y.useCallback)(function(){var e=(0,d.default)((function*(e){if(console.log("=====>onSubmit"),P&&!X){Y(!0);var t,n=_.default.serviceLightningNetwork,r=_.default.engine,o=1e3*parseInt(e.amount);try{var a={amount:o,comment:e.comment&&e.comment};t=yield n.fetchLnurlPayRequestResult({callback:P.callback,params:a})}catch(x){console.error(x),Y(!1);var i=x.key,l=x.info;return i&&"onekey_error"!==i?(c.default.show({title:s.formatMessage({id:i},null!=l?l:{})},{type:"error"}),!1):(c.default.show({title:(null==x?void 0:x.message)||x},{type:"error"}),void O.reject())}try{var d,f=t.pr;(yield n.verifyInvoice({paymentInfo:t,metadata:P.metadata,amount:o,networkId:U,accountId:F}))||c.default.show({title:s.formatMessage({id:"msg__invalid_lightning_payment_request"})});var m=yield r.buildEncodedTxFromTransfer({networkId:U,accountId:F,transferInfo:G(G({},M),{},{to:f,lnurlPaymentInfo:t,lightningAddress:(0,D.isLightningAddress)(M.to)?M.to:void 0})}),g={accountId:F,networkId:U,encodedTx:m,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:p?L.SendModalRoutes.PreSendAddress:void 0,payload:{payloadType:"Transfer",account:B,network:H,token:G(G({},J),{},{sendAddress:M.tokenSendAddress,idOnNetwork:null!=(d=null==J?void 0:J.tokenIdOnNetwork)?d:""}),to:f,value:m.amount,isMax:!1}};p||(g.sourceInfo=h,g.onFail=function(e){console.log("onFail",e),O.reject()}),u.replace(L.SendModalRoutes.SendConfirm,g)}catch(x){console.error(x),Y(!1);var y="",v=x.key,b=x.info;v&&"onekey_error"!==v?(y=s.formatMessage({id:v},null!=b?b:{}),c.default.show({title:y},{type:"error"})):(y=null==x?void 0:x.message,c.default.show({title:y||x},{type:"error"})),p||setTimeout((function(){O.resolve({result:{status:"ERROR",reason:y}})}),1500)}}}));return function(t){return e.apply(this,arguments)}}(),[H,U,B,F,s,X,P,M,u,J,O,h,p]),re=$(ne);return(0,S.jsx)(i.default,{header:s.formatMessage({id:"title__lnurl_pay"}),headerDescription:(0,S.jsx)(T.LNModalDescription,{networkId:U}),primaryActionTranslationId:"action__next",primaryActionProps:{isDisabled:X,isLoading:X},onPrimaryActionPress:function(){return re()},secondaryActionTranslationId:"action__cancel",onSecondaryActionPress:function(e){var t=e.close;p?null!=u&&null!=u.canGoBack&&u.canGoBack()&&u.goBack():(O.reject(),t())},onModalClose:function(){p||O.reject()},height:"auto",scrollViewProps:{contentContainerStyle:{flex:1,paddingVertical:l?16:24},children:(0,S.jsx)(z,{accountId:F,networkId:U,useFormReturn:K,amount:W===V?W:void 0,amountReadOnly:W===V,minimumAmount:W,maximumAmount:V,origin:new URL(P.url).origin,siteImage:ee,commentAllowedLength:te,metadata:P.metadata,nativeToken:Q})}})}},{name:Oe.SendModalRoutes.LNURLWithdraw,component:Z},{name:Oe.SendModalRoutes.LNURLAuth,component:P},{name:Oe.SendModalRoutes.LNURLAuthentication,component:a.default},{name:Oe.SendModalRoutes.WeblnSendPayment,component:Y}];const Aa=function(){var e=(0,o.default)();return(0,S.jsx)(Oa.TransactionSendContextProvider,{children:(0,S.jsx)(Ca.Navigator,{screenOptions:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,Sa.buildModalStackNavigatorOptions)({isVerticalLayout:e,navInfo:t}))},children:Ma.map((function(e){return(0,S.jsx)(Ca.Screen,{name:e.name,component:e.component},e.name)}))})})}},384688:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(539144),o=n(603833),a=n(481047),i=n(324665),s=n(552322),l=(0,i.default)(),c=[{name:a.SubmitRequestModalRoutes.SubmitRequestModal,component:o.SubmitRequest}];const d=function(){var e=(0,r.default)();return(0,s.jsx)(l.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:c.map((function(e){return(0,s.jsx)(l.Screen,{name:e.name,component:e.component},e.name)}))})}},687869:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var r=n(539144),o=n(877531),a=n(719392),i=n(321668),s=n(202784),l=n(472719),c=n(783112),d=(n(213208),n(945821)),u=n(158870),f=n(589427),p=n(552322),m=n(634795),h=n(196234),g=n(940915),y=n(256666),v=n(18861),b=n(435581),x=n(785192),w=n(361301),_=n(470310),k=n(866904),I=n(206391),j=n.n(I),O=n(79694),T=n(15304),S=n(859071),P=n(481047),C=n(115316),M=n.n(C),A=n(968079);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=5;function N(e){var t=e.title,n=e.utxos,r=e.style,o=e.decodedTx,a=e.type,d=(0,s.useState)(!1),u=(0,h.default)(d,2),f=u[0],m=u[1],g=(0,l.useNavigation)(),y=(0,c.default)(),I=o.networkId,C=o.accountId,E=o.actions,N=o.encodedTx,L=(0,S.useNetwork)({networkId:I}).network,B=f?n:n.slice(0,D),F=(0,s.useMemo)((function(){var e,t=new(j())(null!=(e=null==N?void 0:N.totalFee)?e:"0");return!(null==N||!N.psbtHex||!t.isNaN()&&!t.isLessThanOrEqualTo(0))}),[N]),U=(0,s.useCallback)((function(e){return(0,p.jsx)(_.default,{space:1,flexWrap:"wrap",children:e.map((function(e){return(0,p.jsx)(O.default,{px:"6px",py:"2px",borderRadius:"4px",bgColor:"surface-subdued",mb:1,onPress:function(){g.navigate(P.RootRoutes.Modal,{screen:P.ModalRoutes.Send,params:{screen:P.SendModalRoutes.NFTDetailModal,params:{asset:e,networkId:I,accountId:C,isOwner:!1}}})},children:(0,p.jsxs)(_.default,{alignItems:"center",space:1,children:[(0,p.jsx)(T.default,{}),(0,p.jsxs)(k.default,{typography:"Body2Strong",children:["#",e.inscription_number]})]})},e.inscription_id)}))})}),[C,g,I]),H=(0,s.useCallback)((function(){var e=function(e){var t=[],n=[];for(var r of e){var o,a,i,s,l;r.inscriptionInfo&&(t.push(null==(o=r.inscriptionInfo)?void 0:o.asset),n=null!=(a=null==(i=r.inscriptionInfo)?void 0:i.assetsInSameUtxo)?a:[]),r.brc20Info&&(t.push(r.brc20Info.asset),n=null!=(s=null==(l=r.inscriptionInfo)?void 0:l.assetsInSameUtxo)?s:[])}return{inscriptions:t,inscriptionsInSameUtxo:n}}(E),t=e.inscriptions,n=e.inscriptionsInSameUtxo,r=t;return B.map((function(e,t){var o,i,s,l=function(e){var t=e.utxo,n=e.inscriptionsInActions,r=e.inscriptionsInSameUtxo,o=e.type,a=e.isListOrderPsbt,i=[],s=n;if(t.inscriptions)i="outputs"===o&&a?[]:t.inscriptions;else if(t.txid){if(0===(i=n.filter((function(e){return e.tx_hash===t.txid}))).length){var l=n.find((function(e){var n;return new(j())(e.output_value_sat).isEqualTo(null!=(n=t.value)?n:0)}));l&&(i.push(l),s=s.filter((function(e){return e.inscription_id!==l.inscription_id})))}}else{var c=n.find((function(e){var n;return new(j())(e.output_value_sat).isEqualTo(null!=(n=t.value)?n:0)}));c&&(i.push(c),s=s.filter((function(e){return e.inscription_id!==c.inscription_id})))}var d=r.filter((function(e){return i.some((function(t){return e.inscription_id!==t.inscription_id&&e.owner===t.owner&&e.output===t.output&&e.output_value_sat===t.output_value_sat}))}));return{inscriptions:[].concat((0,A.default)(M()(i,"inscription_id")),(0,A.default)(d)),restInscriptions:M()(s,"inscription_id")}}({utxo:e,inscriptionsInActions:r,inscriptionsInSameUtxo:n,isListOrderPsbt:F,type:a}),c=l.inscriptions;return r=l.restInscriptions,(0,p.jsxs)(_.default,{space:2,children:[(0,p.jsxs)(k.default,{typography:"Body2Mono",color:"text-subdued",children:["#",t]}),(0,p.jsxs)(w.default,{flex:1,children:[U(c),(0,p.jsx)(k.default,{typography:"Body2Strong",children:e.address}),(0,p.jsxs)(k.default,{typography:"Body2",color:"text-subdued",children:[new(j())(null!=(i=e.value)?i:"0").shiftedBy(-(null!=(s=null==L?void 0:L.decimals)?s:0)).toFixed()," ",null==L?void 0:L.symbol]})]})]},null!=(o=e.txid)?o:t)}))}),[E,F,null==L?void 0:L.decimals,null==L?void 0:L.symbol,U,a,B]);return(0,p.jsxs)(v.default,R(R({},r),{},{children:[(0,p.jsx)(k.default,{typography:"Subheading",textTransform:"uppercase",mb:3,color:"text-subdued",children:t}),(0,p.jsxs)(v.default,{borderRadius:"12px",borderWidth:1,borderColor:"border-subdued",padding:4,bgColor:"surface-default",children:[(0,p.jsx)(w.default,{space:2,children:H()}),n.length>D?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.default,{mt:2}),(0,p.jsx)(i.default,{rightIcon:(0,p.jsx)(b.default,{size:12,name:f?"ChevronUpMini":"ChevronDownMini",color:"icon-subdued"}),type:"plain",size:"sm",mt:2,onPress:function(){return m(!f)},children:(0,p.jsx)(k.default,{typography:"Body1Strong",fontSize:"14px",color:"text-subdued",children:y.formatMessage({id:f?"action__show_less":"action__show_all"})})})]}):null]})]}))}var L=(0,n(324665).default)(),B=[{name:P.TransactionDetailModalRoutes.HistoryDetailModal,component:function(){var e,t=(0,l.useRoute)(),n=(0,c.default)(),r=t.params,i=r.decodedTx,m=r.historyTx;(0,s.useEffect)((function(){if(m){var e=m.decodedTx,t=e.accountId,n=e.networkId,r=setTimeout((function(){d.default.serviceHistory.updateHistoryStatus({networkId:n,accountId:t,items:[m]}),d.default.serviceHistory.updateHistoryFee({networkId:n,accountId:t,tx:m})}),1500);return function(){clearTimeout(r)}}}),[m]);(0,p.jsx)(u.TxActionElementTime,{timestamp:null!=(e=null==i?void 0:i.updatedAt)?e:null==i?void 0:i.createdAt});return(0,p.jsx)(o.default,{header:n.formatMessage({id:"title__transaction_details"}),footer:null,height:"560px",scrollViewProps:{children:i?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.TxDetailView,{isHistoryDetail:!0,decodedTx:i,historyTx:m}),!1]}):(0,p.jsx)(a.default,{})}})}},{name:P.TransactionDetailModalRoutes.UtxoDetailModal,component:function(){var e=(0,l.useRoute)(),t=(0,c.default)(),n=(0,s.useState)(!1),r=(0,h.default)(n,2),i=r[0],u=r[1],f=(0,s.useState)([]),y=(0,h.default)(f,2),v=y[0],b=y[1],x=(0,s.useState)([]),w=(0,h.default)(x,2),_=w[0],k=w[1],I=e.params.decodedTx,j=(0,s.useCallback)((0,m.default)((function*(){try{u(!0);var e=yield d.default.serviceTransaction.getTransactionDetail({txId:I.txid,networkId:I.networkId});b(e.vin.map((function(e){return{txid:e.txid,address:e.addresses[0],vout:e.n,value:e.value,path:""}}))),k(e.vout.map((function(e){return{address:e.addresses[0],vout:e.n,value:e.value,path:""}})))}catch(t){throw new g.OneKeyError("Can't get transaction detail info.")}u(!1)})),[I.networkId,I.txid]);return(0,s.useEffect)((function(){var e=I.encodedTx;e&&e.inputs&&e.outputs?(b(e.inputs),k(e.outputs)):j()}),[I.encodedTx,j]),(0,p.jsx)(o.default,{header:t.formatMessage({id:"title__inputs_and_outputs"}),footer:null,height:"560px",scrollViewProps:{children:i?(0,p.jsx)(a.default,{}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(N,{title:t.formatMessage({id:"form__inputs_int__uppercase"},{0:v.length}),utxos:v,decodedTx:I,type:"inputs"}),(0,p.jsx)(N,{title:t.formatMessage({id:"form__outputs_int__uppercase"},{0:_.length}),utxos:_,decodedTx:I,style:{mt:6},type:"outputs"})]})}})}}];const F=function(){var e=(0,r.default)();return(0,p.jsx)(L.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:B.map((function(e){return(0,p.jsx)(L.Screen,{name:e.name,component:e.component},e.name)}))})}},679978:(e,t,n)=>{"use strict";n.r(t),n.d(t,{buildModalOpenAnimationOptions:()=>u,buildModalStackNavigatorOptions:()=>f});var r=n(301842),o=n.n(r),a=n(256666),i=n(880189),s=n(259596),l=n(213208);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}s.default.bezier(.4,0,.2,1),s.default.bezier(.4,0,.2,1);function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isVerticalLayout;return l.default.isNativeAndroid?{animation:"none",animationEnabled:!1}:e?d({animationEnabled:!0},i.ModalSlideFromBottomIOS):l.default.isRuntimeBrowser?{animationEnabled:!1}:l.default.isNativeIOSPad?d({animationEnabled:!0},i.ModalSlideFromBottomIOS):{}}function f(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.isVerticalLayout,a=n.navInfo,s=d({headerShown:!1},d({},i.SlideFromRightIOS));return o()(r)||(s.animationEnabled=Boolean(r)),l.default.isNativeAndroid&&(s.animation="none"),null!=a&&null!=(e=a.route)&&null!=(t=e.params)&&t._disabledAnimationOfNavigate&&(s.animationEnabled=!1),s}},197845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WalletConnectUniversalLinkPath:()=>u,WalletConnectUniversalLinkPathSchema:()=>f,handleDeepLinkUrl:()=>m});var r=n(785505),o=n.n(r),a=n(968079),i=n(807688),s=n(292147),l=(n(213208),n(396564)),c=n(953150),d=n(620278),u="wc/connect/wc",f="/wc/connect/wc",p=(0,l.memoizee)((function(e){try{if(!e)return;s.default.deepLink.info("connectToWalletConnectByDeepLink: ",e.slice(0,50));var t=i.parse(e),n=t.hostname,r=t.path,o=t.queryParams,a=t.scheme;0;var l="";if("app.onekey.so"===n&&r===u&&null!=o&&o.uri&&(l=o.uri),a!==d.ONEKEY_APP_DEEP_LINK&&a!==d.ONEKEY_APP_DEEP_LINK_NAME||(r===d.WALLET_CONNECT_DEEP_LINK_NAME&&!n||n===d.WALLET_CONNECT_DEEP_LINK_NAME&&!r)&&null!=o&&o.uri&&(l=o.uri),a!==d.WALLET_CONNECT_DEEP_LINK&&a!==d.WALLET_CONNECT_DEEP_LINK_NAME||(null!=o&&o.bridge&&null!=o&&o.key&&(l=e),null!=o&&o["relay-protocol"]&&null!=o&&o.symKey&&(l=e)),l)return s.default.deepLink.info("Create walletConnect connection by DeepLink: ",l.slice(0,50)),c.default.openConnectToDappModal({uri:l,isDeepLink:!0}),{type:"walletConnect",url:e,urlExtracted:l}}catch(f){s.default.deepLink.error("connectToWalletConnectByDeepLink ERROR: ",f)}}),{primitive:!0,max:20,maxAge:600}),m=function(e){var t;[e.url].concat((0,a.default)(null!=(t=e.argv)?t:[])).filter((function(e){return!!e&&o()(e)})).forEach((function(e){return p(e)}))}},671626:(e,t,n)=>{"use strict";n.r(t),n.d(t,{legacyLinkingPathMap:()=>a,linkingPathMap:()=>i,unlockWhiteListUrls:()=>s});var r=n(197845),o=n(668985),a={revokeDesktop:"/root/initial/tab/home/Revoke",revokeMobile:"/root/Revoke"},i={walletConnectUniversalLink:r.WalletConnectUniversalLinkPathSchema,watchingAccountAdding:o.AccountRootLandingPathSchema,onLanding:"/onlanding",tabHome:"/",tabSwap:"/swap",tabMarket:"/market",tabNFT:"/nft",tabMe:"/menu",tabDiscover:"/explorer",tabDeveloper:"/developer",revoke:"/revoke",tokenDetail:"/tokenDetail",marketDetail:"/marketDetail",pnlAtHome:"/pnl",pnlAtNFT:"/nft/pnl",bulkSender:"/bulkSender"},s=["/account/","/wc/connect","/wc/connect/wc",i.onLanding,i.revoke,a.revokeMobile,a.revokeDesktop,i.pnlAtHome,i.pnlAtNFT]},827674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I,normalRouteWhiteList:()=>b});var r=n(256666),o=n(298537),a=n.n(o),i=n(472719),s=n(807688),l=(n(213208),n(620278)),c=n(686632),d=n(526002),u=n(393072),f=n(671626),p=n(481047),m=n(238116);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=s.createURL("/");function v(e){return`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${e}/${(0,m.buildAppRootTabName)(e)}`}var b=[{screen:`${p.RootRoutes.Onboarding}/${d.EOnboardingRoutes.Welcome}`},{screen:`${p.RootRoutes.Onboarding}`},{screen:`${p.RootRoutes.OnLanding}`,path:f.linkingPathMap.onLanding},{screen:`${p.RootRoutes.OnLandingWalletConnect}`,path:f.linkingPathMap.walletConnectUniversalLink,exact:!0},{screen:`${p.RootRoutes.Account}`,path:f.linkingPathMap.watchingAccountAdding,exact:!0},{screen:v(p.TabRoutes.Home),path:f.linkingPathMap.tabHome,exact:!0},{screen:v(p.TabRoutes.NFT),path:f.linkingPathMap.tabNFT,exact:!0},{screen:v(p.TabRoutes.Market),path:f.linkingPathMap.tabMarket,exact:!0},{screen:v(p.TabRoutes.Swap),path:f.linkingPathMap.tabSwap,exact:!0},{screen:v(p.TabRoutes.Me),path:f.linkingPathMap.tabMe,exact:!0},{screen:v(p.TabRoutes.Discover),path:f.linkingPathMap.tabDiscover,exact:!0},{screen:v(p.TabRoutes.Developer),path:f.linkingPathMap.tabDeveloper,exact:!0},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.SubmitRequest}/${p.SubmitRequestModalRoutes.SubmitRequestModal}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.DappConnectionModal}/${p.DappConnectionModalRoutes.ConnectionModal}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.DappConnectionModal}/${p.DappConnectionModalRoutes.NetworkNotMatchModal}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.ManageNetwork}/${p.ManageNetworkModalRoutes.AddNetworkConfirm}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.ManageNetwork}/${p.ManageNetworkModalRoutes.SwitchNetwork}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.ManageNetwork}/${p.ManageNetworkModalRoutes.SwitchRpc}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.ManageToken}/${p.ManageTokenModalRoutes.AddToken}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Send}/${p.SendModalRoutes.SendConfirmFromDapp}`},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.Home}/${p.HomeRoutes.RevokeRedirect}`,path:f.legacyLinkingPathMap.revokeMobile,exact:!0},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.Home}/${p.HomeRoutes.RevokeRedirect2}`,path:f.legacyLinkingPathMap.revokeDesktop,exact:!0},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.Home}/${p.HomeRoutes.ScreenTokenDetail}`,path:f.linkingPathMap.tokenDetail,exact:!0},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.Home}/${p.HomeRoutes.Revoke}`,path:f.linkingPathMap.revoke,exact:!0},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.Market}/${p.HomeRoutes.MarketDetail}`,path:f.linkingPathMap.marketDetail,exact:!0},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.Home}/${p.HomeRoutes.NFTPNLScreen}`,path:f.linkingPathMap.pnlAtHome,exact:!0},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.NFT}/${p.HomeRoutes.NFTPNLScreen}`,path:f.linkingPathMap.pnlAtNFT,exact:!0},{screen:`${p.RootRoutes.Main}/${p.MainRoutes.Tab}/${p.TabRoutes.Home}/${p.HomeRoutes.BulkSender}`,path:f.linkingPathMap.bulkSender,exact:!0},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Inscribe}/${p.InscribeModalRoutes.InscribeTransferFromDapp}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Webln}/${p.WeblnModalRoutes.MakeInvoice}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Send}/${p.SendModalRoutes.WeblnSendPayment}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Webln}/${p.WeblnModalRoutes.VerifyMessage}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Send}/${p.SendModalRoutes.LNURLAuth}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Send}/${p.SendModalRoutes.LNURLPayRequest}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Send}/${p.SendModalRoutes.LNURLWithdraw}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.ScanQrcode}/${u.ScanQrcodeRoutes.RequestPermission}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Nostr}/${p.NostrModalRoutes.GetPublicKey}`},{screen:`${p.RootRoutes.Modal}/${p.ModalRoutes.Nostr}/${p.NostrModalRoutes.SignEvent}`},{screen:`${p.RootRoutes.Main}`,path:"/",exact:!0}];function x(e){return`/${e}`}var w=function e(t){var n,r=t.screenListStr,o=t.path,a=t.exact,i=t.fullPath,s=r.split("/").filter(Boolean),l=o;!l&&r&&(l=x(r));var c=(l||"").split("/").filter(Boolean);if(!s.length||!c.length&&!a)return{};var d=s[0],u=c[0]||d,f=1===s.length,p=Boolean(f&&a);return(n={})[d]={path:p?i:`/${u}`,exact:p,screens:e({screenListStr:s.slice(1).join("/"),path:c.slice(1).join("/"),fullPath:i,exact:a})},n},_=function(e){return e.reduce((function(e,t){return a()(e,w({screenListStr:t.screen,path:t.path,exact:t.exact,fullPath:t.path}))}),{})};var k=function(){var e=[].concat(b);return e.forEach((function(e){e.path=e.path||x(e.screen)})),e}();const I=function(){var e=_(b);return{enabled:!0,prefixes:[y,l.ONEKEY_APP_DEEP_LINK,l.WALLET_CONNECT_DEEP_LINK],getPathFromState:function(e,t){(0,c.getExtensionIndexHtml)();var n="/",r=(0,i.getPathFromState)(e,t),o=r.split("?")[0]||"";return k.some((function(e){return o&&e.path===o}))&&(n=r),n},config:{initialRouteName:p.RootRoutes.Main,screens:g(g({},e),{},{NotFound:"*"})}}}},322987:(e,t,n)=>{"use strict";n.r(t),n.d(t,{navigationShortcuts:()=>y,useNavigationActions:()=>v});var r=n(539144),o=n(202784),a=n(472719),i=n(942013),s=n(945821),l=n(859071),c=n(493877),d=n(379573),u=n(481047),f=n(238116),p=d.default.actions,m=p.updateDesktopWalletSelectorVisible,h=p.updateAccountSelectorMode;function g(e){var t=(0,c.getAppNavigation)();null==t||t.navigate(u.RootRoutes.Main,{screen:u.MainRoutes.Tab,params:{screen:e,params:{screen:(0,f.buildAppRootTabName)(e)}}})}var y={navigateToAppRootTab:g,navigateToHome:function(){g(u.TabRoutes.Home)},navigateToDiscover:function(){g(u.TabRoutes.Discover)},navigateToMarket:function(){g(u.TabRoutes.Market)},navigateToSwap:function(){g(u.TabRoutes.Swap)},navigateToDeveloper:function(){g(u.TabRoutes.Developer)},navigateToNFT:function(){g(u.TabRoutes.NFT)},navigateToMe:function(){g(u.TabRoutes.Me)},navigateToTokenDetail:function(e){var t=e.accountId,n=e.networkId,r=e.tokenId,o=e.walletId,a=(0,c.getAppNavigation)();null==a||a.navigate(u.RootRoutes.Main,{screen:u.MainRoutes.Tab,params:{screen:u.TabRoutes.Home,params:{screen:u.HomeRoutes.ScreenTokenDetail,params:{walletId:o,accountId:t,networkId:n,tokenAddress:r}}}})},navigateToMarketDetail:function(e){var t=e.marketTokenId,n=(0,c.getAppNavigation)();null==n||n.navigate(u.RootRoutes.Main,{screen:u.MainRoutes.Tab,params:{screen:u.TabRoutes.Market,params:{screen:u.HomeRoutes.MarketDetail,params:{marketTokenId:t}}}})}};function v(){var e=s.default.dispatch,t=(0,l.useNavigation)(),n=(0,r.default)(),f=(0,l.useAppSelector)((function(e){return e.accountSelector.isDesktopWalletSelectorVisible})),p=(0,o.useCallback)((function(n){var r=n.mode;e(h(r||d.EAccountSelectorMode.Wallet)),t.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.ManageNetwork,params:{screen:u.ManageNetworkModalRoutes.NetworkAccountSelector}})}),[e,t]),g=(0,o.useCallback)((function(n){var r=n.mode,o=n.networkImpl,a=n.allowSelectAllNetworks;e(h(r||d.EAccountSelectorMode.Wallet)),t.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.ManageNetwork,params:{screen:u.ManageNetworkModalRoutes.NetworkSelector,params:{networkImpl:o,allowSelectAllNetworks:a}}})}),[e,t]),v=(0,o.useCallback)((function(){t.dispatch(a.DrawerActions.openDrawer())}),[t]),b=(0,o.useCallback)((function(){t.dispatch(a.DrawerActions.closeDrawer())}),[t]),x=(0,o.useCallback)((function(){n?b():e(m(!1))}),[b,e,n]),w=(0,o.useCallback)((function(){n?v():e(m(!0))}),[e,n,v]),_=(0,o.useCallback)((function(){setTimeout((function(){n?null==t||null==t.toggleDrawer||t.toggleDrawer():e(m(!f))}))}),[e,f,n,t]),k=(0,o.useCallback)((function(){setTimeout((function(){t.dispatch(a.CommonActions.reset({index:1,routes:[{name:u.RootRoutes.Main}]}))}))}),[t]),I=(0,o.useCallback)((function(){if((0,c.getAppNavigation)().getRootState().routes.find((function(e){return"root"===e.name})))return t.navigate(u.TabRoutes.Home),void t.dispatch(a.TabActions.jumpTo(u.TabRoutes.Home,{}));k()}),[t,k]),j=(0,o.useCallback)((function(){t.dispatch(a.CommonActions.reset({index:1,routes:[{name:u.RootRoutes.Onboarding}]}))}),[t]),O=(0,o.useCallback)((function(e){var n=e.accountId,r=e.networkId;[i.OnekeyNetwork.btc,i.OnekeyNetwork.doge,i.OnekeyNetwork.ltc,i.OnekeyNetwork.bch,i.OnekeyNetwork.lightning,i.OnekeyNetwork.tlightning,i.OnekeyNetwork.tbtc].includes(r)?t.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Send,params:{screen:u.SendModalRoutes.PreSendAddress,params:{accountId:n,networkId:r,from:"",to:"",amount:"",token:""}}}):t.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.Send,params:{screen:u.SendModalRoutes.PreSendToken,params:{accountId:n,networkId:r,from:"",to:"",amount:""}}})}),[t]);return(0,o.useMemo)((function(){return{navigationShortcuts:y,closeWalletSelector:x,openWalletSelector:w,toggleWalletSelector:_,resetToRoot:k,resetToWelcome:j,openRootHome:I,openAccountSelector:p,openNetworkSelector:g,sendToken:O,openDrawer:v,closeDrawer:b}}),[p,g,x,w,_,k,j,I,O,v,b])}},481047:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BackupWalletModalRoutes:()=>v,ClearCacheModalRoutes:()=>P,CoinControlModalRoutes:()=>C,CollectiblesModalRoutes:()=>g,CreateAccountModalRoutes:()=>d,CreateWalletModalRoutes:()=>p,DappConnectionModalRoutes:()=>S,FiatPayModalRoutes:()=>y,GalleryRoutes:()=>s,HardwareUpdateModalRoutes:()=>_,HomeRoutes:()=>i,ImportBackupPasswordModalRoutes:()=>k,InscribeModalRoutes:()=>M,InscriptionControlModalRoutes:()=>R,MainRoutes:()=>o,ManageNetworkModalRoutes:()=>f,ManageTokenModalRoutes:()=>T,ManagerAccountModalRoutes:()=>I,ManagerWalletModalRoutes:()=>j,ModalRoutes:()=>l,NostrModalRoutes:()=>E,OnekeyHardwareModalRoutes:()=>b,OnekeyLiteChangePinModalRoutes:()=>x,OnekeyLiteResetModalRoutes:()=>w,ReceiveTokenModalRoutes:()=>c,RecoverAccountModalRoutes:()=>u,RootRoutes:()=>r,SendModalRoutes:()=>D.SendModalRoutes,SubmitRequestModalRoutes:()=>h,TabRoutes:()=>a,TransactionDetailModalRoutes:()=>m,UpdateFeatureModalRoutes:()=>O,WeblnModalRoutes:()=>A});var r,o,a,i,s,l,c,d,u,f,p,m,h,g,y,v,b,x,w,_,k,I,j,O,T,S,P,C,M,A,E,R,D=n(150796);!function(e){e.Main="main",e.Modal="modal",e.Onboarding="onboarding",e.Account="account",e.OnLanding="onlanding",e.OnLandingWalletConnect="onlanding_wallet_connect",e.Gallery="gallery"}(r||(r={})),function(e){e.Tab="tab"}(o||(o={})),function(e){e.Home="home",e.Swap="swap",e.Market="market",e.NFT="NFT",e.Discover="discover",e.Me="me",e.Developer="developer"}(a||(a={})),function(e){e.ScreenTokenDetail="TokenDetailScreen",e.FullTokenListScreen="FullTokenListScreen",e.Revoke="Revoke",e.RevokeRedirect="RevokeRedirect",e.RevokeRedirect2="RevokeRedirect2",e.OverviewDefiListScreen="OverviewDefiListScreen",e.BulkSender="BulkSender",e.NFTPNLScreen="NFTPNLScreen",e.ScreenOnekeyLiteDetail="OnekeyLiteDetailScreen",e.Protected="Protected",e.WalletSwitch="WalletSwitch",e.VolumeHaptic="VolumeHaptic",e.CloudBackup="CloudBackup",e.CloudBackupPreviousBackups="CloudBackupPreviousBackups",e.CloudBackupDetails="CloudBackupDetails",e.PushNotification="PushNotification",e.PushNotificationManagePriceAlert="PushNotificationManagePriceAlert",e.PushNotificationManageAccountDynamic="PushNotificationManageAccountDynamic",e.ClearCache="ClearCache",e.AdvancedSettings="AdvancedSettings",e.HardwareBridgeSettings="HardwareBridgeSettings",e.ExploreScreen="ExploreScreen",e.DAppListScreen="DAppListScreen",e.SwapHistory="SwapHistory",e.MarketDetail="MarketDetail"}(i||(i={})),function(e){e.Components="components",e.ComponentApproval="component/approval",e.ComponentSearchBar="component/searchBar",e.ComponentTextarea="component/textarea",e.ComponentAddress="component/address",e.ComponentInput="component/input",e.ComponentCard="component/card",e.ComponentTypography="component/typography",e.ComponentNFTImage="component/nftimage",e.ComponentToken="component/token",e.ComponentTheme="component/theme",e.ComponentIcon="component/icon",e.ComponentBadge="component/badge",e.ComponentMenu="component/menu",e.ComponentList="component/List",e.ComponentAlert="component/alert",e.ComponentButton="component/button",e.ComponentIconButton="component/icon-button",e.ComponentSelect="component/select",e.ComponentShadow="component/shadow",e.ComponentEmpty="component/empty",e.ComponentToast="component/toast",e.ComponentAccount="component/account",e.ComponentWalletSelector="component/walletSelector",e.ComponentAccountSelector="component/accountSelector",e.ComponentCheckbox="component/checkbox",e.ComponentSpinner="component/spinner",e.ComponentModal="component/modal",e.ComponentRadio="component/radio",e.ComponentRadioBox="component/radio-box",e.ComponentSwitch="component/switch",e.ComponentForm="component/form",e.ComponentQRCode="component/qrcode",e.ComponentMarkdown="component/markdown",e.ComponentDialog="component/dialog",e.ComponentDappModals="component/dappModals",e.ComponentPageActions="component/page-actions",e.ComponentSortableList="component/sortable-list",e.ComponentTabs="component/tabs",e.ComponentSegmentedControl="component/segmented-control",e.ComponentReduxMessage="component/redux-message",e.ComponentLogger="component/logger",e.ComponentFirebase="component/firebase",e.ComponentWebview="component/webview",e.ComponentPinCode="component/pincode",e.ComponentRestfulRequest="component/restful-request",e.ComponentImageViewer="component/imageViewer",e.ComponentEmojiList="component/EmojiList",e.ComponentKeyboard="component/Keyboard",e.ComponentContentBox="component/ContentBox",e.ComponentAppUpdate="component/AppUpdate",e.ComponentSkeleton="component/Skeleton",e.ComponentPopover="component/Popover",e.ComponentPriceChart="component/PriceChart",e.ComponentTypeWriter="component/TypeWriter",e.ComponentHomescreen="component/homescreen",e.ComponentToggleButtonGroup="component/ToggleButtonGroup",e.ComponentCollapse="component/Collapse",e.ComponentDotMap="component/DotMap",e.ComponentBottomSheetModal="component/BottomSheetModal",e.ComponentNavHeaderGallery="component/NavHeader",e.ComponentMnemonicCardGallery="component/MnemonicCard",e.ComponentSlider="component/Slider",e.ComponentInAppNotification="component/InAppNotification",e.ComponentDeepFresh="component/deepRefresh"}(s||(s={})),function(e){e.CreateAccount="CreateAccount",e.RecoverAccount="RecoverAccount",e.CreateWallet="CreateWallet",e.BackupWallet="BackupWallet",e.ManagerWallet="ManagerWallet",e.ManagerAccount="ManagerAccount",e.WalletViewMnemonics="WalletViewMnemonics",e.ManageConnectedSites="ManageConnectedSites",e.Monitor="Monitor",e.Send="Send",e.Receive="Receive",e.FiatPay="FiatPay",e.SubmitRequest="SubmitRequest",e.HistoryRequest="HistoryRequest",e.TransactionDetail="TransactionDetail",e.OnekeyLiteReset="OnekeyLiteReset",e.OnekeyLiteChangePinInputPin="OnekeyLiteChangePinInputPin",e.DappConnectionModal="DappConnectionModal",e.Password="Password",e.ManageToken="ManageToken",e.Collectibles="Collectibles",e.EnableLocalAuthentication="EnableLocalAuthentication",e.ManageNetwork="ManageNetwork",e.OnekeyHardware="OnekeyHardware",e.HardwareUpdate="HardwareUpdate",e.Discover="Discover",e.Swap="Swap",e.ScanQrcode="ScanQrcode",e.UpdateFeature="UpdateFeature",e.AddressBook="AddressBook",e.ImportBackupPassword="ImportBackupPassword",e.Staking="Staking",e.PushNotification="PushNotification",e.Webview="Webview",e.Revoke="Revoke",e.NFTMarket="NFTMarket",e.Overview="Overview",e.CurrencySelect="CurrencySelect",e.BulkSender="BulkSender",e.Market="Market",e.ClearCache="ClearCache",e.CoinControl="CoinControl",e.GasPanel="GasPanel",e.Inscribe="Inscribe",e.Webln="Webln",e.Nostr="Nostr",e.InscriptionControl="InscriptionControl"}(l||(l={})),function(e){e.ReceiveToken="ReceiveToken",e.CreateInvoice="CreateInvoice",e.ReceiveInvoice="ReceiveInvoice"}(c||(c={})),function(e){e.CreateAccountForm="CreateAccountForm",e.CreateAccountAuthentication="CreateAccountAuthentication",e.RecoverySelectChainList="RecoverySelectChainList",e.RecoverAccountsList="RecoverAccountList",e.RecoverAccountsAdvanced="RecoverAccountsAdvanced",e.RecoverAccountsConfirm="RecoverAccountsConfirm",e.RecoverAccountsConfirmAuthentication="RecoverAccountsConfirmAuthentication",e.BulkCopyAddresses="BulkCopyAddresses",e.FetchAddressModal="FetchAddressModal",e.ExportAddresses="ExportAddresses",e.BitcoinUsedAddress="BitcoinUsedAddress"}(d||(d={})),function(e){e.RecoverAccountsAdvanced="RecoverAccountsAdvanced",e.BulkCopyAddresses="BulkCopyAddresses",e.BitcoinUsedAddress="BitcoinUsedAddress"}(u||(u={})),function(e){e.NetworkAccountSelector="NetworkAccountSelector",e.NetworkSelector="NetworkSelector",e.Listing="Listing",e.AddNetwork="AddNetwork",e.CustomNetwork="CustomNetwork",e.PresetNetwork="PresetNetwork",e.AddNetworkConfirm="AddNetworkConfirm",e.SwitchNetwork="SwitchNetwork",e.RPCNode="RPCNode",e.QuickAdd="QuickAdd",e.Sort="Sort",e.SwitchRpc="SwitchRpc",e.AllNetworksNetworkSelector="AllNetworksNetworkSelector",e.AllNetworksAccountsDetail="AllNetworksAccountsDetail",e.AllNetworksSupportedNetworks="AllNetworksSupportedNetworks"}(f||(f={})),function(e){e.ConnectHardwareModal="ConnectHardwareModal",e.AppWalletDoneModal="AppWalletDoneModal",e.SetupSuccessModal="SetupSuccessModal",e.SetupHardwareModal="SetupHardwareModal",e.SetupNewDeviceModal="SetupNewDeviceModal",e.DeviceStatusCheckModal="DeviceStatusCheckModal",e.RestoreHardwareWalletModal="RestoreHardwareWalletModal",e.RestoreHardwareWalletDescriptionModal="RestoreHardwareWalletDescriptionModal",e.CreateWatchedAccount="CreateWatchedAccount",e.CreateImportedAccount="CreateImportedAccount",e.OnekeyLiteRestorePinCodeVerifyModal="OnekeyLiteRestorePinCodeVerifyModal",e.OnekeyLiteRestoreModal="OnekeyLiteRestoreModal",e.OnekeyLiteRestoreDoneModal="OnekeyLiteRestoreDoneModal",e.OnekeyLiteBackupPinCodeVerifyModal="OnekeyLiteBackupPinCodeVerifyModal",e.OnekeyLiteBackupModal="OnekeyLiteBackupModal",e.AddExistingWalletModal="AddExistingWalletModal",e.AddImportedOrWatchingAccountModal="AddImportedOrWatchingAccountModal",e.AddImportedAccountDoneModal="AddImportedAccountDoneModal",e.AttentionsModal="AttentionsModal",e.MnemonicModal="MnemonicModal",e.NewWalletModal="NewWalletModal",e.WalletConnectQrcodeModal="WalletConnectQrcodeModal"}(p||(p={})),function(e){e.HistoryDetailModal="HistoryDetailModal",e.UtxoDetailModal="UtxoDetailModal"}(m||(m={})),function(e){e.SubmitRequestModal="SubmitRequestModal"}(h||(h={})),function(e){e.CollectionModal="CollectionModal",e.NFTDetailModal="NFTDetailModal"}(g||(g={})),function(e){e.SupportTokenListModal="SupportTokenList"}(y||(y={})),function(e){e.BackupWalletOptionsModal="BackupWalletOptionsModal",e.BackupWalletManualModal="BackupWalletManualModal",e.BackupWalletLiteModal="BackupWalletLiteModal",e.BackupWalletAttentionsModal="BackupWalletAttentionsModal",e.BackupWalletMnemonicModal="BackupWalletMnemonicModal"}(v||(v={})),function(e){e.OnekeyHardwareDetailsModal="OnekeyHardwareDetailsModal",e.OnekeyHardwareVerifyModal="OnekeyHardwareVerifyModal",e.OnekeyHardwareConnectModal="OnekeyHardwareConnectModal",e.OnekeyHardwarePinCodeModal="OnekeyHardwarePinCodeModal",e.OnekeyHardwareConfirmModal="OnekeyHardwareConfirmModal",e.OnekeyDeviceWalletNameModal="OnekeyDeviceWalletNameModal",e.OnekeyHardwareDeviceNameModal="OnekeyHardwareDeviceNameModal",e.OnekeyHardwareHomeScreenModal="OnekeyHardwareHomeScreenModal"}(b||(b={})),function(e){e.OnekeyLiteChangePinInputPinModal="OnekeyLiteChangePinInputPinModal",e.OnekeyLiteChangePinSetModal="OnekeyLiteChangePinSetModal",e.OnekeyLiteChangePinRepeatModal="OnekeyLiteChangePinRepeatModal",e.OnekeyLiteChangePinModal="OnekeyLiteChangePinModal"}(x||(x={})),function(e){e.OnekeyLiteResetModal="OnekeyLiteResetModal"}(w||(w={})),function(e){e.HardwareUpdateInfoModel="HardwareUpdateInfoModel",e.HardwareUpdateWarningModal="HardwareUpdateWarningModal",e.HardwareUpdateWarningPowerModal="HardwareUpdateWarningPowerModal",e.HardwareUpdatingModal="HardwareUpdatingModal",e.HardwareUpdatingBootloaderModal="HardwareUpdatingBootloaderModal",e.HardwareUpdateResourceModal="HardwareUpdateResourceModal"}(_||(_={})),function(e){e.ImportBackupPassword="ImportBackupPassword"}(k||(k={})),function(e){e.ManagerAccountModal="ManagerAccountModal",e.ManagerAccountExportPrivateModal="ManagerAccountExportPrivateModal",e.ManagerAccountExportPublicModal="ManagerAccountExportPublicModal"}(I||(I={})),function(e){e.ManagerWalletModal="ManagerWalletModal",e.ManagerWalletAuthorityVerifyModal="ManagerWalletAuthorityVerifyModal",e.ManagerWalletModifyNameModal="ManagerWalletModifyNameModal",e.ManagerWalletModifyEmojiModal="ManagerWalletModifyEmojiModal"}(j||(j={})),function(e){e.UpdateFeatureModal="UpdateFeatureModal",e.ForcedUpdateModal="ForcedUpdateModal"}(O||(O={})),function(e){e.Listing="ListTokensModal",e.AddToken="AddToken",e.ActivateToken="ActivateToken",e.ViewToken="ViewToken",e.CustomToken="CustomToken",e.VerifiedToken="VerifiedToken",e.PriceAlertList="PriceAlertList",e.PriceAlertAdd="PriceAlertAdd",e.TokenRiskDetail="TokenRiskDetail"}(T||(T={})),function(e){e.ConnectionModal="ConnectionModal",e.NetworkNotMatchModal="NetworkNotMatchModal"}(S||(S={})),function(e){e.ClearCacheModal="ClearCacheModal",e.CopyBrowserUrlModal="CopyBrowserUrlModal"}(P||(P={})),function(e){e.CoinControlModal="CoinControlModal"}(C||(C={})),function(e){e.BRC20Amount="BRC20Amount",e.InscribeModal="InscribeModal",e.ReceiveAddress="ReceiveAddress",e.CreateOrder="CreateOrder",e.OrderList="OrderList",e.OrderDetail="OrderDetail",e.InscribeTransferFromDapp="InscribeTransferFromDapp"}(M||(M={})),function(e){e.MakeInvoice="MakeInvoice",e.VerifyMessage="VerifyMessage",e.WeblnAuthentication="WeblnAuthentication"}(A||(A={})),function(e){e.GetPublicKey="GetPublicKey",e.SignEvent="SignEvent",e.NostrAuthentication="NostrAuthentication",e.ExportPubkey="ExportPubkey"}(E||(E={})),function(e){e.InscriptionControlModal="InscriptionControlModal"}(R||(R={}))},238116:(e,t,n)=>{"use strict";function r(e){return`tab-${e}`}n.r(t),n.d(t,{buildAppRootTabName:()=>r})},380845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{appDispatch:()=>Z,appSelector:()=>X,default:()=>Y,makeStore:()=>W,persistor:()=>G});var r=n(161049),o=n.n(r),a=(n(609850),n(785505),n(634795)),i=n(118717),s=n(909863),l=n(934923),c=n(402814),d=n(35116),u=n(447325),f=n(292147),p=n(213208),m=n(465146);const h=[];var g=n(586685),y=n(625316),v=n(984495),b=n(906651),x=n(195212),w=n(520192),_=n(316597),k=n(62893),I=n(920458),j=(0,s.createSlice)({name:"HttpServer",initialState:{enabled:!1,address:""},reducers:{setEnabled:function(e,t){e.enabled=t.payload}}});j.actions.setEnabled;const O=j.reducer;var T=n(37331),S=n(393093),P=n(918260),C=n(266985),M=n(379573),A=n(480601),E=n(932330),R=n(821919),D=n(179498),N=n(830631),L=n(177510),B=n(436873),F=n(90184);var U=(0,i.combineReducers)({autoUpdate:g.default,cloudBackup:y.default,contacts:v.default,dapp:b.default,data:x.default,discover:w.default,fiatMoney:_.default,general:k.default,hardware:I.default,market:S.default,nft:P.default,accountSelector:M.default.reducer,refresher:A.default,runtime:E.default,settings:R.default,staking:D.default,status:N.default,swap:L.default,swapTransactions:B.default,tokens:F.default,overview:C.default,httpServer:O,limitOrder:T.default});var H={key:"ONEKEY_WALLET",version:2,storage:p.default.isExtensionUi?m.mockStorage:m.default,whitelist:["settings","status","dapp","general","discover","tokens","contacts","swapTransactions","fiatMoney","cloudBackup","staking","webTabs","overview"],throttle:0};function W(){var e=(0,l.persistReducer)(H,function(e){var t={state:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case c.REPLACE_WHOLE_STATE:return t.state=r.payload,t.state;case"LOGOUT":return e(void 0,r);default:return e(n,r)}}}(U)),t=(0,s.configureStore)({reducer:e,middleware:function(e){return e({serializableCheck:{ignoredActions:[l.FLUSH,l.REHYDRATE,l.PAUSE,l.PERSIST,l.PURGE,l.REGISTER],warnAfter:1e3},immutableCheck:{warnAfter:1e3}}).concat(h)}});return{store:t,persistor:(0,l.persistStore)(t,null,(function(){f.default.common.info("receive: store persisted"),p.default.isExtensionUi?u.appUIEventBus.emit(u.AppUIEventBusNames.StoreInitedFromPersistor):(n.g.$appIsReduxReady=!0,d.appEventBus.emit(d.AppEventBusNames.StoreInitedFromPersistor))}))}}var V,z=W(),K=z.store,G=z.persistor,$=null;function Z(e){return q.apply(this,arguments)}function q(){return(q=(0,a.default)((function*(e){if(!(V=V||n.g.$backgroundApiProxy))throw new Error("Please init backgroundApiProxy first");try{delete n.g.$backgroundApiProxy}catch(r){f.default.common.error(r)}if($||($=V.dispatch.bind(V)),o()(e)){var t=e;yield t($),console.error("dispatch async action is NOT allowed, please use backgroundApi instead",e)}else $&&$(e)}))).apply(this,arguments)}function X(e){return e(null==K?void 0:K.getState())}const Y=K},849423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{atom:()=>a.atom,createJotaiContext:()=>d});var r=n(256666),o=n(202784),a=n(372355),i=n(492120),s=n(552322);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){var e=(0,o.createContext)(null);function t(t){var n=t.children,r=(0,o.useMemo)((function(){return(0,a.createStore)()}),[]);return(0,s.jsx)(e.Provider,{value:r,children:n})}return{Context:e,Provider:t,withProvider:function(e){return function(n){return(0,s.jsx)(t,{children:(0,s.jsx)(e,c({},n))})}},useContextAtom:function(t){var n=(0,o.useContext)(e);if(!n)throw new Error("useContextAtom ERROR: store not initialized");return(0,i.useAtom)(t,{store:n})}}}},633416:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCurrentTabId:()=>x,homeResettingFlags:()=>h,homeTab:()=>m,incomingUrlObs:()=>v,isTabLimitReached:()=>g,webTabsActions:()=>w,webTabsObs:()=>y});var r=n(669083),o=n(968079),a=n(256666),i=n(608733),s=n(348550),l=n(749195),c=n(327377),d=(n(213208),n(933790)),u=n(955005);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,s.configureObservablePersistence)({persistLocal:u.ObservablePersistLocalStorage});var m={id:"home",url:"about:blank",title:"OneKey",isCurrent:!0,canGoBack:!1,loading:!1},h={},g=function(e){return false},y=(0,i.observable)([p({},m)]),v=(0,i.observable)(""),b="",x=function(){var e;b||(b=(null==(e=y.peek().find((function(e){return e.isCurrent})))?void 0:e.id)||"");return b};(0,s.persistObservable)(y,{local:"webTabs"});var w={addWebTab:function(e){var t=(0,o.default)(y.get());if(g(t))r.default.show({title:(0,c.formatMessage)({id:"msg__tab_has_reached_the_maximum_limit_of_str"},{0:99})},{type:"error"});else{if(e.id&&e.id!==m.id||(e.id=(0,l.nanoid)()),e.isCurrent){for(var n of t)n.isCurrent=!1;b=e.id}e.timestamp=Date.now(),t.push(e),y.set(t)}},addBlankWebTab:function(){w.addWebTab(p({},m))},setWebTabData:function(e){var t=(0,o.default)(y.get()),n=-1,r=p({},t.find((function(t,r){return t.id===e.id&&(n=r,!0)})));r&&(Object.keys(e).forEach((function(t){var n=e[t];if(void 0!==n&&n!==r[t]){if("title"===t&&!n)return;if(r[t]=n,"url"===t&&(r.timestamp=Date.now(),n===m.url&&e.id&&(h[e.id]=r.timestamp),!e.favicon))try{var o;r.favicon=`${new URL(null!=(o=r.url)?o:"").origin}/favicon.ico`}catch(a){}}})),r.url===m.url&&(r.title=m.title),t[n]=r,y.set(t))},closeWebTab:function(e){delete d.webviewRefs[e];var t=(0,o.default)(y.get()),r=-1;(t.some((function(n,o){if(n.id===e){if(n.isCurrent){var a=t[o-1];a.isCurrent=!0,b=a.id}return r=o,!0}return!1})),t.splice(r,1),1===t.length)&&(n(217030).showTabGridAnim.value=0);y.set(t)},closeAllWebTabs:function(){for(var e of Object.getOwnPropertyNames(d.webviewRefs))delete d.webviewRefs[e];y.set([p({},m)]),b=m.id,n(217030).showTabGridAnim.value=0},setCurrentWebTab:function(e){var t=x();if(t!==e){(0,d.pauseDappInteraction)(t);for(var n=(0,o.default)(y.get()),r=!1,a=!1,i=0;i<n.length;i++){var s=n[i];if(s.isCurrent?(n[i]=p(p({},s),{},{isCurrent:!1}),r=!0):s.id===e&&(n[i]=p(p({},s),{},{isCurrent:!0}),a=!0),r&&a)break}y.set(n),(0,d.resumeDappInteraction)(e),b=e}},setIncomingUrl:function(e){v.set(e)}}},586685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{autoUpdaterSlice:()=>o,available:()=>c,checking:()=>l,default:()=>y,disable:()=>s,downloading:()=>u,enable:()=>i,error:()=>m,notAvailable:()=>d,ready:()=>f,setLastCheckTimestamp:()=>g,setUpdateWindow:()=>h,skip:()=>p});var r={enabled:!1,state:"not-available",window:"maximized",progress:{},lastCheckTimestamp:void 0},o=(0,n(909863).createSlice)({name:"autoUpdater",initialState:r,reducers:{enable:function(e){e.enabled=!0},disable:function(e){e.enabled=!1},checking:function(e){e.state="checking"},available:function(e,t){e.state="available",t.payload&&(e.latest=t.payload)},notAvailable:function(e,t){e.state="not-available",t.payload&&(e.latest=t.payload)},downloading:function(e,t){e.state="downloading",e.progress=t.payload},ready:function(e,t){e.state="ready",e.latest=t.payload},skip:function(e,t){e.state="not-available",e.skip=t.payload},error:function(e){"checking"===e.state&&(e.state="not-available"),"downloading"===e.state&&(e.state="available")},setUpdateWindow:function(e,t){e.window=t.payload},setLastCheckTimestamp:function(e,t){e.lastCheckTimestamp=t.payload}}}),a=o.actions,i=a.enable,s=a.disable,l=a.checking,c=a.available,d=a.notAvailable,u=a.downloading,f=a.ready,p=a.skip,m=a.error,h=a.setUpdateWindow,g=a.setLastCheckTimestamp;const y=o.reducer},625316:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f,incrBackupRequests:()=>u,setDisabled:()=>d,setEnabled:()=>c,setInProgress:()=>s,setIsAvailable:()=>i,setNotInProgress:()=>l,slice:()=>o});var r={isAvailable:!1,inProgress:!1,enabled:!1,backupRequests:1,lastBackup:void 0},o=(0,n(909863).createSlice)({name:"cloudBackup",initialState:r,reducers:{setIsAvailable:function(e,t){e.isAvailable=t.payload},setInProgress:function(e){e.inProgress||(e.backupRequests=0,e.inProgress=!0)},setNotInProgress:function(e){e.inProgress&&(e.lastBackup=Date.now(),e.inProgress=!1)},setEnabled:function(e){e.enabled=!0},setDisabled:function(e){e.enabled=!1,e.backupRequests=0,e.lastBackup=void 0},incrBackupRequests:function(e){e.backupRequests+=1}}}),a=o.actions,i=a.setIsAvailable,s=a.setInProgress,l=a.setNotInProgress,c=a.setEnabled,d=a.setDisabled,u=a.incrBackupRequests;const f=o.reducer},984495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{contactsSlice:()=>i,create:()=>l,default:()=>u,remove:()=>d,update:()=>c});var r=n(256666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=(0,n(909863).createSlice)({name:"contacts",initialState:{uuid:0,contacts:{}},reducers:{create:function(e,t){var n=e.uuid+1,r=t.payload,o=Date.now();e.uuid=n,e.contacts[n]=a({id:n,createAt:o},r)},update:function(e,t){var n=t.payload.uuid,r=t.payload.contact,o=e.contacts[n];o&&(e.contacts[n]=a(a({},o),r))},remove:function(e,t){var n=t.payload.uuid;delete e.contacts[n]}}}),s=i.actions,l=s.create,c=s.update,d=s.remove;const u=i.reducer},906651:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dappClearSiteConnection:()=>u,dappRemoveSiteConnections:()=>f,dappSaveSiteConnection:()=>d,dappSlicer:()=>s,dappUpdateSiteConnectionAddress:()=>c,default:()=>p});var r=n(256666),o=n(968079);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,n(909863).createSlice)({name:"dapp",initialState:{connections:[]},reducers:{dappClearSiteConnection:function(e){e.connections=[]},dappRemoveSiteConnections:function(e,t){var n=(0,o.default)(e.connections),r=t.payload;n=n.filter((function(e){return!(r.origin===e.site.origin&&r.networkImpl===e.networkImpl)})),e.connections=n},dappSaveSiteConnection:function(e,t){var n=t.payload,r=(0,o.default)(e.connections),a=r.find((function(e){return e.site.origin===n.site.origin&&e.networkImpl===n.networkImpl&&e.address===n.address}));a||(a=i(i({},n),{},{created:Date.now(),lastTime:Date.now()}),r.push(a)),a.lastTime=Date.now(),e.connections=r},dappUpdateSiteConnectionAddress:function(e,t){var n=t.payload,r=(0,o.default)(e.connections),a=r.filter((function(e){return e.site.origin===n.site.origin&&e.networkImpl===n.networkImpl}));for(var i of a)i.address=n.address,i.lastTime=Date.now();a.length&&(e.connections=r)}}}),l=s.actions,c=l.dappUpdateSiteConnectionAddress,d=l.dappSaveSiteConnection,u=l.dappClearSiteConnection,f=l.dappRemoveSiteConnections;const p=s.reducer},195212:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearTranslations:()=>g,cursorMapSet:()=>u,dataSlice:()=>a,default:()=>v,lock:()=>f,passwordSet:()=>l,release:()=>s,setAppRenderReady:()=>d,setFeePresetIndex:()=>m,setHandOperatedLock:()=>p,setHomePageCheckBoarding:()=>c,setIsPasswordLoadedInVault:()=>y,setTools:()=>h});var r=n(909863),o=n(221899),a=(n(213208),(0,r.createSlice)({name:"data",initialState:{isUnlock:!1,isPasswordSet:!1,homePageCheckBoarding:!1,isAppRenderReady:!1,isPasswordLoadedInVault:!1,cursorMap:{},tools:[],translations:{}},reducers:{setIsPasswordLoadedInVault:function(e,t){e.isPasswordLoadedInVault=t.payload},setAppRenderReady:function(e){(0,o.stopTrace)("js_render"),e.isAppRenderReady=!0},release:function(e){e.isUnlock=!0},lock:function(e){e.isUnlock=!1},passwordSet:function(e){e.isPasswordSet=!0},cursorMapSet:function(e,t){e.cursorMap[t.payload.key]=t.payload.cursor},setHandOperatedLock:function(e,t){e.handOperatedLock=t.payload},setHomePageCheckBoarding:function(e){e.homePageCheckBoarding=!0},setFeePresetIndex:function(e,t){e.feePresetIndexMap||(e.feePresetIndexMap={}),e.feePresetIndexMap[t.payload.networkId]=t.payload.index},setTools:function(e,t){e.tools=t.payload},clearTranslations:function(e){e.translations=void 0}}})),i=a.actions,s=i.release,l=i.passwordSet,c=i.setHomePageCheckBoarding,d=i.setAppRenderReady,u=i.cursorMapSet,f=i.lock,p=i.setHandOperatedLock,m=i.setFeePresetIndex,h=i.setTools,g=i.clearTranslations,y=i.setIsPasswordLoadedInVault;const v=a.reducer},520192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addBookmark:()=>h,addUserBrowserHistory:()=>f,cleanOldState:()=>u,clearHistory:()=>l,default:()=>w,discoverSlice:()=>i,removeBookmark:()=>g,removeUserBrowserHistory:()=>m,resetBookmarks:()=>v,setEnableIOSDappSearch:()=>d,setFavoritesMigrated:()=>b,setNetworkPrice:()=>x,setShowBookmark:()=>c,updateBookmark:()=>y,updateUserBrowserHistory:()=>p});var r=n(256666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=(0,n(909863).createSlice)({name:"discover",initialState:{history:{},firstRemindDAPP:!0,dappHistory:{}},reducers:{clearHistory:function(e){e.dappHistory={},e.userBrowserHistories=[]},addBookmark:function(e,t){e.bookmarks||(e.bookmarks=[]),e.bookmarks.map((function(e){return e.url})).includes(t.payload.url)||(e.bookmarks=[t.payload].concat(e.bookmarks))},updateBookmark:function(e,t){e.bookmarks||(e.bookmarks=[]);var n=e.bookmarks.find((function(e){return e.id===t.payload.id}));if(n){var r=t.payload,o=r.url,a=r.title,i=r.icon;o&&(n.url=o),a&&(n.title=a),i&&(n.icon=i)}},resetBookmarks:function(e,t){e.bookmarks=t.payload},removeBookmark:function(e,t){e.bookmarks||(e.bookmarks=[]);var n=e.bookmarks,r=n.findIndex((function(e){return e.url===t.payload.url}));r>=0&&n.splice(r,1),e.bookmarks=n},setShowBookmark:function(e,t){e.showBookmark=t.payload},setEnableIOSDappSearch:function(e,t){e.enableIOSDappSearch=t.payload},cleanOldState:function(e){e.dappItems=void 0,e.listedCategories=void 0,e.listedTags=void 0,e.categoryDapps=void 0,e.tagDapps=void 0,e.home=void 0},addUserBrowserHistory:function(e,t){e.userBrowserHistories||(e.userBrowserHistories=[]);var n=e.userBrowserHistories.findIndex((function(e){return e.url===t.payload.url}));if(n<0)e.userBrowserHistories.unshift(t.payload);else{var r=a(a({},e.userBrowserHistories[n]),t.payload);e.userBrowserHistories.splice(n,1),e.userBrowserHistories.unshift(r)}},updateUserBrowserHistory:function(e,t){e.userBrowserHistories||(e.userBrowserHistories=[]);var n=e.userBrowserHistories.findIndex((function(e){return e.url===t.payload.url}));if(n>=0){var r=a(a({},e.userBrowserHistories[n]),t.payload);e.userBrowserHistories[n]=r}},removeUserBrowserHistory:function(e,t){e.userBrowserHistories&&(e.userBrowserHistories=e.userBrowserHistories.filter((function(e){return e.url!==t.payload.url})))},setFavoritesMigrated:function(e){e.favoritesMigrated=!0},setNetworkPrice:function(e,t){var n=t.payload;e.networkPrices||(e.networkPrices={}),e.networkPrices[n.networkId]=n.price}}}),s=i.actions,l=s.clearHistory,c=s.setShowBookmark,d=s.setEnableIOSDappSearch,u=s.cleanOldState,f=s.addUserBrowserHistory,p=s.updateUserBrowserHistory,m=s.removeUserBrowserHistory,h=s.addBookmark,g=s.removeBookmark,y=s.updateBookmark,v=s.resetBookmarks,b=s.setFavoritesMigrated,x=s.setNetworkPrice;const w=i.reducer},316597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,fiatMoneySlice:()=>s,updateFiatMoneyMap:()=>l});var r=n(256666),o=n(818149),a=n.n(o);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=(0,n(909863).createSlice)({name:"fiatMoney",initialState:{symbolList:[],map:{}},reducers:{updateFiatMoneyMap:function(e,t){var n=Object.keys(t.payload);a()(e.symbolList,n)||(e.symbolList=n);var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.payload);a()(e.map,o)||(e.map=o)}}}),l=s.actions.updateFiatMoneyMap;const c=s.reducer},62893:(e,t,n)=>{"use strict";n.r(t),n.d(t,{changeActiveAccount:()=>a,changeActiveExternalWalletName:()=>l,changeActiveNetwork:()=>i,default:()=>c,generalSlice:()=>r,setActiveIds:()=>s});var r=(0,n(909863).createSlice)({name:"general",initialState:{activeAccountId:null,activeNetworkId:null,activeWalletId:null,activeExternalWalletName:null},reducers:{setActiveIds:function(e,t){var n=t.payload,r=n.activeAccountId,o=n.activeNetworkId,a=n.activeWalletId;e.activeAccountId=r,e.activeWalletId=a,e.activeNetworkId=o},changeActiveAccount:function(e,t){var n=t.payload,r=n.activeAccountId,o=n.activeWalletId;e.activeAccountId=r,e.activeWalletId=o},changeActiveNetwork:function(e,t){e.activeNetworkId=t.payload},changeActiveExternalWalletName:function(e,t){e.activeExternalWalletName=t.payload}}}),o=r.actions,a=o.changeActiveAccount,i=o.changeActiveNetwork,s=o.setActiveIds,l=o.changeActiveExternalWalletName;const c=r.reducer},920458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addConnectedConnectId:()=>c,clearPreviousAddress:()=>y,closeHardwarePopup:()=>f,default:()=>v,hardwareSlice:()=>s,removeConnectedConnectId:()=>d,setHardwarePopup:()=>u,setPendingRememberWalletConnectId:()=>h,setPreviousAddress:()=>g,setUpdateFirmwareStep:()=>m,updateDevicePassphraseOpenedState:()=>p});var r=n(968079),o=n(909863),a=n(213208),i={connected:[],passphraseOpened:[],lastCheckUpdateTime:{},updateFirmwareStep:"",pendingRememberWalletConnectId:void 0,previousAddress:void 0},s=(0,o.createSlice)({name:"hardware",initialState:i,reducers:{addConnectedConnectId:function(e,t){-1===e.connected.indexOf(t.payload)&&(e.connected=[].concat((0,r.default)(e.connected),[t.payload]))},removeConnectedConnectId:function(e,t){e.connected=e.connected.filter((function(e){return e!==t.payload}))},setHardwarePopup:function(e,t){a.default.isExtensionBackground||n(446390).default(t.payload)},closeHardwarePopup:function(){a.default.isExtensionBackground||n(446390).closeHardwarePopup()},updateDevicePassphraseOpenedState:function(e,t){t.payload.opened?-1===e.passphraseOpened.indexOf(t.payload.deviceId)&&(e.passphraseOpened=[].concat((0,r.default)(e.passphraseOpened),[t.payload.deviceId])):e.passphraseOpened=e.passphraseOpened.filter((function(e){return e!==t.payload.deviceId}))},setUpdateFirmwareStep:function(e,t){e.updateFirmwareStep=t.payload},setPendingRememberWalletConnectId:function(e,t){e.pendingRememberWalletConnectId=t.payload},setPreviousAddress:function(e,t){e.previousAddress=t.payload},clearPreviousAddress:function(e){e.previousAddress=void 0}}}),l=s.actions,c=l.addConnectedConnectId,d=l.removeConnectedConnectId,u=l.setHardwarePopup,f=l.closeHardwarePopup,p=l.updateDevicePassphraseOpenedState,m=l.setUpdateFirmwareStep,h=l.setPendingRememberWalletConnectId,g=l.setPreviousAddress,y=l.clearPreviousAddress;const v=s.reducer},37331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y,limitOrderSlice:()=>o,resetState:()=>p,setActiveAccount:()=>c,setExpireIn:()=>m,setInstantRate:()=>u,setLoading:()=>d,setMktRate:()=>f,setProgressStatus:()=>g,setTokenIn:()=>i,setTokenOut:()=>s,setTypedPrice:()=>h,setTypedValue:()=>l});var r={tokenIn:void 0,tokenOut:void 0,typedValue:"",expireIn:10080,instantRate:"",mktRate:"",typedPrice:{value:""}},o=(0,n(909863).createSlice)({name:"limitOrder",initialState:r,reducers:{setTokenIn:function(e,t){e.tokenIn=t.payload},setTokenOut:function(e,t){e.tokenOut=t.payload},setTypedValue:function(e,t){e.typedValue=t.payload},setActiveAccount:function(e,t){e.activeAccount=t.payload},setLoading:function(e,t){e.loading=t.payload},setMktRate:function(e,t){e.mktRate=t.payload},setInstantRate:function(e,t){e.instantRate=t.payload},resetState:function(e){e.typedValue="",e.mktRate="",e.instantRate="",e.typedPrice={reversed:!1,value:""},e.loading=!1},setExpireIn:function(e,t){e.expireIn=t.payload},setTypedPrice:function(e,t){e.typedPrice=t.payload},setProgressStatus:function(e,t){e.progressStatus=t.payload}}}),a=o.actions,i=a.setTokenIn,s=a.setTokenOut,l=a.setTypedValue,c=a.setActiveAccount,d=a.setLoading,u=a.setInstantRate,f=a.setMktRate,p=a.resetState,m=a.setExpireIn,h=a.setTypedPrice,g=a.setProgressStatus;const y=o.reducer},393093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MARKET_FAVORITES_CATEGORYID:()=>u,MARKET_SEARCH_HISTORY_MAX:()=>f,MarketCategoryType:()=>d,MarketSlicer:()=>m,cancleMarketFavorite:()=>w,clearMarketSearchTokenHistory:()=>S,default:()=>R,moveTopMarketFavorite:()=>k,saveMarketCategorys:()=>g,saveMarketFavorite:()=>_,saveMarketSearchTokenHistory:()=>P,switchMarketTopTab:()=>O,syncMarketSearchTokenHistorys:()=>T,updateMarketChats:()=>b,updateMarketListSort:()=>I,updateMarketTokenDetail:()=>x,updateMarketTokenPriceSubscribe:()=>E,updateMarketTokens:()=>y,updateMarketTokensBaseInfo:()=>j,updateSearchKeyword:()=>A,updateSearchTabCategory:()=>C,updateSearchTokens:()=>M,updateSelectedCategory:()=>v});var r=n(968079),o=n(256666),a=n(909863),i=n(571747),s=n(542457);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d,u="favorites",f=10;!function(e){e.MRKET_CATEGORY_TYPE_TAB="tab",e.MRKET_CATEGORY_TYPE_SEARCH="search"}(d||(d={}));var p={categorys:{},searchSimplyCategories:[],tabSimplyCategories:[],marketTokens:{},listSort:null,charts:{},details:{},searchTokens:{},marketTopTabName:void 0};var m=(0,a.createSlice)({name:"market",initialState:p,reducers:{saveMarketCategorys:function(e,t){var n=t.payload;n.forEach((function(t){var n=t.recommendedTokens,r=c({},t);null!=n&&n.length&&(r.recommendedTokens=n.map((function(e){return e.symbol=e.symbol?e.symbol.toUpperCase():"",e})));var o=e.categorys[t.categoryId];o?(o.name=t.name,o.recommendedTokens=t.recommendedTokens,o.type=t.type):o=r,e.categorys[t.categoryId]=o})),e.searchSimplyCategories=n.filter((function(e){return e.type===d.MRKET_CATEGORY_TYPE_SEARCH})).map((function(e){return{categoryId:e.categoryId,name:e.name,type:e.type,defaultSelected:e.defaultSelected}})),e.tabSimplyCategories=n.filter((function(e){return e.type===d.MRKET_CATEGORY_TYPE_TAB})).map((function(e){return{categoryId:e.categoryId,name:e.name,type:e.type,defaultSelected:e.defaultSelected}}))},updateMarketTokens:function(e,t){var n,r,o=t.payload,a=o.categoryId,i=o.marketTokens,s=e.categorys;if(a){var l=s[a];if(l){var c=i.map((function(e){return e.coingeckoId}));l.coingeckoIds?(n=l.coingeckoIds,r=c,n.length===r.length&&n.every((function(e,t){return e===r[t]}))||null!==e.listSort||(l.coingeckoIds=c)):l.coingeckoIds=c}}var d=s[u];i.forEach((function(t){var n;t.favorited=d&&(null==(n=d.coingeckoIds)?void 0:n.includes(t.coingeckoId)),t.symbol=t.symbol?t.symbol.toUpperCase():"";var r=e.marketTokens[t.coingeckoId];r?Object.assign(r,t):e.marketTokens[t.coingeckoId]=t}))},updateSelectedCategory:function(e,t){var n=t.payload;e.selectedCategoryId=n},updateSearchTabCategory:function(e,t){var n=t.payload;e.searchTabCategoryId=n},saveMarketFavorite:function(e,t){var n=t.payload,r=e.categorys[u];n.forEach((function(t){var n,o;!r||null!=(n=r.coingeckoIds)&&n.includes(t)||(null==(o=r.coingeckoIds)||o.push(t));e.marketTokens[t]?e.marketTokens[t].favorited=!0:e.marketTokens[t]={favorited:!0,coingeckoId:t}}))},cancleMarketFavorite:function(e,t){var n=t.payload,r=e.categorys[u];if(r){var o,a,i,s=null==(o=r.coingeckoIds)?void 0:o.indexOf(n);if(void 0!==s&&-1!==s)if(1===(null==(a=r.coingeckoIds)?void 0:a.length)&&0===s)r.coingeckoIds=[];else null==(i=r.coingeckoIds)||i.splice(s,1)}e.marketTokens[n].favorited=!1},moveTopMarketFavorite:function(e,t){var n=t.payload,o=e.categorys[u];if(o){var a=o.coingeckoIds||[],i=null==a?void 0:a.indexOf(n);(null==a?void 0:a.length)>1&&void 0!==i&&-1!==i&&(null==a||a.splice(i,1),o.coingeckoIds=[n].concat((0,r.default)(a)))}},updateMarketChats:function(e,t){var n=t.payload,r=n.coingeckoId,o=n.chart,a=n.days;e.charts[r]=e.charts[r]||{},e.charts[r][a]=o},updateMarketTokenDetail:function(e,t){var n=t.payload,r=n.coingeckoId,o=n.data,a=e.details[r]||{};e.details[r]=c(c({},a),o)},updateMarketListSort:function(e,t){var n=t.payload;if(e.listSort=n,n){var o=e.selectedCategoryId,a=e.marketTokens,l=e.categorys;if(o){var c=l[o].coingeckoIds;if(c){var d=(0,r.default)(c);d=d.sort((function(e,t){switch(n.id){case s.EMarketCellData.TokenInfo:var r,o,l,c,d,u,f,p;return"down"===n.direction?(0,i.default)({insensitive:!0})(null!=(r=null==(o=a[t])?void 0:o.symbol)?r:"",null!=(l=null==(c=a[e])?void 0:c.symbol)?l:""):(0,i.default)({insensitive:!0})(null!=(d=null==(u=a[e])?void 0:u.symbol)?d:"",null!=(f=null==(p=a[t])?void 0:p.symbol)?f:"");case s.EMarketCellData.TokenPrice:var m,h,g,y,v,b,x,w;return"down"===n.direction?(null!=(m=null==(h=a[t])?void 0:h.price)?m:0)-(null!=(g=null==(y=a[e])?void 0:y.price)?g:0):(null!=(v=null==(b=a[e])?void 0:b.price)?v:0)-(null!=(x=null==(w=a[t])?void 0:w.price)?x:0);case s.EMarketCellData.Token24hChange:case s.EMarketCellData.TokenSparklineChart:var _,k,I,j,O,T,S,P;return"down"===n.direction?(null!=(_=null==(k=a[t])?void 0:k.priceChangePercentage24H)?_:0)-(null!=(I=null==(j=a[e])?void 0:j.priceChangePercentage24H)?I:0):(null!=(O=null==(T=a[e])?void 0:T.priceChangePercentage24H)?O:0)-(null!=(S=null==(P=a[t])?void 0:P.priceChangePercentage24H)?S:0);case s.EMarketCellData.CollectionStarOrSerialNumber:case s.EMarketCellData.TokenMarketCap:var C,M,A,E,R,D,N,L;return"down"===n.direction?(null!=(C=null==(M=a[t])?void 0:M.marketCap)?C:0)-(null!=(A=null==(E=a[e])?void 0:E.marketCap)?A:0):(null!=(R=null==(D=a[e])?void 0:D.marketCap)?R:0)-(null!=(N=null==(L=a[t])?void 0:L.marketCap)?N:0);default:return 0}})),e.categorys[o].coingeckoIds=d}}}},updateMarketTokensBaseInfo:function(e,t){t.payload.forEach((function(t){var n,r=e.marketTokens[t.coingeckoId]||{};r.tokens=t.tokens,null!=(n=t.logoURI)&&n.length?r.logoURI=t.logoURI:r.image?r.logoURI=r.image:r.logoURI="",e.marketTokens[t.coingeckoId]=r}))},updateMarketTokenPriceSubscribe:function(e,t){var n=t.payload,r=n.coingeckoIds,o=n.enable;r.forEach((function(t){var n=e.details[t]||{};n.priceSubscribe=o,e.details[t]=n}))},switchMarketTopTab:function(e,t){e.marketTopTabName!==t.payload&&(e.marketTopTabName=t.payload)},saveMarketSearchTokenHistory:function(e,t){var n=t.payload.token,o=e.searchHistory?(0,r.default)(e.searchHistory):[],a=o.findIndex((function(e){return e.coingeckoId===n.coingeckoId}));-1!==a&&o.splice(a,1),o.length>=f&&o.pop(),e.searchHistory=[n].concat((0,r.default)(o))},clearMarketSearchTokenHistory:function(e){e.searchHistory=[]},syncMarketSearchTokenHistorys:function(e,t){e.searchHistory=t.payload.tokens},updateSearchTokens:function(e,t){var n=t.payload,r=n.searchKeyword,o=n.coingeckoIds;e.searchTokens[r]=o},updateSearchKeyword:function(e,t){e.searchKeyword=t.payload}}}),h=m.actions,g=h.saveMarketCategorys,y=h.updateMarketTokens,v=h.updateSelectedCategory,b=h.updateMarketChats,x=h.updateMarketTokenDetail,w=h.cancleMarketFavorite,_=h.saveMarketFavorite,k=h.moveTopMarketFavorite,I=h.updateMarketListSort,j=h.updateMarketTokensBaseInfo,O=h.switchMarketTopTab,T=h.syncMarketSearchTokenHistorys,S=h.clearMarketSearchTokenHistory,P=h.saveMarketSearchTokenHistory,C=h.updateSearchTabCategory,M=h.updateSearchTokens,A=h.updateSearchKeyword,E=h.updateMarketTokenPriceSubscribe;const R=m.reducer},918260:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,networkSlice:()=>r,setNFTPrice:()=>a,setNFTPriceType:()=>i,setNFTSymbolPrice:()=>s});var r=(0,n(909863).createSlice)({name:"nft",initialState:{nftPrice:{},nftSymbolPrice:{},disPlayPriceType:"lastSalePrice"},reducers:{setNFTPrice:function(e,t){var n,r,o=t.payload,a=o.accountId,i=o.networkId,s=o.price;if(i&&a){var l=null!=(n=e.nftPrice[a])?n:{};(null!=(r=l[i])?r:{})!==s&&(l[i]=s,e.nftPrice[a]=l)}},setNFTPriceType:function(e,t){e.disPlayPriceType!==t.payload&&(e.disPlayPriceType=t.payload)},setNFTSymbolPrice:function(e,t){var n,r=t.payload,o=r.networkId,a=r.price;o&&((null!=(n=e.nftSymbolPrice[o])?n:{})!==a&&(e.nftSymbolPrice[o]=a))}}}),o=r.actions,a=o.setNFTPrice,i=o.setNFTPriceType,s=o.setNFTSymbolPrice;const l=r.reducer},266985:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addOverviewPendingTasks:()=>g,clearOverviewPendingTasks:()=>b,default:()=>k,overviewSlice:()=>p,removeAllNetworksAccountsMapByAccountId:()=>x,removeMapNetworks:()=>w,removeOverviewPendingTasks:()=>y,removeWalletAccountsMap:()=>_,setAllNetworksAccountsMap:()=>v,updateOverviewStats:()=>h});var r=n(399686),o=n.n(r),a=n(968079),i=n(817620),s=n.n(i),l=n(545455),c=n.n(l),d=n(256666);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,n(909863).createSlice)({name:"overview",initialState:{tasks:{},allNetworksAccountsMap:{},overviewStats:{}},reducers:{addOverviewPendingTasks:function(e,t){var n=t.payload.data;e.tasks||(e.tasks={}),e.tasks=f(f({},e.tasks),n)},clearOverviewPendingTasks:function(e){c()(e.tasks)||(e.tasks={})},removeOverviewPendingTasks:function(e,t){var n=t.payload.ids,r=void 0===n?[]:n;e.tasks&&(e.tasks=s().apply(void 0,[e.tasks].concat((0,a.default)(r))))},setAllNetworksAccountsMap:function(e,t){var n=t.payload,r=n.accountId,o=n.data;e.allNetworksAccountsMap||(e.allNetworksAccountsMap={}),e.allNetworksAccountsMap[r]=o},removeAllNetworksAccountsMapByAccountId:function(e,t){var n,r=t.payload.accountId;e.allNetworksAccountsMap&&(null==(n=e.allNetworksAccountsMap)||delete n[r])},removeMapNetworks:function(e,t){var n,r=t.payload,o=r.networkIds,i=r.accountId,l=null!=(n=e.allNetworksAccountsMap)?n:{};if(i)l[i]=s().apply(void 0,[l[i]].concat((0,a.default)(o)));else for(var c of Object.keys(l))l[c]=s().apply(void 0,[l[c]].concat((0,a.default)(o)));e.allNetworksAccountsMap=l},removeWalletAccountsMap:function(e,t){var n,r=t.payload.walletIds,a=null!=(n=e.allNetworksAccountsMap)?n:{};e.allNetworksAccountsMap=o()(a,(function(e,t){return r.find((function(e){return t.startsWith(e)}))}))},updateOverviewStats:function(e,t){var n=t.payload,r=n.accountId,o=n.networkId,a=n.stats;e.overviewStats||(e.overviewStats={}),e.overviewStats[o]||(e.overviewStats[o]={}),e.overviewStats[o][r]||(e.overviewStats[o][r]={}),e.overviewStats[o][r]=f({},a)}}}),m=p.actions,h=m.updateOverviewStats,g=m.addOverviewPendingTasks,y=m.removeOverviewPendingTasks,v=m.setAllNetworksAccountsMap,b=m.clearOverviewPendingTasks,x=m.removeAllNetworksAccountsMapByAccountId,w=m.removeMapNetworks,_=m.removeWalletAccountsMap;const k=p.reducer},379573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EAccountSelectorMode:()=>r,default:()=>s,reducerSlice:()=>i});var r,o=n(909863);!function(e){e.Wallet="Wallet",e.Transfer="Transfer"}(r||(r={}));var a={accountSelectorMode:r.Wallet,isDesktopWalletSelectorVisible:!1,isMobileWalletSelectorDrawerOpen:!1,isOpen:!1,isOpenDelay:!1,isLoading:!1,isRefreshDisabled:!1,walletId:void 0,networkId:void 0,accountsGroup:[],preloadingCreateAccount:void 0},i=(0,o.createSlice)({name:"accountSelector",initialState:a,reducers:{updateAccountSelectorMode:function(e,t){e.accountSelectorMode!==t.payload&&(e.accountSelectorMode=t.payload)},updateDesktopWalletSelectorVisible:function(e,t){e.isDesktopWalletSelectorVisible=t.payload},updateMobileWalletSelectorDrawerOpen:function(e,t){e.isMobileWalletSelectorDrawerOpen=t.payload},updateSelectedWalletId:function(e,t){e.walletId=t.payload},updateSelectedNetworkId:function(e,t){e.networkId=t.payload},updateIsOpenDelay:function(e,t){e.isOpenDelay!==t.payload&&(e.isOpenDelay=t.payload)},updateIsOpen:function(e,t){e.isOpen!==t.payload&&(e.isOpen=t.payload)},updateIsLoading:function(e,t){e.isLoading!==t.payload&&(e.isLoading=t.payload)},updateIsRefreshDisabled:function(e,t){e.isRefreshDisabled!==t.payload&&(e.isRefreshDisabled=t.payload)},updateAccountsGroup:function(e,t){e.accountsGroup=t.payload},updatePreloadingCreateAccount:function(e,t){e.preloadingCreateAccount=t.payload}}});const s=i},480601:(e,t,n)=>{"use strict";n.r(t),n.d(t,{backgroundShowToast:()=>h,closeDappConnectionPreloading:()=>p,default:()=>g,refreshAccountSelector:()=>u,refreshConnectedSites:()=>f,refreshHistory:()=>d,resetDappConnectionPreloading:()=>m,setOverviewAccountIsUpdating:()=>l,setOverviewHomeTokensLoading:()=>s,slicer:()=>a,updateRefreshHomeOverviewTs:()=>c});var r=n(909863),o=n(490415),a=(0,r.createSlice)({name:"refresher",initialState:{refreshAccountTokenTs:0,refreshAccountDefiTs:0,refreshAccountNFTTs:0,overviewAccountIsUpdating:{},overviewHomeTokensLoading:!1,refreshHistoryTs:0,refreshAccountSelectorTs:0,refreshConnectedSitesTs:0,closeDappConnectionPreloadingTs:0,backgroundShowToastTs:0,backgroundShowToastOptions:{title:"",type:"info"}},reducers:{setOverviewHomeTokensLoading:function(e,t){var n=t.payload;n!==e.overviewHomeTokensLoading&&(e.overviewHomeTokensLoading=n)},setOverviewAccountIsUpdating:function(e,t){var n=t.payload,r=n.accountId,o=n.data;e.overviewAccountIsUpdating||(e.overviewAccountIsUpdating={}),e.overviewAccountIsUpdating[r]=o},updateRefreshHomeOverviewTs:function(e,t){for(var n of t.payload)switch(n){case o.EOverviewScanTaskType.defi:e.refreshAccountDefiTs=Date.now();break;case o.EOverviewScanTaskType.token:e.refreshAccountTokenTs=Date.now();break;case o.EOverviewScanTaskType.nfts:e.refreshAccountNFTTs=Date.now()}},refreshHistory:function(e){e.refreshHistoryTs=Date.now()},refreshAccountSelector:function(e){e.refreshAccountSelectorTs=Date.now()},refreshConnectedSites:function(e){e.refreshConnectedSitesTs=Date.now()},closeDappConnectionPreloading:function(e){e.closeDappConnectionPreloadingTs=Date.now()},resetDappConnectionPreloading:function(e){e.closeDappConnectionPreloadingTs=0},backgroundShowToast:function(e,t){e.backgroundShowToastOptions=t.payload,e.backgroundShowToastTs=Date.now()}}}),i=a.actions,s=i.setOverviewHomeTokensLoading,l=i.setOverviewAccountIsUpdating,c=i.updateRefreshHomeOverviewTs,d=i.refreshHistory,u=i.refreshAccountSelector,f=i.refreshConnectedSites,p=i.closeDappConnectionPreloading,m=i.resetDappConnectionPreloading,h=i.backgroundShowToast;const g=a.reducer},932330:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addDisplayPassphraseWallet:()=>g,addWallet:()=>f,clearDisplayPassphraseWallet:()=>y,default:()=>v,setOnBoardingLoadingBehindModal:()=>c,updateAccountDetail:()=>h,updateAccounts:()=>m,updateNetworks:()=>p,updateWallet:()=>u,updateWallets:()=>d,walletSlice:()=>s});var r=n(968079),o=n(256666);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,n(909863).createSlice)({name:"runtime",initialState:{onBoardingLoadingBehindModal:!1,wallets:[],networks:[],accounts:[],displayPassphraseWalletIdList:[]},reducers:{setOnBoardingLoadingBehindModal:function(e,t){e.onBoardingLoadingBehindModal=t.payload},updateAccountDetail:function(e,t){var n=t.payload,r=n.id,o=n.name,a=e.accounts.findIndex((function(e){return e.id===r}));e.accounts[a]=i(i({},e.accounts[a]),{},{name:o})},updateAccounts:function(e,t){e.accounts=t.payload},updateNetworks:function(e,t){e.networks=t.payload},updateWallets:function(e,t){e.wallets=t.payload},updateWallet:function(e,t){e.wallets=e.wallets.map((function(e){return e.id===t.payload.id?t.payload:e}))},addWallet:function(e,t){e.wallets.push(t.payload)},addDisplayPassphraseWallet:function(e,t){e.displayPassphraseWalletIdList.includes(t.payload)||(e.displayPassphraseWalletIdList=[].concat((0,r.default)(e.displayPassphraseWalletIdList),[t.payload]))},clearDisplayPassphraseWallet:function(e){e.displayPassphraseWalletIdList=[]}}}),l=s.actions,c=l.setOnBoardingLoadingBehindModal,d=l.updateWallets,u=l.updateWallet,f=l.addWallet,p=l.updateNetworks,m=l.updateAccounts,h=l.updateAccountDetail,g=l.addDisplayPassphraseWallet,y=l.clearDisplayPassphraseWallet;const v=s.reducer},821919:(e,t,n)=>{"use strict";n.r(t),n.d(t,{THEME_PRELOAD_STORAGE_KEY:()=>w,clearNetworkCustomRpcs:()=>he,default:()=>Ce,defaultPushNotification:()=>b,disableExtSwitchTips:()=>oe,forgetPassphraseWallet:()=>ye,rememberPassphraseWallet:()=>ge,setAccountDerivationDbMigrationVersion:()=>ue,setAdvancedSettings:()=>ke,setAppLockDuration:()=>M,setAutoRefreshTimeStamp:()=>A,setDevMode:()=>B,setDeviceDoneUpdate:()=>z,setDeviceUpdates:()=>V,setDeviceVersion:()=>be,setDisableSwapExactApproveAmount:()=>J,setEnableAppLock:()=>T,setEnableETH2Unstake:()=>_e,setEnableHaptics:()=>K,setEnableLocalAuthentication:()=>R,setEnablePerfCheck:()=>q,setEnableTestFiatEndpoint:()=>L,setEnableWebAuthn:()=>ne,setEnableZeroNotificationThreshold:()=>Z,setForceUpdateVersionInfo:()=>xe,setGasPanelEIP1559Enabled:()=>je,setHardwareConnectSrc:()=>Ie,setHideAllNetworksSelectNetworkTips:()=>Te,setHideBalance:()=>Y,setHideDiscoverContent:()=>se,setHideInscriptions:()=>Se,setHideRiskTokens:()=>te,setHideScamHistory:()=>de,setHideSmallBalance:()=>G,setIncludeNFTsInTotal:()=>X,setLeftSidebarCollapsed:()=>we,setLocale:()=>O,setMigrationVersions:()=>Pe,setOnRamperTestMode:()=>fe,setOverviewDefiBuildByService:()=>ie,setPreReleaseUpdate:()=>F,setPushNotificationConfig:()=>$,setPutMainTokenOnTop:()=>ae,setRefreshTS:()=>C,setSelectedFiatMoneySymbol:()=>P,setShowContentScriptReloadButton:()=>me,setShowTokenDetailPriceChart:()=>Oe,setShowWebEmbedWebviewAgent:()=>pe,setSwapSlippagePercent:()=>D,setTheme:()=>j,setThemePreloadToLocalStorage:()=>_,setUpdateDeviceBle:()=>U,setUpdateDeviceRes:()=>W,setUpdateDeviceSys:()=>H,setUpdateSetting:()=>Q,setValidationState:()=>N,setVerification:()=>ve,setWalletSwitch:()=>le,settingsSlice:()=>k,toggleDisableExt:()=>re,toggleEnableLocalAuthentication:()=>S,toggleWalletSwitch:()=>ce,updateCustomNetworkRpc:()=>ee,updateVersionAndBuildNumber:()=>E});var r,o=n(475652),a=n.n(o),i=n(256666),s=n(254073),l=n.n(s),c=n(909863),d=n(460970),u=n(636393),f=n(776553),p=n(986514),m=n(213208),h=n(330526),g=n(858663);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={threshold:5,pushEnable:!1,priceAlertEnable:!1,btcAndEthPriceAlertEnable:!1,favoriteTokensPriceAlertEnable:!1,accountActivityPushEnable:!1},x={theme:"system",lastLocale:"system",locale:"system",version:null!="4.22.0"?"4.22.0":"1.0.0",buildNumber:null!="2024031487"?"2024031487":"2022010100",instanceId:u.default.v4(),enableAppLock:!1,enableLocalAuthentication:!1,disableExt:!1,disableExtSwitchTips:!1,appLockDuration:240,enableHaptics:p.defaultHapticStatus,selectedFiatMoneySymbol:"usd",refreshTimeStamp:(0,f.getTimeStamp)(),autoRefreshTimeStamp:(0,f.getTimeStamp)(),swapSlippagePercent:"1",deviceUpdates:{},walletSwitchData:{},devMode:{enable:!1,preReleaseUpdate:!1,updateDeviceBle:!1,updateDeviceSys:!1,updateDeviceRes:!1,enableTestFiatEndpoint:!1,enableZeroNotificationThreshold:!1,enablePerfCheck:!1,defiBuildService:void 0,onRamperTestMode:!1},pushNotification:b,validationSetting:(r={},r[g.ValidationFields.Account]=!1,r[g.ValidationFields.Payment]=!1,r[g.ValidationFields.Secret]=!1,r[g.ValidationFields.Wallet]=!1,r),hideSmallBalance:!1,hideRiskTokens:!0,putMainTokenOnTop:!1,hideScamHistory:!0,includeNFTsInTotal:!0,hideBalance:!1,updateSetting:{autoDownload:!0,updateLatestVersion:null,updateLatestTimeStamp:null},disableSwapExactApproveAmount:!1,customNetworkRpcMap:{},accountDerivationDbMigrationVersion:"",hardware:{rememberPassphraseWallets:[],verification:{},versions:{}},softwareUpdate:{forceUpdateVersionInfo:void 0},advancedSettings:{useDustUtxo:!0},hardwareConnectSrc:h.EOnekeyDomain.ONEKEY_SO,gasPanelEIP1559Enabled:!0,hideAllNetworksSelectNetworkTips:!1,hideInscriptions:{},migrationVersions:{fixBtcPubKey:""}},w="ONEKEY_THEME_PRELOAD",_=l()((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var n=w;m.default.isRuntimeBrowser&&(!t&&localStorage.getItem(n)||localStorage.setItem(n,e),"dark"===e&&(document.documentElement.style.backgroundColor="rgb(19, 19, 27)"))}catch(r){console.error(r)}}),600,{leading:!1,trailing:!0});_(x.theme,!1);var k=(0,c.createSlice)({name:"settings",initialState:x,reducers:{updateVersionAndBuildNumber:function(e,t){e.version=t.payload.version,e.buildNumber=t.payload.buildNumber},setTheme:function(e,t){e.theme=t.payload},setLocale:function(e,t){e.lastLocale=e.locale,e.locale=t.payload},setEnableAppLock:function(e,t){e.enableAppLock=t.payload},toggleEnableLocalAuthentication:function(e){e.enableLocalAuthentication=!e.enableLocalAuthentication},setEnableLocalAuthentication:function(e,t){e.enableLocalAuthentication=t.payload},setAppLockDuration:function(e,t){e.appLockDuration=t.payload},setSelectedFiatMoneySymbol:function(e,t){e.selectedFiatMoneySymbol=t.payload},setRefreshTS:function(e){e.refreshTimeStamp=(0,f.getTimeStamp)()},setAutoRefreshTimeStamp:function(e){e.autoRefreshTimeStamp=(0,f.getTimeStamp)()},setSwapSlippagePercent:function(e,t){e.swapSlippagePercent=t.payload},setOverviewDefiBuildByService:function(e,t){var n=t.payload;e.devMode=v(v({},e.devMode),{},{defiBuildService:"all"===n?void 0:n})},setValidationState:function(e,t){e.validationSetting||(e.validationSetting={});var n=t.payload,r=n.key,o=n.value;e.validationSetting[r]=o},setDevMode:function(e,t){e.devMode=v(v({},e.devMode),{},{enable:t.payload})},setPreReleaseUpdate:function(e,t){e.devMode=v(v({},e.devMode),{},{preReleaseUpdate:t.payload})},setUpdateDeviceBle:function(e,t){e.devMode=v(v({},e.devMode),{},{updateDeviceBle:t.payload})},setUpdateDeviceSys:function(e,t){e.devMode=v(v({},e.devMode),{},{updateDeviceSys:t.payload})},setUpdateDeviceRes:function(e,t){e.devMode=v(v({},e.devMode),{},{updateDeviceRes:t.payload})},setHideDiscoverContent:function(e,t){e.devMode=v(v({},e.devMode),{},{hideDiscoverContent:t.payload})},setOnRamperTestMode:function(e,t){e.devMode=v(v({},e.devMode),{},{onRamperTestMode:t.payload})},setShowWebEmbedWebviewAgent:function(e,t){e.devMode=v(v({},e.devMode),{},{showWebEmbedWebviewAgent:t.payload})},setShowContentScriptReloadButton:function(e,t){e.devMode=v(v({},e.devMode),{},{showContentScriptReloadButton:t.payload})},setEnableTestFiatEndpoint:function(e,t){e.devMode=v(v({},e.devMode),{},{enableTestFiatEndpoint:t.payload})},setEnableZeroNotificationThreshold:function(e,t){e.devMode=v(v({},e.devMode),{},{enableZeroNotificationThreshold:t.payload})},setEnablePerfCheck:function(e,t){e.devMode=v(v({},e.devMode),{},{enablePerfCheck:t.payload})},setDeviceUpdates:function(e,t){var n,r,o,a="firmware"===t.payload.type?{forceFirmware:t.payload.value.forceFirmware,firmware:t.payload.value.firmware}:{forceBle:t.payload.value.forceBle,ble:t.payload.value.ble},i=null!=(n=null==(r=e.deviceUpdates)?void 0:r[t.payload.connectId])?n:{},s=v(v({},i),a);(function(e,t){try{var n=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(t));return(0,d.dequal)(n,r)}catch(o){return!1}})(i,s)||(e.deviceUpdates=v(v({},e.deviceUpdates),{},((o={})[t.payload.connectId]=s,o)))},setDeviceDoneUpdate:function(e,t){if(e.deviceUpdates){var n=t.payload,r=n.connectId,o=n.type;"firmware"===o?(e.deviceUpdates[r].forceFirmware=!1,e.deviceUpdates[r].firmware=void 0):"ble"===o&&(e.deviceUpdates[r].forceBle=!1,e.deviceUpdates[r].ble=void 0)}},setEnableHaptics:function(e,t){e.enableHaptics=t.payload},setHideSmallBalance:function(e,t){e.hideSmallBalance=t.payload},setHideScamHistory:function(e,t){e.hideScamHistory=t.payload},setHideRiskTokens:function(e,t){e.hideRiskTokens=t.payload},setPutMainTokenOnTop:function(e,t){e.putMainTokenOnTop=t.payload},setHideBalance:function(e,t){e.hideBalance=t.payload},setIncludeNFTsInTotal:function(e,t){e.includeNFTsInTotal=t.payload},setPushNotificationConfig:function(e,t){var n,r,o=v(v(v({},b),e.pushNotification),t.payload);null==(n=t.payload)||!n.pushEnable||null!=(r=e.pushNotification)&&r.pushEnable||Object.assign(o,{priceAlertEnable:!0,btcAndEthPriceAlertEnable:!0,favoriteTokensPriceAlertEnable:!0,accountActivityPushEnable:!0}),e.pushNotification=o},setUpdateSetting:function(e,t){var n=v(v({},e.updateSetting),t.payload);e.updateSetting=n},setDisableSwapExactApproveAmount:function(e,t){e.disableSwapExactApproveAmount=t.payload},updateCustomNetworkRpc:function(e,t){var n=t.payload,r=n.type,o=n.networkId,i=n.rpc,s=v({},e.customNetworkRpcMap||{});Array.isArray(s[o])||(s[o]=[]),"add"===r?(s[o].push(i),s[o]=a()(s[o])):"remove"===r&&(s[o]=s[o].filter((function(e){return e!==i}))),e.customNetworkRpcMap=s},clearNetworkCustomRpcs:function(e,t){var n=t.payload.networkId,r=v({},e.customNetworkRpcMap||{});delete r[n],e.customNetworkRpcMap=r},setEnableWebAuthn:function(e,t){e.enableWebAuthn=t.payload},toggleDisableExt:function(e){e.disableExt=!e.disableExt},disableExtSwitchTips:function(e){e.disableExtSwitchTips=!0},setWalletSwitch:function(e,t){var n=t.payload,r=e.walletSwitchData||{},o=v(v({},n),r);e.walletSwitchData=o},toggleWalletSwitch:function(e,t){var n=t.payload,r=n.walletId,o=n.enable;((e.walletSwitchData||{})[r]||{}).enable=o},setAccountDerivationDbMigrationVersion:function(e,t){e.accountDerivationDbMigrationVersion=t.payload},rememberPassphraseWallet:function(e,t){var n,r=t.payload,o=(null==(n=e.hardware)?void 0:n.rememberPassphraseWallets)||[];o.includes(r)||o.push(r),e.hardware=v(v({},e.hardware),{},{rememberPassphraseWallets:o})},forgetPassphraseWallet:function(e,t){var n,r=t.payload,o=(null==(n=e.hardware)?void 0:n.rememberPassphraseWallets)||[];(Array.isArray(r)?r:[r]).forEach((function(e){var t=o.indexOf(e);t>-1&&o.splice(t,1)})),e.hardware=v(v({},e.hardware),{},{rememberPassphraseWallets:o})},setVerification:function(e,t){var n,r;e.hardware=v(v({},e.hardware),{},{verification:v(v({},null==(n=e.hardware)?void 0:n.verification),{},(r={},r[t.payload.connectId]=t.payload.verified,r))})},setDeviceVersion:function(e,t){var n,r;e.hardware=v(v({},e.hardware),{},{versions:v(v({},null==(n=e.hardware)?void 0:n.versions),{},(r={},r[t.payload.connectId]=t.payload.version,r))})},setForceUpdateVersionInfo:function(e,t){e.softwareUpdate=v(v({},e.softwareUpdate),{},{forceUpdateVersionInfo:t.payload})},setLeftSidebarCollapsed:function(e,t){e.leftSidebarCollapsed=t.payload},setEnableETH2Unstake:function(e,t){e.enableETH2Unstake=t.payload},setAdvancedSettings:function(e,t){var n,r=null!=(n=e.advancedSettings)?n:{};e.advancedSettings=v(v({},r),t.payload)},setHardwareConnectSrc:function(e,t){e.hardwareConnectSrc=t.payload},setGasPanelEIP1559Enabled:function(e,t){e.gasPanelEIP1559Enabled=t.payload},setShowTokenDetailPriceChart:function(e,t){e.showTokenDetailPriceChart=t.payload},setHideAllNetworksSelectNetworkTips:function(e,t){e.hideAllNetworksSelectNetworkTips=t.payload},setHideInscriptions:function(e,t){e.hideInscriptions=v(v({},e.hideInscriptions),t.payload)},setMigrationVersions:function(e,t){e.migrationVersions=v(v({},e.migrationVersions),t.payload)}}}),I=k.actions,j=I.setTheme,O=I.setLocale,T=I.setEnableAppLock,S=I.toggleEnableLocalAuthentication,P=I.setSelectedFiatMoneySymbol,C=I.setRefreshTS,M=I.setAppLockDuration,A=I.setAutoRefreshTimeStamp,E=I.updateVersionAndBuildNumber,R=I.setEnableLocalAuthentication,D=I.setSwapSlippagePercent,N=I.setValidationState,L=I.setEnableTestFiatEndpoint,B=I.setDevMode,F=I.setPreReleaseUpdate,U=I.setUpdateDeviceBle,H=I.setUpdateDeviceSys,W=I.setUpdateDeviceRes,V=I.setDeviceUpdates,z=I.setDeviceDoneUpdate,K=I.setEnableHaptics,G=I.setHideSmallBalance,$=I.setPushNotificationConfig,Z=I.setEnableZeroNotificationThreshold,q=I.setEnablePerfCheck,X=I.setIncludeNFTsInTotal,Y=I.setHideBalance,Q=I.setUpdateSetting,J=I.setDisableSwapExactApproveAmount,ee=I.updateCustomNetworkRpc,te=I.setHideRiskTokens,ne=I.setEnableWebAuthn,re=I.toggleDisableExt,oe=I.disableExtSwitchTips,ae=I.setPutMainTokenOnTop,ie=I.setOverviewDefiBuildByService,se=I.setHideDiscoverContent,le=I.setWalletSwitch,ce=I.toggleWalletSwitch,de=I.setHideScamHistory,ue=I.setAccountDerivationDbMigrationVersion,fe=I.setOnRamperTestMode,pe=I.setShowWebEmbedWebviewAgent,me=I.setShowContentScriptReloadButton,he=I.clearNetworkCustomRpcs,ge=I.rememberPassphraseWallet,ye=I.forgetPassphraseWallet,ve=I.setVerification,be=I.setDeviceVersion,xe=I.setForceUpdateVersionInfo,we=I.setLeftSidebarCollapsed,_e=I.setEnableETH2Unstake,ke=I.setAdvancedSettings,Ie=I.setHardwareConnectSrc,je=I.setGasPanelEIP1559Enabled,Oe=I.setShowTokenDetailPriceChart,Te=I.setHideAllNetworksSelectNetworkTips,Se=I.setHideInscriptions,Pe=I.setMigrationVersions;const Ce=k.reducer},179498:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addKeleTransaction:()=>y,addTransaction:()=>g,archiveKeleTransaction:()=>b,archiveTransaction:()=>v,default:()=>w,setETHStakingApr:()=>p,setKeleIncomes:()=>d,setKeleMinerOverviews:()=>c,setKeleNetworkDashboardGlobal:()=>i,setKeleOpHistory:()=>f,setKelePendingWithdraw:()=>u,setKeleUnstakeOverview:()=>s,setKeleWithdrawOverview:()=>l,setLidoMaticOverview:()=>h,setLidoOverview:()=>m,setStEthRate:()=>x,stakingSlice:()=>o});var r=n(968079),o=(0,n(909863).createSlice)({name:"staking",initialState:{},reducers:{setKeleNetworkDashboardGlobal:function(e,t){var n=t.payload,r=n.networkId,o=n.dashboard;e.keleNetworkDashboardGlobal||(e.keleNetworkDashboardGlobal={}),e.keleNetworkDashboardGlobal[r]=o},setKeleUnstakeOverview:function(e,t){var n;e.keleUnstakeOverviews||(e.keleUnstakeOverviews={});var r=t.payload,o=r.networkId,a=r.accountId,i=r.unstakeOverview;null!=(n=e.keleUnstakeOverviews)&&n[a]||(e.keleUnstakeOverviews[a]={}),e.keleUnstakeOverviews[a][o]=i},setKeleWithdrawOverview:function(e,t){e.keleWithdrawOverviews||(e.keleWithdrawOverviews={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.withdrawOverview;e.keleWithdrawOverviews[o]||(e.keleWithdrawOverviews[o]={}),e.keleWithdrawOverviews[o][r]=a},setKeleMinerOverviews:function(e,t){e.keleMinerOverviews||(e.keleMinerOverviews={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.minerOverview;e.keleMinerOverviews[o]||(e.keleMinerOverviews[o]={}),e.keleMinerOverviews[o][r]=a},setKeleIncomes:function(e,t){e.keleIncomes||(e.keleIncomes={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.incomes;e.keleIncomes[o]||(e.keleIncomes[o]={}),e.keleIncomes[o][r]=a},setKelePendingWithdraw:function(e,t){var n=t.payload,r=n.networkId,o=n.accountId,a=n.amount;Number.isNaN(a)||(e.kelePendingWithdraw||(e.kelePendingWithdraw={}),e.kelePendingWithdraw[o]||(e.kelePendingWithdraw[o]={}),e.kelePendingWithdraw[o][r]=a)},setKeleOpHistory:function(e,t){e.keleOpHistory||(e.keleOpHistory={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.items;e.keleOpHistory[o]||(e.keleOpHistory[o]={}),e.keleOpHistory[o][r]=a},setETHStakingApr:function(e,t){e.ethStakingApr=t.payload},setLidoOverview:function(e,t){e.lidoOverview||(e.lidoOverview={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.overview;e.lidoOverview[o]||(e.lidoOverview[o]={}),e.lidoOverview[o][r]=a},setLidoMaticOverview:function(e,t){e.lidoMaticOverview||(e.lidoMaticOverview={});var n=t.payload,r=n.networkId,o=n.accountId,a=n.overview;e.lidoMaticOverview[o]||(e.lidoMaticOverview[o]={}),e.lidoMaticOverview[o][r]=a},addTransaction:function(e,t){var n,o=t.payload,a=o.accountId,i=o.networkId,s=o.transaction;e.transactions||(e.transactions={}),e.transactions[a]||(e.transactions[a]={});var l=null!=(n=e.transactions[a][i])?n:[],c=[s].concat((0,r.default)(l));c.length>30&&(c.length=30),e.transactions[a][i]=c},archiveTransaction:function(e,t){var n;if(e.transactions){var r=t.payload,o=r.accountId,a=r.networkId,i=r.txs;(null==(n=e.transactions[o])?void 0:n[a]).forEach((function(e){i.includes(e.hash)&&(e.archive=!0)}))}},addKeleTransaction:function(e,t){var n,o=t.payload,a=o.accountId,i=o.networkId,s=o.transaction;e.keleTransactions||(e.keleTransactions={}),e.keleTransactions[a]||(e.keleTransactions[a]={});var l=null!=(n=e.keleTransactions[a][i])?n:[],c=[s].concat((0,r.default)(l));c.length>30&&(c.length=30),e.keleTransactions[a][i]=c},archiveKeleTransaction:function(e,t){var n;if(e.keleTransactions){var r=t.payload,o=r.accountId,a=r.networkId,i=r.txs;(null==(n=e.keleTransactions[o])?void 0:n[a]).forEach((function(e){i.includes(e.hash)&&(e.archive=!0)}))}},setStEthRate:function(e,t){e.stEthRate||(e.stEthRate={});var n=t.payload,r=n.networkId,o=n.value;e.stEthRate[r]=o}}}),a=o.actions,i=a.setKeleNetworkDashboardGlobal,s=a.setKeleUnstakeOverview,l=a.setKeleWithdrawOverview,c=a.setKeleMinerOverviews,d=a.setKeleIncomes,u=a.setKelePendingWithdraw,f=a.setKeleOpHistory,p=a.setETHStakingApr,m=a.setLidoOverview,h=a.setLidoMaticOverview,g=a.addTransaction,y=a.addKeleTransaction,v=a.archiveTransaction,b=a.archiveKeleTransaction,x=a.setStEthRate;const w=o.reducer},830631:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k,lock:()=>f,refreshWebviewGlobalKey:()=>m,setAuthenticationType:()=>u,setBoardingCompleted:()=>c,setBoardingNotCompleted:()=>d,setFistTimeShowCheckRPCNodeTooltip:()=>b,setGuideToPushFistTime:()=>v,setHideAddressBookAttention:()=>h,setHomeTabName:()=>g,setRpcStatus:()=>_,setSwapPopoverShown:()=>y,slice:()=>s,unlock:()=>p,updateAutoSwitchDefaultRpcAtVersion:()=>x,updateUserSwitchNetworkFlag:()=>w});var r=n(256666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={isUnlock:!1,boardingCompleted:!1,webviewGlobalKey:0,hideAddressBookAttention:!1,homeTabName:void 0,swapPopoverShown:!1,guideToPushFirstTime:!1,firstTimeShowCheckRPCNodeTooltip:!1,autoSwitchDefaultRpcAtVersion:void 0,userSwitchedNetworkRpcFlag:{}},s=(0,n(909863).createSlice)({name:"status",initialState:i,reducers:{setHomeTabName:function(e,t){e.homeTabName=t.payload},setBoardingCompleted:function(e){e.boardingCompleted=!0},setBoardingNotCompleted:function(e){e.boardingCompleted=!1},setAuthenticationType:function(e,t){e.authenticationType=t.payload},unlock:function(e){e.isUnlock=!0},lock:function(e){e.isUnlock=!1},refreshWebviewGlobalKey:function(e){e.webviewGlobalKey=Date.now()},setHideAddressBookAttention:function(e){e.hideAddressBookAttention=!0},setSwapPopoverShown:function(e){e.swapPopoverShown=!0},setGuideToPushFistTime:function(e,t){e.guideToPushFirstTime=t.payload},setFistTimeShowCheckRPCNodeTooltip:function(e,t){e.firstTimeShowCheckRPCNodeTooltip=t.payload},updateAutoSwitchDefaultRpcAtVersion:function(e,t){e.autoSwitchDefaultRpcAtVersion=t.payload},updateUserSwitchNetworkFlag:function(e,t){var n=t.payload,r=n.networkId,o=n.flag,a=e.userSwitchedNetworkRpcFlag;a&&"object"===typeof a||(a={}),a[r]=o,e.userSwitchedNetworkRpcFlag=a},setRpcStatus:function(e,t){var n=t.payload,r=n.networkId,o=n.status;e.rpcStatus||(e.rpcStatus={});var i=e.rpcStatus[r];(null==o?void 0:o.responseTime)===(null==i?void 0:i.responseTime)&&(null==o?void 0:o.latestBlock)===(null==i?void 0:i.latestBlock)||(e.rpcStatus[r]=a(a({},o),{},{updatedAt:Date.now()}))}}}),l=s.actions,c=l.setBoardingCompleted,d=l.setBoardingNotCompleted,u=l.setAuthenticationType,f=l.lock,p=l.unlock,m=l.refreshWebviewGlobalKey,h=l.setHideAddressBookAttention,g=l.setHomeTabName,y=l.setSwapPopoverShown,v=l.setGuideToPushFistTime,b=l.setFistTimeShowCheckRPCNodeTooltip,x=l.updateAutoSwitchDefaultRpcAtVersion,w=l.updateUserSwitchNetworkFlag,_=l.setRpcStatus;const k=s.reducer},177510:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearState:()=>g,clearUserSelectedQuoter:()=>_,default:()=>T,resetState:()=>y,resetTypedValue:()=>h,setAllowAnotherRecipientAddress:()=>I,setError:()=>m,setInputToken:()=>s,setLoading:()=>p,setMode:()=>O,setOutputToken:()=>l,setProgressStatus:()=>j,setQuote:()=>d,setQuoteLimited:()=>f,setQuoteTime:()=>u,setRecipient:()=>v,setResponses:()=>k,setSendingAccount:()=>b,setShowMoreQuoteDetail:()=>x,setTypedValue:()=>i,setUserSelectedQuoter:()=>w,swapSlice:()=>o,switchTokens:()=>c});var r={inputToken:void 0,outputToken:void 0,typedValue:"",independentField:"INPUT",loading:!1,mode:"swap"},o=(0,n(909863).createSlice)({name:"swap",initialState:r,reducers:{setTypedValue:function(e,t){e.typedValue=t.payload.typedValue,e.independentField=t.payload.independentField},setInputToken:function(e,t){e.inputToken=t.payload.token,e.inputTokenNetwork=t.payload.network},setOutputToken:function(e,t){e.outputToken=t.payload.token,e.outputTokenNetwork=t.payload.network},switchTokens:function(e){var t=e.inputToken;e.inputToken=e.outputToken,e.outputToken=t,e.independentField="INPUT";var n=e.inputTokenNetwork;e.inputTokenNetwork=e.outputTokenNetwork,e.outputTokenNetwork=n},resetTypedValue:function(e){e.typedValue=""},clearState:function(e){e.independentField="INPUT",e.typedValue="",e.quote=void 0,e.quoteTime=void 0,e.error=void 0,e.quoteLimited=void 0,e.showMoreQuoteDetail=!1,e.userSelectedQuoter=void 0,e.responses=void 0},resetState:function(e){e.inputToken=void 0,e.inputTokenNetwork=void 0,e.outputToken=void 0,e.outputTokenNetwork=void 0,e.independentField="INPUT",e.typedValue="",e.recipient=void 0,e.quote=void 0,e.quoteTime=void 0,e.loading=!1,e.error=void 0,e.quoteLimited=void 0,e.showMoreQuoteDetail=!1,e.userSelectedQuoter=void 0,e.responses=void 0},setQuote:function(e,t){e.quote=t.payload},setQuoteTime:function(e,t){e.quoteTime=t.payload},setQuoteLimited:function(e,t){e.quoteLimited=t.payload},setLoading:function(e,t){e.loading=t.payload},setError:function(e,t){e.error=t.payload},setRecipient:function(e,t){e.recipient=t.payload},setSendingAccount:function(e,t){e.sendingAccount=t.payload},setShowMoreQuoteDetail:function(e,t){e.showMoreQuoteDetail=t.payload},setUserSelectedQuoter:function(e,t){e.userSelectedQuoter||(e.userSelectedQuoter={});var n=t.payload,r=n.hash,o=n.type;e.userSelectedQuoter[r]=o},clearUserSelectedQuoter:function(e){e.userSelectedQuoter=void 0},setResponses:function(e,t){e.responses=t.payload},setAllowAnotherRecipientAddress:function(e,t){e.allowAnotherRecipientAddress=t.payload},setMode:function(e,t){e.mode=t.payload},setProgressStatus:function(e,t){e.progressStatus=t.payload}}}),a=o.actions,i=a.setTypedValue,s=a.setInputToken,l=a.setOutputToken,c=a.switchTokens,d=a.setQuote,u=a.setQuoteTime,f=a.setQuoteLimited,p=a.setLoading,m=a.setError,h=a.resetTypedValue,g=a.clearState,y=a.resetState,v=a.setRecipient,b=a.setSendingAccount,x=a.setShowMoreQuoteDetail,w=a.setUserSelectedQuoter,_=a.clearUserSelectedQuoter,k=a.setResponses,I=a.setAllowAnotherRecipientAddress,j=a.setProgressStatus,O=a.setMode;const T=o.reducer},436873:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addLimitOrderTransaction:()=>j,addTransaction:()=>i,archiveTransaction:()=>l,clearAccountTransactions:()=>u,clearTransactions:()=>d,default:()=>P,deleteLimitOrderTransaction:()=>S,resetLimitOrderTransactions:()=>O,setApprovalIssueTokens:()=>w,setCoingeckoIds:()=>v,setDefaultPayment:()=>k,setLimitOrderMaintain:()=>m,setPayments:()=>_,setRecommendedSlippage:()=>b,setReservedNetworkFees:()=>I,setSlippage:()=>y,setSwapChartMode:()=>h,setSwapFeePresetIndex:()=>g,setSwapMaintain:()=>p,setTransactionViewed:()=>c,setWrapperTokens:()=>x,swapTransactionsSlice:()=>o,updateLimitOrderTransaction:()=>T,updateTokenList:()=>f,updateTransaction:()=>s});var r=n(968079),o=(0,n(909863).createSlice)({name:"swapTransactions",initialState:{transactions:{},swapFeePresetIndex:"1"},reducers:{addTransaction:function(e,t){var n,o=t.payload,a=o.accountId,i=o.networkId,s=o.transaction;e.transactions[a]||(e.transactions[a]={});var l=null!=(n=e.transactions[a][i])?n:[],c=[s].concat((0,r.default)(l));c.length>30&&(c.length=30),e.transactions[a][i]=c},updateTransaction:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.hash,s=r.transaction,l=(null==(n=e.transactions[o])?void 0:n[a]).filter((function(e){return e.hash===i}))[0];l&&(s.status&&(l.status=s.status),s.confirmedTime&&(l.confirmedTime=s.confirmedTime),s.destinationTransactionHash&&(l.destinationTransactionHash=s.destinationTransactionHash),s.networkFee&&(l.networkFee=s.networkFee),s.actualReceived&&(l.actualReceived=s.actualReceived))},archiveTransaction:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.txs;(null==(n=e.transactions[o])?void 0:n[a]).forEach((function(e){i.includes(e.hash)&&(e.archive=!0)}))},setTransactionViewed:function(e,t){var n=t.payload.txids;Object.values(e.transactions).reduce((function(e,t){return e.concat.apply(e,(0,r.default)(Object.values(t)))}),[]).forEach((function(e){n.includes(e.hash)&&(e.viewed=!0)}))},clearTransactions:function(e){e.transactions={}},clearAccountTransactions:function(e,t){var n=t.payload.accountId;e.transactions[n]={}},updateTokenList:function(e,t){e.tokenList=t.payload},setSwapMaintain:function(e,t){e.swapMaintain=t.payload},setLimitOrderMaintain:function(e,t){e.limitOrderMaintain=t.payload},setSwapChartMode:function(e,t){e.swapChartMode=t.payload},setSwapFeePresetIndex:function(e,t){e.swapFeePresetIndex=t.payload},setSlippage:function(e,t){e.slippage=t.payload},setCoingeckoIds:function(e,t){e.coingeckoIds=t.payload},setRecommendedSlippage:function(e,t){e.recommendedSlippage=t.payload},setWrapperTokens:function(e,t){e.wrapperTokens=t.payload},setApprovalIssueTokens:function(e,t){e.approvalIssueTokens=t.payload},setPayments:function(e,t){e.payments=t.payload},setDefaultPayment:function(e,t){e.defaultPayment=t.payload},setReservedNetworkFees:function(e,t){e.reservedNetworkFees=t.payload},addLimitOrderTransaction:function(e,t){var n,o,a=t.payload,i=a.accountId,s=a.networkId,l=a.limitOrder;e.limitOrderDetails||(e.limitOrderDetails={}),e.limitOrderDetails[i]||(e.limitOrderDetails[i]={});var c=null!=(n=null==(o=e.limitOrderDetails[i])?void 0:o[s])?n:[],d=[l].concat((0,r.default)(c));d.length>30&&(d.length=30),e.limitOrderDetails[i][s]=d},resetLimitOrderTransactions:function(e,t){var n=t.payload,r=n.accountId,o=n.networkId,a=n.limitOrders;e.limitOrderDetails||(e.limitOrderDetails={}),e.limitOrderDetails[r]||(e.limitOrderDetails[r]={}),e.limitOrderDetails[r][o]=a},deleteLimitOrderTransaction:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.orderHash;if(e.limitOrderDetails){var s=null==(n=e.limitOrderDetails[o])?void 0:n[a];s&&0!==s.length&&(s=s.filter((function(e){return e.orderHash!==i})),e.limitOrderDetails[o][a]=s)}},updateLimitOrderTransaction:function(e,t){var n,r,o,a=t.payload,i=a.orderHash,s=a.networkId,l=a.accountId,c=a.details,d=(null!=(n=null==(r=e.limitOrderDetails)||null==(o=r[l])?void 0:o[s])?n:[]).find((function(e){return e.orderHash===i}));d&&(c.remainingFillable&&(d.remainingFillable=c.remainingFillable),c.canceled&&(d.canceled=c.canceled))}}}),a=o.actions,i=a.addTransaction,s=a.updateTransaction,l=a.archiveTransaction,c=a.setTransactionViewed,d=a.clearTransactions,u=a.clearAccountTransactions,f=a.updateTokenList,p=a.setSwapMaintain,m=a.setLimitOrderMaintain,h=a.setSwapChartMode,g=a.setSwapFeePresetIndex,y=a.setSlippage,v=a.setCoingeckoIds,b=a.setRecommendedSlippage,x=a.setWrapperTokens,w=a.setApprovalIssueTokens,_=a.setPayments,k=a.setDefaultPayment,I=a.setReservedNetworkFees,j=a.addLimitOrderTransaction,O=a.resetLimitOrderTransactions,T=a.updateLimitOrderTransaction,S=a.deleteLimitOrderTransaction;const P=o.reducer},90184:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CValueLoading:()=>u,CValueNull:()=>f,default:()=>v,setAccountTokens:()=>g,setAccountTokensBalances:()=>y,setTokenPriceMap:()=>h,tokensSlice:()=>p});var r=n(984636),o=n.n(r),a=n(256666),i=n(909863),s=n(785695),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=void 0,f=null,p=(0,i.createSlice)({name:"tokens",initialState:{tokenPriceMap:{},accountTokens:{},accountTokensBalance:{}},reducers:{setTokenPriceMap:function(e,t){var n=t.payload,r=n.prices,o=n.vsCurrency;e.tokenPriceMap||(e.tokenPriceMap={}),Object.keys(r).forEach((function(t){var n,a=e.tokenPriceMap[t]||{};l()(a[o])!==l()(r[t][o])&&(e.tokenPriceMap[t]=d(d(d({},a),r[t]),{},((n={})[`updatedAt--${o}`]=Date.now(),n)))}))},setAccountTokens:function(e,t){var n=t.payload,r=n.accountId,a=n.networkId,i=n.tokens;r&&a&&(e.accountTokens[a]||(e.accountTokens[a]={}),e.accountTokens[a][r]=o()(i.filter((function(e,t,n){return!(!e.sendAddress&&n.some((function(t){return t.sendAddress&&t.address===e.address})))&&(!e.autoDetected||!n.some((function(t){return!t.autoDetected&&t.address===e.address})))})),(function(e){var t;return`${e.tokenIdOnNetwork}-${null!=(t=e.sendAddress)?t:""}`})))},setAccountTokensBalances:function(e,t){var n,r=t.payload,o=r.accountId,a=r.networkId,i=r.tokensBalance;if(o&&a){e.accountTokensBalance[a]||(e.accountTokensBalance[a]={});var s=e.accountTokensBalance[a][o]||{};s.main=null!=(n=s.main)?n:{balance:"0"},e.accountTokensBalance[a][o]=d(d({},s),i)}}}}),m=p.actions,h=m.setTokenPriceMap,g=m.setAccountTokens,y=m.setAccountTokensBalances;const v=p.reducer},149904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createLazyComponent:()=>l});var r=n(256666),o=n(202784),a=n(552322);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){var n=(t||{}).fallback,r=void 0===n?null:n,i=(0,o.lazy)(e);return function(e){return(0,a.jsx)(o.Suspense,{fallback:r,children:(0,a.jsx)(i,s({},e))})}}},686632:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EXT_HTML_FILES:()=>o,getExtensionIndexHtml:()=>a});var r=n(213208),o={background:"background.html",uiPopup:"ui-popup.html",uiExpandTab:"ui-expand-tab.html",uiStandAloneWindow:"ui-standalone-window.html"};function a(){return r.default.isExtensionBackgroundHtml?o.background:r.default.isExtensionUiPopup?o.uiPopup:r.default.isExtensionUiExpandTab?o.uiExpandTab:r.default.isExtensionUiStandaloneWindow?o.uiStandAloneWindow:o.uiExpandTab}},834298:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UI_HTML_DEFAULT_MIN_HEIGHT:()=>u,UI_HTML_DEFAULT_MIN_WIDTH:()=>d,default:()=>v,getExtensionIndexHtml:()=>c.getExtensionIndexHtml});var r,o=n(301842),a=n.n(o),i=n(634795),s=n(213208),l=n(827674),c=n(686632),d=375,u=600;function f(e,t){var n=t.routes,r=t.params,o=void 0===r?{}:r,a=[].concat(n).join("/"),i=new URLSearchParams(o).toString(),s=l.normalRouteWhiteList.find((function(e){return e.screen===a&&e.exact}));null!=s&&s.path&&(a=s.path.replace(/^\//g,""));var c="";return(a||i)&&(c=`#/${a||""}`,i&&(c=`${c}?${i||""}`)),chrome.runtime.getURL(`/${e}${c}`)}function p(){return(p=(0,i.default)((function*(e){return new Promise((function(t){chrome.tabs.get(e,t)}))}))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return h=(0,i.default)((function*(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a()(n.tabId)||(t=yield function(e){return p.apply(this,arguments)}(n.tabId)),new Promise((function(n){t&&t.id?chrome.tabs.update(t.id,{url:e,active:!0},n):chrome.tabs.create({url:e},n)}))})),h.apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e){var t=f("ui-expand-tab.html",e),n=yield m(t,{tabId:r});return r=null==n?void 0:n.id,n}))).apply(this,arguments)}function y(){return(y=(0,i.default)((function*(e){var t=f("ui-standalone-window.html",e),n=0,r=0;try{var o=yield browser.windows.getLastFocused();o&&o.top&&o.left&&o.width&&(r=o.top,n=o.left+(o.width-d))}catch(c){var a=window,i=a.screenX,s=a.screenY,l=a.outerWidth;r=Math.max(s,0),n=Math.max(i+(l-d),0)}return chrome.windows.create({focused:!0,type:"popup",height:u+50,width:d,url:t,top:r,left:n})}))).apply(this,arguments)}const v={openUrl:function(e){window.open(e,"_blank")},openUrlInTab:m,openExpandTab:function(e){return g.apply(this,arguments)},openStandaloneWindow:function(e){return y.apply(this,arguments)},updatBrowserActionIcon:function(e){var t,n,r,o,a=`icon-128${e?"":"-disable"}.png`;s.default.isManifestV3?null==(t=chrome)||null==(n=t.action)||n.setIcon({path:a}):null==(r=chrome)||null==(o=r.browserAction)||o.setIcon({path:a})}}},249831:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gotoScanQrcode:()=>c,handleScanResult:()=>l});var r=n(953150),o=n(493877),a=n(481047),i=n(574393),s=n(393072),l=function(e){var t={type:s.ScanSubResultCategory.TEXT,data:e};if(e.startsWith("https://")||e.startsWith("http://"))t.type=s.ScanSubResultCategory.URL;else if(e.startsWith(i.OneKeyMigrateQRCodePrefix))t.type=s.ScanSubResultCategory.MIGRATE;else if(/^wc:.+@.+\?.+/.test(e))return void r.default.openConnectToDappModal({uri:e});return t},c=function(e){(0,o.getAppNavigation)().navigate(a.RootRoutes.Modal,{screen:a.ModalRoutes.ScanQrcode,params:{screen:s.ScanQrcodeRoutes.ScanQrcode,params:e?{onScanCompleted:e}:void 0}})}},676222:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getDeviceFirmwareVersion:()=>a,getDeviceTypeByDeviceId:()=>o});var r=n(329503),o=function(e){return(0,r.getDeviceTypeByDeviceId)(e)},a=function(e){return e?e.onekey_version?e.onekey_version.split("."):[e.major_version,e.minor_version,e.patch_version]:[0,0,0]}},798820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getHomescreenData:()=>l,getHomescreenKeys:()=>s,homescreenTouch:()=>i,homescreensT1:()=>a});var r={default:{name:"default",staticPath:n(931664)},original:{name:"original",staticPath:n(488457)},circleweb:{name:"circleweb",staticPath:n(10956)},circuit:{name:"circuit",staticPath:n(367558)},starweb:{name:"starweb",staticPath:n(295779)},stars:{name:"stars",staticPath:n(68040)},bitcoin_b2:{name:"bitcoin_b2",staticPath:n(669424)},bitcoin_shade:{name:"bitcoin_shade",staticPath:n(411821)},bitcoin_b:{name:"bitcoin_b",staticPath:n(637511)},bitcoin_full:{name:"bitcoin_full",staticPath:n(959725)},bitcat:{name:"bitcat",staticPath:n(43708)},nyancat:{name:"nyancat",staticPath:n(595761)},coffee:{name:"coffee",staticPath:n(779004)},flower:{name:"flower",staticPath:n(326018)},saturn:{name:"saturn",staticPath:n(783693)},jupiter:{name:"jupiter",staticPath:n(306490)},einstein:{name:"einstein",staticPath:n(202523)},piggy:{name:"piggy",staticPath:n(951047)},honeybadger:{name:"honeybadger",staticPath:n(622219)},dragon:{name:"dragon",staticPath:n(528574)},narwal:{name:"narwal",staticPath:n(929046)},rabbit:{name:"rabbit",staticPath:n(424066)},bunny:{name:"bunny",staticPath:n(87964)},rooster:{name:"rooster",staticPath:n(283640)},genesis:{name:"genesis",staticPath:n(99721)},my_bank:{name:"my_bank",staticPath:n(862682)},candle:{name:"candle",staticPath:n(991314)},ancap:{name:"ancap",staticPath:n(274395)},anonymous:{name:"anonymous",staticPath:n(28811)},mushroom:{name:"mushroom",staticPath:n(282045)},invader:{name:"invader",staticPath:n(442863)},mtgox:{name:"mtgox",staticPath:n(172659)},electrum:{name:"electrum",staticPath:n(7e5)},mycelium:{name:"mycelium",staticPath:n(76454)},ethereum:{name:"ethereum",staticPath:n(562484)},litecoin:{name:"litecoin",staticPath:n(265133)},myetherwallet:{name:"myetherwallet",staticPath:n(998530)},zcash:{name:"zcash",staticPath:n(664638)},dash:{name:"dash",staticPath:n(905838)},bitcoin_cash:{name:"bitcoin_cash",staticPath:n(247763)},bitcoin_gold:{name:"bitcoin_gold",staticPath:n(105684)},vertcoin:{name:"vertcoin",staticPath:n(799445)},namecoin:{name:"namecoin",staticPath:n(803667)},monacoin:{name:"monacoin",staticPath:n(968014)},doge:{name:"doge",staticPath:n(498602)},digibyte:{name:"digibyte",staticPath:n(705081)},decred:{name:"decred",staticPath:n(9351)},multibit:{name:"multibit",staticPath:n(365741)},reddit:{name:"reddit",staticPath:n(522115)},hacker:{name:"hacker",staticPath:n(187628)},polis:{name:"polis",staticPath:n(35)},carlos:{name:"carlos",staticPath:n(738203)},xrc:{name:"xrc",staticPath:n(703777)}},o={"wallpaper-1":{name:"wallpaper-1",staticPath:n(161151)},"wallpaper-2":{name:"wallpaper-2",staticPath:n(358801)},"wallpaper-3":{name:"wallpaper-3",staticPath:n(557346)},"wallpaper-4":{name:"wallpaper-4",staticPath:n(556295)}},a=["default","original","circleweb","circuit","starweb","stars","bitcoin_b2","bitcoin_shade","bitcoin_b","bitcoin_full","bitcat","nyancat","coffee","flower","saturn","jupiter","einstein","piggy","honeybadger","dragon","narwal","rabbit","bunny","rooster","genesis","my_bank","candle","ancap","anonymous","mushroom","invader","mtgox","electrum","mycelium","ethereum","litecoin","myetherwallet","zcash","dash","bitcoin_cash","bitcoin_gold","vertcoin","namecoin","monacoin","doge","digibyte","decred","multibit","reddit","hacker","polis","carlos","xrc"],i=["wallpaper-1","wallpaper-2","wallpaper-3","wallpaper-4"],s=function(e){switch(e){case"classic":case"classic1s":case"mini":return a;case"touch":return i;default:return[]}},l=function(e){switch(e){case"classic1s":case"classic":case"mini":return s(e).reduce((function(e,t){return e[t]=r[t],e}),{});case"touch":return s(e).reduce((function(e,t){return e[t]=o[t],e}),{});default:return{}}}},302478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BleAlreadyConnectedError:()=>E,BleLocationServiceError:()=>C,BleScanError:()=>A,BleWriteCharacteristicError:()=>M,BridgeNetworkError:()=>w,BridgeTimeoutError:()=>_,BridgeTimeoutErrorForDesktop:()=>k,ConnectPollingStopError:()=>j,ConnectTimeout:()=>b,ConnectTimeoutError:()=>I,CustomOneKeyHardwareError:()=>r,DeviceBondError:()=>T,DeviceDataOverload:()=>m,DeviceNotBonded:()=>O,DeviceNotFind:()=>z,DeviceNotOpenedPassphrase:()=>p,DeviceNotSame:()=>V,DeviceOpenedPassphrase:()=>h,FileAlreadyExistError:()=>q,FirmwareDownloadFailed:()=>L,FirmwareUpdateAutoEnterBootFailure:()=>F,FirmwareUpdateLimitOneDevice:()=>U,FirmwareUpdateManuallyEnterBoot:()=>B,FirmwareVersionTooLow:()=>D,IncompleteFileError:()=>X,InitIframeLoadFail:()=>K,InitIframeTimeout:()=>G,InvalidPIN:()=>u,InvalidPassphrase:()=>f,NeedBluetoothPermissions:()=>P,NeedBluetoothTurnedOn:()=>S,NeedOneKeyBridge:()=>x,NetworkError:()=>$,NewFirmwareForceUpdate:()=>W,NewFirmwareUnRelease:()=>H,NotInBootLoaderMode:()=>N,NotInSigningModeError:()=>Y,NotSupportPassphraseError:()=>Z,OpenBlindSign:()=>R,UnknownHardwareError:()=>Q,UnknownMethod:()=>v,UserCancel:()=>g,UserCancelFromOutside:()=>y});var r,o=n(887371),a=n(545754),i=n(411987),s=n(695058),l=n(703599),c=n(940915);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}!function(e){e[e.NeedOneKeyBridge=3030]="NeedOneKeyBridge",e[e.NeedFirmwareUpgrade=4030]="NeedFirmwareUpgrade"}(r||(r={}));var u=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.PinInvalid,e.key="msg__hardware_invalid_pin_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),f=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DeviceCheckPassphraseStateError,e.key="msg__hardware_device_passphrase_state_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),p=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DeviceNotOpenedPassphrase,e.key="msg__hardware_not_opened_passphrase",e}return(0,o.default)(n)}(c.OneKeyHardwareError),m=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DataOverload,e.key="msg__hardware_params_bytes_overload",e}return(0,o.default)(n)}(c.OneKeyHardwareError),h=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DeviceOpenedPassphrase,e.key="msg__hardware_opened_passphrase",e}return(0,o.default)(n)}(c.OneKeyHardwareError),g=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.ActionCancelled,e.key="msg__hardware_user_cancel_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),y=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DeviceInterruptedFromOutside,e.key="msg__hardware_user_cancel_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),v=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.RuntimeError,e.key="msg__hardware_unknown_message_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),b=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).key="msg__hardware_connect_timeout_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),x=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).code=r.NeedOneKeyBridge,e.key="modal__need_install_onekey_bridge",e}return(0,o.default)(n)}(c.OneKeyHardwareError),w=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BridgeNetworkError,e.key="msg__hardware_bridge_network_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),_=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BridgeTimeoutError,e.key="msg__hardware_bridge_timeout",e}return(0,o.default)(n)}(c.OneKeyHardwareError),k=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BridgeTimeoutError,e.key="msg__hardware_bridge_timeout_for_desktop",e}return(0,o.default)(n)}(c.OneKeyHardwareError),I=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.PollingTimeout,e.key="msg__hardware_polling_connect_timeout_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),j=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.PollingStop,e.key="msg__hardware_polling_connect_timeout_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),O=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BleDeviceNotBonded,e.key="msg__hardware_bluetooth_not_paired_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),T=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BleDeviceBondError,e.key="msg__hardware_bluetooth_pairing_failed",e}return(0,o.default)(n)}(c.OneKeyHardwareError),S=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BlePermissionError,e.key="msg__hardware_bluetooth_need_turned_on_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),P=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BleLocationError,e.key="msg__hardware_bluetooth_requires_permission_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),C=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BleLocationServicesDisabled,e.key="msg__hardware_device_ble_location_disabled",e}return(0,o.default)(n)}(c.OneKeyHardwareError),M=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BleWriteCharacteristicError,e.key="msg__hardware_device_need_restart",e}return(0,o.default)(n)}(c.OneKeyHardwareError),A=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BleScanError,e.key="msg__hardware_device_ble_scan_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),E=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BleAlreadyConnected,e.key="msg__hardware_device_ble_already_connected",e}return(0,o.default)(n)}(c.OneKeyHardwareError),R=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.BlindSignDisabled,e.key="msg__hardware_open_blind_sign_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),D=function(e){(0,a.default)(n,e);var t=d(n);function n(e){var n;return(n=t.call(this,e,{0:"require"})).code=l.HardwareErrorCode.CallMethodNeedUpgradeFirmware,n.key="msg__hardware_version_need_upgrade_error",n}return(0,o.default)(n)}(c.OneKeyHardwareError),N=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DeviceUnexpectedBootloaderMode,e}return(0,o.default)(n)}(c.OneKeyHardwareError),L=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.FirmwareUpdateDownloadFailed,e.data={reconnect:!0},e.key="msg__hardware_firmware_download_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),B=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot,e.data={reconnect:!0},e.key="msg__hardware_manually_enter_boot",e}return(0,o.default)(n)}(c.OneKeyHardwareError),F=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure,e.data={reconnect:!0},e.key="msg__hardware_enter_boot_failure",e}return(0,o.default)(n)}(c.OneKeyHardwareError),U=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.FirmwareUpdateLimitOneDevice,e.data={reconnect:!0},e.key="modal__only_one_device_can_be_connected_desc",e}return(0,o.default)(n)}(c.OneKeyHardwareError),H=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.NewFirmwareUnRelease,e.data={reconnect:!0},e.key="msg__str_not_supported_by_hardware_wallets",e}return(0,o.default)(n)}(c.OneKeyHardwareError),W=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.NewFirmwareForceUpdate,e.key="msg__need_force_upgrade_firmware",e}return(0,o.default)(n)}(c.OneKeyHardwareError),V=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DeviceCheckDeviceIdError,e.key="msg__device_information_is_inconsistent_it_may_caused_by_device_reset",e}return(0,o.default)(n)}(c.OneKeyHardwareError),z=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.DeviceNotFound,e.data={reconnect:!0},e.key="msg__hardware_device_not_find_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),K=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.IFrameLoadFail,e.key="msg__hardware_init_iframe_load_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),G=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.IframeTimeout,e.key="msg__hardware_init_iframe_load_error",e}return(0,o.default)(n)}(c.OneKeyHardwareError),$=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.NetworkError,e.data={reconnect:!0},e.key="title__no_connection_desc",e}return(0,o.default)(n)}(c.OneKeyHardwareError),Z=function(e){(0,a.default)(n,e);var t=d(n);function n(e){var n;return(n=t.call(this,e,{0:"require"})).code=l.HardwareErrorCode.DeviceNotSupportPassphrase,n.key="msg__not_support_passphrase_need_upgrade",n}return(0,o.default)(n)}(c.OneKeyHardwareError),q=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.FileAlreadyExists,e.key="msg__file_already_exists",e}return(0,o.default)(n)}(c.OneKeyHardwareError),X=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.CheckDownloadFileError,e.key="msg__incomplete_file",e}return(0,o.default)(n)}(c.OneKeyHardwareError),Y=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=l.HardwareErrorCode.NotInSigningMode,e.key="msg__transaction_signing_error_not_in_signing_mode",e}return(0,o.default)(n)}(c.OneKeyHardwareError),Q=function(e){(0,a.default)(n,e);var t=d(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).data={reconnect:!0},e}return(0,o.default)(n)}(c.OneKeyHardwareError)},866880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{check:()=>w,checkImage:()=>x,compressHomescreen:()=>O,elementToHomescreen:()=>I,elementToImageData:()=>b,fileToBuffer:()=>v,fileToDataUrl:()=>y,formatBytes:()=>T,generateUploadResParams:()=>S,imageCache:()=>j,imageDataToHex:()=>_,isValid:()=>k});var r=n(256666),o=n(634795),a=n(968079),i=n(348834),s=n(84658),l=n(975869),c=n(888719),d=n(862065),u=n(292147);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m="homescreen-canvas",h=/^data:image\/(jpeg|png)/,g=function(e){return(0,a.default)(Array(e).keys())},y=function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(e){return n(e.target.result)},t.onerror=function(e){r(e)},t.readAsDataURL(e)}))},v=function(e){var t=new FileReader;return new Promise((function(n,r){t.onerror=function(e){r(e)},t.onload=function(e){var t,o=null==e||null==(t=e.target)?void 0:t.result;if(o&&"string"!==typeof o){var a=i.Buffer.from(o);return n(a)}r(new Error("FileReader readAsArrayBuffer failed, reader.result is not valid ArrayBuffer"))},t.readAsArrayBuffer(e)}))},b=function(e,t,n){var r=function(){var e=document.getElementById(m);if(null!=e&&e instanceof HTMLCanvasElement)return e;var t=document.createElement("canvas");t.id=m,t.style.visibility="hidden",t.style.position="absolute",t.style.height="0";var n=document.body;if(null==n)throw new Error("document.body is null");return n.appendChild(t),t}().getContext("2d");if(null==r)throw new Error("2D context is null");return r.clearRect(0,0,t,n),r.drawImage(e,0,0),r.getImageData(0,0,t,n)},x=function(e,t){if(64!==e.height)throw new Error("Not a correct height.");if(128!==e.width)throw new Error("Not a correct width.");var n=b(e,128,64);1===t&&g(n.height).forEach((function(e){g(n.width).forEach((function(t){var r=4*e*n.width+4*t,o=n.data[r],a=n.data[r+1],i=n.data[r+2];if(255!==n.data[r+3])throw new Error("Unexpected alpha.");var s=!1;if(0===o&&0===a&&0===i&&(s=!0),255===o&&255===a&&255===i&&(s=!0),!s)throw new Error(`wrong color combination ${o} ${a} ${i}.`)}))}))},w=function(e,t){return y(e).then((function(e){return function(e){var t=new Image;return new Promise((function(n,r){t.onload=function(){n(t)},t.onerror=function(e){r(e)},t.src=e}))}(e)})).then((function(e){return x(e,t)}))},_=function(e){return function(e,t,n){return g(t).map((function(t){return g(e/8).map((function(r){var o=g(8).map((function(n){return 4*(t*e+8*r+n)})).map((function(e){return 0===n.data[e]?"0":"1"})).join("");return String.fromCharCode(parseInt(o,2))})).join("")})).join("").split("").map((function(e){return e.charCodeAt(0)})).map((function(e){return 255&e})).map((function(e){return e.toString(16)})).map((function(e){return e.length<2?`0${e}`:e})).join("")}(128,64,e)},k=function(e){return!!e&&h.test(e)},I=function(e){var t=b(e,128,64),n=_(t);return function(){var e=document.getElementById(m);e&&e.remove()}(),n},j={};var O=function(){var e=(0,o.default)((function*(e,t,n,r,o){var a;if(e){var s=[{resize:{height:n}}],l=function(e,t,n,r){var o=Math.ceil(r/t*e);return o<=n?null:Math.ceil(Math.ceil(o/2)-Math.ceil(n/2))}(r,o,t,n);null!==l&&s.push({crop:{height:n,width:t,originX:l,originY:0}});var u=yield(0,c.manipulateAsync)(e,s,{compress:.9,format:d.SaveFormat.JPEG,base64:!0}),f=i.Buffer.from(null!=(a=u.base64)?a:"","base64"),m=new Uint8Array(f);return p(p({},u),{},{arrayBuffer:m})}}));return function(t,n,r,o,a){return e.apply(this,arguments)}}();function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";var n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/1024**r).toFixed(n))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}`}var S=function(){var e=(0,o.default)((function*(e,t,n){var r,o,a,i,c=yield O(e,480,800,t,n),d=yield O(e,144,240,t,n);if(null!=c&&c.arrayBuffer||null!=d&&d.arrayBuffer)return u.default.hardwareSDK.info("homescreen data byte length: ",T(null!=(r=null==c||null==(o=c.arrayBuffer)?void 0:o.byteLength)?r:0,3)),u.default.hardwareSDK.info("homescreen thumbnail byte length: ",T(null!=(a=null==d||null==(i=d.arrayBuffer)?void 0:i.byteLength)?a:0,3)),{resType:l.ResourceType.WallPaper,suffix:"jpeg",dataHex:(0,s.bytesToHex)(null==c?void 0:c.arrayBuffer),thumbnailDataHex:(0,s.bytesToHex)(null==d?void 0:d.arrayBuffer),nftMetaData:""}}));return function(t,n,r){return e.apply(this,arguments)}}()},432986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deviceUtils:()=>P,getDeviceTypeByDeviceId:()=>I.getDeviceTypeByDeviceId});var r=n(545455),o=n.n(r),a=n(669083),i=n(196234),s=n(256666),l=n(634795),c=n(887371),d=n(703599),u=(n(245565),n(197699)),f=n.n(u),p=n(327377),m=n(940915),h=n(799075),g=n(292147),y=n(213208),v=n(36085),b=n(961500),x=n(945821),w=n(446390),_=n(812301),k=n(302478),I=n(676222);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var O=1e3,T=1.5,S=null;const P=new(function(){function e(){this.connectedDeviceType="classic",this.scanMap={},this.searchIndex=0,this.tryCount=0,this.checkBonded=!1}var t=e.prototype;return t.getBleManager=function(){var e=(0,l.default)((function*(){return null}));return function(){return e.apply(this,arguments)}}(),t.startDeviceScan=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:15,i=null!=a?a:15,s=function(){var r=(0,l.default)((function*(){if(S)return yield S.promise,void g.default.hardwareSDK.info("search throttling, await search promise and return");var r;S=(0,d.createDeferred)(),t("start");try{var o;r=yield null==(o=x.default.serviceHardware)?void 0:o.searchDevices()}finally{var a;null==(a=S)||a.resolve(),S=null,g.default.hardwareSDK.info("search finished, reset searchPromise")}return e(r),n.tryCount+=1,t("stop"),r}));return function(){return r.apply(this,arguments)}}(),c=function(){var e=(0,l.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;if(n.scanMap[t]){if(!(n.tryCount>i))return yield s(),new Promise((function(n){return setTimeout((function(){return n(c(e*r,t,r))}),e)}));n.stopScan()}}));return function(){return e.apply(this,arguments)}}();this.searchIndex+=1,this.scanMap[this.searchIndex]=!0;var u=y.default.isNativeAndroid?2e3:null!=o?o:O,f=null!=r?r:T;c(u,this.searchIndex,f)},t.stopScan=function(){var e=this;Object.keys(this.scanMap).forEach((function(t){return e.scanMap[t]=!1})),this.tryCount=0},t.syncDeviceConnectStatus=function(){var e=(0,l.default)((function*(){if(S)return yield S.promise,void g.default.hardwareSDK.info("sync device connect status throttling, await search promise and return");S=(0,d.createDeferred)();try{yield x.default.serviceHardware.searchDevices()}finally{S.resolve(),S=null}}));return function(){return e.apply(this,arguments)}}(),t.checkDeviceBonded=function(){var e=(0,l.default)((function*(e){var t=this,n=0,r=function(){var o=(0,l.default)((function*(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;if(t.checkBonded)return n+=1,!!(yield t.getBondedDevices()).find((function(t){return(0,b.equalsIgnoreCase)(t.id,e)}))?(t.checkBonded=!1,Promise.resolve(!0)):n>5?(t.checkBonded=!1,Promise.resolve(!1)):new Promise((function(e){return setTimeout((function(){return e(r(4500))}),o)}))}));return function(){return o.apply(this,arguments)}}();return this.checkBonded=!0,r()}));return function(t){return e.apply(this,arguments)}}(),t.getBondedDevices=function(){var e=(0,l.default)((function*(){var e=yield this.getBleManager();return e?(yield e.getBondedPeripherals()).map((function(e){var t=e.id,n=e.name,r=e.advertising;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t,name:n},void 0===r?{}:r)})):[]}));return function(){return e.apply(this,arguments)}}(),t.stopCheckBonded=function(){this.checkBonded=!1},t.delayShowHardwarePopup=function(e){var t=e.uiRequest,n=e.payload,r=e.content;setTimeout((function(){(0,w.default)({uiRequest:t,payload:n,content:r})}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:500)},t.checkTouchNeedUpdateResource=function(){var e=(0,l.default)((function*(e,t){var n=(0,(yield(0,h.CoreSDKLoader)()).getDeviceType)(e),r=t.version,o=t.fullResourceRange,a=void 0===o?["3.5.0","3.5.0"]:o;if("touch"!==n)return{error:null,needUpdate:!1};var s=(0,I.getDeviceFirmwareVersion)(e).join("."),l=r.join("."),c=(0,i.default)(a,2),d=c[0],u=c[1];return f().lt(s,d)&&f().gte(l,u)?{error:"USE_DESKTOP",needUpdate:!0,minVersion:d,limitVersion:u}:{error:null,needUpdate:!1}}));return function(t,n){return e.apply(this,arguments)}}(),t.showErrorToast=function(e,t){g.default.common.info("record showErrorToast handle error:",(0,v.toPlainErrorObject)(e)),console.error("deviceUtils.showErrorToast ERROR: ",e);try{var n=e||{},r=n.className,i=n.key,s=n.code,l=n.info,c=n.message;if(s===d.HardwareErrorCode.DeviceInterruptedFromOutside)return!1;if(s===k.CustomOneKeyHardwareError.NeedOneKeyBridge)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_ONEKEY_BRIDGE}),!0;if(r===m.OneKeyErrorClassNames.OneKeyHardwareError){var u=(e||{}).data,f=(0,p.formatMessage)({id:i},null!=l?l:{}),h=u||{},y=h.connectId,b=h.deviceId;if(y&&s===d.HardwareErrorCode.NewFirmwareForceUpdate)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_FORCE_UPGRADE_FIRMWARE,payload:{deviceId:b,deviceConnectId:y},content:f}),!0;if(y&&b){if(s===d.HardwareErrorCode.CallMethodNeedUpgradeFirmware||s===d.HardwareErrorCode.DeviceNotSupportPassphrase)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_UPGRADE_FIRMWARE,payload:{deviceId:b,deviceConnectId:y},content:f}),!0;if(s===d.HardwareErrorCode.DeviceOpenedPassphrase)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_CLOSE_PASSPHRASE,payload:{deviceId:b,deviceConnectId:y},content:f}),!0;if(s===d.HardwareErrorCode.DeviceNotOpenedPassphrase)return this.delayShowHardwarePopup({uiRequest:_.CUSTOM_UI_RESPONSE.CUSTOM_NEED_OPEN_PASSPHRASE,payload:{deviceId:b,deviceConnectId:y},content:f}),!0}if(f)return a.default.show({title:f},{type:"error"}),!0}else{var x,w=["msg__engine__internal_error","onekey_error"];if(i&&!w.includes(i)?x=(0,p.formatMessage)({id:i},l):t?x=(0,p.formatMessage)({id:t},l):w.includes(i)&&c&&!o()(c)?x=c:i&&"onekey_error"!==i&&(x=(0,p.formatMessage)({id:i},l)),x)return a.default.show({title:x},{type:"error"}),!0}}catch(I){g.default.common.info("record showErrorToast unexpected error:","unexpected error:",(0,v.toPlainErrorObject)(I),"handle error:",(0,v.toPlainErrorObject)(e))}return!1},t.convertDeviceError=function(e){var t,n=e||{},r=n.code,o=n.error,a=n.message,i=null!=(t=null!=o?o:a)?t:"Unknown error";if(this.caputureSpecialError(r,i))return this.caputureSpecialError(r,i);switch(g.default.hardwareSDK.info("Device Utils Convert Device Error:",r,i),r){case d.HardwareErrorCode.UnknownError:return new k.UnknownHardwareError(e);case d.HardwareErrorCode.DeviceFwException:return new k.FirmwareVersionTooLow(e);case d.HardwareErrorCode.DeviceUnexpectedMode:return"string"===typeof i&&-1!==i.indexOf("ui-device_bootloader_mode")?new k.NotInBootLoaderMode(e):new k.UnknownHardwareError(e);case d.HardwareErrorCode.DeviceCheckDeviceIdError:return new k.DeviceNotSame(e);case d.HardwareErrorCode.DeviceNotFound:return new k.DeviceNotFind(e);case d.HardwareErrorCode.DeviceUnexpectedBootloaderMode:return new k.NotInBootLoaderMode(e);case d.HardwareErrorCode.DeviceInterruptedFromOutside:case d.HardwareErrorCode.DeviceInterruptedFromUser:return new k.UserCancelFromOutside(e);case d.HardwareErrorCode.DeviceNotSupportPassphrase:return new k.NotSupportPassphraseError(e);case d.HardwareErrorCode.IFrameLoadFail:return new k.InitIframeLoadFail(e);case d.HardwareErrorCode.IframeTimeout:return new k.InitIframeTimeout(e);case d.HardwareErrorCode.FirmwareUpdateDownloadFailed:return new k.FirmwareDownloadFailed(e);case d.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot:return new k.FirmwareUpdateManuallyEnterBoot(e);case d.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure:return new k.FirmwareUpdateAutoEnterBootFailure(e);case d.HardwareErrorCode.FirmwareUpdateLimitOneDevice:return new k.FirmwareUpdateLimitOneDevice(e);case d.HardwareErrorCode.CallMethodNeedUpgradeFirmware:return new k.FirmwareVersionTooLow(e);case d.HardwareErrorCode.NewFirmwareUnRelease:return new k.NewFirmwareUnRelease(e);case d.HardwareErrorCode.NewFirmwareForceUpdate:return new k.NewFirmwareForceUpdate(e);case d.HardwareErrorCode.NetworkError:return new k.NetworkError(e);case d.HardwareErrorCode.BlePermissionError:return new k.NeedBluetoothTurnedOn(e);case d.HardwareErrorCode.BleLocationError:return new k.NeedBluetoothPermissions({message:i});case d.HardwareErrorCode.BleLocationServicesDisabled:return new k.BleLocationServiceError({message:i});case d.HardwareErrorCode.BleDeviceNotBonded:return new k.DeviceNotBonded(e);case d.HardwareErrorCode.BleDeviceBondError:return new k.DeviceBondError(e);case d.HardwareErrorCode.BleWriteCharacteristicError:return new k.BleWriteCharacteristicError(e);case d.HardwareErrorCode.BleScanError:return new k.BleScanError({message:i});case d.HardwareErrorCode.BleAlreadyConnected:return new k.BleAlreadyConnectedError(e);case d.HardwareErrorCode.RuntimeError:return-1!==i.indexOf("EIP712 blind sign is disabled")?new k.OpenBlindSign(e):-1!==i.indexOf("Unknown message")||-1!==i.indexOf("Failure_UnexpectedMessage")?new k.UnknownMethod(e):new k.UnknownHardwareError(e);case d.HardwareErrorCode.PinInvalid:return new k.InvalidPIN(e);case d.HardwareErrorCode.DeviceCheckPassphraseStateError:return new k.InvalidPassphrase(e);case d.HardwareErrorCode.DeviceOpenedPassphrase:return new k.DeviceOpenedPassphrase(e);case d.HardwareErrorCode.DeviceNotOpenedPassphrase:return new k.DeviceNotOpenedPassphrase(e);case d.HardwareErrorCode.PinCancelled:case d.HardwareErrorCode.ActionCancelled:return new k.UserCancel(e);case d.HardwareErrorCode.BridgeNotInstalled:case k.CustomOneKeyHardwareError.NeedOneKeyBridge:return new k.NeedOneKeyBridge(e);case d.HardwareErrorCode.BridgeNetworkError:return new k.BridgeNetworkError(e);case d.HardwareErrorCode.BridgeTimeoutError:return new k.BridgeTimeoutError(e);case d.HardwareErrorCode.PollingTimeout:return new k.ConnectTimeoutError(e);case d.HardwareErrorCode.BlindSignDisabled:return new k.OpenBlindSign(e);case d.HardwareErrorCode.FileAlreadyExists:return new k.FileAlreadyExistError(e);case d.HardwareErrorCode.CheckDownloadFileError:return new k.IncompleteFileError(e);case d.HardwareErrorCode.NotInSigningMode:return new k.NotInSigningModeError(e);default:return new k.UnknownHardwareError(e)}},t.caputureSpecialError=function(e,t){return"string"!==typeof t?null:e===d.HardwareErrorCode.DeviceInitializeFailed&&t.includes("ECONNABORTED")?new k.ConnectTimeoutError({message:t}):t.includes("Bridge network error")?new k.BridgeNetworkError({message:t}):null},t.detectIsPublicBetaTouch=function(e,t){if(!e)return!1;var n=e.slice(0,2),r=e.slice(7,15),o=Number(r);return"TC"===(null==n||null==n.toUpperCase?void 0:n.toUpperCase())&&!!(o<20221020&&f().gt("3.3.0",null!=t?t:"3.3.0"))},(0,c.default)(e)}())},776553:(e,t,n)=>{"use strict";n.r(t),n.d(t,{generateUUID:()=>y,getTimeDurationMs:()=>m,getTimeStamp:()=>i,hexlify:()=>v,isHexString:()=>b,removeTrailingZeros:()=>x,sleepUntil:()=>w,timeout:()=>g,wait:()=>h});var r=n(717254),o=n(967640),a=n(636393),i=function(){return(0,r.default)(new Date)},s=1e3,l=60*s,c=60*l,d=24*c,u=7*d,f=31*d,p=365*d;function m(e){var t=e.seconds,n=void 0===t?0:t,r=e.minute,o=void 0===r?0:r,a=e.hour,i=void 0===a?0:a,m=e.day,h=void 0===m?0:m,g=e.week,y=void 0===g?0:g,v=e.month,b=void 0===v?0:v,x=e.year;return n*s+o*l+i*c+h*d+y*u+b*f+(void 0===x?0:x)*p}var h=function(e){return new Promise((function(t){setTimeout(t,e)}))},g=function(e,t,n){return new Promise((function(r,o){setTimeout((function(){return o(new Error(n||"Timeout"))}),t),e.then((function(e){return r(e)})).catch((function(e){return o(e)}))}))},y=function(){return a.default.v4()},v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.hexlify.apply(o.hexlify,t)},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.isHexString.apply(o.isHexString,t)},x=function(e){var t=e.toString().split(".");if(t.length>1){var n=t[1].replace(/0+$/,"");return n.length>0?`${t[0]}.${n}`:t[0]}return e.toString()},w=function(e){var t=e.conditionFn,n=e.until;return new Promise((function(e){var r=Date.now();!function o(){t()||Date.now()-r>n?e(!0):setTimeout(o,100)}()}))}},854341:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getPassword:()=>i,hasHardwareSupported:()=>r,localAuthenticate:()=>o,savePassword:()=>a});var r=function(){return new Promise((function(e){e(!1)}))},o=function(){return Promise.resolve({success:!1,error:"no supported"})},a=function(e){return Promise.resolve()},i=function(){return Promise.resolve(null)}},929377:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getDefaultLocale:()=>s});var r=n(533675),o=n(221121),a=n(396564),i=o.LOCALES_OPTION.map((function(e){return e.value})),s=(0,a.memoizee)((function(){for(var e=r.locale,t=0;t<i.length;t+=1){var n=i[t];if(n===e)return n}for(var o=0;o<i.length;o+=1){var a=i[o];if(e.split("-")[0]===e)return a}for(var s=0;s<i.length;s+=1){var l=i[s],c=e.split("-")[0];if(l.startsWith(c))return l}return i[0]}))},627009:(e,t,n)=>{"use strict";n.r(t),n.d(t,{openDapp:()=>s,openUrl:()=>i,openUrlByWebview:()=>a,openUrlExternal:()=>l});n(807688),n(213208);var r=n(493877),o=n(481047),a=(n(633416),function(e,t,n){var a;(0,r.getAppNavigation)().navigate(o.RootRoutes.Modal,{screen:o.ModalRoutes.Webview,params:{url:e,title:t,modalMode:null==(a=null==n?void 0:n.modalMode)||a}})}),i=function(e,t,n){window.open(e,"_blank")},s=function(e){window.open(e,"_blank")},l=function(e){window.open(e,"_blank")}},793525:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FULLWINDOW_OVERLAY_PORTAL:()=>d,showDialog:()=>f,showOverlay:()=>u});var r=n(912436),o=n.n(r),a=n(202784),i=n(46486),s=n(824931),l=n(355231),c=n(552322),d="Root-FullWindowOverlay",u=o()((function(e){var t,n=function(){var e;null==(e=t)||e.destroy(),t=null};return setTimeout((function(){var r=(0,c.jsx)(s.default,{pointerEvents:"box-none",style:i.default.absoluteFill,children:e(n)});t=(0,l.renderToPortal)(d,r)})),n}),500,{leading:!0,trailing:!1}),f=function(e){return u((function(t){return(0,a.cloneElement)(e,{onClose:function(){null==e.props.onClose||e.props.onClose(),t()}})}))}},840248:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateGains:()=>s,formatAmount:()=>p,getPreBaseValue:()=>u,getSuggestedDecimals:()=>l,getSummedValues:()=>f,getTokenValue:()=>c,getTokenValues:()=>d});var r=n(206391),o=n.n(r),a=n(134662),i=n(516535);function s(e){var t=e.basePrice,n=e.price,r="text-subdued",a="surface-neutral-subdued",s=new(o())("string"===typeof n?+n:null!=n?n:0),l=s.minus(null!=t?t:0);if(s.isNaN()||l.isNaN())return{gain:0,gainNumber:0,gainText:"0.00",percentageGain:"0.00%",isPositive:!1,gainTextColor:r,gainTextBg:a};var c=l.toNumber(),d=c>=0,u=t?l.dividedBy(t).multipliedBy(100).toNumber():0;return d?(r="text-success",a="surface-success-default"):(r="text-critical",a="surface-critical-default"),{gain:l,gainNumber:c,gainText:d?`+${(0,i.formatDecimalZero)(c)}`:(0,i.formatDecimalZero)(c),gainTextColor:r,gainTextBg:a,percentageGain:u=d?`+${u.toFixed(2)}%`:`${u.toFixed(2)}%`,isPositive:d}}function l(e){return e<1?Math.min(8,e.toString().slice(2).slice().search(/[^0]/g)+3):2}function c(e){var t=e.token,n=e.price,r=(e.balances[(0,a.getBalanceKey)(t)]||{balance:"0"}).balance;if(void 0!==r){var i=new(o())(n||0);return new(o())(r).times(i)}}function d(e){var t=e.tokens,n=e.prices,r=e.balances,i=e.vsCurrency;return t.map((function(e){var t,s=null!=e&&e.tokenIdOnNetwork?`${null==e?void 0:e.networkId}-${e.tokenIdOnNetwork}`:null!=(t=null==e?void 0:e.networkId)?t:"",l=(r[(0,a.getBalanceKey)(e)]||{balance:0}).balance;if(void 0!==l){var c,d,u=new(o())(0);if(null!=n&&n[s])if("number"===typeof(null==n?void 0:n[s]))u=new(o())((null==n?void 0:n[s])||0);else u=new(o())((null==n||null==(d=n[s])?void 0:d[i])||0);return new(o())(l).times(null!=(c=u)?c:0)}return new(o())(0)}))}function u(e){var t=e.priceInfo,n=e.vsCurrency,r=void 0===n?"usd":n,a=new(o())((null==t?void 0:t[`${r}_24h_change`])||0),i=new(o())((null==t?void 0:t[r])||0),s={};return s[r]=i.dividedBy(a.plus(100)).times(100).toNumber(),s}function f(e){var t=e.tokens,n=e.prices,r=e.balances,a=e.vsCurrency,i=void 0===a?"usd":a,s=e.hideSmallBalance,l=void 0!==s&&s;return r&&!Object.values(r).every((function(e){return"undefined"===typeof e}))&&n?d({tokens:t,prices:n,balances:r,vsCurrency:i}).reduce((function(e,t){return t.isNaN()||l&&t.isLessThan(1)?e:e.plus(t)}),new(o())(0)):new(o())(NaN)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return"";var r=new(o())(e);return r.isNaN()?"":r.decimalPlaces(t,n).toFixed()}},674519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createDeepEqualSelector:()=>s});var r=n(818149),o=n.n(r),a=n(560985),i=n(715655),s=(0,a.createSelectorCreator)(i.defaultMemoize,o())},593104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getAppRootTabInfoOfTab:()=>g,getCurrentAppRootTabStackRoutes:()=>y,getCurrentModalRouteData:()=>d,getRootRoute:()=>p,getRootTabRoute:()=>m,getRootTabRouteState:()=>h,isAtAppRootTab:()=>v,isModalRouteExisting:()=>u,isSendModalRouteExisting:()=>f,useIsAtHomeTab:()=>b});var r=n(256666),o=n(733950),a=n(481047);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(){var e,t,r,o,a,i,s,l,c;return null==(e=n.g)||null==(t=e.$navigationRef)||null==(r=t.current)||null==r.getRootState||null==(o=r.getRootState())||null==(a=o.routes)||null==(i=a[0])||null==(s=i.state)||null==(l=s.routes)||null==(c=l[0])?void 0:c.state}function c(){var e=l();if(e&&void 0!==e.index)return e.routes[e.index]}function d(){var e,t,r,o,i,l=null==(e=n.g)||null==(t=e.$navigationRef)||null==(r=t.current)||null==(o=r.getRootState())||null==(i=o.routes)?void 0:i.find((function(e){return(null==e?void 0:e.name)===a.RootRoutes.Modal}));if(l){var c=null==l?void 0:l.params;return s(s({},l),{},{params:c})}}function u(){var e;return Boolean(null==(e=d())?void 0:e.key)}function f(){var e,t=d();return(null==t||null==(e=t.params)?void 0:e.screen)===a.ModalRoutes.Send}function p(){var e,t,r,o,a;return null==(e=n.g)||null==(t=e.$navigationRef)||null==(r=t.current)||null==r.getState||null==(o=r.getState())||null==(a=o.routes)?void 0:a[0]}function m(){var e,t,n;return null==(e=p())||null==(t=e.state)||null==(n=t.routes)?void 0:n[0]}function h(){var e;return null==(e=m())?void 0:e.state}function g(e){var t=l();if(t&&t.routes)return t.routes.find((function(t){return t.name===e}))}function y(){var e,t=c();return null==t||null==(e=t.state)?void 0:e.routes}function v(e){var t=c();return!!(t&&t.name&&e)&&t.name===e}function b(e){return(0,o.useHomeTabName)()===e}n.g.$$isAtAppRootTab=v,n.g.$$getCurrentAppRootTabStackRoutes=y,n.g.$$getCurrentModalRouteData=d,n.g.$$getAppRootTabInfoOfTab=g},358499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});n(669083);var r=n(634795),o=n(887371),a=n(15100),i=n(807688),s=n(197699),l=n.n(s),c=(n(327377),n(945821)),d=n(380845),u=n(586685),f=n(821919),p=n(776553),m=n(292147),h=n(213208),g=n(929377),y=n(789644),v=n.n(y);function b(e){var t=e.miniVersion,n=e.minVersion;return t?t.join("."):n?n.join("."):void 0}function x(e){var t=[],n=[],r=[],o=[],a=[];if(null!=e&&e.ios){var i=b(e.ios),s=e.ios,l=s.url,c=s.version;o.push({os:"ios",channel:"AppStore",download:l,version:c.join("."),forceUpdateVersion:i})}if(null!=e&&e.android){var d=b(e.android);if(e.android.google){var u=e.android.google,f=u.url,p=u.version;t.push({os:"android",channel:"GooglePlay",download:f,version:p.join("."),forceUpdateVersion:d})}if(e.android.huawei){var m=e.android.huawei,h=m.url,g=m.version;t.push({os:"android",channel:"HuaweiAppGallery",download:h,version:g.join("."),forceUpdateVersion:d})}if(e.android.url){var y=e.android,v=y.url,x=y.version;t.push({os:"android",channel:"Direct",download:v,version:x.join("."),forceUpdateVersion:d})}}if(null!=e&&e.desktop){var w=b(e.desktop);if(e.desktop.linux&&r.push({os:"linux",channel:"Direct",download:e.desktop.linux,version:e.desktop.version.join("."),forceUpdateVersion:w}),e.desktop.snapStore){var _=e.desktop.snapStore,k=_.url,I=_.version;r.push({os:"linux",channel:"LinuxSnap",download:k,version:I.join("."),forceUpdateVersion:w})}if(e.desktop.macX64&&r.push({os:"macos-x64",channel:"Direct",download:e.desktop.macX64,version:e.desktop.version.join("."),forceUpdateVersion:w}),e.desktop.macARM&&r.push({os:"macos-arm64",channel:"Direct",download:e.desktop.macARM,version:e.desktop.version.join("."),forceUpdateVersion:w}),e.desktop.win&&r.push({os:"win",channel:"Direct",download:e.desktop.win,version:e.desktop.version.join("."),forceUpdateVersion:w}),e.desktop.msStore){var j=e.desktop.msStore,O=j.url,T=j.version;r.push({os:"win",channel:"MsWindowsStore",download:O,version:T.join("."),forceUpdateVersion:w})}if(e.desktop.mas){var S=e.desktop.mas,P=S.url,C=S.version;r.push({os:"mas",channel:"AppStore",download:P,version:C.join("."),forceUpdateVersion:w})}}if(null!=e&&e.ext){var M=b(e.ext);e.ext.chrome&&n.push({os:"chrome",channel:"ChromeWebStore",download:e.ext.chrome,version:null!=M?M:"0.0.0",forceUpdateVersion:M}),e.ext.firefox&&n.push({os:"firefox",channel:"MozillaAddOns",download:e.ext.firefox,version:null!=M?M:"0.0.0",forceUpdateVersion:M}),e.ext.edge&&n.push({os:"edge",channel:"EdgeWebStore",download:e.ext.edge,version:null!=M?M:"0.0.0",forceUpdateVersion:M})}if(null!=e&&e.web){var A=b(e.web);a.push({os:"website",channel:"Direct",download:"https://app.onekey.so",version:null!=A?A:"0.0.0",forceUpdateVersion:A})}return{ios:o,android:t,extension:n,desktop:r,web:a}}function w(){return(w=(0,r.default)((function*(){var e=Math.random().toString();return v().get(`https://data.onekey.so/config.json?nocache=${e}`).then((function(e){return x(e.data)}))}))).apply(this,arguments)}function _(){return(_=(0,r.default)((function*(){var e=Math.random().toString();return v().get(`https://data.onekey.so/pre-config.json?nocache=${e}`).then((function(e){return x(e.data)}))}))).apply(this,arguments)}function k(){return(k=(0,r.default)((function*(e,t,n){var r=Math.random().toString(),o="https://data.onekey.so/config.json";return n&&(o="https://data.onekey.so/pre-config.json"),v().get(`${o}?nocache=${r}`).then((function(e){var n,r;return null!=(n=null==(r=e.data.changelog.find((function(e){return e.version===t})))?void 0:r.locale)?n:void 0})).catch((function(){}))}))).apply(this,arguments)}const I=new(function(){function e(){this.addedListener=!1}var t=e.prototype;return t.checkUpdate=function(){var e=c.default.dispatch;return this.checkAppUpdate().then((function(t){var n=[(0,u.setLastCheckTimestamp)((0,p.getTimeStamp)())];return t&&(n.push((0,u.enable)()),n.push((0,u.available)(t))),null!=t&&t.forceUpdate?n.push((0,f.setForceUpdateVersionInfo)(t)):n.push((0,f.setForceUpdateVersionInfo)(void 0)),e.apply(void 0,n),t}))},t.checkAppUpdate=function(){var e=(0,r.default)((function*(){var e=yield this.getPackageInfo().catch((function(){var e,t,n;return null==(e=d.default.getState().settings)||null==(t=e.softwareUpdate)||null==(n=t.forceUpdateVersionInfo)?void 0:n.package}));if(e){var t,n;if(!e)return;var r=null!=(t=d.default.getState().settings.version)?t:"0.0.0",o=l().gt(e.version,r),a=l().gt(null!=(n=e.forceUpdateVersion)?n:"0.0.0",r);return o||a?{package:e,forceUpdate:a}:void 0}}));return function(){return e.apply(this,arguments)}}(),t.getPackageInfo=function(){var e=(0,r.default)((function*(){var e,t,n,r,o,a=d.default.getState().settings.devMode||{},i=a.enable,s=a.preReleaseUpdate;if(e=i&&s?yield function(){return _.apply(this,arguments)}():yield function(){return w.apply(this,arguments)}(),h.default.isNativeAndroid){var l,c,u="Direct";h.default.isNativeAndroidHuawei?u="HuaweiAppGallery":h.default.isNativeAndroidGooglePlay&&(u="GooglePlay"),null==(l=e)||null==(c=l.android)?void 0:c.find((function(e){return"android"===e.os&&e.channel===u}))}h.default.isNativeIOS&&(null==(t=e)||null==(n=t.ios)||n.find((function(e){return"ios"===e.os})));return null==(r=e)||null==(o=r.web)?void 0:o.find((function(e){return"website"===e.os}))}));return function(){return e.apply(this,arguments)}}(),t.checkDesktopUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m.default.autoUpdate.debug("check desktop update"),window.desktopApi.checkForUpdates(e)},t.openAppUpdate=function(e){var t=this;switch(e.package.channel){case"AppStore":(0,i.canOpenURL)("itms-apps://").then((function(n){n?(0,i.openURL)("itms-apps://itunes.apple.com/app/id1609559473"):t._openUrl(e.package.download)}));break;case"GooglePlay":(0,i.canOpenURL)("market://details?id=so.onekey.app.wallet").then((function(t){t?(0,i.openURL)("market://details?id=so.onekey.app.wallet"):(0,i.openURL)(e.package.download)}));break;case"HuaweiAppGallery":(0,i.canOpenURL)("hiapplink://com.huawei.appmarket?appId=C107439249").then((function(e){return e?((0,i.openURL)("hiapplink://com.huawei.appmarket?appId=C107439249"),null):(0,i.canOpenURL)("market://details?id=so.onekey.app.wallet")})).then((function(t){if(!t)return null;t?(0,i.openURL)("market://details?id=so.onekey.app.wallet"):(0,i.openURL)(e.package.download)}));break;case"MsWindowsStore":(0,i.canOpenURL)("ms-windows-store://pdp/?productid=XPFMHZDDF91TNL").then((function(t){return t?(0,i.openURL)("ms-windows-store://pdp/?productid=XPFMHZDDF91TNL"):(0,i.openURL)(e.package.download)}));break;default:this._openUrl(e.package.download)}},t.getChangeLog=function(){var e=(0,r.default)((function*(e,t){var n,r=d.default.getState().settings.devMode||{},o=r.enable,a=r.preReleaseUpdate,i=o&&a,s=yield function(e,t,n){return k.apply(this,arguments)}(e,t,i);if(s){var l=null!=(n=d.default.getState().settings.locale)?n:"en-US";return"system"===l&&(l=(0,g.getDefaultLocale)()),s[l]}}));return function(t,n){return e.apply(this,arguments)}}(),t._openUrl=function(e){window.open(e,"_blank")},t.skipVersionCheck=function(e){var t,n=null!=(t=d.default.getState().settings.updateSetting)?t:{},r=n.updateLatestVersion,o=void 0===r?null:r,i=n.updateLatestTimeStamp,s=void 0===i?null:i;return m.default.autoUpdate.debug("skipVersionCheck params updateLatestVersion: ",o," , updateLatestTimeStamp: ",s," , version: ",e),o&&l().valid(o)&&l().valid(e)&&l().eq(o,e)&&s&&(0,a.default)((0,p.getTimeStamp)(),s)<7?(m.default.autoUpdate.debug("Last operation within 7 days, skip check"),!0):(m.default.autoUpdate.debug("should not skip check version"),!1)},t.addUpdaterListener=function(){if(!this.addedListener);},(0,o.default)(e)}())},239594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{parseUriScheme:()=>l});var r=n(256666),o=n(900883),a=n(292147);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){try{var t=(0,o.parse)(e).protocol;if("bitcoin:"===t||"bitcoincash:"===t){var n=function(e){try{var t=new URL(e);return{address:t.pathname,amount:t.searchParams.get("amount")||"",label:t.searchParams.get("label")||"",message:t.searchParams.get("message")||""}}catch(n){throw new Error(`parseBitcoinUri : ${e}`)}}(e);return s(s({},n),{},{protocol:t})}if("ethereum:"===t){var r=function(e){try{var t=new URL(e);return{address:t.pathname,contractAddress:t.searchParams.get("contractAddress")||"",data:t.searchParams.get("data")||"",gas:t.searchParams.get("gas")||""}}catch(n){throw new Error(`parseEthereumUri : ${e}`)}}(e);return s(s({},r),{},{protocol:t})}return!1}catch(i){return a.default.common.error(i),!1}}},124241:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decode:()=>f,disableWebAuthn:()=>x,enableWebAuthn:()=>b,encode:()=>u,isContextSupportWebAuthn:()=>h,isMac:()=>m,isSupportedPlatform:()=>p,isUserVerifyingPlatformAuthenticatorAvailable:()=>g,webAuthenticate:()=>w});for(var r,o,a=n(634795),i=(n(213208),n(945821)),s=n(821919),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",c=new Uint8Array(256),d=0;d<64;d++)c[l.charCodeAt(d)]=d;var u=function(e){for(var t=new Uint8Array(e),n=t.length,r="",o=0;o<n;o+=3)r+=l[t[o]>>2],r+=l[(3&t[o])<<4|t[o+1]>>4],r+=l[(15&t[o+1])<<2|t[o+2]>>6],r+=l[63&t[o+2]];return n%3===2?r=r.substring(0,r.length-1):n%3===1&&(r=r.substring(0,r.length-2)),r},f=function(e){for(var t=e.length,n=.75*e.length,r=new ArrayBuffer(n),o=new Uint8Array(r),a=0,i=0;i<t;i+=4){var s=c[e.charCodeAt(i)],l=c[e.charCodeAt(i+1)],d=c[e.charCodeAt(i+2)],u=c[e.charCodeAt(i+3)];o[a++]=s<<2|l>>4,o[a++]=(15&l)<<4|d>>2,o[a++]=(3&d)<<6|63&u}return r},p=!1,m=function(){return navigator.platform.toUpperCase().indexOf("MAC")>=0},h=Boolean(p&&(null==(r=n.g)||null==(o=r.navigator)?void 0:o.credentials)),g=function(){var e=(0,a.default)((function*(){var e=!1;try{var t;e=yield null==(t=n.g.PublicKeyCredential)||null==t.isUserVerifyingPlatformAuthenticatorAvailable?void 0:t.isUserVerifyingPlatformAuthenticatorAvailable()}catch(r){console.log("isUserVerifyingPlatformAuthenticatorAvailable failure")}return e}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.default)((function*(e){if(!p)throw new Error("Web Auth only supports web platforms");if(!navigator.credentials)throw new Error("navigator.credentials API is not available");var t=n.g.crypto.getRandomValues(new Uint8Array(32)),r=yield i.default.serviceSetting.getWebAuthnCredentialID();if(r){var o=yield navigator.credentials.get({publicKey:{timeout:6e4,challenge:t.buffer,allowCredentials:[{type:"public-key",id:f(r)}]}});if(o&&o.id===r)return o}t=n.g.crypto.getRandomValues(new Uint8Array(32));var a={publicKey:{rp:{name:"onekey.so"},user:{id:new Uint8Array(16),name:e.userName,displayName:e.userDisplayName},pubKeyCredParams:[{type:"public-key",alg:-7}],timeout:6e4,attestation:"direct",challenge:t.buffer,authenticatorSelection:{authenticatorAttachment:"platform"}}},s=yield navigator.credentials.create(a);return s&&(yield i.default.serviceSetting.setWebAuthnCredentialID(s.id)),s}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.default)((function*(){if(!p)throw new Error("Web Auth only supports web platforms");if(!navigator.credentials)throw new Error("navigator.credentials API is not available");var e=yield i.default.serviceSetting.getWebAuthnCredentialID();if(!e)return null;var t={publicKey:{timeout:6e4,challenge:n.g.crypto.getRandomValues(new Uint8Array(32)).buffer,allowCredentials:[{type:"public-key",id:f(e)}]}};return yield navigator.credentials.get(t)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.default)((function*(){(yield v())||(yield y({userName:"OneKey Extension",userDisplayName:"OneKey Extension"}),i.default.dispatch((0,s.setEnableWebAuthn)(!0))),i.default.dispatch((0,s.setEnableWebAuthn)(!0))}));return function(){return e.apply(this,arguments)}}(),x=function(){i.default.dispatch((0,s.setEnableWebAuthn)(!1))},w=function(){var e=(0,a.default)((function*(){return!!(yield v())}));return function(){return e.apply(this,arguments)}}()},53594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HDAccountAuthentication:()=>f,default:()=>p});var r=n(877531),o=n(795116),a=n(719392),i=n(202784),s=n(472719),l=n(268883),c=n(859071),d=n(552322),u=function(e){var t=e.password,n=e.onDone;return(0,i.useEffect)((function(){n&&n(t)}),[]),(0,d.jsx)(o.default,{h:"full",w:"full",children:(0,d.jsx)(a.default,{size:"lg"})})},f=function(){var e=(0,s.useRoute)(),t=(0,c.useNavigation)(),n=e.params,o=n.onDone,a=n.walletId;return(0,i.useEffect)((function(){t.setOptions({gestureEnabled:!1})}),[]),(0,d.jsx)(r.default,{footer:null,children:(0,d.jsx)(l.default,{walletId:a,field:l.ValidationFields.Account,children:function(e){return(0,d.jsx)(u,{password:e,onDone:function(){o(e)}})}})})};const p=f},204078:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>re});var r=n(877531),o=n(510374),a=n(231846),i=n(795116),s=n(719392),l=n(433996),c=n(256666),d=n(634795),u=n(196234),f=n(18861),p=n(737790),m=n(202784),h=n(472719),g=n(783112),y=n(945821),v=n(859071),b=n(747225),x=n(850167),w=n(432986),_=n(669083),k=n(505240),I=n(470310),j=n(321668),O=n(866904),T=n(107867),S=n(626015),P=(n(213208),n(534159)),C=n(785192),M=n(459740),A=n(331639),E=n(395795),R=n(552322),D=["item","network","showRemoveOption","onRemoveAddress","onCopyAddress"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const L=function(e){var t=e.item,n=e.network,r=e.showRemoveOption,o=e.onRemoveAddress,a=e.onCopyAddress,i=(0,M.default)(e,D),s=(0,E.default)(n).openAddressDetails,l=(0,m.useCallback)((function(){s(t.name)}),[t,s]),d=(0,m.useCallback)((function(){setTimeout((function(){a({address:t.name,path:t.path})}),200)}),[t,a]),u=(0,m.useMemo)((function(){return[{id:"action__copy_address",onPress:d,icon:"Square2StackOutline"},{id:"action__view_in_browser",onPress:l,icon:"GlobeAltOutline"},r&&function(){return(0,R.jsx)(C.default,{my:1})},r&&{id:"action__remove_address",onPress:function(){return null==o?void 0:o(t)},icon:"TrashOutline",variant:"desctructive"}]}),[d,l,o,r,t]);return(0,R.jsx)(A.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:u},i))};var B=n(203749);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.valueLabel,n=(0,g.default)();return(0,R.jsxs)(T.default,{p:0,mb:"16px",children:[(0,R.jsx)(T.default.Column,{text:{label:n.formatMessage({id:"form__address"}),labelProps:{typography:"Subheading",color:"text-subdued"}},flex:1}),(0,R.jsx)(T.default.Column,{alignItems:"flex-end",text:{label:t,labelProps:{typography:"Subheading",textAlign:"right",color:"text-subdued"}},flex:1}),(0,R.jsx)(T.default.Column,{children:(0,R.jsx)(f.default,{w:"27px"})})]})},W=function(e){var t,n,r=e.item,o=e.symbol,a=e.network,i=e.showPath,s=e.showRemoveAddress,c=e.onRemoveAddress,d=e.onCopyAddress;return(0,R.jsxs)(T.default,{flex:1,children:[(0,R.jsx)(T.default.Column,{style:{userSelect:"none"},text:{label:(0,S.shortenAddress)(r.name),labelProps:{w:"120px"},description:i?r.path:void 0,descriptionProps:{typography:"Caption",w:"132px"},size:"sm"}}),(0,R.jsx)(T.default.Column,{children:(0,R.jsx)(f.default,{alignItems:"flex-end",flex:1,children:(0,R.jsx)(P.FormatBalance,{balance:null!=(t=r.displayTotalReceived)?t:r.balance,formatOptions:{fixed:null!=(n=r.decimals)?n:null==a?void 0:a.decimals},suffix:o,render:function(e){return(0,R.jsx)(O.default,{typography:{sm:"Body2",md:"Body2"},style:{userSelect:"none"},wordBreak:"break-all",textAlign:"right",children:e})}})})}),(0,R.jsx)(T.default.Column,{children:(0,R.jsx)(L,{item:r,network:null!=a?a:{},showRemoveOption:!!s,onRemoveAddress:c,onCopyAddress:d,children:(0,R.jsx)(l.default,{alignItems:"flex-end",type:"plain",name:"EllipsisVerticalMini",color:"icon-subdued",size:"xs",hitSlop:12,circle:!0})})})]})},V=function(e){var t=e.currentPage,n=e.prevButtonDisabled,r=e.nextButtonDisabled,o=e.onPagePress,a=e.onNextPagePress,s=e.onPrevPagePress;return(0,R.jsx)(i.default,{pt:4,children:(0,R.jsxs)(I.default,{space:0,alignItems:"flex-end",children:[(0,R.jsx)(j.default,{w:"40px",type:"basic",borderRightRadius:0,leftIconName:"ChevronLeftMini",onPress:s,isDisabled:n}),(0,R.jsx)(j.default,{w:"39px",h:"38px",type:"basic",onPress:o,isDisabled:!1,borderLeftWidth:0,borderRightWidth:0,borderLeftRadius:0,borderRightRadius:0,children:(0,R.jsx)(O.default,{maxW:"30px",maxH:"38px",isTruncated:!0,children:t})}),(0,R.jsx)(j.default,{w:"40px",type:"basic",borderLeftRadius:0,leftIconName:"ChevronRightMini",onPress:a,isDisabled:r})]})})},z=function(e){var t=e.config,n=e.network,r=e.dataSource,o=e.setConfig,a=e.onCopyAddress,i=(0,g.default)(),s=(0,m.useMemo)((function(){return Math.ceil(r.length/50)}),[r]),l=(0,m.useMemo)((function(){return t.usedListCurrentPage>=s}),[t.usedListCurrentPage,s]),c=(0,m.useMemo)((function(){var e=50*(t.usedListCurrentPage-1);return r.slice(e,50+e)}),[t.usedListCurrentPage,r]),d=(0,m.useCallback)((function(){return(0,R.jsx)(R.Fragment,{children:(t.showPath,void 0)})}),[t.showPath]),u=(0,m.useCallback)((function(e){var r=e.item;return(0,R.jsx)(W,{network:n,symbol:null==n?void 0:n.symbol,showPath:t.showPath,flex:1,item:r,onCopyAddress:a})}),[n,t.showPath,a]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(H,{valueLabel:i.formatMessage({id:"form__total_received"})}),(0,R.jsx)(k.default,{data:c,renderItem:u,keyExtractor:function(e){return`${e.path}`},showsVerticalScrollIndicator:!1,ItemSeparatorComponent:d}),s>1&&(0,R.jsx)(V,{currentPage:t.usedListCurrentPage,prevButtonDisabled:1===t.usedListCurrentPage,nextButtonDisabled:l,onPagePress:function(){(0,B.showJumpPageDialog)({currentPage:t.usedListCurrentPage-1,maxPage:s,onConfirm:function(e){o((function(t){return U(U({},t),{},{usedListCurrentPage:e})}))}})},onPrevPagePress:function(){o((function(e){return 0===e.usedListCurrentPage?e:U(U({},e),{},{usedListCurrentPage:e.usedListCurrentPage-1})}))},onNextPagePress:function(){o((function(e){return l?e:U(U({},e),{},{usedListCurrentPage:e.usedListCurrentPage+1})}))}})]})},K=function(e){var t=e.config,n=e.network,r=e.setConfig,o=e.account,a=e.onRequestBalances,l=e.onRefreshAccount,c=e.onCopyAddress,f=(0,g.default)(),p=(0,m.useMemo)((function(){try{return"string"===typeof o.customAddresses?JSON.parse(o.customAddresses):"object"===typeof o.customAddresses?o.customAddresses:{}}catch(e){return{}}}),[o.customAddresses]),h=(0,m.useMemo)((function(){return Object.keys(null!=p?p:{})}),[p]),v=(0,m.useMemo)((function(){return Math.ceil(h.length/10)}),[h]),b=(0,m.useMemo)((function(){return t.mannualListCurrentPage>=v}),[t.mannualListCurrentPage,v]);(0,m.useEffect)((function(){var e=Math.max(v,1);t.mannualListCurrentPage>e&&r((function(t){return U(U({},t),{},{mannualListCurrentPage:e})}))}),[v,t.mannualListCurrentPage,r]);var x=(0,m.useMemo)((function(){var e=10*(t.mannualListCurrentPage-1);return h.slice(e,10+e).map((function(e){return p[e]})).filter(Boolean)}),[t.mannualListCurrentPage,h,p]),I=(0,m.useState)([]),j=(0,u.default)(I,2),O=j[0],T=j[1],S=(0,m.useRef)(!1),P=(0,m.useState)(!1),C=(0,u.default)(P,2),M=C[0],A=C[1];(0,m.useEffect)((function(){S.current||(x.length?O.length===x.length&&O.every((function(e){return x.includes(e.address)}))||(S.current=!0,A(!0),a(x).then((function(e){var t=e.map((function(e){var t=Object.values(null!=p?p:{}).findIndex((function(t){return t===e.address})),n=Object.keys(null!=p?p:{})[t],r=`${o.path}/${n}`;return U(U({},e),{},{name:e.address,path:r,suffixPath:n})}));T(t)})).finally((function(){S.current=!1,A(!1)}))):T([]))}),[x,p,o.path,O,a]);var E=(0,m.useCallback)((function(){return(0,R.jsx)(R.Fragment,{children:(t.showPath,void 0)})}),[t.showPath]),D=(0,m.useCallback)(function(){var e=(0,d.default)((function*(e){try{var t,n;if(!e.suffixPath&&!e.name)return;yield y.default.serviceDerivationPath.removeCustomAddress({accountId:o.id,addresses:(n={},n[null!=(t=e.suffixPath)?t:""]=e.name,n)}),_.default.show({title:f.formatMessage({id:"msg__success"})}),setTimeout((function(){l()}),200)}catch(r){w.deviceUtils.showErrorToast(r)}}));return function(t){return e.apply(this,arguments)}}(),[o.id,f,l]),N=(0,m.useCallback)((function(e){var r=e.item;return(0,R.jsx)(W,{network:n,symbol:null==n?void 0:n.symbol,showPath:t.showPath,flex:1,item:r,showRemoveAddress:!0,onRemoveAddress:D,onCopyAddress:c})}),[n,t.showPath,D,c]);return(0,R.jsx)(R.Fragment,{children:M?(0,R.jsx)(i.default,{flex:1,children:(0,R.jsx)(s.default,{size:"lg"})}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(H,{valueLabel:f.formatMessage({id:"form__balance"})}),(0,R.jsx)(k.default,{data:O,renderItem:N,keyExtractor:function(e){return`${e.path}`},showsVerticalScrollIndicator:!1,ItemSeparatorComponent:E}),v>1&&(0,R.jsx)(V,{currentPage:t.mannualListCurrentPage,prevButtonDisabled:1===t.mannualListCurrentPage,nextButtonDisabled:b,onPagePress:function(){(0,B.showJumpPageDialog)({currentPage:t.mannualListCurrentPage-1,maxPage:v,onConfirm:function(e){r((function(t){return U(U({},t),{},{mannualListCurrentPage:e})}))}})},onPrevPagePress:function(){r((function(e){return 0===e.mannualListCurrentPage?e:U(U({},e),{},{mannualListCurrentPage:e.mannualListCurrentPage-1})}))},onNextPagePress:function(){r((function(e){return b?e:U(U({},e),{},{mannualListCurrentPage:e.mannualListCurrentPage+1})}))}})]})})},G=n(896953),$=n(613549),Z=n(481047),q=n(807910),X=n(835714);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const J=function(e){var t=e.showPath,n=e.onChange,r=e.walletId,o=e.networkId,a=e.accountId,i=e.onAddedCustomAddressCallback,s=(0,v.useNavigation)(),l=(0,m.useCallback)((function(){null==n||n(!t)}),[n,t]),c=(0,X.useCreateBtcCustomAccount)({walletId:r,networkId:o}).onCreateAccountByAddressIndex,d=(0,m.useCallback)((function(){(0,q.default)({walletId:r,networkId:o,accountId:a,onConfirm:function(e){var t=e.data;s.navigate(Z.RootRoutes.Modal,{screen:Z.ModalRoutes.CreateAccount,params:{screen:Z.CreateAccountModalRoutes.CreateAccountAuthentication,params:{walletId:r,onDone:function(e){return c(Q(Q({password:e},t),{},{onAddedCustomAddressCallback:function(){i(),s.goBack()}}))}}}})}})}),[r,o,a,s,i,c]),u=(0,m.useMemo)((function(){return(0,R.jsx)(G.default,{w:"20px",isChecked:t,isDisabled:!1,onChange:l,pointerEvents:"box-only"})}),[t,l]),f=(0,m.useMemo)((function(){return(r.startsWith("hd")||r.startsWith("hw"))&&(0,$.isBTCNetwork)(o)}),[o,r]),p=(0,m.useMemo)((function(){return[f&&{id:"action__find_address_by_path",onPress:d,icon:"MagnifyingGlassMini"},f&&function(){return(0,R.jsx)(C.default,{my:1})},{id:"action__show_path",onPress:l,extraChildren:u}]}),[l,u,d,f]);return(0,R.jsx)(A.default,Q(Q({options:p},e),{},{menuWidth:261}))};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.accountName,n=e.networkId,r=(0,v.useNetwork)({networkId:n}).network;return(0,R.jsx)(f.default,{children:(0,R.jsx)(p.default,{size:4,showInfo:!0,name:t,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==r?void 0:r.name,logoURI:null==r?void 0:r.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})})};const re=function(){var e,t=(0,g.default)(),n=(0,h.useRoute)().params,c=n.networkId,p=n.accountId,v=n.walletId,_=n.entry,k=(0,b.useRuntime)(),I=k.networks,j=k.wallets,O=I.find((function(e){return e.id===c})),T=j.find((function(e){return e.id===v})),S=(0,m.useRef)(!1),P=(0,m.useState)(!1),C=(0,u.default)(P,2),M=C[0],A=C[1],E=(0,m.useState)({showPath:!1,usedListCurrentPage:1,mannualListCurrentPage:1}),D=(0,u.default)(E,2),N=D[0],L=D[1],B=(0,m.useState)([]),F=(0,u.default)(B,2),U=F[0],H=F[1],W=(0,m.useState)("manageAccount"===_?1:0),V=(0,u.default)(W,2),G=V[0],$=V[1],Z=(0,m.useState)(!1),q=(0,u.default)(Z,2),X=q[0],Y=q[1],Q=(0,m.useState)(null),ee=(0,u.default)(Q,2),re=ee[0],oe=ee[1],ae=(0,x.useCopyAddress)({wallet:T,account:re,network:O}).copyAddress,ie=(0,m.useCallback)((0,d.default)((function*(){var e,t=yield y.default.engine.getAccount(p,c);oe(t);var n=Object.keys(JSON.parse(null!=(e=t.customAddresses)?e:"{}")).length>0;Y(n),n||1!==G||$(0)})),[p,c,G]);(0,m.useEffect)((function(){re||ie()}),[ie,re]),(0,m.useEffect)((function(){S.current||(S.current=!0,A(!0),y.default.serviceDerivationPath.getAllUsedAddress({networkId:c,accountId:p}).then((function(e){return H(e)})).finally((function(){S.current=!1,A(!1)})))}),[c,p]);var se={},le=(0,m.useCallback)(function(){var e=(0,d.default)((function*(e){S.current=!0;try{var t;if(e.every((function(e){return se[e]})))return e.map((function(e){return{address:e,balance:se[e]}}));var n=e.filter((function(e){return!se[e]}));return(yield y.default.serviceDerivationPath.fetchCustomAddressBalance({networkId:c,accountId:p,addresses:n,decimals:null!=(t=null==O?void 0:O.decimals)?t:8})).forEach((function(e){se[e.address]=e.balance})),e.map((function(e){return{address:e,balance:se[e]}}))}catch(r){return w.deviceUtils.showErrorToast(r),[]}finally{S.current=!1}}));return function(t){return e.apply(this,arguments)}}(),[p,c,null==O?void 0:O.decimals]),ce=(0,m.useCallback)((function(e){var t=e.address,n=e.path;ae({address:t,template:null==re?void 0:re.template,customPath:n})}),[ae,null==re?void 0:re.template]);return(0,R.jsx)(r.default,{header:t.formatMessage({id:"title__addresses"}),headerDescription:(0,R.jsx)(ne,{networkId:c,accountName:null!=(e=null==re?void 0:re.name)?e:""}),height:"640px",rightContent:(0,R.jsx)(J,{walletId:v,networkId:c,accountId:p,showPath:N.showPath,onChange:function(e){var t=te(te({},N),{},{showPath:e});L(t)},onAddedCustomAddressCallback:function(){ie(),setTimeout((function(){return $(1)}))},children:(0,R.jsx)(l.default,{type:"plain",size:"lg",circle:!0,name:"EllipsisVerticalOutline"})}),footer:null,children:M?(0,R.jsx)(i.default,{flex:1,children:(0,R.jsx)(s.default,{size:"lg"})}):(0,R.jsxs)(f.default,{flex:1,children:[X&&(0,R.jsx)(f.default,{mb:4,children:(0,R.jsx)(a.default,{values:[t.formatMessage({id:"form__automatic"}),t.formatMessage({id:"form__mannual_added"})],selectedIndex:G,onChange:$})}),0===G&&(U.length>0?(0,R.jsx)(z,{config:N,network:O,dataSource:U,setConfig:L,onCopyAddress:ce}):(0,R.jsx)(i.default,{flex:1,children:(0,R.jsx)(o.default,{emoji:"\ud83d\udcb3",title:t.formatMessage({id:"title__no_used_addresses"})})})),1===G&&re&&(0,R.jsx)(K,{account:re,config:N,network:O,dataSource:U,setConfig:L,onRequestBalances:le,onRefreshAccount:ie,onCopyAddress:ce})]})})}},807910:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(259825),o=n(321668),a=n(566147),i=n(259924),s=n(196234),l=n(921311),c=n(539144),d=n(202784),u=n(206391),f=n.n(u),p=n(783112),m=n(79694),h=n(327377),g=n(486756),y=n(292147),v=n(213208),b=n(945821),x=n(94668),w=n(432986),_=n(793525),k=n(861107),I=n(552322),j=function(e){var t=e.walletId,n=e.networkId,r=e.accountId,u=e.template,h=e.onConfirm,w=(0,p.default)(),_=(0,c.default)(),j=(0,l.default)({defaultValues:{derivationType:"",accountIndex:"",addressIndex:""},mode:"onChange"}),O=j.control,T=j.handleSubmit,S=j.setValue,P=(0,d.useState)(null),C=(0,s.default)(P,2),M=C[0],A=C[1];(0,d.useEffect)((function(){r&&n&&b.default.engine.getAccount(r,n).then((function(e){A(e)}))}),[r,n]);var E=(0,d.useMemo)((function(){return!!r&&!!M}),[r,M]);(0,d.useEffect)((function(){if(M){var e=M.path.split("/")[3].slice(0,-1);S("accountIndex",null!=e?e:"")}}),[M,S]);var R=(0,x.useDerivationPath)(t,n).derivationOptions,D=(0,d.useState)(null),N=(0,s.default)(D,2),L=N[0],B=N[1];(0,d.useEffect)((function(){if(!L){var e=R.find((function(e){return e.template===(null==M?void 0:M.template)||e.template===u}));e&&B(e)}}),[R,null==M?void 0:M.template,L,u]),(0,d.useEffect)((function(){L&&"string"===typeof L.label&&S("derivationType",L.label)}),[L,S]);var F=(0,d.useCallback)((function(){E||(0,g.default)({type:"search",walletId:t,networkId:n,onSelect:function(e){return B(e)}})}),[n,t,E]),U=(0,d.useCallback)((function(e){if(L){var r=L.category,o=`${t}--m/${r}/${e.accountIndex}'`;b.default.engine.getAccount(o,n).then((function(t){h({error:null,data:{derivationOption:L,addressIndex:e.addressIndex,accountIndex:e.accountIndex,account:t}})})).catch((function(t){y.default.common.debug("can not find account, will create one: ",t),h({error:null,data:{derivationOption:L,addressIndex:e.addressIndex,accountIndex:e.accountIndex,account:null}})}))}}),[L,n,t,h]),H=function(e){var t=0;if("string"===typeof e)try{t=parseInt(e)}catch(n){return!1}return"number"===typeof t&&Number.isFinite(t)&&Math.floor(t)===t},W=(0,d.useCallback)((function(e){if(H(e))return{max:k.FROM_INDEX_MAX,error:new(f())(e).isGreaterThan(k.FROM_INDEX_MAX)}}),[]),V=(0,d.useMemo)((function(){return{required:{value:!0,message:w.formatMessage({id:"form__field_is_required"})},min:{value:0,message:w.formatMessage({id:"form__field_too_small"},{0:0})},pattern:{value:/^[0-9]*$/,message:w.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!H(e))return w.formatMessage({id:"form__field_is_required"});if("boolean"!==typeof e){var t=W(e);if(null!=t&&t.error)return w.formatMessage({id:"form__field_too_large"},{0:null==t?void 0:t.max})}}}}),[W,w]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(i.default,{title:w.formatMessage({id:"msg__remember_your_path_settings"}),description:w.formatMessage({id:"msg__remember_your_path_settings_desc"}),dismiss:!1,alertType:"info",customIconName:"InformationCircleMini"}),(0,I.jsxs)(a.default,{my:6,children:[(0,I.jsx)(m.default,{onPress:F,isDisabled:E,children:(0,I.jsx)(a.default.Item,{name:"derivationType",control:O,children:(0,I.jsx)(a.default.Input,{size:_?"xl":"default",rightIconName:"ChevronDownMini",isReadOnly:!0,isDisabled:E,onPressRightIcon:F,onPressIn:v.default.isNativeIOS?F:void 0})})}),(0,I.jsx)(a.default.Item,{name:"accountIndex",control:O,label:w.formatMessage({id:"form__account"}),rules:V,children:(0,I.jsx)(a.default.Input,{type:"number",keyboardType:"number-pad",size:_?"xl":"default",isReadOnly:E,isDisabled:E})}),(0,I.jsx)(a.default.Item,{name:"addressIndex",control:O,label:"Address_index",rules:V,children:(0,I.jsx)(a.default.Input,{type:"number",keyboardType:"number-pad",size:_?"xl":"default"})})]}),(0,I.jsx)(o.default,{type:"primary",size:_?"xl":"base",onPress:T(U),children:w.formatMessage({id:"action__add"})})]})};const O=function(e){var t=e.walletId,n=e.networkId,o=e.accountId,a=e.template,i=e.onConfirm;(0,_.showOverlay)((function(e){return(0,I.jsx)(r.default,{title:(0,h.formatMessage)({id:"action__find_address_by_path"}),closeOverlay:e,modalLizeProps:{avoidKeyboardLikeIOS:!1},children:(0,I.jsx)(j,{walletId:t,networkId:n,accountId:o,template:a,onConfirm:function(t){var n=t.error,r=t.data;null==e||e(),n?w.deviceUtils.showErrorToast(n):i({error:n,data:r})}})})}))}},203749:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showJumpPageDialog:()=>v});var r=n(256666),o=n(612210),a=n(361301),i=n(470310),s=n(321668),l=n(566147),c=n(866904),d=n(539144),u=n(921311),f=n(202784),p=n(783112),m=n(793525),h=n(552322);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y=function(e){var t=e.onClose,n=e.onConfirm,r=e.maxPage,m=e.currentPage,g=(0,p.default)(),y=(0,u.default)({defaultValues:{pageNumber:`${m?m+1:""}`}}),v=y.control,b=y.handleSubmit,x=(0,y.watch)("pageNumber",""),w=(0,f.useMemo)((function(){return!x||!Number.isSafeInteger(parseInt(x,10))}),[x]),_=(0,d.default)(),k=(0,f.useCallback)((function(e){var r=e.pageNumber;null==t||t(),setTimeout((function(){return n(parseInt(r))}))}),[n,t]);return(0,h.jsx)(o.default,{visible:!0,onClose:t,children:(0,h.jsxs)(a.default,{w:"full",h:"auto",testID:"JumpPageBox",children:[(0,h.jsx)(c.default,{typography:{sm:"DisplayMedium",md:"DisplayMedium"},children:g.formatMessage({id:"title__jump_to_page"})}),(0,h.jsx)(l.default,{w:"full",mt:5,children:(0,h.jsx)(l.default.Item,{name:"pageNumber",control:v,rules:{pattern:{value:/^[0-9]*$/,message:g.formatMessage({id:"form__field_only_integer"})},validate:function(e){var t=parseInt(e);return t<=0?g.formatMessage({id:"form__field_only_integer"}):t>r?g.formatMessage({id:"msg__page_number_cannot_be_larger_than_str"},{number:r}):void 0}},children:(0,h.jsx)(l.default.Input,{onKeyPress:function(e){"Enter"!==e.nativeEvent.key?"Escape"===e.nativeEvent.key&&(null==t||t()):b(k)()},placeholder:g.formatMessage({id:"form__page_number_placeholder"})})})}),(0,h.jsxs)(i.default,{mt:6,mb:4,space:3,alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(s.default,{size:_?"xl":"lg",type:"basic",flex:1,onPress:function(){return null==t?void 0:t()},children:g.formatMessage({id:"action__cancel"})}),(0,h.jsx)(s.default,{size:_?"xl":"lg",type:"primary",flex:1,onPress:b(k),isDisabled:w,children:g.formatMessage({id:"action__confirm"})})]})]})})},v=function(e){(0,m.showDialog)((0,h.jsx)(y,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))}},861107:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FROM_INDEX_MAX:()=>w,default:()=>k});var r=n(877531),o=n(783723),a=n(866904),i=n(566147),s=n(785192),l=n(463416),c=n(921311),d=n(196234),u=n(539144),f=n(18861),p=n(737790),m=n(202784),h=n(472719),g=n(206391),y=n.n(g),v=n(783112),b=n(859071),x=n(552322),w=2**31-1,_=function(e){var t=e.networkId,n=(0,b.useNetwork)({networkId:t}).network;return(0,x.jsx)(f.default,{children:(0,x.jsx)(p.default,{size:4,showInfo:!0,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==n?void 0:n.name,logoURI:null==n?void 0:n.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})})};const k=function(){var e=(0,u.default)(),t=(0,v.default)(),n=(0,h.useRoute)(),p=(0,h.useNavigation)(),g=n.params,b=g.fromIndex,k=g.generateCount,I=g.onApply,j=g.networkId,O=(0,m.useState)([10,50,100]),T=(0,d.default)(O,1)[0],S=(0,c.default)({defaultValues:{fromIndex:`${b}`,generateCount:k?`${k}`:"10"},mode:"onChange"}),P=S.control,C=S.handleSubmit,M=S.setValue,A=S.getValues,E=S.setError,R=S.formState.isValid,D=function(e){var t=0;if("string"===typeof e)try{t=parseInt(e)}catch(n){return!1}return"number"===typeof t&&Number.isFinite(t)&&Math.floor(t)===t},N=(0,m.useCallback)((function(e){var t=A().generateCount;if(D(e)&&D(t))return{max:w-parseInt(null!=t?t:"10"),error:new(y())(e).plus(null!=t?t:"10").isGreaterThan(w)}}),[A]),L=(0,m.useCallback)((function(e){var n=N(e.fromIndex);null!=n&&n.error?E("fromIndex",{message:t.formatMessage({id:"form__field_too_large"},{0:null==n?void 0:n.max})},{shouldFocus:!0}):(null!=p&&null!=p.canGoBack&&p.canGoBack()&&p.goBack(),null==I||I({fromIndex:parseInt(`${e.fromIndex}`),generateCount:e.generateCount?parseInt(`${e.generateCount}`):void 0}))}),[t,p,I,E,N]),B=(0,m.useMemo)((function(){return(0,x.jsxs)(x.Fragment,{children:[T.map((function(e,t){return(0,x.jsxs)(f.default,{alignItems:"center",flexDirection:"row",children:[(0,x.jsx)(l.default,{size:"sm",value:"true",onPress:function(){M("generateCount",`${e}`,{shouldValidate:!0})},title:e.toString()}),t!==T.length-1&&(0,x.jsx)(s.default,{orientation:"vertical",h:5,ml:1,mr:1})]},`box-${e}`)})),(0,x.jsx)(f.default,{w:1})]})}),[T,M]);return(0,x.jsx)(r.default,{header:t.formatMessage({id:"action__bulk_add"}),headerDescription:(0,x.jsx)(_,{networkId:j}),primaryActionProps:{onPromise:C(L),isDisabled:!R},primaryActionTranslationId:"action__preview",hideSecondaryAction:!0,children:(0,x.jsx)(o.default,{children:(0,x.jsxs)(i.default,{children:[(0,x.jsx)(i.default.Item,{name:"fromIndex",control:P,label:t.formatMessage({id:"form__from",defaultMessage:"From"}),rules:{required:{value:!0,message:t.formatMessage({id:"form__field_is_required"})},min:{value:1,message:t.formatMessage({id:"form__field_too_small"},{0:1})},pattern:{value:/^[0-9]*$/,message:t.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!D(e))return t.formatMessage({id:"form__field_is_required"});if("boolean"!==typeof e){var n=N(e);if(null!=n&&n.error)return t.formatMessage({id:"form__field_too_large"},{0:null==n?void 0:n.max})}}},children:(0,x.jsx)(i.default.Input,{type:"number",keyboardType:"number-pad",size:e?"xl":"default"})}),(0,x.jsx)(i.default.Item,{name:"generateCount",control:P,label:t.formatMessage({id:"form__generate_amount",defaultMessage:"Generate Amount"}),rules:{required:{value:!0,message:t.formatMessage({id:"form__field_is_required"})},min:{value:1,message:t.formatMessage({id:"form__field_too_small"},{0:1})},max:{value:100,message:t.formatMessage({id:"form__field_too_large"},{0:100})},pattern:{value:/^[0-9]*$/,message:t.formatMessage({id:"form__field_only_integer"})}},children:(0,x.jsx)(i.default.Input,{type:"number",keyboardType:"number-pad",size:e?"xl":"default",rightCustomElement:B})}),(0,x.jsx)(a.default,{typography:{sm:"Body2",md:"Body2"},color:"text-subdued",mt:"-20px",children:t.formatMessage({id:"msg__up_to_str_can_be_generated_at_a_time"},{0:100})})]})})})}},835714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCreateBtcCustomAccount:()=>s});var r=n(634795),o=n(202784),a=n(945821),i=n(432986);function s(e){var t=e.walletId,n=e.networkId,s=(0,o.useCallback)(function(){var e=(0,r.default)((function*(e){var r=e.password,o=e.derivationOption,s=e.accountIndex,l=e.addressIndex,c=e.account,d=e.onAddedCustomAddressCallback;try{var u,f=c;if(!c&&s){var p,m,h,g=parseInt(null!=(p=null==o||null==(m=o.category)||null==(h=m.split("'/"))?void 0:h[0])?p:"44"),y=yield a.default.serviceAccount.addHDAccounts(r,t,n,[Number(s)],void 0,g,!0,null==o?void 0:o.template,!0);f=null==y?void 0:y[0]}if(f)yield a.default.serviceDerivationPath.createAccountByCustomAddressIndex({accountId:f.id,networkId:n,password:r,addressIndex:null!=l?l:"",account:f,template:null!=(u=null==o?void 0:o.template)?u:""}),null==d||d(f.id)}catch(v){i.deviceUtils.showErrorToast(v)}}));return function(t){return e.apply(this,arguments)}}(),[t,n]);return{onCreateAccountByAddressIndex:s}}},996606:(e,t,n)=>{"use strict";n.r(t),n.d(t,{formatDerivationLabel:()=>r});var r=function(e,t){return t?"string"===typeof t?t:"object"===typeof t?e.formatMessage({id:t.id}):void 0:""}},549876:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var r=n(877531),o=n(18861),a=n(231846),i=n(256666),s=n(669083),l=n(634795),c=n(196234),d=n(737790),u=n(202784),f=n(472719),p=n(783112),m=n(859071),h=n(747225),g=n(481047),y=n(783723),v=n(561220),b=n(566147),x=n(785192),w=n(463416),_=n(921311),k=n(539144),I=n(206391),j=n.n(I),O=n(486756),T=n(213208),S=n(94668),P=n(996606),C=n(552322);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=[10,50,100],R=2**31,D=(0,u.forwardRef)((function(e,t){var n=e.walletId,r=e.networkId,a=e.template,i=e.setButtonDisabled,s=(0,k.default)(),l=(0,p.default)(),d=(0,_.default)({defaultValues:{derivationType:"default",fromIndex:"1",generateCount:"10"},mode:"onChange"}),f=d.control,m=d.handleSubmit,h=d.setError,g=d.setValue,I=d.getValues,M=d.formState.isValid,D=(0,S.useDerivationPath)(n,r).derivationOptions,N=(0,u.useState)(),L=(0,c.default)(N,2),B=L[0],F=L[1];(0,u.useEffect)((function(){if(D){var e=D.find((function(e){return a?e.template===a:"default"===e.key}));e&&F(e)}}),[D,a]);var U=(0,u.useMemo)((function(){var e,t;B?e=B.label:e=(null==(t=(null!=D?D:[]).find((function(e){return"default"===e.key})))?void 0:t.label)||"";return(0,P.formatDerivationLabel)(l,e)}),[B,D,l]);(0,u.useEffect)((function(){g("derivationType",null!=U?U:"")}),[U,g]);var H=(0,u.useCallback)((function(){(0,O.default)({type:"search",walletId:null!=n?n:"",networkId:r,onSelect:function(e){return F(e)}})}),[n,r]),W=function(e){var t=0;if("string"===typeof e)try{t=parseInt(e)}catch(n){return!1}return"number"===typeof t&&Number.isFinite(t)&&Math.floor(t)===t},V=(0,u.useCallback)((function(e){var t=I().generateCount;if(W(e)&&W(t))return{max:R-parseInt(null!=t?t:"10"),error:new(j())(e).plus(null!=t?t:"10").isGreaterThan(R)}}),[I]);(0,u.useEffect)((function(){i(!M)}),[M,i]);var z=(0,u.useMemo)((function(){return(0,C.jsxs)(C.Fragment,{children:[E.map((function(e,t){return(0,C.jsxs)(o.default,{alignItems:"center",flexDirection:"row",children:[(0,C.jsx)(w.default,{size:"sm",value:"true",onPress:function(){g("generateCount",`${e}`,{shouldValidate:!0})},title:e.toString()}),t!==E.length-1&&(0,C.jsx)(x.default,{orientation:"vertical",h:5,ml:1,mr:1})]},`box-${e}`)})),(0,C.jsx)(o.default,{w:1})]})}),[g]),K=(0,u.useCallback)((function(){return new Promise((function(e){m((function(t){var n=V(t.fromIndex);null!=n&&n.error&&(h("fromIndex",{message:l.formatMessage({id:"form__field_too_large"},{0:null==n?void 0:n.max})},{shouldFocus:!0}),e(!1)),e(A(A({},t),{},{derivationOption:B}))}),(function(){return e(!1)}))()}))}),[V,l,h,B,m]);return(0,u.useImperativeHandle)(t,(function(){return{onSubmit:K}}),[K]),(0,C.jsx)(y.default,{children:(0,C.jsxs)(b.default,{w:"full",mb:"26px",children:[D.length>1&&(0,C.jsx)(v.default,{onPress:H,children:(0,C.jsx)(b.default.Item,{name:"derivationType",control:f,children:(0,C.jsx)(b.default.Input,{size:s?"xl":"default",rightIconName:"ChevronDownMini",isReadOnly:!0,onPressRightIcon:H,onPressIn:T.default.isNativeIOS?H:void 0})})}),(0,C.jsx)(b.default.Item,{name:"fromIndex",control:f,label:l.formatMessage({id:"form__from",defaultMessage:"From"}),rules:{required:{value:!0,message:l.formatMessage({id:"form__field_is_required"})},min:{value:1,message:l.formatMessage({id:"form__field_too_small"},{0:1})},pattern:{value:/^[0-9]*$/,message:l.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!W(e))return l.formatMessage({id:"form__field_is_required"});if("boolean"!==typeof e){var t=V(e);if(null!=t&&t.error)return l.formatMessage({id:"form__field_too_large"},{0:null==t?void 0:t.max})}}},children:(0,C.jsx)(b.default.Input,{type:"number",keyboardType:"number-pad",size:s?"xl":"default"})}),(0,C.jsx)(b.default.Item,{name:"generateCount",control:f,label:l.formatMessage({id:"form__generate_amount",defaultMessage:"Generate Amount"}),rules:{required:{value:!0,message:l.formatMessage({id:"form__field_is_required"})},min:{value:1,message:l.formatMessage({id:"form__field_too_small"},{0:1})},max:{value:100,message:l.formatMessage({id:"form__field_too_large"},{0:100})},pattern:{value:/^[0-9]*$/,message:l.formatMessage({id:"form__field_only_integer"})}},children:(0,C.jsx)(b.default.Input,{type:"number",keyboardType:"number-pad",size:s?"xl":"default",rightCustomElement:z})})]})})}));D.displayName="SetRange";const N=D;var L=n(795116),B=n(510374),F=n(361301),U=n(470310),H=n(866904),W=n(559656),V=n(432986),z=n(814817),K=n(945821);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=(0,u.forwardRef)((function(e,t){var n=e.walletId,r=e.networkId,a=e.setButtonDisabled,i=(0,p.default)(),s=(0,h.useRuntime)().wallets.find((function(e){return e.id===n})),l=(0,S.useDerivationPath)(n,r).derivationOptions,d=K.default.serviceDerivationPath,f=(0,u.useState)([]),m=(0,c.default)(f,2),g=m[0],y=m[1];(0,u.useEffect)((function(){(n||r)&&d.getNetworkDerivations(n,r).then((function(e){y(e.networkDerivations)}))}),[r,d,n]);var v=(0,u.useCallback)((function(e){var t=l.find((function(t){return t.template===e.template}));return(0,P.formatDerivationLabel)(i,(null==t?void 0:t.label)||{id:"form__bip44_standard"})}),[l,i]),b=(0,u.useMemo)((function(){return!g.length||g.every((function(e){return!e.accounts.length}))}),[g]);(0,u.useEffect)((function(){a(b)}),[b,a]);var x=(0,u.useCallback)((function(){return!b&&{wallet:s,networkDerivations:g.map((function(e){return $($({},e),{},{name:v(e)})}))}}),[s,g,v,b]);return(0,u.useImperativeHandle)(t,(function(){return{onSubmit:x}}),[x]),s?(0,C.jsxs)(o.default,{flex:1,children:[(0,C.jsxs)(U.default,{alignItems:"center",space:4,children:[(0,C.jsx)(W.default,{walletImage:s.type,avatar:s.avatar,hwWalletType:s.deviceType||(0,V.getDeviceTypeByDeviceId)(s.associatedDevice),isPassphrase:(0,z.isPassphraseWallet)(s),circular:!0,size:"sm"}),(0,C.jsx)(H.default,{typography:{sm:"Body1Strong",md:"Body1Strong"},color:"text-default",children:s.name})]}),b?(0,C.jsx)(L.default,{flex:1,children:(0,C.jsx)(B.default,{emoji:"\ud83d\udcb3",title:i.formatMessage({id:"empty__no_account_title"}),subTitle:i.formatMessage({id:"empty__no_account_desc"})})}):(0,C.jsx)(F.default,{mt:4,mb:6,space:4,children:g.filter((function(e){return e.accounts.length})).map((function(e){return(0,C.jsxs)(U.default,{alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(H.default,{typography:{sm:"Body2Strong",md:"Body2Strong"},children:v(e)}),(0,C.jsx)(H.default,{typography:{sm:"Body2Strong",md:"Body2Strong"},color:"text-subdued",children:i.formatMessage({id:"form__str_accounts"},{count:e.accounts.length})})]})}))})]}):null}));Z.displayName="WalletAccounts";const q=Z;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){var t=e.network;return(0,C.jsx)(d.default,{size:4,showInfo:!0,showName:!0,showTokenVerifiedIcon:!1,token:{name:t.name,logoURI:t.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})};const J=function(){var e=(0,p.default)(),t=(0,f.useRoute)().params,n=t.walletId,i=t.networkId,d=t.password,y=t.entry,v=t.template,b=(0,f.useNavigation)(),x=(0,h.useRuntime)().networks.filter((function(e){return e.id===i}))[0],w=(0,u.useState)("manageAccount"===y?1:0),_=(0,c.default)(w,2),k=_[0],I=_[1],j=(0,u.useMemo)((function(){return!x.settings.isUTXOModel}),[x]);(0,u.useEffect)((function(){j||1!==k||I(0)}),[j,k]);var O=(0,u.useState)(!1),T=(0,c.default)(O,2),S=T[0],P=T[1],M=(0,u.useState)(!1),A=(0,c.default)(M,2),E=A[0],R=A[1],D=(0,u.useMemo)((function(){return 0!==k&&S}),[k,S]),L=(0,m.useDebounce)(D,150),B=(0,u.useMemo)((function(){return 1!==k&&E}),[k,E]),F=(0,m.useDebounce)(B,150),U=(0,u.useRef)(null),H=(0,u.useRef)(null),W=(0,u.useCallback)((0,l.default)((function*(){var t;if(0===k){var r,o=null==(r=H.current)?void 0:r.onSubmit();if(!o)return void s.default.show({title:e.formatMessage({id:"empty__no_account_desc"})},{type:"default"});t=Y(Y({},o),{},{type:"walletAccounts"})}else{var a,l=yield null==(a=U.current)?void 0:a.onSubmit();if(!l)return;t=Y(Y({},l),{},{type:"setRange"})}b.navigate(g.CreateAccountModalRoutes.FetchAddressModal,{networkId:i,walletId:n,password:d,data:t})})),[k,b,i,n,d,e]);return(0,C.jsxs)(r.default,{height:"488px",header:e.formatMessage({id:"title__bulk_copy_addresses"}),headerDescription:(0,C.jsx)(Q,{network:x}),hideSecondaryAction:!0,primaryActionTranslationId:"action__export_addresses",onPrimaryActionPress:W,primaryActionProps:{isDisabled:L||F},children:[j&&(0,C.jsx)(o.default,{mb:6,children:(0,C.jsx)(a.default,{values:[e.formatMessage({id:"form__my_accounts"}),e.formatMessage({id:"form__set_range"})],selectedIndex:k,onChange:I})}),0===k&&(0,C.jsx)(q,{walletId:n,networkId:i,setButtonDisabled:R,ref:H}),j&&1===k&&(0,C.jsx)(N,{walletId:n,networkId:i,template:v,setButtonDisabled:P,ref:U})]})}},903730:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{AddressBookRoutes:()=>r}),function(e){e.NewAddressRoute="NewAddressRoute",e.EditAddressRoute="EditAddressRoute",e.PickAddressRoute="PickAddressRoute",e.EnterAddressRoute="EnterAddressRoute",e.NewPickAddressRoute="NewPickAddressRoute"}(r||(r={}))},371905:(e,t,n)=>{"use strict";var r,o,a,i,s,l;n.r(t),n.d(t,{AmountTypeEnum:()=>i,BulkSenderRoutes:()=>o,IntervalTypeEnum:()=>l,TokenTraderEnum:()=>r,TraderExampleType:()=>a,TraderTypeEnum:()=>s}),function(e){e.Address="Address",e.Amount="Amount"}(r||(r={})),function(e){e.TokenSelector="TokenSelectorModal",e.AmountEditor="AmountEditorModal",e.IntervalEditor="IntervalEditorModal"}(o||(o={})),function(e){e.TXT="TXT",e.CSV="CSV",e.Excel="Excel"}(a||(a={})),function(e){e.All="All",e.Custom="Custom",e.Random="Random",e.Fixed="Fixed"}(i||(i={})),function(e){e.Sender="Sender",e.Receiver="Receiver"}(s||(s={})),function(e){e.Off="Off",e.Fixed="Fixed",e.Random="Random"}(l||(l={}))},742903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OnboardingAddExistingWallet:()=>xe,default:()=>_e});var r=n(877531),o=n(18861),a=n(566147),i=n(255281),s=n.n(i),l=n(968079),c=n(795116),d=n(321668),u=n(539144),f=n(256666),p=n(196234),m=n(669083),h=n(634795),g=n(921311),y=n(202784),v=n(472719),b=n(783112),x=n(63719),w=n(749888),_=n(119804),k=n(284382),I=n(945821),j=n(79722),O=n(747225),T=n(481047),S=n(380164),P=n(613549),C=n(292147),M=n(213208),A=n(486756),E=n(314527),R=n(472339),D=n(859071),N=n(677442),L=n(33809),B=n(768496),F=n(776553),U=n(24809),H=n(526002),W=n(259924),V=n(170766),z=n(866904),K=n(529710),G=n(561220),$=n(435581),Z=n(10918),q=n(331639),X=n(108952),Y=n(459740),Q=n(446311),J=n(553197),ee=n(190769),te=n(46486),ne=n(552322),re=["children","hide","style","animate","delay","containerTransition","transition","enterFrom","onHeightDidAnimate","initialHeight"];function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=te.default.create({autoBottom:{bottom:"auto"},autoTop:{top:"auto"},hidden:{overflow:"hidden"},visible:{overflow:"visible"}});const se=function(e){var t=e.children,n=e.hide,r=void 0!==n&&n,o=e.style,a=e.animate,i=void 0===a?{}:a,s=e.delay,l=void 0===s?ee.default.select({web:250,default:0}):s,c=e.containerTransition,d=void 0===c?{type:"timing",delay:l}:c,u=e.transition,f=void 0===u?{type:"timing",delay:l}:u,m=e.enterFrom,h=void 0===m?"top":m,g=e.onHeightDidAnimate,v=e.initialHeight,b=void 0===v?0:v,x=(0,Y.default)(e,re),w=(0,Q.default)((function(){return{height:r?0:b}})),_=(0,y.useState)(b),k=(0,p.default)(_,2),I=k[0],j=k[1],O=I;r&&(O=0);var T=(0,y.useRef)(!1);(0,y.useEffect)((function(){return T.current=!0,function(){T.current=!1}}),[]),(0,y.useEffect)((function(){var e;r?w.animateTo({height:0}):(null==(e=w.current)?void 0:e.height)!==O&&w.animateTo({height:O})}),[w,O,r]);var S=!O||r;return(0,ne.jsx)(J.View,{state:w,transition:d,onDidAnimate:g&&function(e){return"height"===e&&(null==g?void 0:g(O))},style:[O||r?ie.hidden:ie.visible,o],children:(0,ne.jsx)(J.View,ae(ae({},x),{},{style:[te.default.absoluteFillObject,"top"===h?ie.autoBottom:ie.autoTop],animate:ae(ae({},i),{},{opacity:S?0:1}),transition:f,onLayout:function(e){T.current&&j(e.nativeEvent.layout.height)},children:t}))})};var le=n(159105);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=[12,15,18,21,24],fe=new Array(12).fill(0),pe=function(e){var t=e.onSubmit,n=(0,b.default)(),r=(0,g.default)({mode:"onBlur",reValidateMode:"onBlur"}),i=r.control,s=r.handleSubmit,c=r.setValue,u=r.setFocus,f=r.trigger,m=r.register,v=r.getValues,x=r.reset,w=(0,y.useState)(!0),_=(0,p.default)(w,2),k=_[0],j=_[1],O=(0,y.useState)(!1),T=(0,p.default)(O,2),S=T[0],P=T[1],C=(0,y.useState)(12),M=(0,p.default)(C,2),A=M[0],E=M[1],R=(0,y.useState)(!1),D=(0,p.default)(R,2),N=D[0],L=D[1],B=(0,y.useState)("1"),F=(0,p.default)(B,2),U=F[0],H=F[1],Y=(0,y.useMemo)((function(){return ue.map((function(e){return{id:"form__str_words",intlValues:{0:`${e}`},closeOnSelect:!0,onPress:function(){E(e),setTimeout((function(){f("1")}),0)}}}))}),[f]);(0,y.useEffect)((function(){setTimeout((function(){L(!0)}),200)}),[]);var Q=(0,y.useMemo)((function(){for(var e=0,t=[];e<A;)t=[].concat((0,l.default)(t),[e+=1]);return t}),[A]),J=(0,y.useCallback)((function(){var e=v();Object.keys(e).forEach((function(e){c(e,"")}))}),[v,c]),ee=(0,y.useCallback)((function(e){var t,n=null==(t=e.clipboardData)?void 0:t.getData("text");if(n){var r=(n=n.trim()).split(/\s+/g);r.length>2&&(r.length>Math.max.apply(Math,ue)&&(r=r.slice(0,Math.max.apply(Math,ue))),setTimeout((function(){if(J(),r.length>Q.length){var e=ue.findIndex((function(e){return e>=r.length}));E(ue[e])}r.forEach((function(e,t){c(`${t+1}`,e)})),r.length<Q.length?u(`${r.length+1}`):r.length===Q.length&&u(`${r.length}`),setTimeout((function(){r.forEach((function(e,t){f(`${t+1}`)}))}),0)}),0))}}),[Q.length,J,u,c,f]);(0,y.useEffect)((function(){return window.addEventListener("paste",ee),function(){window.removeEventListener("paste",ee)}}),[ee]);var te=(0,le.useAccessory)(),re=te.onChangeText,oe=te.accessoryData;return(0,ne.jsxs)(o.default,{flex:1,children:[(0,ne.jsxs)(o.default,{flexDirection:"row",justifyContent:"space-between",mb:4,children:[(0,ne.jsx)(q.default,{options:Y,placement:"bottom left",children:(0,ne.jsxs)(G.default,{flexDirection:"row",alignItems:"center",children:[(0,ne.jsx)(Z.default.Button2,{color:"text-subdued",mr:2,children:`${n.formatMessage({id:"form__str_words"},{0:A})}`}),(0,ne.jsx)($.default,{color:"icon-subdued",size:16,name:"ChevronDownMini"})]})}),(0,ne.jsxs)(G.default,{flexDirection:"row",alignItems:"center",onPress:function(){var e;J(),u(`${null!=(e=null==Q?void 0:Q[0])?e:1}`),x()},children:[(0,ne.jsx)($.default,{color:"icon-subdued",size:16,name:"XCircleMini"}),(0,ne.jsx)(Z.default.Button2,{color:"text-subdued",ml:2,children:n.formatMessage({id:"action__clear_all"})})]})]}),N?(0,ne.jsx)(o.default,{m:"-4px",pb:"16px",children:(0,ne.jsx)(a.default,{flexDirection:"row",flexWrap:"wrap",children:Q.map((function(e){return(0,ne.jsx)(a.default.Item,{name:`${e}`,control:i,rules:{validate:function(){var e=(0,h.default)((function*(e){var t=v(),n=Object.values(t);if((n=n.slice(0,A)).every((function(e){return e.length>0}))){try{yield I.default.validator.validateMnemonic(n.join(" ")),j(!1),P(!1)}catch(r){j(!0),P(!0)}"string"===typeof e&&re(e)}else j(!0),P(!1);if("string"===typeof e)return Boolean((0,le.validMenmonicWord)(e))}));return function(t){return e.apply(this,arguments)}}(),onChange:function(e){var t=e.target.value;"string"===typeof t&&t.trim().split(/\s+/g).length<3&&re(t)}},formControlProps:{p:"4px",w:"1/3"},children:(0,ne.jsx)(V.default,de({w:"full",autoFocus:1===e,leftElement:(0,ne.jsx)(z.default,{typography:"Body2",w:"24px",textAlign:"right",color:"text-subdued",children:e}),backgroundColor:"action-secondary-default",type:parseInt(U)===e?"text":"password",onFocus:function(t){var n;H(`${e}`);var r=null==t||null==(n=t.nativeEvent)?void 0:n.text;"string"===typeof r&&setTimeout((function(){re(r)}),0)}},m(`${e}`)))})}))})}):(0,ne.jsx)(o.default,{m:"-4px",flexDirection:"row",flexWrap:"wrap",pb:"16px",children:fe.map((function(){return(0,ne.jsx)(o.default,{p:"4px",w:"1/3",children:(0,ne.jsx)(K.default,{w:"full",borderRadius:"12px",h:"38px"})})}))}),(0,ne.jsxs)(se,{containerTransition:{type:"timing",duration:150},children:[(0,ne.jsx)(X.AccessoryView,{expandWords:!0,accessoryData:oe,withKeybord:!1,selected:function(e){c(U,e),f(U);var t=parseInt(U);t<A&&u(`${t+1}`)}}),S&&(0,ne.jsx)(o.default,{mt:2,children:(0,ne.jsx)(W.default,{alertType:"error",dismiss:!1,title:n.formatMessage({id:"msg__engine__invalid_mnemonic"})})})]}),(0,ne.jsx)(d.default,{isDisabled:k,type:"primary",mt:4,size:"xl",onPromise:s((function(e){var n=Object.values(e).slice(0,A).join(" ");t({text:n})})),children:n.formatMessage({id:"action__confirm"})})]})};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=Object.freeze({});function ye(e){var t=e.onMultipleResults,n=e.onAddMnemonicAuth,r=e.onAddImportedAuth,o=e.onAddWatchingDone,a=e.inputMode,i=e.onTextChange,s=e.textValue,l=(0,v.useRoute)(),c=(0,b.default)(),d=(0,O.useGeneral)().activeNetworkId,u=(0,O.useRuntime)().wallets,f=(0,L.useOnboardingDone)(),x=l.params||ge,w=x.mode,j=void 0===w?"all":w,T=x.presetText,S=void 0===T?"":T;a&&(j=a);var P=(0,g.default)({defaultValues:{text:S||""},mode:"onBlur",reValidateMode:"onBlur"}),C=(0,N.useFormOnChangeDebounced)({useFormReturn:P,revalidate:!1,clearErrorIfEmpty:!0,clearErrorWhenTextChange:!0}).formValues,M=P.control,A=P.handleSubmit,E=P.setValue,R=P.trigger,D=P.getValues,B=!(null!=C&&C.text),F=(0,y.useMemo)((function(){var e;return"mnemonic"===j?e=k.UserInputCategory.MNEMONIC:"imported"===j?e=k.UserInputCategory.IMPORTED:"watching"===j&&(e=k.UserInputCategory.WATCHING),e}),[j]),U=(0,v.useNavigation)(),H=(0,y.useCallback)((function(){var e=U.getParent()||U;e.canGoBack()&&e.goBack()}),[U]),W=(0,y.useCallback)(function(){var e=(0,h.default)((function*(e){var a,i=e.text,s=e.defaultName,l=e.selectedNetwork,h=e.selectedDerivation;if(i){var g=(yield I.default.validator.validateCreateInput({input:i,onlyFor:F,selectedNetwork:l})).filter((function(e){return e.category!==k.UserInputCategory.ADDRESS}));if(0!==g.length)if(g.length>1)t({defaultName:s,text:i,checkResults:g,onSuccess:function(){m.default.show({title:c.formatMessage({id:"msg__account_imported"})},{}),f({showOnBoardingLoading:!0})}});else{var y=(0,p.default)(g,1)[0],v=y.category,b=y.possibleNetworks,x=void 0===b?[]:b;if(v!==k.UserInputCategory.MNEMONIC){if(x.length<1)return console.error("No possible networks found."),void m.default.show({title:c.formatMessage({id:"msg__unknown_error"})},{type:"error"});if(v===k.UserInputCategory.WATCHING||v===k.UserInputCategory.IMPORTED){var w=d&&x.includes(d)?d:x[0],_=u.filter((function(e){return e.type===(v===k.UserInputCategory.WATCHING?"watching":"imported")})),j=(0,p.default)(_,1)[0],O=null==j||null==(a=j.nextAccountIds)?void 0:a.global,T=O?`Account #${O}`:"";if(v===k.UserInputCategory.WATCHING)try{yield I.default.serviceAccount.addWatchAccount(w,i,T,null==h?void 0:h.template),m.default.show({title:c.formatMessage({id:"msg__account_imported"})},{}),o(),f({showOnBoardingLoading:!0})}catch(P){var S=P.key;m.default.show({title:S?c.formatMessage({id:S}):null==P?void 0:P.message},{type:"error"})}else r({privatekey:i,name:T,networkId:w,template:null==h?void 0:h.template,onSuccess:function(){m.default.show({title:c.formatMessage({id:"msg__account_imported"})},{}),f({showOnBoardingLoading:!0})},onFailure:H})}}else n({mnemonic:i,onSuccess:function(){m.default.show({title:c.formatMessage({id:"msg__account_imported"})},{}),f({showOnBoardingLoading:!0})}})}}}));return function(t){return e.apply(this,arguments)}}(),[d,F,c,r,n,o,t,f,H,u]);(0,y.useEffect)((function(){S&&R("text")}),[S,R]),(0,y.useEffect)((function(){s&&E("text",s)}),[E,s]);var V=(0,y.useCallback)((0,h.default)((function*(){var e=yield(0,_.getClipboard)();E("text",e),R("text")})),[E,R]);return{intl:c,handleSubmit:A,submitDisabled:B,onSubmit:W,control:M,inputCategory:F,onPaste:V,onTextChange:i,mode:j,trigger:R,getValues:D}}function ve(e){var t=e.value,n=e.mode,r=e.network,o=e.inputCategory,a=e.selectedDerivation,i=e.setSelectedDerivation,s=(0,b.default)(),l=(0,y.useState)([]),c=(0,p.default)(l,2),d=c[0],u=c[1];(0,y.useEffect)((function(){var e=function(){var e=(0,h.default)((function*(){var e=(yield I.default.validator.validateCreateInput({input:t,onlyFor:o,selectedNetwork:r}))[0],n=Object.entries((null==e?void 0:e.derivationOptions)||[]).map((function(e){var t=(0,p.default)(e,2),n=t[0];return he(he({},t[1]),{},{key:n})}));u(n),i(n[0])}));return function(){return e.apply(this,arguments)}}();e()}),[t,o,r,i]);var f=(0,y.useMemo)((function(){if(a&&a.desc){if("string"===typeof a.desc)return a.desc;var e=a.desc;return s.formatMessage({id:e.id},e.placeholder)}}),[s,a]);return(0,P.isBTCNetwork)(r.id)&&d.length>0&&a?(0,ne.jsx)(E.BaseSelectorTrigger,{mt:2,type:"basic",hasArrow:!0,icon:null,label:null==a?void 0:a.label,subDescription:f,onPress:function(){return(0,A.default)({type:"create",title:s.formatMessage({id:"content__account_type"}),walletId:n,derivationOptions:d,selectedDerivation:a,onSelect:i,networkId:r.id})},borderRadius:12,px:2,py:3,space:3,justifyContent:"space-between"}):null}function be(e){var t=e.intl,n=e.handleSubmit,r=e.submitDisabled,i=e.onSubmit,f=e.control,m=e.inputCategory,g=e.onPaste,v=e.mode,b=e.children,_=e.showSubmitButton,O=e.showPasteButton,T=e.onNameServiceChange,S=e.nameServiceAddress,P=e.onTextChange,C=e.trigger,A=e.getValues,E=(0,D.useManageNetworks)(void 0).enabledNetworks,N=(0,D.useActiveWalletAccount)().network,L=(0,w.default)(),B=(0,y.useState)(),U=(0,p.default)(B,2),H=U[0],W=U[1],V=(0,j.useNameServiceStatus)(),z=V.onChange,K=V.disableSubmitBtn,G=V.isSearching,$=V.address,Z=(0,u.default)(),q=(0,y.useCallback)((function(){return(0,ne.jsx)(c.default,{children:(0,ne.jsx)(d.default,{size:"xl",type:"plain",onPromise:g,children:t.formatMessage({id:"action__paste"})})})}),[t,g]),X=(0,y.useMemo)((function(){var e=[];return"watching"!==v&&"all"!==v||(e=[].concat((0,l.default)(e),["scan"])),O&&(e=[].concat((0,l.default)(e),["paste"])),e}),[v,O]),Y=(0,y.useMemo)((function(){return E.filter((function(e){return"imported"===v?e.settings.importedAccountEnabled:"watching"!==v||e.settings.watchingAccountEnabled}))}),[E,v]),Q=(0,y.useMemo)((function(){if(N){if("imported"===v&&null!=N&&N.settings.importedAccountEnabled)return N;if("watching"===v&&null!=N&&N.settings.watchingAccountEnabled)return N}return Y[0]}),[N,v,Y]),J=(0,y.useState)(Q),ee=(0,p.default)(J,2),te=ee[0],re=ee[1],oe=(0,y.useCallback)((function(e){re(s()(E,{id:e})),L()}),[L,E]),ae=(0,y.useCallback)((function(e){return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(j.default,{name:e,disable:"imported"===v||"mnemonic"===v,onChange:T||z,networkId:te.id}),(0,ne.jsx)(ve,{value:e,mode:v,selectedDerivation:H,setSelectedDerivation:W,inputCategory:m,network:te})]})}),[m,v,T,z,H,te]),ie=(0,y.useMemo)((function(){return[`${"mnemonic"===v||"all"===v?t.formatMessage({id:"form__recovery_phrase"}):""}`,`${"imported"===v||"all"===v?t.formatMessage({id:"form__private_key"}):""}`,`${"watching"===v||"all"===v?t.formatMessage({id:"form__import_watch_only_account_placeholder"}):""}`].filter(Boolean).join(", ")}),[t,v]);return(0,y.useEffect)((function(){var e=A("text");(S||$||e)&&C("text")}),[A,S,$,te.id,C,G]),(0,y.useEffect)((function(){G&&setTimeout((function(){C("text")}),100)}),[G,C]),(0,ne.jsxs)(o.default,{display:"flex",flexDirection:"column",justifyContent:Z?"space-between":"flex-start",flex:1,children:["mnemonic"===v?(0,ne.jsx)(pe,{onSubmit:function(){var e=(0,h.default)((function*(e){yield i(e),yield(0,F.wait)(600)}));return function(t){return e.apply(this,arguments)}}()}):(0,ne.jsxs)(a.default,{children:["mnemonic"!==v&&(0,ne.jsx)(R.ImportAccountNetworkSelectorTrigger,{selectedNetwork:te,selectableNetworks:Y,onSelected:oe}),(0,ne.jsx)(a.default.Item,{isLabelAddonActions:!0,labelAddon:X,control:f,name:"text",rules:{validate:function(){var e=(0,h.default)((function*(e){var n=S||$||e;return!n||(!!G||((yield I.default.validator.validateCreateInput({input:n,onlyFor:m,selectedNetwork:te})).filter((function(e){return e.category!==k.UserInputCategory.ADDRESS})).length>0||(m===k.UserInputCategory.IMPORTED?t.formatMessage({id:"msg__invalid_private_key"}):m===k.UserInputCategory.MNEMONIC?t.formatMessage({id:"msg__engine__invalid_mnemonic"}):t.formatMessage({id:"form__add_exsting_wallet_invalid"}))))}));return function(t){return e.apply(this,arguments)}}(),onChange:function(e){var t,n=null==e||null==(t=e.target)?void 0:t.value;P&&"string"===typeof n&&P(n)}},helpText:ae,children:"imported"!==v||te.settings.mnemonicAsPrivatekey?(0,ne.jsx)(a.default.Textarea,{inputAccessoryViewID:"1",autoFocus:!0,autoCorrect:!1,totalLines:Z?3:5,placeholder:ie,trimValue:!["all","mnemonic"].includes(v)}):(0,ne.jsx)(a.default.Input,{inputAccessoryViewID:"1",autoFocusDelay:600,placeholder:ie,autoFocus:!0,backgroundColor:"action-secondary-default",secureTextEntry:!0,size:"xl",rightCustomElement:M.default.canGetClipboard?q():null})}),_?(0,ne.jsx)(d.default,{isDisabled:r||K,type:"primary",size:"xl",onPromise:n(function(){var e=(0,h.default)((function*(e){!K&&$&&(e.text=$),e.selectedNetwork=te,e.selectedDerivation=H,yield i(e),yield(0,F.wait)(600)}));return function(t){return e.apply(this,arguments)}}()),children:t.formatMessage({id:"action__confirm"})}):null]}),M.default.isNativeIOS&&["all","mnemonic"].includes(v)&&(0,ne.jsx)(x.default,{nativeID:"1",children:(0,ne.jsx)(o.default,{})}),b]})}function xe(e){var t=e.inputMode,n=e.valueTextForMnemonic,r=e.onChangeTextForMnemonic,o=(0,v.useNavigation)(),a=(0,U.useOnboardingContext)(),i=null==a?void 0:a.forceVisibleUnfocused,s=(0,y.useCallback)((function(e){C.default.onBoarding.info("OnboardingAddExistingWallet > onMultipleResults",e.checkResults),null==i||i(),o.navigate(T.RootRoutes.Modal,{screen:T.ModalRoutes.CreateWallet,params:{screen:T.CreateWalletModalRoutes.AddImportedOrWatchingAccountModal,params:e}})}),[i,o]),l=(0,y.useCallback)((function(){C.default.onBoarding.info("OnboardingAddExistingWallet > onAddWatchingDone")}),[]),c=ye({onMultipleResults:s,onAddMnemonicAuth:(0,y.useCallback)((function(e){C.default.onBoarding.info("OnboardingAddExistingWallet > onAddMnemonicAuth"),o.navigate(T.RootRoutes.Onboarding,{screen:H.EOnboardingRoutes.SetPassword,params:{mnemonic:e.mnemonic}})}),[o]),onAddWatchingDone:l,onAddImportedAuth:(0,y.useCallback)((function(e){C.default.onBoarding.info("OnboardingAddExistingWallet > onAddImportedAuth",{networkId:e.networkId,name:e.name}),null==i||i(),o.navigate(T.RootRoutes.Modal,{screen:T.ModalRoutes.CreateWallet,params:{screen:T.CreateWalletModalRoutes.AddImportedAccountDoneModal,params:e}})}),[i,o]),inputMode:t,onTextChange:r,textValue:n});return(0,ne.jsx)(be,he(he({},c),{},{showSubmitButton:!0,showPasteButton:!0}))}function we(){var e=(0,b.default)(),t=(0,v.useNavigation)(),n=(0,y.useCallback)((function(){t.navigate(T.CreateWalletModalRoutes.OnekeyLiteRestorePinCodeVerifyModal)}),[t]);return(0,ne.jsx)(d.default,{size:"xl",type:"plain",rightIconName:"ChevronRightOutline",iconSize:16,onPress:function(){return n()},children:e.formatMessage({id:"action__restore_with_onekey_lite"})})}const _e=function(){var e,t=(0,v.useNavigation)(),n=(0,v.useRoute)(),a=(0,B.useWalletName)({wallet:null==n||null==(e=n.params)?void 0:e.wallet}),i=ye({onMultipleResults:(0,y.useCallback)((function(e){t.navigate(T.CreateWalletModalRoutes.AddImportedOrWatchingAccountModal,e)}),[t]),onAddMnemonicAuth:(0,y.useCallback)((function(e){t.navigate(T.CreateWalletModalRoutes.AppWalletDoneModal,e)}),[t]),onAddWatchingDone:(0,y.useCallback)((function(){}),[]),onAddImportedAuth:(0,y.useCallback)((function(e){t.navigate(T.CreateWalletModalRoutes.AddImportedAccountDoneModal,e)}),[t])}),s=(0,j.useNameServiceStatus)(),l=s.onChange,c=s.disableSubmitBtn,d=s.address,u=s.name,f=i.intl,p=i.onSubmit,m=i.handleSubmit,h=i.submitDisabled,g=i.mode,b=(0,y.useMemo)((function(){return S.default&&"all"===g?(0,ne.jsxs)(o.default,{children:[(0,ne.jsx)(o.default,{flex:1}),(0,ne.jsx)(o.default,{h:2}),(0,ne.jsx)(we,{})]}):null}),[g]);return(0,ne.jsx)(r.default,{header:f.formatMessage({id:"action__i_already_have_a_wallet"}),headerDescription:a,primaryActionTranslationId:"action__import",primaryActionProps:{onPromise:m((function(e){return!c&&d&&(e.defaultName=u,e.text=d),p(e)})),isDisabled:h||c},hideSecondaryAction:!0,scrollViewProps:{children:(0,ne.jsx)(be,he(he({},i),{},{showPasteButton:!0,showSubmitButton:!1,nameServiceAddress:d,onNameServiceChange:l,children:b}))}})}},911968:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Attentions:()=>f});var r=n(877531),o=n(321668),a=n(18861),i=n(10918),s=n(795116),l=n(435581),c=n(311631),d=n(783112),u=n(552322),f=function(e){var t=e.navigateMode,n=e.onPress,f=e.pressTitle,p=(0,d.default)(),m=(0,c.useSafeAreaInsets)(),h=[{emoji:"\ud83d\udd10",desc:p.formatMessage({id:"modal__attention_unlock"})},{emoji:"\ud83e\udd2b",desc:p.formatMessage({id:"modal__attention_shh"})},{emoji:"\ud83d\ude45\u200d\u2642\ufe0f",desc:p.formatMessage({id:"modal__attention_gesturing_no"})}];return(0,u.jsx)(r.default,{footer:null,hideBackButton:!!t,headerShown:!t,children:(0,u.jsxs)(a.default,{flex:1,px:{base:2,md:0},children:[(0,u.jsxs)(a.default,{flex:1,children:[(0,u.jsxs)(s.default,{mb:8,children:[(0,u.jsx)(s.default,{p:4,mb:4,bg:"surface-warning-default",rounded:"full",children:(0,u.jsx)(l.default,{name:"ExclamationTriangleOutline",width:24,height:24,color:"icon-warning"})}),(0,u.jsx)(i.default.DisplayLarge,{children:p.formatMessage({id:"modal__attention"})})]}),h.map((function(e){return(0,u.jsxs)(a.default,{flexDirection:"row",mb:4,children:[(0,u.jsx)(i.default.DisplayLarge,{mt:-1,mr:4,children:e.emoji}),(0,u.jsx)(i.default.Body1,{flex:1,children:e.desc})]},e.desc)}))]}),(0,u.jsx)(o.default,{mt:4,mb:`${m.bottom}px`,size:"xl",type:"primary",onPress:n,children:null!=f?f:p.formatMessage({id:"action__reveal_recovery_phrase"})})]})})}},571861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Mnemonic:()=>b,MnemonicContainer:()=>x});var r=n(669083),o=n(634795),a=n(877531),i=n(483144),s=n(18861),l=n(866904),c=n(202784),d=n(472719),u=n(783112),f=n(945821),p=n(859071),m=n(33809),h=n(821919),g=n(776553),y=n(854341),v=n(552322),b=function(e){var t=e.mnemonic,n=e.onPress,r=e.onPromise,o=(0,u.default)();return(0,v.jsx)(a.default,{hideSecondaryAction:!0,primaryActionProps:{onPress:n,onPromise:r,children:o.formatMessage({id:"action__i_have_saved_the_phrase"})},scrollViewProps:{children:(0,v.jsxs)(s.default,{flex:1,px:{base:2,md:0},children:[(0,v.jsxs)(s.default,{mb:{base:12,md:8},px:2,children:[(0,v.jsxs)(l.default,{typography:{sm:"DisplayLarge",md:"DisplayMedium"},mb:"3",textAlign:"center",children:["\ud83d\udc40 ",o.formatMessage({id:"modal__for_your_eyes_only"})]}),(0,v.jsx)(l.default,{typography:{sm:"Body1",md:"Body2"},color:"text-subdued",textAlign:"center",maxW:{md:276},mx:"auto",children:o.formatMessage({id:"modal__for_your_eyes_only_desc"})})]}),(0,v.jsxs)(l.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},mb:"4",textAlign:"center",children:["\u2193 ",o.formatMessage({id:"content__click_below_to_copy"})," \u2193"]}),(0,v.jsx)(s.default,{flex:1,mb:8,children:(0,v.jsx)(i.default,{mnemonic:t})})]})}})},x=function(){var e,t=null!=(e=(0,d.useRoute)().params)?e:{},n=t.mnemonic,a=t.password,i=t.withEnableAuthentication,s=(0,u.default)(),l=(0,p.useNavigationActions)(),x=l.closeWalletSelector,w=l.openRootHome,_=(0,c.useCallback)((0,o.default)((function*(){try{yield f.default.serviceAccount.createHDWallet({password:a,mnemonic:n}),i&&(f.default.dispatch((0,h.setEnableLocalAuthentication)(!0)),yield(0,y.savePassword)(a)),r.default.show({title:s.formatMessage({id:"msg__account_created"})})}catch(t){var e=t.key;r.default.show({title:s.formatMessage({id:e})})}x(),yield(0,g.wait)(600),w(),yield(0,g.wait)(600),(0,m.closeExtensionWindowIfOnboardingFinished)()})),[n,a,i,x,s,w]);return(0,v.jsx)(b,{mnemonic:n,onPromise:_})}},713144:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>L});var r=n(877531),o=(n(468702),n(465760)),a=(n(225447),n(505240)),i=n(10918),s=n(435581),l=n(719392),c=(n(854787),n(107867)),d=n(18861),u=n(669083),f=n(256666),p=n(634795),m=n(196234),h=n(202784),g=n(703599),y=n(472719),v=n(783112),b=n(319712),x=n(600892),w=n(504949),_=n(940915),k=(n(719821),n(945821)),I=n(794953),j=n(747225),O=n(481047),T=n(432986),S=n(292147),P=n(213208),C=n(961500),M=n(302478),A=n(793525),E=n(552322);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){switch(e){case"classic":case"classic1s":return b;case"mini":return x;case"touch":return w;default:return}};const L=function(){var e,t=(0,v.default)(),f=k.default.engine,b=k.default.serviceHardware,x=(0,y.useNavigation)(),w=(null!=(e=(0,y.useRoute)().params)?e:{}).entry,R=(0,h.useState)(!1),L=(0,m.default)(R,2),B=(L[0],L[1]),F=(0,h.useState)(""),U=(0,m.default)(F,2),H=U[0],W=U[1],V=(0,h.useState)([]),z=(0,m.default)(V,2),K=z[0],G=z[1],$=(0,h.useRef)("stop"),Z=(0,h.useState)(!1),q=(0,m.default)(Z,2),X=q[0],Y=q[1],Q=(0,h.useState)([]),J=(0,m.default)(Q,2),ee=J[0],te=J[1],ne=(0,j.useRuntime)().wallets,re=(0,h.useState)(),oe=(0,m.default)(re,2),ae=oe[0],ie=oe[1];(0,h.useEffect)((function(){(0,p.default)((function*(){var e=(yield f.getHWDevices()).reduce((function(e,t){var n,r;return D(D({},e),{},((r={})[null!=(n=t.id)?n:""]=t,r))}),{}),t=ne.filter((function(t){var n;return"hw"===t.type&&t.accounts.length>0&&!!e[null!=(n=t.associatedDevice)?n:""]})).map((function(t){var n,r;return D(D({},t),{},{deviceId:e[null!=(n=t.associatedDevice)?n:""].deviceId,connectId:e[null!=(r=t.associatedDevice)?r:""].mac})}));ie(t)}))()}),[f,ne]);var se=(0,h.useCallback)((function(){T.deviceUtils&&T.deviceUtils.stopScan()}),[]),le=(0,h.useCallback)((function(e){return e.map((function(e){return D(D({},e),{},{using:null==ae?void 0:ae.find((function(t){return(0,C.equalsIgnoreCase)(t.connectId,e.connectId)&&(0,C.equalsIgnoreCase)(t.deviceId,e.deviceId)})),useBefore:null==ae?void 0:ae.find((function(t){return(0,C.equalsIgnoreCase)(t.connectId,e.connectId)}))})}))}),[ae]);(0,h.useEffect)((function(){te(le(K))}),[le,K]);var ce=(0,h.useCallback)((0,p.default)((function*(){if(T.deviceUtils){B(!0);var e=yield b.checkBridge();("boolean"!==typeof e||e)&&e.className!==_.OneKeyErrorClassNames.OneKeyHardwareError?T.deviceUtils.startDeviceScan((function(e){if(!e.success){var n=T.deviceUtils.convertDeviceError(e.payload);return(n instanceof M.InitIframeLoadFail||n instanceof M.InitIframeTimeout)&&(u.default.show({title:t.formatMessage({id:n.key})},{type:"error"}),T.deviceUtils.stopScan()),void B(!1)}G(e.payload)}),(function(e){$.current=e})):(0,A.showDialog)((0,E.jsx)(I.default,{}))}})),[t,b]);(0,h.useEffect)((function(){return P.default.isRuntimeBrowser&&ce(),function(){se(),T.deviceUtils.stopCheckBonded()}}),[]);var de=(0,h.useRef)();(0,h.useEffect)((function(){return function(){de.current&&(clearInterval(de.current),de.current=void 0)}}),[]);var ue=(0,h.useCallback)(function(){var e=(0,p.default)((function*(e){var n;yield function(e){return new Promise((function(t){T.deviceUtils&&e.connectId&&(T.deviceUtils.stopScan(),W(e.connectId),de.current&&clearInterval(de.current),de.current=setInterval((function(){"stop"===$.current&&(clearInterval(de.current),t())}),100))}))}(e),S.default.hardwareSDK.debug("========= will connect =========");var r=function(n){W(""),n?x.navigate(O.RootRoutes.Modal,{screen:O.ModalRoutes.CreateWallet,params:{screen:O.CreateWalletModalRoutes.DeviceStatusCheckModal,params:{device:e,entry:w}}}):u.default.show({title:t.formatMessage({id:"modal__failed_to_connect"})},{type:"error"})};b.connect(null!=(n=e.connectId)?n:"").then((function(e){r(e)})).catch(function(){var t=(0,p.default)((function*(t){if((t||{}).code===g.HardwareErrorCode.BleDeviceNotBonded)if(!X&&P.default.isNativeAndroid){var n;Y(!0);var o,a=yield T.deviceUtils.checkDeviceBonded(null!=(n=e.connectId)?n:"");if(Y(!1),a)S.default.hardwareSDK.debug("Android device was bonded, will connect"),b.connect(null!=(o=e.connectId)?o:"").then((function(e){setTimeout((function(){return r(e)}),1e3)}));else S.default.hardwareSDK.debug("Android device check bonded timeout"),r(!1)}else W(""),T.deviceUtils.showErrorToast(t,"action__connection_timeout");else W(""),T.deviceUtils.showErrorToast(t,"action__connection_timeout")}));return function(e){return t.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),[b,x,t,X]),fe=(0,h.useCallback)((function(){return(0,E.jsx)(d.default,{h:2})}),[]),pe=(0,h.useCallback)((function(e){var t=e.item;return(0,E.jsxs)(c.default,{h:"64px",px:"16px",bgColor:"action-secondary-default",pressedBgColor:"surface-pressed",hoveredBgColor:"surface-hovered",onPress:function(){ue(t)},children:[(0,E.jsx)(c.default.Column,{image:{source:N(t.deviceType),width:"24px",height:"36px"}}),(0,E.jsx)(c.default.Column,{style:{userSelect:"none"},text:{label:t.name,size:"sm"}}),(0,E.jsx)(c.default.Column,{children:(0,E.jsxs)(d.default,{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:[!!t.useBefore&&!1,H===t.connectId&&(0,E.jsx)(l.default,{size:"sm",ml:3}),(0,E.jsx)(d.default,{ml:3,children:(0,E.jsx)(s.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})})]})})]})}),[ue,t,H]),me=(0,h.useCallback)((function(){return null!=ee&&ee.length?(0,E.jsxs)(d.default,{w:"full",mt:8,children:[(0,E.jsx)(i.default.Body2,{color:"text-subdued",textAlign:"center",children:t.formatMessage({id:"modal__looking_for_devices_result"})}),(0,E.jsx)(a.default,{my:4,px:2,data:ee,renderItem:pe,keyExtractor:function(e){var t;return`${null!=(t=e.connectId)?t:""}${e.uuid}`},showsVerticalScrollIndicator:!1,ItemSeparatorComponent:fe})]}):null}),[ee,t,pe,fe]),he=(0,h.useMemo)((function(){var e;if((null==ee?void 0:ee.length)<1)return"auto";var t=350+65*(null!=(e=null==ee?void 0:ee.length)?e:1);return t>500&&(t=500),t}),[null==ee?void 0:ee.length]);return(0,E.jsx)(r.default,{scrollViewProps:{contentContainerStyle:{height:he},children:(0,E.jsxs)(d.default,{alignItems:"center",h:"full",children:[(0,E.jsx)(d.default,{children:(0,E.jsx)(o.default,{source:n(5912),autoPlay:!0,loop:!0})}),(0,E.jsx)(i.default.DisplayMedium,{marginTop:8,children:t.formatMessage({id:"modal__connect_your_device"})}),me()]})},hidePrimaryAction:!0,footer:null,primaryActionTranslationId:"action__connect_device",onPrimaryActionPress:ce,hideSecondaryAction:!0})}},974717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(612210),o=n(719392),a=n(669083),i=n(202784),s=n(783112),l=n(940915),c=n(945821),d=n(432986),u=n(302478),f=n(552322);const p=function(e){var t=e.deviceId,n=e.onlyPassphrase,p=e.onClose,m=(0,s.default)(),h=c.default.serviceAccount,g=c.default.engine;return(0,i.useEffect)((function(){g.getHWDevice(t).then((function(e){var t;if(!e)throw new u.DeviceNotFind;if(null==e||!e.features)throw new u.DeviceNotFind;return h.createHWWallet({features:JSON.parse(e.features),onlyPassphrase:n,connectId:null!=(t=e.mac)?t:""})})).catch((function(e){var t=e||{},n=t.className,r=t.data;if(n!==l.OneKeyErrorClassNames.OneKeyAlreadyExistWalletError)d.deviceUtils.showErrorToast(e);else{var o=(r||{}).walletName;o&&a.default.show({title:m.formatMessage({id:"msg__wallet_already_exist_activated_automatically"},{0:o})},{type:"default"})}})).finally((function(){null==p||p()}))}),[]),(0,f.jsx)(r.default,{visible:!0,contentProps:{icon:(0,f.jsx)(o.default,{size:"lg"}),title:m.formatMessage({id:"model__create_passphrase_wallet"})},footerButtonProps:{hidePrimaryAction:!0,hideSecondaryAction:!0}})}},59984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getWebTabs:()=>s,useWebTabs:()=>i});var r=n(202784),o=n(576138),a=n(633416),i=function(e){var t=(0,o.useSelector)(a.webTabsObs),n=(0,a.getCurrentTabId)(),i=e||n;return(0,r.useMemo)((function(){var e;return{tabs:t,tab:null!=(e=t.find((function(e){return(null==e?void 0:e.id)===i})))?e:t[0],currentTabId:n}}),[i,n,t])},s=function(e){var t=a.webTabsObs.peek(),n=(0,a.getCurrentTabId)(),r=e||n;return{tabs:t,tab:t.find((function(e){return e.id===r})),currentTabId:n}}},217030:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MAX_OR_SHOW:()=>d,MIN_OR_HIDE:()=>c,WEB_TAB_CELL_GAP:()=>b,expandAnim:()=>u,expandFloatingWindow:()=>S,getThumbnailRatio:()=>_,hideTabGrid:()=>O,minimizeFloatingWindow:()=>C,setThumbnailRatio:()=>w,showTabGrid:()=>j,showTabGridAnim:()=>f,tabGridRefs:()=>p,tabGridScrollY:()=>v,targetPreviewHeight:()=>y,targetPreviewWidth:()=>g,targetPreviewX:()=>m,targetPreviewY:()=>h,thumbnailWidth:()=>k,toggleFloatingWindow:()=>A});var r=n(716030),o=n(808855),a=n(663854),i=n(633416),s=n(59984),l=n(933790),c=0,d=1,u=(0,r.makeMutable)(c),f=(0,r.makeMutable)(c),p={},m=(0,r.makeMutable)(0),h=(0,r.makeMutable)(0),g=(0,r.makeMutable)(0),y=(0,r.makeMutable)(0),v=(0,r.makeMutable)(0),b=16,x=.8,w=function(e){x=e},_=function(){return x},k=340,I=function(e,t){var n=p[e];n?n.measure((function(e,n,r,o,a,i){m.value=a||m.value,h.value=i||h.value,g.value=r||g.value,y.value=o||y.value,t()})):t()},j=function(){(0,l.pauseDappInteraction)();var e=(0,s.getWebTabs)(),t=e.currentTabId,n=e.tabs;I(t,(function(){f.value=(0,o.withTiming)(d),setTimeout((function(){var e=Math.floor((n.findIndex((function(e){return e.id===t}))-1)/2);v.value=e*y.value+b}),330)}))},O=function(e){var t=e||(0,i.getCurrentTabId)();I(t,(function(){f.value=(0,o.withTiming)(c),(0,l.resumeDappInteraction)()}))},T={code:"function anonymous(){const{runOnJS,after}=this._closure;return runOnJS(after)();}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/explorerAnimation.ts"},S=function(e){var t=e.before,n=e.after,r=void 0===n?function(){}:n;(0,l.resumeDappInteraction)(),null==t||t(),u.value=(0,o.withTiming)(d,{duration:300},function(){var e=function(){return(0,a.runOnJS)(r)()};return e._closure={runOnJS:a.runOnJS,after:r},e.__initData=T,e.__workletHash=0xece50f7a68f,e}())},P={code:"function anonymous(){const{runOnJS,after}=this._closure;return runOnJS(after)();}",location:"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Discover/Explorer/explorerAnimation.ts"},C=function(e){var t=e.before,n=e.after,r=void 0===n?function(){}:n;(0,l.pauseDappInteraction)(),(0,l.dismissWebviewKeyboard)(),null==t||t(),setTimeout((function(){u.value=(0,o.withTiming)(c,{duration:300},function(){var e=function(){return(0,a.runOnJS)(r)()};return e._closure={runOnJS:a.runOnJS,after:r},e.__initData=P,e.__workletHash=0xece50f7a68f,e}())}))},M=function(){},A=function(e){var t=e.beforeMinimize,n=e.beforeMaximize,r=e.afterMaximize,o=void 0===r?M:r,a=e.afterMinimize,i=void 0===a?M:a;u.value===c?S({before:n,after:o}):C({before:t,after:i})}},933790:(e,t,n)=>{"use strict";n.r(t),n.d(t,{crossWebviewLoadUrl:()=>c,dismissWebviewKeyboard:()=>d,getWebviewWrapperRef:()=>l,isValidWebUrl:()=>a,pauseDappInteraction:()=>u,resumeDappInteraction:()=>f,validateUrl:()=>i,webHandler:()=>o,webviewRefs:()=>s});var r=n(292147),o=(n(213208),"browser"),a=function(e){return/^[^/\s]+\.(?:ai|app|art|co|com|club|dev|ee|fi|finance|game|im|info|io|is|it|net|network|news|org|so|xyz)(?:\/[^/\s]*)*$/.test(e)},i=function(e){try{new URL(e)}catch(t){return a(e)?`https://${e}`:`https://www.google.com/search?q=${e}`}return e},s={};function l(e){var t=e;t||(t=(0,n(633416).getCurrentTabId)());var r=t?s[t]:null;return null!=r?r:null}function c(e){var t,n=e.url,o=l(e.tabId);r.default.webview.info("crossWebviewLoadUrl >>>>",n),null==o||null==(t=o.innerRef)||t.loadUrl(n)}function d(e){if(l(e));}function u(e){var t=l(e);t&&(t.jsBridge&&(t.jsBridge.globalOnMessageEnabled=!1))}function f(e){var t=l(e);t&&(t.jsBridge&&(t.jsBridge.globalOnMessageEnabled=!0))}},342954:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MockExternalAccountImg:()=>y,default:()=>v});var r=n(634795),o=n(459740),a=n(256666),i=n(225447),s=n(202784),l=n(71416),c=n(814817),d=n(945821),u=n(759275),f=n(776553),p=n(552322),m=["accountId","account","walletName","size","radius"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=l;return(0,p.jsx)(i.default,g({source:t,w:6,h:6,borderRadius:"6px"},e))}const v=(0,s.memo)((function(e){var t=e.accountId,n=e.account,a=e.walletName,s=e.size,l=void 0===s?6:s,h=e.radius,y=void 0===h?"6":h,v=(0,o.default)(e,m),b=d.default.serviceExternalAccount,x=(0,u.usePromiseResult)((0,r.default)((function*(){var e=t||(null==n?void 0:n.id)||"";if((0,c.isExternalAccount)({accountId:e})){var r,o,a,i=yield b.getExternalAccountImage({accountId:e});return i||(yield(0,f.wait)(1e3),i=yield b.getExternalAccountImage({accountId:e})),(null==(r=i)?void 0:r.sm)||(null==(o=i)?void 0:o.md)||(null==(a=i)?void 0:a.lg)||""}return""})),[n,t,b,a],{checkIsMounted:!0}).result;if(x){var w={uri:x};return(0,p.jsx)(i.default,g({source:w,w:l,h:l,borderRadius:y},v),x)}return null}))},751653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InjectedConnectorInfo:()=>c,getInjectedConnector:()=>u});var r=n(887371),o=n(620278),a=n(196234),i=n(598225),s=n(414542);const l={createConnector:function(){var e=(0,i.initializeConnector)((function(e){return new s.MetaMask({actions:e})})),t=(0,a.default)(e,3);return{connector:t[0],hooks:t[1],store:t[2]}}};var c=function(){function e(e){var t=e.connector,n=e.hooks,r=e.store;this.connector=t,this.hooks=n,this.store=r}return(0,r.default)(e,[{key:"isActivating",get:function(){var e=this.store.getState(),t=e.activating;e.chainId,e.accounts;return Boolean(t)}},{key:"isActive",get:function(){var e=this.store.getState(),t=e.chainId,n=e.activating,r=e.accounts;return Boolean(t&&r&&!n)}},{key:"isConnected",get:function(){var e=this.store.getState(),t=e.chainId,n=e.accounts;e.activating;return Boolean(t&&n&&n.length)}},{key:"connectedAccount",get:function(){var e=this.store.getState(),t=(e.chainId,e.accounts);e.activating;return null==t?void 0:t[0]}}]),e}(),d={};function u(e){var t=e.name;return d[t]||(d[t]=function(e){var t=e.name;if(t===o.WALLET_CONNECT_WALLET_NAMES.MetaMask)return new c(l.createConnector());throw new Error(`createInjectedConnectorByName ERROR: wallet name not supported. name=${t}`)}({name:t})),d[t]}},433617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useAddExternalAccount:()=>l});var r=n(634795),o=n(202784),a=n(613549),i=n(292147),s=n(945821);function l(){var e=s.default.serviceAccount,t=s.default.serviceExternalAccount,n=(0,o.useCallback)(function(){var n=(0,r.default)((function*(n){var r,o,s,l,c,d=n.status,u=n.session,f=n.client,p=n.walletService,m=n.injectedProviderState,h=n.externalAccountInfo;i.default.walletConnect.info("Connect NewSession",{status:d,peerMeta:null==u?void 0:u.peerMeta,walletServiceUrl:null==f||null==(r=f.walletService)?void 0:r.homepage});var g=null!=(o=null!=(s=null==m?void 0:m.chainId)?s:null==d?void 0:d.chainId)?o:1,y=(null==m||null==(l=m.accounts)?void 0:l[0])||(null==d||null==(c=d.accounts)?void 0:c[0])||"";y=y.toLowerCase();var v=yield e.addExternalAccount({impl:a.IMPL_EVM,chainId:g,address:y}),b=v.account.id;f&&(f.watchAccountSessionChanged({accountId:b}),u&&(yield f.saveAccountSession({accountId:b,session:u})));var x=h;return!x&&p&&(x=yield t.generateExternalAccountInfoFromWalletService({externalAccountType:"injectedProvider",walletService:p})),m&&x&&(yield t.saveExternalAccountInfo({accountId:b,accountInfo:x})),yield e.changeActiveExternalWalletName(b),v}));return function(e){return n.apply(this,arguments)}}(),[e,t]);return{addExternalAccount:n}}},752425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useConnectAndCreateExternalAccount:()=>m});var r=n(634795),o=n(202784),a=n(942013),i=n(292147),s=(n(213208),n(945821)),l=n(107575),c=n(859071),d=n(481047),u=n(776553),f=n(526002),p=n(433617);function m(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).networkId,t=(0,c.useNavigation)(),n=s.default.serviceAccountSelector,m=(0,l.useWalletConnectQrcodeModal)().connectToWallet,h=(0,p.useAddExternalAccount)().addExternalAccount,g=(0,c.useActiveWalletAccount)().externalWallet,y=(0,o.useCallback)((0,r.default)((function*(){var t,r=e||a.OnekeyNetwork.eth,o=!1,s=null==g?void 0:g.id;if(s)try{var l=yield m({isNewSession:!0});o=!0,yield n.preloadingCreateAccount({walletId:s,networkId:r});var c=yield h(l);t=c.account,r=c.networkId}catch(f){i.default.common.error(f)}finally{var d;if(yield(0,u.wait)(2e3),o)yield n.preloadingCreateAccountDone({walletId:s,networkId:r,accountId:null==(d=t)?void 0:d.id})}})),[h,m,null==g?void 0:g.id,e,n]),v=(0,o.useCallback)((function(){return t.navigate(d.RootRoutes.Onboarding,{screen:f.EOnboardingRoutes.ThirdPartyWallet,params:{disableAnimation:!0,disableOnboardingDone:!0}})}),[t]),b=(0,o.useCallback)((0,r.default)((function*(){v()})),[y,v]);return{goToOnboardingConnectWallet:v,connectToWcWalletDirectly:y,connectAndCreateExternalAccount:b}}},454655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useConnectExternalWallet:()=>l});var r=n(634795),o=n(202784),a=(n(213208),n(107575)),i=n(620278),s=n(751653);function l(e){var t=e.onConnectResult,n=e.uri,l=e.connectToWalletService,c=(0,a.useWalletConnectQrcodeModal)().connectToWallet,d=(0,o.useCallback)(function(){var e=(0,r.default)((function*(e){var r=e.walletService,o=null==r?void 0:r.name;if(o&&o===i.WALLET_CONNECT_WALLET_NAMES.MetaMask){var a=(0,s.getInjectedConnector)({name:o}),d=a.connector,u=a.store;console.log("connect to metamask by react-web3"),yield d.activate();var f=u.getState(),p=!f.activating;f&&p&&(null==t||t({injectedProviderState:f,walletService:r}))}else if(l&&n&&r)yield l(r,n);else{var m=yield c({isNewSession:!0,walletService:r});null==t||t(m)}}));return function(t){return e.apply(this,arguments)}}(),[c,l,t,n]);return{connectExternalWallet:d}}},59758:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(435581),o=n(877531),a=n(18861),i=n(225447),s=n(480058),l=n(465760),c=n(10918),d=n(669083),u=n(196234),f=n(202784),p=n(783112),m=n(321668),h=n(276619),g=n(380164),y=n(292147),v=n(213208),b=n(552322);const x=function(e){var t=e.title,x=e.actionState,w=e.actionDescription,_=e.operateType,k=e.onCloseConnect,I=e.onActionPress,j=e.actionPressStyle,O=e.actionPressContent,T=(0,p.default)(),S=(0,f.useState)(!1),P=(0,u.default)(S,2),C=P[0],M=P[1],A=(0,f.useState)(n(439710)),E=(0,u.default)(A,2),R=E[0],D=E[1],N=(0,f.useState)(!v.default.isNativeIOS),L=(0,u.default)(N,2),B=L[0],F=L[1],U=(0,f.useState)(!0),H=(0,u.default)(U,2),W=H[0],V=H[1];return(0,f.useEffect)((function(){F("guide"!==_),V("complete"!==_&&"done"!==_),"guide"===_&&(D(n(439710)),v.default.isNativeIOS&&M(!1)),"connect"===_&&(D(n(439710)),v.default.isNativeIOS&&M(!0)),"transfer"===_&&(D(n(573561)),setTimeout((function(){D(n(536715))}),1e3),v.default.isNativeIOS&&M(!1)),"complete"!==_&&"done"!==_||(D(n(130152)),v.default.isNativeIOS&&M(!1))}),[_]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.default,{hideSecondaryAction:!0,header:t,onClose:function(){y.default.onekeyLite.debug("HardwareConnect: onClose"),null==k||k()},footer:(0,b.jsx)(m.default,{size:"xl",mx:4,mb:v.default.isNativeIOS?12:4,onPress:function(){g.default?null==I||I():d.default.show({title:T.formatMessage({id:"empty__not_supported"})})},type:j,children:O}),scrollViewProps:{pt:4,children:(0,b.jsxs)(a.default,{alignItems:"center",children:[(0,b.jsx)(c.default.DisplayXLarge,{textAlign:"center",mt:8,mx:9,color:"text-default",children:x}),(0,b.jsx)(c.default.Body1,{textAlign:"center",mt:2,mx:9,color:"text-subdued",children:w}),(0,b.jsxs)(s.default,{w:"100%",h:"560px",alignItems:"center",children:[(0,b.jsx)(s.default,{h:"360px",w:"100%",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(l.default,{source:R,autoPlay:B,loop:W})}),(0,b.jsx)(i.default,{w:"100%",h:"55%",resizeMode:"cover",mt:"202px",source:h})]})]})}}),!!C&&(0,b.jsx)(a.default,{w:"100%",p:4,h:"212px",position:"absolute",children:(0,b.jsxs)(a.default,{w:"100%",h:"212px",zIndex:99999,bg:"action-secondary-default",borderColor:"border-hovered",borderWidth:"1px",borderRadius:36,borderStyle:"dashed",alignItems:"center",justifyContent:"center",children:[(0,b.jsx)(r.default,{name:"CursorClickOutline",size:48}),(0,b.jsx)(c.default.DisplayMedium,{px:12,mt:5,textAlign:"center",children:T.formatMessage({id:"content__place_your_onekey_lite_close_to_the_back_of_here"})})]})})]})}},759109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(877531),o=n(643222),a=n(18861),i=n(398617),s=n(10918),l=n(97450),c=n(552322);const d=function(e){var t=e.title,n=e.description,d=e.securityReminder,u=e.onComplete;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.SkipAppLock,{}),(0,c.jsx)(r.default,{header:"PIN",footer:null,children:(0,c.jsx)(o.default,{flex:1,keyboardVerticalOffset:120,children:(0,c.jsxs)(a.default,{flexDirection:"column",alignItems:"center",h:"100%",justifyContent:"space-between",children:[(0,c.jsxs)(a.default,{alignItems:"center",children:[(0,c.jsx)(s.default.DisplayXLarge,{mt:8,mx:9,color:"text-default",textAlign:"center",children:t}),(0,c.jsx)(s.default.Body1,{mt:2,mx:9,color:"text-subdued",textAlign:"center",children:n}),(0,c.jsx)(a.default,{mt:8,children:(0,c.jsx)(i.default,{autoFocus:!0,onCodeCompleted:function(e){return null==u?void 0:u(e)}})})]}),(0,c.jsx)(s.default.Body2,{mb:3,px:8,textAlign:"center",children:d})]})})})]})}},314250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(259825),o=n(719392),a=n(634795),i=n(539144),s=n(18861),l=n(10918),c=n(43939),d=n(307061),u=n(196234),f=n(202784),p=n(703599),m=n(783112),h=n(945821),g=n(432986),y=n(793525),v=n(799075),b=n(827109),x=n(552322);const w=function(e){var t=e.deviceConnectId,n=e.onClose,r=e.onSuccess,o=e.onError,a=h.default.serviceHardware;return(0,x.jsx)(b.default,{onClose:n,onHandler:function(){return a.applySettings(t,{usePassphrase:!1}).then((function(){null==r||r()})).catch((function(e){null==o||o(e),setTimeout((function(){g.deviceUtils.showErrorToast(e)}),500)}))}})};var _=n(475579);function k(e){var t=e.walletId,n=e.deviceId,r=e.deviceConnectId,o=e.deviceType,a=e.deviceFeatures,i=(0,m.default)(),p=h.default.engine,v=h.default.serviceHardware,b=(0,f.useState)(!0),k=(0,u.default)(b,2),I=k[0],j=k[1],O=(0,f.useState)(!1),T=(0,u.default)(O,2),S=T[0],P=T[1],C=(0,f.useMemo)((function(){return"classic"===o||"classic1s"===o||"mini"===o}),[o]),M=function(){p.getHWDeviceByWalletId(t).then((function(e){var t,n;j(null!=(t=null==e||null==(n=e.payload)?void 0:n.onDeviceInputPin)&&t)})).catch((function(e){console.log(e)}))};(0,f.useEffect)((function(){P(!0===a.passphrase_protection)}),[a.passphrase_protection]),(0,f.useEffect)((function(){M()}),[]);var A=(0,f.useCallback)((function(){if(n&&r){var e=S,t=!S;(0,y.showOverlay)((function(n){return e?(0,x.jsx)(w,{deviceConnectId:r,onClose:n,onSuccess:function(){P(t),n()},onError:n}):(0,x.jsx)(_.default,{deviceConnectId:r,onClose:n,onSuccess:function(){P(t),n()},onError:n})}))}}),[r,n,S]);return(0,x.jsxs)(s.default,{children:[!!C&&(0,x.jsx)(c.default.Item,{titleColor:"text-default",title:i.formatMessage({id:"content__enter_pin_in_app"}),px:0,py:3,children:(0,x.jsx)(d.default,{labelType:"false",isChecked:!I,onToggle:function(){if(n&&r){var e=!I;j(e),v.setOnDeviceInputPin(r,n,e).catch((function(e){g.deviceUtils.showErrorToast(e)})).finally((function(){M()}))}}})}),(0,x.jsx)(c.default.Item,{titleColor:"text-default",title:i.formatMessage({id:"action__passphrase"}),px:0,py:3,children:(0,x.jsx)(d.default,{labelType:"false",isChecked:S,onToggle:A})}),(0,x.jsx)(l.default.Body2,{color:"text-subdued",children:i.formatMessage({id:"msg__passphrase_open_dsc"})})]})}function I(e){var t=e.walletId,n=e.deviceType,c=e.closeOverlay,d=(0,m.default)(),y=(0,i.default)(),b=h.default.engine,w=h.default.serviceHardware,_=(0,f.useState)(),I=(0,u.default)(_,2),j=I[0],O=I[1],T=(0,f.useState)(),S=(0,u.default)(T,2),P=S[0],C=S[1],M=(0,f.useState)(),A=(0,u.default)(M,2),E=A[0],R=A[1],D=(0,f.useCallback)(function(){var e=(0,a.default)((function*(e){var t=(0,(yield(0,v.CoreSDKLoader)()).getDeviceType)(e);return"touch"===t||"pro"===t}));return function(t){return e.apply(this,arguments)}}(),[]);return(0,f.useEffect)((function(){(0,a.default)((function*(){try{var e=yield b.getHWDeviceByWalletId(t);if(!e)return;var n,r=null==e?void 0:e.mac;O(null==e?void 0:e.mac),C(null==e?void 0:e.deviceId);var o=!0;try{var a;n=yield w.getFeatures(r);var i=yield D(n);o=!1===(null==(a=n)?void 0:a.unlocked)&&i}catch(s){if((s||{}).code!==p.HardwareErrorCode.PollingStop)throw s}yield w.unlockDevice(r),n&&!o||(n=yield w.getFeatures(r)),R(n)}catch(s){if((s||{}).code===p.HardwareErrorCode.PollingStop)return;c(),g.deviceUtils.showErrorToast(s,"action__connection_timeout")}}))()}),[c,b,D,w,t]),(0,x.jsx)(r.default,{closeOverlay:c,showCloseButton:!y,title:d.formatMessage({id:"content__advanced"}),children:P&&j&&E?(0,x.jsx)(k,{walletId:t,deviceId:P,deviceConnectId:j,deviceType:n,deviceFeatures:E,closeOverlay:c}):(0,x.jsxs)(s.default,{justifyContent:"center",alignItems:"center",children:[(0,x.jsx)(o.default,{size:"lg"}),(0,x.jsx)(l.default.DisplayMedium,{mt:8,mb:8,children:d.formatMessage({id:"modal__device_status_check"})})]})})}const j=function(e){var t=e.walletId,n=e.deviceType;(0,y.showOverlay)((function(e){return(0,x.jsx)(I,{walletId:t,deviceType:n,closeOverlay:e})}))}},475579:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(612210),o=n(896953),a=n(196234),i=n(202784),s=n(783112),l=n(945821),c=n(432986),d=n(793525),u=n(827109),f=n(552322);const p=function(e){var t=e.deviceConnectId,n=e.onClose,p=e.onSuccess,m=e.onError,h=(0,s.default)(),g=l.default.serviceHardware,y=(0,i.useState)(!1),v=(0,a.default)(y,2),b=v[0],x=v[1],w=(0,i.useCallback)((function(){setTimeout((function(){return(0,d.showDialog)((0,f.jsx)(u.default,{onHandler:function(){return g.applySettings(t,{usePassphrase:!0}).then((function(){null==p||p()})).catch((function(e){null==m||m(e),setTimeout((function(){c.deviceUtils.showErrorToast(e)}),500)}))}}))}),100)}),[t,m,p,g]);return(0,f.jsx)(r.default,{visible:!0,onClose:n,contentProps:{title:h.formatMessage({id:"dialog__device_has_disabled_passphrase"}),content:h.formatMessage({id:"dialog__device_has_disabled_passphrase_desc"}),iconType:"warning",input:(0,f.jsx)(o.default,{w:"full",mt:"4",isChecked:b,defaultIsChecked:!1,onChange:function(e){x(e)},title:h.formatMessage({id:"dialog__device_has_desabled_passphrase_double_check"})})},footerButtonProps:{primaryActionTranslationId:"action__enable",onSecondaryActionPress:function(){return null==n?void 0:n()},primaryActionProps:{disabled:!b,isDisabled:!b},onPrimaryActionPress:function(){w()}}})}},827109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(612210),o=n(18861),a=n(10918),i=n(719392),s=n(202784),l=n(783112),c=n(945821),d=n(552322);const u=function(e){var t=e.deviceId,n=e.connectId,u=e.onHandler,f=e.onClose,p=(0,l.default)(),m=c.default.serviceHardware;return(0,s.useEffect)((function(){t&&n?m.getFeatures(n).finally((function(){return null==f?void 0:f()})):u&&u().finally((function(){return null==f?void 0:f()}))}),[]),(0,d.jsx)(r.default,{visible:!0,children:(0,d.jsxs)(o.default,{flexDirection:"column",alignItems:"center",px:{base:4,md:6},my:{base:12,md:6},children:[(0,d.jsx)(i.default,{size:"lg"}),(0,d.jsx)(a.default.DisplayMedium,{mt:6,children:p.formatMessage({id:"modal__device_status_check"})})]})})}},625514:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(612210),o=n(783112),a=n(252261),i=n(552322);const s=function(e){var t=e.code,n=e.pinRetryCount,s=e.onRetry,l=e.onRetryConnect,c=e.onExit,d=e.onDialogClose,u=e.onIntoNfcSetting,f=(0,o.default)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.default,{visible:t===a.CardErrors.NotExistsNFC,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__unable_to_connect"}),content:f.formatMessage({id:"modal__unable_to_connect_desc"})},footerButtonProps:{hideSecondaryAction:!0,primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==c?void 0:c()}),500)}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.NotEnableNFC||t===a.CardErrors.NotNFCPermission,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__turn_on_nfc_and_let_onekey_connect_your_hardware_devices"}),content:f.formatMessage({id:"modal__onekey_wants_to_use_nfc_desc"})},footerButtonProps:{hideSecondaryAction:!0,primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==u?void 0:u()}),500)}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.InitChannel||t===a.CardErrors.ConnectionFail||t===a.CardErrors.ExecFailure,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__failed_to_connect"}),content:f.formatMessage({id:"modal__failed_to_connect_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__retry"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==l?void 0:l()}),500)},onSecondaryActionPress:function(){return null==c?void 0:c()}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.InterruptError,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"info",title:f.formatMessage({id:"modal__failed_to_connect"}),content:f.formatMessage({id:"modal__failed_to_connect_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__retry"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==l||l()},onSecondaryActionPress:function(){return null==c?void 0:c()}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.NotInitializedError,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"danger",title:f.formatMessage({id:"modal__this_device_has_no_backup_inbside"}),content:f.formatMessage({id:"modal__this_device_has_no_backup_inbside_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==c||c()},onSecondaryActionPress:function(){return null==c?void 0:c()}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.InitializedError,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"danger",title:f.formatMessage({id:"modal__this_device_contains_backup"}),content:f.formatMessage({id:"modal__this_device_contains_backup_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__overwrite"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==l||l()},onSecondaryActionPress:function(){return null==c?void 0:c()}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.PasswordWrong||t===a.CardErrors.InputPasswordEmpty||t===a.CardErrors.NotSetPassword||t===a.CardErrors.InitPasswordError,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"danger",title:f.formatMessage({id:"transaction__failed"}),content:f.formatMessage({id:"content__pin_error_the_data_of_this_device_will_be_erased_after_str_more_wrong_tries"},{count:n})},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),setTimeout((function(){return null==s?void 0:s()}),500)},onSecondaryActionPress:function(){return null==c?void 0:c()}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.CardLock,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"danger",title:"\u5361\u7247\u5df2\u7ecf\u9501\u5b9a",content:"\u5361\u7247\u5df2\u7ecf\u9501\u5b9a\uff0c\u9700\u8981\u624b\u52a8\u91cd\u7f6e\u3002"},footerButtonProps:{primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==c||c()},onSecondaryActionPress:function(){return null==c?void 0:c()}}}),(0,i.jsx)(r.default,{visible:t===a.CardErrors.UpperErrorAutoReset,canceledOnTouchOutside:!1,onClose:function(){return null==d?void 0:d()},contentProps:{iconType:"danger",title:f.formatMessage({id:"modal__onekey_lite_has_been_reset"}),content:f.formatMessage({id:"modal__onekey_lite_has_been_reset_desc"})},footerButtonProps:{hideSecondaryAction:!0,primaryActionProps:{type:"destructive",children:f.formatMessage({id:"action__i_got_it"})},onPrimaryActionPress:function(e){var t=e.onClose;null==t||t(),null==c||c()},onSecondaryActionPress:function(){return null==c?void 0:c()}}}),t===a.CardErrors.UserCancel&&(null==c?void 0:c())]})}},812301:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CUSTOM_UI_RESPONSE:()=>r,UI_REQUEST:()=>o});var r={CUSTOM_CANCEL:"ui-custom_cancel",CUSTOM_REQUEST_PIN_ON_DEVICE:"ui-custom_request_pin_on_device",CUSTOM_NEED_ONEKEY_BRIDGE:"ui-custom_need_onekey_bridge",CUSTOM_FORCE_UPGRADE_FIRMWARE:"ui-custom_force_onekey_bridge",CUSTOM_NEED_UPGRADE_FIRMWARE:"ui-custom_need_upgrade_firmware",CUSTOM_NEED_OPEN_PASSPHRASE:"ui-custom_need_open_passphrase",CUSTOM_NEED_CLOSE_PASSPHRASE:"ui-custom_need_close_passphrase"},o={REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_BUTTON:"ui-button",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",CLOSE_UI_WINDOW:"ui-close_window",BLUETOOTH_PERMISSION:"ui-bluetooth_permission",LOCATION_PERMISSION:"ui-location_permission",LOCATION_SERVICE_PERMISSION:"ui-location_service_permission",FIRMWARE_PROGRESS:"ui-firmware-progress"}},446390:(e,t,n)=>{"use strict";n.r(t),n.d(t,{closeHardwarePopup:()=>Be,default:()=>He});var r=n(208593),o=n(256666),a=n(634795),i=n(553197),s=n(101923),l=n(190769),c=n(353745),d=n(328012),u=n(945821),f=n(794953),p=n(153894),m=n(799075),h=n(213208),g=n(793525),y=n(866904),v=n(435581),b=n(18861),x=n(896953),w=n(196234),_=n(459740),k=n(321668),I=n(566147),j=n(921311),O=n(202784),T=n(442815),S=n(783112),P=n(46486),C=n(97450),M=n(920458),A=function(e,t){var n=/^[\x20-\x7E]*$/;return null!=t&&t.allowExtendedASCII&&(n=/^[\x20-\xFF]*$/),n.test(e)},E=n(795116),R=n(719392),D=n(433996),N=n(311631),L=n(552322),B=["children","mobileFillWidth","loading","closeWay","onCancel","onClose"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.children,n=e.mobileFillWidth,r=e.loading,o=e.closeWay,a=e.onCancel,i=e.onClose,s=(0,_.default)(e,B),l=(0,O.useState)(!1),c=(0,w.default)(l,2),d=c[0],u=c[1],f=(0,N.useSafeAreaInsets)().bottom,p=(0,O.useMemo)((function(){return!1}),[n]);return(0,O.useEffect)((function(){if("never"!==o){if("now"===o)return u(!0);var e=setTimeout((function(){u(!0)}),3e4);return function(){e&&clearTimeout(e)}}}),[o]),(0,L.jsx)(b.default,{px:p?0:6,w:"full",maxW:p?"full":"374",children:(0,L.jsxs)(b.default,U(U(U({w:"full",mx:"auto",p:4},f&&{pb:`${f}px`}),{},{rounded:"xl",bgColor:"surface-default",borderWidth:1,borderColor:"border-subdued",shadow:"depth.4"},s),{},{children:[t,!!d&&(0,L.jsx)(D.default,{onPress:function(){null==a||a(),null==i||i()},position:"absolute",top:1,right:1,type:"plain",circle:!0,name:"XMarkMini"}),!!r&&(0,L.jsx)(E.default,{w:"full",h:"full",top:0,right:0,position:"absolute",children:(0,L.jsx)(R.default,{size:"lg"})})]}))})};H.defaultProps={mobileFillWidth:!1,popupType:"normal",closeWay:"delay"};const W=H;var V=["connectId","onConfirm","onDeviceInput","passphraseState"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=e.onConfirm,n=(0,S.default)(),r=(0,j.default)({mode:"onChange",defaultValues:{passphrase:"",confirmPassphrase:""}}),o=r.control,a=r.handleSubmit,i=r.setError,s=a((function(e){var r=e.passphrase;r===e.confirmPassphrase?t(r):i("confirmPassphrase",{message:n.formatMessage({id:"msg__passphrase_needs_to_be_the_same"})})}));return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(I.default,{mt:4,space:2,children:[(0,L.jsx)(I.default.Item,{control:o,name:"passphrase",label:"",rules:{maxLength:{value:50,message:n.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){return!e.length||(A(e)?void 0:n.formatMessage({id:"form__add_exsting_wallet_invalid"}))}},children:(0,L.jsx)(I.default.Input,{clearTextOnFocus:!1,type:"password",autoFocus:!0,size:"xl",placeholder:"Passphrase",onKeyPress:function(e){"Enter"===e.nativeEvent.key&&s()},onSubmitEditing:function(){return s()},returnKeyType:"done"})}),(0,L.jsx)(I.default.Item,{control:o,name:"confirmPassphrase",label:"",rules:{maxLength:{value:50,message:n.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){return!e.length||(A(e)?void 0:n.formatMessage({id:"form__add_exsting_wallet_invalid"}))}},children:(0,L.jsx)(I.default.Input,{clearTextOnFocus:!1,type:"password",size:"xl",placeholder:n.formatMessage({id:"form__passphrase_confirm_placeholder"}),onKeyPress:function(e){"Enter"===e.nativeEvent.key&&s()},onSubmitEditing:function(){return s()},returnKeyType:"done"})})]}),(0,L.jsx)(k.default,{type:"primary",size:"lg",mt:3,onPress:function(){return s()},children:n.formatMessage({id:"action__confirm"})})]})},$=function(e){var t=e.onConfirm,n=(0,S.default)(),r=(0,j.default)({mode:"onChange",defaultValues:{passphrase:""}}),o=r.control,a=(0,r.handleSubmit)((function(e){var n=e.passphrase;t(n)}));return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(I.default,{mt:4,children:(0,L.jsx)(I.default.Item,{control:o,name:"passphrase",label:"",rules:{maxLength:{value:50,message:n.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},validate:function(e){return!e.length||(A(e)?void 0:n.formatMessage({id:"form__add_exsting_wallet_invalid"}))}},children:(0,L.jsx)(I.default.Input,{clearTextOnFocus:!1,type:"password",autoFocus:!0,size:"lg",placeholder:n.formatMessage({id:"form__passphrase_placeholder"}),onKeyPress:function(e){"Enter"===e.nativeEvent.key&&a()},onSubmitEditing:function(){return a()},returnKeyType:"done"})})}),(0,L.jsx)(k.default,{type:"primary",size:"lg",mt:3,onPress:function(){return a()},children:n.formatMessage({id:"action__confirm"})})]})};const Z=function(e){var t=e.connectId,n=e.onConfirm,r=e.onDeviceInput,o=e.passphraseState,a=(0,_.default)(e,V),i=(0,S.default)(),s=u.default.dispatch,l=(0,O.useState)(!0),c=(0,w.default)(l,2),d=c[0],f=c[1];return(0,T.useKeepAwake)(),(0,L.jsxs)(W,K(K({},a),{},{closeWay:"now",children:[(0,L.jsx)(C.SkipAppLock,{}),o?(0,L.jsx)($,{onConfirm:n}):(0,L.jsx)(G,{onConfirm:function(e){s((0,M.setPendingRememberWalletConnectId)(d?void 0:t)),n(e)}}),o?null:(0,L.jsxs)(b.default,{mt:"24px",children:[(0,L.jsx)(b.default,{flexDirection:"row",children:(0,L.jsx)(x.default,{flex:1,isChecked:d,onChange:f,title:i.formatMessage({id:"action__remove_when_exit"}),description:i.formatMessage({id:"action__remove_when_exit_desc"})})}),(0,L.jsxs)(b.default,{flexDirection:"row",mt:4,children:[(0,L.jsx)(b.default,{children:(0,L.jsx)(v.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})}),(0,L.jsxs)(b.default,{flex:1,ml:3,children:[(0,L.jsx)(y.default,{typography:"Body2Strong",color:"text-default",children:i.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget"})}),(0,L.jsx)(y.default,{typography:"Body2",color:"text-subdued",children:i.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget_dsc"})})]})]})]}),(0,L.jsx)(b.default,{mt:"24px",pt:"8px",borderTopWidth:P.default.hairlineWidth,borderTopColor:"border-subdued",children:(0,L.jsx)(k.default,{type:"plain",size:"base",onPress:function(){return r()},children:i.formatMessage({id:"msg__enter_passphrase_on_device"})})})]}))};var q=n(612210),X=n(432986),Y=n(827109);const Q=function(e){var t=e.deviceConnectId,n=e.onClose,r=(0,S.default)(),o=u.default.serviceHardware,a=(0,O.useCallback)((function(){setTimeout((function(){return(0,g.showDialog)((0,L.jsx)(Y.default,{onHandler:function(){return o.applySettings(t,{usePassphrase:!1}).catch((function(e){X.deviceUtils.showErrorToast(e)}))}}))}),100)}),[t,o]);return(0,L.jsx)(q.default,{visible:!0,onClose:n,contentProps:{title:r.formatMessage({id:"dialog__device_has_enabled_passphrase"}),content:r.formatMessage({id:"dialog__device_has_enabled_passphrase_desc"}),iconName:"LockClosedMini",iconType:"success"},footerButtonProps:{primaryActionTranslationId:"action__disable",onSecondaryActionPress:function(){return null==n?void 0:n()},onPrimaryActionPress:function(){null==n||n(),a()}}})};var J=n(493877),ee=n(481047);const te=function(e){var t=e.connectId,n=e.content,r=e.onClose,o=(0,J.default)();return(0,L.jsx)(q.default,{visible:!0,onClose:r,contentProps:{title:n,iconName:"UploadOutline",iconType:"warning"},footerButtonProps:{primaryActionTranslationId:"action__update_now",onSecondaryActionPress:function(){return null==r?void 0:r()},onPrimaryActionPress:function(){null==r||r(),o.navigate(ee.RootRoutes.Modal,{screen:ee.ModalRoutes.HardwareUpdate,params:{screen:ee.HardwareUpdateModalRoutes.HardwareUpdateInfoModel,params:{connectId:t,recheckFirmwareUpdate:!0}}})}}})};var ne=n(475579);const re=function(e){var t=e.deviceConnectId,n=e.onClose;return(0,L.jsx)(ne.default,{deviceConnectId:t,onClose:n,onSuccess:n,onError:function(e){X.deviceUtils.showErrorToast(e),null==n||n()}})};var oe=n(465760),ae=n(196420),ie=n(69335),se=n(990360),le=n(227314),ce=["deviceType","bootLoader"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=function(e){switch(e){case"classic1s":case"classic":return ae;case"mini":return ie;case"touch":return le;case"pro":return se;default:}};const pe=function(e){var t=e.deviceType,n=e.bootLoader,r=(0,_.default)(e,ce),o=(0,S.default)();return(0,L.jsxs)(W,ue(ue({},r),{},{children:[(0,L.jsx)(oe.default,{source:fe(t),autoPlay:!0,loop:!0,style:{width:"100%"}}),(0,L.jsx)(y.default,{typography:"DisplayMedium",mt:6,textAlign:"center",color:"text-default",children:n?o.formatMessage({id:"msg__firmware_is_being_upgraded"}):o.formatMessage({id:"modal__confirm_on_device"})})]}))};var me=n(422831),he=n(24127),ge=n(889376),ye=n(554394),ve=["connectId","deviceType","passphraseState"];function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){switch(e){case"classic":case"classic1s":return me;case"mini":return he;case"touch":return ye;case"pro":return ge;default:}};const _e=function(e){var t=e.connectId,n=e.deviceType,r=e.passphraseState,o=(0,_.default)(e,ve),a=(0,S.default)(),i=u.default.dispatch;(0,T.useKeepAwake)();var s=(0,O.useState)(!0),l=(0,w.default)(s,2),c=l[0],d=l[1];return(0,O.useEffect)((function(){i((0,M.setPendingRememberWalletConnectId)(c?void 0:t))}),[t,i,c]),(0,L.jsxs)(W,xe(xe({},o),{},{children:[(0,L.jsx)(C.SkipAppLock,{}),(0,L.jsx)(oe.default,{source:we(n),autoPlay:!0,loop:!0,style:{width:"100%"}}),(0,L.jsx)(y.default,{typography:"DisplayMedium",mt:6,textAlign:"center",color:"text-default",children:a.formatMessage({id:"msg__enter_passphrase_on_device"})}),r?null:(0,L.jsxs)(b.default,{mt:6,children:[(0,L.jsxs)(b.default,{flexDirection:"row",children:[(0,L.jsx)(b.default,{children:(0,L.jsx)(x.default,{isChecked:c,onChange:d})}),(0,L.jsxs)(b.default,{flex:1,children:[(0,L.jsx)(y.default,{typography:"Body2Strong",color:"text-default",children:a.formatMessage({id:"action__remove_when_exit"})}),(0,L.jsx)(y.default,{typography:"Body2",color:"text-subdued",children:a.formatMessage({id:"action__remove_when_exit_desc"})})]})]}),(0,L.jsxs)(b.default,{flexDirection:"row",mt:4,children:[(0,L.jsx)(b.default,{children:(0,L.jsx)(v.default,{name:"ExclamationTriangleOutline",size:20,color:"icon-warning"})}),(0,L.jsxs)(b.default,{flex:1,ml:3,children:[(0,L.jsx)(y.default,{typography:"Body2Strong",color:"text-default",children:a.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget"})}),(0,L.jsx)(y.default,{typography:"Body2",color:"text-subdued",children:a.formatMessage({id:"msg__use_passphrase_enter_hint_not_forget_dsc"})})]})]})]})]}))};var ke=n(231052),Ie=n(170766),je=n(10918),Oe=n(316602),Te=n(640618),Se=n(807514),Pe=n(250518),Ce=n(447325),Me=function(e){switch(e){case"classic":case"classic1s":return Oe;case"mini":return Te;case"touch":return Pe;case"pro":return Se;default:}},Ae=function(e){var t=e.onConfirm,n=e.onDeviceInput,r=(0,S.default)(),o=(0,O.useState)(""),a=(0,w.default)(o,2),i=a[0],s=a[1],l=(0,O.useState)(""),c=(0,w.default)(l,2),d=c[0],u=c[1];return(0,O.useEffect)((function(){u(i.replace(/\d/g,"\u25cf"))}),[i]),(0,L.jsxs)(b.default,{width:"full",height:"auto",style:{userSelect:"none"},children:[(0,L.jsx)(je.default.Heading,{children:r.formatMessage({id:"modal__enter_pin"})}),(0,L.jsx)(je.default.Body2,{color:"text-subdued",mt:"4px",children:r.formatMessage({id:"modal__enter_pin_desc"})}),(0,L.jsx)(b.default,{w:"full",my:6,children:(0,L.jsx)(Ie.default,{isReadOnly:!0,size:"xl",maxLength:9,type:"text",w:"100%",value:d,rightElement:(0,L.jsx)(D.default,{onPress:function(){return s(i.slice(0,-1))},size:"xl",type:"plain",name:"BackspaceOutline"})})}),(0,L.jsx)(ke.default,{keys:["7","8","9","4","5","6","1","2","3"],secure:!0,pattern:/^[1-9]{1,9}$/,text:i,onTextChange:function(e){s((function(){return e}))}}),(0,L.jsx)(k.default,{mt:6,size:"xl",type:"primary",isDisabled:0===i.length,onPress:function(){null==t||t(i)},children:r.formatMessage({id:"action__ok"})}),(0,L.jsx)(k.default,{type:"plain",size:"base",mt:3,onPress:function(){return n()},children:r.formatMessage({id:"msg__enter_pin_on_device"})})]})};const Ee=function(e){var t=e.deviceType,n=e.onDeviceInput,r=e.onCancel,o=e.onConfirm,a=e.onDeviceInputChange,i=(0,S.default)(),s=(0,O.useState)(n),l=(0,w.default)(s,2),c=l[0],d=l[1];(0,O.useEffect)((function(){null==a||a(c)}),[c,a]);var u=(0,O.useMemo)((function(){return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(oe.default,{source:Me(t),autoPlay:!0,loop:!0,style:{width:"100%"}}),(0,L.jsx)(y.default,{typography:"DisplayMedium",mt:6,textAlign:"center",color:"text-default",children:i.formatMessage({id:"modal__input_pin_code"})})]})}),[t,i]);return(0,L.jsx)(W,{onCancel:function(){null==r||r(),c||Ce.appUIEventBus.emit(Ce.AppUIEventBusNames.HardwareCancel)},mobileFillWidth:!c,closeWay:c?"delay":"now",borderBottomRadius:h.default.isNativeAndroid&&!c?"0px":"12px",children:c?u:(0,L.jsx)(Ae,{onConfirm:function(e){null==o||o(e)},onDeviceInput:function(){null==d||d(!0)}})})};var Re=n(812301);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=null;function Be(){Le&&(Le.destroy(),Le=null)}var Fe="",Ue=0;function He(e){return We.apply(this,arguments)}function We(){return We=(0,a.default)((function*(e){var t=e.uiRequest,n=e.payload,o=e.content;if(t){var y=Date.now(),v=JSON.stringify({uiRequest:t,payload:n});if(!(y-Ue<1e3&&Fe===v)){Ue=y,Fe=v;var b,x,w,_,k="normal",I=u.default.engine,j=u.default.serviceHardware,O=function(){Be(),(0,a.default)((function*(){try{var e,t=null!=(e=null==n?void 0:n.deviceConnectId)?e:"";yield j.cancel(t),yield j.getFeatures(t)}catch(r){}}))()},T=(yield(0,m.CoreSDKLoader)()).UI_RESPONSE;if(t===Re.CUSTOM_UI_RESPONSE.CUSTOM_REQUEST_PIN_ON_DEVICE){var S,P=null!=(S=null==n?void 0:n.deviceType)?S:"classic";j.sendUiResponse({type:T.RECEIVE_PIN,payload:"@@ONEKEY_INPUT_PIN_IN_DEVICE"}),b=(0,L.jsx)(Ee,{deviceType:P,onDeviceInput:!0,onCancel:function(){O()},onConfirm:function(e){null==j||j.sendUiResponse({type:T.RECEIVE_PIN,payload:e}),Be()},onDeviceInputChange:function(){}})}if(t===Re.UI_REQUEST.REQUEST_PIN){var C,M=null!=(C=null==n?void 0:n.deviceType)?C:"classic",A=!0;if(null!=n&&n.deviceId)try{var E,R,D=yield I.getHWDeviceByDeviceId(null==n?void 0:n.deviceId);A=null!=(E=null==D||null==(R=D.payload)?void 0:R.onDeviceInputPin)?E:!n.supportInputPinOnSoftware}catch(X){A=!n.supportInputPinOnSoftware}if(A)return void setTimeout((function(){He({uiRequest:Re.CUSTOM_UI_RESPONSE.CUSTOM_REQUEST_PIN_ON_DEVICE,payload:n,content:o})}));k="inputPin",b=(0,L.jsx)(Ee,{deviceType:M,onDeviceInput:A,onCancel:function(){O()},onConfirm:function(e){null==j||j.sendUiResponse({type:T.RECEIVE_PIN,payload:e}),Be()},onDeviceInputChange:function(e){k=A?"normal":"inputPin",e&&(Be(),setTimeout((function(){He({uiRequest:Re.CUSTOM_UI_RESPONSE.CUSTOM_REQUEST_PIN_ON_DEVICE,payload:n,content:o})})))}})}if(t===Re.UI_REQUEST.REQUEST_BUTTON){var N,B=null!=(N=null==n?void 0:n.deviceType)?N:"classic";b=(0,L.jsx)(pe,{deviceType:B,bootLoader:null==n?void 0:n.deviceBootLoaderMode,onCancel:function(){O()}})}if(t===Re.UI_REQUEST.REQUEST_PASSPHRASE_ON_DEVICE){var F,U,H=null!=(F=null==n?void 0:n.deviceType)?F:"classic";k="inputPassphrase",b=(0,L.jsx)(_e,{connectId:null!=(U=null==n?void 0:n.deviceConnectId)?U:"",deviceType:H,passphraseState:null==n?void 0:n.passphraseState,onCancel:function(){O()}})}if(t===Re.UI_REQUEST.REQUEST_PASSPHRASE){var W,V=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==j||j.sendUiResponse({type:T.RECEIVE_PASSPHRASE,payload:{value:t?"":e,passphraseOnDevice:t,save:!1}}),Be()};b=(0,L.jsx)(Z,{connectId:null!=(W=null==n?void 0:n.deviceConnectId)?W:"",passphraseState:null==n?void 0:n.passphraseState,onConfirm:function(e){return V(e)},onDeviceInput:function(){return V("",!0)},onCancel:function(){O()}})}if(t!==Re.CUSTOM_UI_RESPONSE.CUSTOM_NEED_UPGRADE_FIRMWARE)if(t!==Re.CUSTOM_UI_RESPONSE.CUSTOM_NEED_CLOSE_PASSPHRASE)if(t!==Re.CUSTOM_UI_RESPONSE.CUSTOM_NEED_OPEN_PASSPHRASE)if(t!==Re.CUSTOM_UI_RESPONSE.CUSTOM_NEED_ONEKEY_BRIDGE)if(t!==Re.CUSTOM_UI_RESPONSE.CUSTOM_FORCE_UPGRADE_FIRMWARE){if(t!==Re.UI_REQUEST.LOCATION_PERMISSION&&t!==Re.UI_REQUEST.BLUETOOTH_PERMISSION){if(t===Re.UI_REQUEST.LOCATION_SERVICE_PERMISSION&&(0,g.showDialog)((0,L.jsx)(p.default,{type:"locationService",onClose:function(){Be()}})),!b)return setTimeout((function(){Be()}));var z="center",K=h.default.isNativeIOS?42:10,G=function(){var e=z,t=0;return"inputPin"===k?(e=z,t=0):(e="flex-start",t=K),{justifyContent:e,marginTop:t}};return setTimeout((function(){var e=(0,L.jsx)(r.default,{style:{zIndex:9999,flex:1},children:(0,L.jsxs)(i.View,{from:{opacity:0},animate:{opacity:1},style:Ne({flex:1,alignItems:"center",top:0,padding:0,margin:0},G()),children:[(0,L.jsx)(d.CloseBackDrop,{backgroundColor:"#00000066"}),b]})});Le?Le.update(e):Le=new c.default(e)})),Le}if((yield l.default.Version>=31?s.default.check(s.default.PERMISSIONS.BLUETOOTH_SCAN):s.default.check(s.default.PERMISSIONS.ACCESS_FINE_LOCATION))||h.default.isNativeIOS)return void(0,g.showDialog)((0,L.jsx)(p.default,{type:"bluetooth",onClose:function(){Be()}}));var $=yield l.default.Version>=31?s.default.request(s.default.PERMISSIONS.BLUETOOTH_SCAN):s.default.request(s.default.PERMISSIONS.ACCESS_FINE_LOCATION);$===s.default.RESULTS.NEVER_ASK_AGAIN||$===s.default.RESULTS.DENIED?(0,g.showDialog)((0,L.jsx)(p.default,{type:l.default.Version>=31?"bluetooth":"location",onClose:function(){Be()}})):Be()}else{var q;(0,g.showDialog)((0,L.jsx)(te,{connectId:null!=(q=null==n?void 0:n.deviceConnectId)?q:"",content:null!=o?o:"",onClose:function(){Be()}}))}else(0,g.showDialog)((0,L.jsx)(f.default,{}));else(0,g.showDialog)((0,L.jsx)(re,{deviceConnectId:null!=(x=null==n?void 0:n.deviceConnectId)?x:"",onClose:function(){Be()}}));else(0,g.showDialog)((0,L.jsx)(Q,{deviceConnectId:null!=(w=null==n?void 0:n.deviceConnectId)?w:"",onClose:function(){Be()}}));else(0,g.showDialog)((0,L.jsx)(te,{connectId:null!=(_=null==n?void 0:n.deviceConnectId)?_:"",content:null!=o?o:"",onClose:function(){Be()}}))}}})),We.apply(this,arguments)}},603833:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ImageView:()=>W,SubmitRequest:()=>z,default:()=>K});var r=n(877531),o=n(433996),a=n(566147),i=n(328012),s=n(10918),l=n(921311),c=n(669083),d=n(256666),u=n(968079),f=n(634795),p=n(196234),m=n(561220),h=n(435581),g=n(18861),y=n(795116),v=n(719392),b=n(225447),x=n(539144),w=n(202784),_=n(472719),k=n(789644),I=n.n(k),j=n(912576),O=n(980124),T=n(480058),S=n(470310),P=n(783112),C=n(13334),M=n(636393),A=n(213208),E=n(97450),R=n(747225),D=n(493877),N=n(877097),L=n(552322);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(){return A.default.isNativeIOS?"App on iOS":A.default.isNativeAndroid?"App on Android":A.default.isRuntimeBrowser?"App on Browser":"Hardware"},H=function(e){switch(e){case"App on iOS":return"app_on_ios";case"App on Android":return"app_on_android";case"App on Browser":return"app_on_browser";case"App on Desktop":return"app_on_desktop";case"Hardware":return"hardware";default:return""}},W=function(e){var t=e.imageModel,n=e.onDelete,r=t.localPath,o=t.loading,a=t.filename,i=(0,C.default)().width,s=(0,x.default)(),l=((s?i:400)-2*(s?16:24))/4;return(0,L.jsxs)(T.default,{width:`${l}px`,height:`${l}px`,children:[(0,L.jsx)(g.default,{mt:"8px",ml:0,width:l-8+"px",height:l-8+"px",children:(0,L.jsxs)(T.default,{children:[(0,L.jsx)(b.default,{mt:0,ml:0,width:l-8+"px",height:l-8+"px",borderRadius:"12px",source:{uri:r},flex:1,preview:!0}),(0,L.jsx)(g.default,{mt:0,ml:0,display:o?"flex":"none",width:l-8+"px",height:l-8+"px",children:(0,L.jsx)(y.default,{flex:1,children:(0,L.jsx)(v.default,{size:"sm"})})})]})}),(0,L.jsx)(m.default,{onPress:function(){n(t)},children:(0,L.jsx)(g.default,{ml:l-20+"px",children:(0,L.jsx)(h.default,{size:20,name:"XCircleMini"})})})]},`ticket_image${a}`)},V=U(),z=function(){var e,t=(0,P.default)(),n=(0,D.useNavigationBack)(),d=(0,w.useState)(!1),v=(0,p.default)(d,2),b=v[0],k=v[1],T=(0,C.default)().width,A=(0,x.default)(),B=(0,_.useNavigation)(),z=(0,R.useSettings)().instanceId,K=((A?T:400)-2*(A?16:24))/4,G=(0,w.useState)([]),$=(0,p.default)(G,2),Z=$[0],q=$[1],X=(0,w.useCallback)((0,f.default)((function*(){var e=yield(0,j.launchImageLibraryAsync)({mediaTypes:O.MediaTypeOptions.Images,allowsEditing:!1,base64:!0,aspect:[4,3],quality:.3});if(!e.canceled){var n=e.assets[0],r=`${M.default.v4()}.png`,o={loading:!0,localPath:n.uri,filename:r},a=n.uri;0,q((function(e){return[].concat((0,u.default)(e),[o])})),(0,N.uploadImage)({filename:r,image:a},z,(function(e,n){e?(q((function(e){var t=e.findIndex((function(e){return e.filename===r}));return t<0?e:[].concat((0,u.default)(e.slice(0,t)),(0,u.default)(e.slice(t+1)))})),c.default.show({title:t.formatMessage({id:"msg__upload_failed"}),type:"error"})):q((function(e){var t=e.findIndex((function(e){return e.filename===r}));return t<0?e:[].concat((0,u.default)(e.slice(0,t)),[F(F({},e[t]),{},{loading:!1,token:n.data.upload.token})],(0,u.default)(e.slice(t+1)))}))}))}})),[z,t]),Y=[{label:t.formatMessage({id:"form__hardware"}),value:"Hardware"},{label:t.formatMessage({id:"form__app_on_desktop"}),value:"App on Desktop"},{label:t.formatMessage({id:"form__app_on_browser"}),value:"App on Browser"},{label:t.formatMessage({id:"form__app_on_ios"}),value:"App on iOS"},{label:t.formatMessage({id:"form__app_on_android"}),value:"App on Android"}],Q=(0,l.default)({mode:"onChange"}),J=Q.control,ee=Q.handleSubmit,te=Q.formState.isValid,ne=(0,w.useCallback)(function(){var e=(0,f.default)((function*(e){var r=[{id:360013393195,value:H(V)}];return b?(e.seVersion.length>0&&r.push({id:360017727195,value:e.seVersion}),e.bleVersion.length>0&&r.push({id:360017731836,value:e.bleVersion}),e.firmwareVersion.length>0&&r.push({id:360017731816,value:e.firmwareVersion})):e.appVersion.length>0&&r.push({id:360013430096,value:e.appVersion}),I().post((0,N.submitUri)(z),{email:e.email,ticket:{subject:e.comment,custom_fields:r,comment:{body:e.comment,uploads:function(){var e=[];return Z.forEach((function(t){t.token&&e.push(t.token)})),e}()}}}).then((function(e){if(e.data.success){c.default.show({title:t.formatMessage({id:"msg__submitted_successfully"})});var r=e.data.data;setTimeout((function(){n()}),0),setTimeout((function(){(0,N.requestTicketDetail)(r.id,z)}),1e3)}})).catch((function(e){console.log(e)}))}));return function(t){return e.apply(this,arguments)}}(),[Z,z,t,b,n]),re=(0,L.jsx)(s.default.Body2Strong,{mb:"4px",color:"text-subdued",children:t.formatMessage({id:"form__hint_optional"})}),oe=(0,w.useCallback)((function(){V=U()}),[]);(0,w.useEffect)((function(){return B.addListener("beforeRemove",oe),function(){return B.removeListener("beforeRemove",oe)}}),[oe,B]);var ae=(0,R.useSettings)().version;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(E.SkipAppLock,{}),(0,L.jsx)(r.default,{header:t.formatMessage({id:"form__submit_a_request"}),hideSecondaryAction:!0,primaryActionTranslationId:"action__submit",primaryActionProps:{onPromise:function(){return ee(ne)()},isDisabled:!(te&&(null==(e=Z.filter((function(e){return!(null!=e&&e.token)})))||!e.length))},scrollViewProps:{height:"560px",children:(0,L.jsxs)(a.default,{children:[(0,L.jsxs)(g.default,{zIndex:999,children:[(0,L.jsx)(s.default.Body2Strong,{mb:"4px",children:t.formatMessage({id:"form__request_type"})}),(0,L.jsx)(i.default,{withReactModal:!0,containerProps:{w:"full"},headerShown:!1,defaultValue:V,options:Y,footer:null,onChange:function(e){V=e,k("Hardware"===e)}})]}),(0,L.jsx)(a.default.Item,{label:t.formatMessage({id:"form__your_email"}),control:J,name:"email",rules:{required:t.formatMessage({id:"form__field_is_required"}),maxLength:{value:36,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})},pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,message:t.formatMessage({id:"msg__wrong_email_format"})}},defaultValue:"",children:(0,L.jsx)(a.default.Input,{placeholder:"example@gmail.com"})}),(0,L.jsx)(a.default.Item,{label:t.formatMessage({id:"form__your_request"}),labelAddon:(0,L.jsx)(o.default,{type:"plain",size:"xs",name:"PhotoMini",onPress:function(){Z.length<4&&X()}}),control:J,rules:{required:t.formatMessage({id:"form__field_is_required"}),maxLength:{value:1e3,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"comment",formControlProps:{width:"full"},defaultValue:"",children:(0,L.jsx)(a.default.Textarea,{placeholder:t.formatMessage({id:"form__your_question_is"}),borderRadius:"12px"})}),(0,L.jsxs)(S.default,{children:[Z.map((function(e,t){return(0,L.jsx)(W,{imageModel:e,onDelete:function(e){q((function(t){var n=t.findIndex((function(t){return t.filename===e.filename}));return n<0?t:[].concat((0,u.default)(t.slice(0,n)),(0,u.default)(t.slice(n+1)))}))}},t)})),Z.length<4?(0,L.jsx)(m.default,{onPress:X,children:(0,L.jsx)(y.default,{mt:"8px",width:K-8+"px",height:K-8+"px",borderRadius:"12px",borderWidth:1,borderColor:"border-default",children:(0,L.jsx)(h.default,{size:20,name:"PlusMini"})})}):null]}),b?[(0,L.jsx)(a.default.Item,{label:t.formatMessage({id:"form__firmware_version"}),labelAddon:re,control:J,rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"firmwareVersion",defaultValue:"",children:(0,L.jsx)(a.default.Input,{placeholder:"0.0.0"})}),(0,L.jsx)(a.default.Item,{label:t.formatMessage({id:"form__ble_version"}),labelAddon:re,control:J,rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"bleVersion",defaultValue:"",children:(0,L.jsx)(a.default.Input,{placeholder:"0.0.0"})}),(0,L.jsx)(a.default.Item,{label:t.formatMessage({id:"form__se_version"}),helpText:t.formatMessage({id:"content__these_information_may_be_found"}),rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},labelAddon:re,control:J,name:"seVersion",defaultValue:"",children:(0,L.jsx)(a.default.Input,{placeholder:"0.0.0.0"})})]:(0,L.jsx)(a.default.Item,{label:t.formatMessage({id:"form__app_version"}),labelAddon:re,control:J,rules:{maxLength:{value:12,message:t.formatMessage({id:"msg__exceeding_the_maximum_word_limit"})}},name:"appVersion",defaultValue:ae,children:(0,L.jsx)(a.default.Input,{placeholder:"0.0.0"})})]})}})]})};const K=z},877097:(e,t,n)=>{"use strict";n.r(t),n.d(t,{attachmentUri:()=>p,commentsUri:()=>c,listUri:()=>s,requestAttachmentUri:()=>g,requestTicketDetail:()=>h,submitUri:()=>u,ticketDetailUri:()=>l,updateTicketUri:()=>f,uploadImage:()=>m,uploadUri:()=>d});var r=n(634795),o=n(789644),a=n.n(o),i="https://ticket.onekey.so",s=function(e,t){return`${i}/api/tickets?instanceId=${e}&updatedAt=${null!=t?t:""}`},l=function(e,t){return`${i}/api/ticket/${e}?instanceId=${t}`},c=function(e,t){return`${i}/api/ticket/${e}/comments?instanceId=${t}`},d=function(e){return`${i}/api/attachments?instanceId=${e}`},u=function(e){return`${i}/api/ticket?instanceId=${e}`},f=function(e,t){return`${i}/api/ticket/${e}?instanceId=${t}`},p=function(e,t){return`${i}/api/attachments/${e}?instanceId=${t}`},m=function(e,t,n){a().post(d(t),e).then((function(e){n&&n(null,e.data)})).catch((function(e){n&&n(e,null)}))},h=function(e,t,n){a().get(l(e,t)).then((function(e){n&&n(null,e.data)})).catch((function(e){n&&n(e,null)}))},g=function(){var e=(0,r.default)((function*(e,t){return a().get(p(e,t))}));return function(t,n){return e.apply(this,arguments)}}()},266810:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RecycleDialog:()=>i});var r=n(612210),o=n(783112),a=n(552322);function i(e){var t=e.onConfirm,n=e.onClose,i=e.amount,s=(0,o.default)();return(0,a.jsx)(r.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__deoccupy",primaryActionProps:{type:"destructive"},onPrimaryActionPress:function(){t(),null==n||n()},onSecondaryActionPress:n},contentProps:{iconName:"RestoreMini",iconType:"danger",title:s.formatMessage({id:"title__release_occupied_balance"}),content:s.formatMessage({id:"content__release_occupied_balance"},{0:i})}})}},648431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(18861),o=n(566147),a=n(866904),i=n(196234),s=n(539144),l=n(202784),c=n(206391),d=n(783112),u=n(46486),f=n(534159),p=n(261961),m=n(945821),h=n(517972),g=n(552322);const y=function(e){var t,n=e.accountId,y=e.networkId,v=e.useFormReturn,b=e.amount,x=e.minimumAmount,w=e.maximumAmount,_=e.origin,k=e.descriptionLabelId,I=e.memo,j=e.nativeToken,O=e.isWebln,T=e.amountReadOnly,S=(0,d.default)(),P=(0,s.default)(),C=v.control,M=(0,v.watch)("amount"),A=(0,l.useMemo)((function(){return Number(x)}),[x]),E=(0,l.useMemo)((function(){return Number(w)}),[w]),R=(0,h.useInteractWithInfo)({sourceInfo:{id:"mockId",hostname:"",scope:"webln",origin:_,data:{method:"makeInvoice"}}}),D=(0,l.useState)(null),N=(0,i.default)(D,2),L=N[0],B=N[1];(0,l.useEffect)((function(){y&&n&&m.default.serviceLightningNetwork.getInvoiceConfig({networkId:y,accountId:n}).then((function(e){B(e)}))}),[y,n]);var F=(0,l.useMemo)((function(){if(!(Number(b)>0||A>0&&A===E))return A>0&&E>0?(0,g.jsx)(a.default,{typography:"Body2Strong",color:"text-subdued",children:S.formatMessage({id:"form__between_int_and_int_sats"},{min:A,max:E<A?null==L?void 0:L.maxReceiveAmount:Math.min(E,Number(null==L?void 0:L.maxReceiveAmount))})}):void 0}),[b,A,E,L,S]),U=(0,l.useMemo)((function(){var e;return E&&E>0&&E>A&&E<Number(null==L?void 0:L.maxReceiveAmount)&&(e=E),{min:{value:A,message:S.formatMessage({id:"form__field_too_small"},{0:A})},max:e?{value:e,message:S.formatMessage({id:"form__field_too_large"},{0:e})}:void 0,pattern:{value:/^[0-9]*$/,message:S.formatMessage({id:"form__field_only_integer"})},validate:function(e){if(!(A<=0)||e){var t=new c.BigNumber(e);return t.isInteger()?null!=L&&L.maxReceiveAmount&&t.isGreaterThan(null==L?void 0:L.maxReceiveAmount)?S.formatMessage({id:"msg_receipt_amount_should_be_less_than_int_sats"},{0:null==L?void 0:L.maxReceiveAmount}):void 0:S.formatMessage({id:"form__field_only_integer"})}}}}),[A,E,L,S]);return(0,g.jsxs)(o.default,{children:[(0,g.jsx)(o.default.Item,{label:S.formatMessage({id:"form__request_from"}),name:"requestFrom",control:C,formControlProps:{width:"full"},children:(0,g.jsx)(p.TxInteractInfo,{origin:null!=(t=null==R?void 0:R.url)?t:"",name:null==R?void 0:R.name,icon:null==R?void 0:R.icons[0],networkId:y,mb:0})}),O?null:(0,g.jsx)(o.default.Item,{label:S.formatMessage({id:null!=k?k:"form__description"}),control:C,name:"description",formControlProps:{width:"full"},rules:{maxLength:{value:40,message:S.formatMessage({id:"msg_description_can_be_up_to_int_characters"},{0:"40"})}},defaultValue:"",children:(0,g.jsx)(r.default,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderWidth:u.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",py:2,px:3,bgColor:"action-secondary-default",children:(0,g.jsx)(a.default,{typography:"Body2Mono",color:"text-subdued",lineHeight:"1.5em",numberOfLines:10,children:I})})}),(0,g.jsx)(o.default.Item,{label:`${S.formatMessage({id:"content__amount"})}`,control:C,name:"amount",formControlProps:{width:"full"},rules:U,defaultValue:"",isLabelAddonActions:!1,labelAddon:F,children:T?(0,g.jsx)(r.default,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderWidth:u.default.hairlineWidth,borderColor:"border-default",borderRadius:"xl",py:2,px:3,bgColor:"action-secondary-default",children:(0,g.jsx)(a.default,{typography:"Body2Mono",color:"text-subdued",lineHeight:"1.5em",children:`${Number(b)} ${S.formatMessage({id:"form__sats__units"})}`})}):(0,g.jsx)(o.default.Input,{type:"number",size:P?"xl":"default",placeholder:S.formatMessage({id:"form__enter_amount"}),isReadOnly:T,rightCustomElement:(0,g.jsx)(a.default,{px:4,typography:"Button1",color:"text-subdued",children:S.formatMessage({id:"form__sats__units"})})})}),(0,g.jsx)(f.FormatCurrencyTokenOfAccount,{accountId:n,networkId:y,token:j,value:new c.BigNumber(M),render:function(e){return(0,g.jsx)(a.default,{typography:"Body2",color:"text-subdued",mt:"-18px",children:e})}}),O?(0,g.jsx)(o.default.Item,{label:S.formatMessage({id:"form__description"}),control:C,name:"description",formControlProps:{width:"full"},rules:{maxLength:{value:40,message:S.formatMessage({id:"msg_description_can_be_up_to_int_characters"},{0:"40"})}},defaultValue:"",children:(0,g.jsx)(o.default.Textarea,{size:P?"xl":"default",totalLines:P?3:5,placeholder:S.formatMessage({id:"form__a_message_to_the_payer_optional"})})}):null]})}},280553:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LNModalDescription:()=>s});var r=n(18861),o=n(737790),a=n(859071),i=n(552322),s=function(e){var t=e.networkId,n=(0,a.useNetwork)({networkId:t}).network;return(0,i.jsx)(r.default,{children:(0,i.jsx)(o.default,{size:4,showInfo:!0,showName:!0,showTokenVerifiedIcon:!1,token:{name:null==n?void 0:n.name,logoURI:null==n?void 0:n.logoURI},nameProps:{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",ml:"-6px"}})})}},389992:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NetworkListEmpty:()=>s,strIncludes:()=>l});var r=n(783723),o=n(510374),a=n(783112),i=n(552322),s=function(){var e=(0,a.default)();return(0,i.jsx)(r.default,{children:(0,i.jsx)(o.default,{flex:"1",emoji:"\ud83d\udd0d",title:e.formatMessage({id:"content__no_results",defaultMessage:"No Result"})})})},l=function(e,t){return e.toLowerCase().includes(t.toLowerCase())}},365553:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SiteSection:()=>p});var r=n(256666),o=n(470310),a=n(866904),i=n(435581),s=n(459740),l=n(552322),c=["url"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){return["https","wss"].some((function(t){return e.startsWith(t)}))},p=function(e){var t=e.url,n=(0,s.default)(e,c);return t?(0,l.jsxs)(o.default,u(u({alignItems:"center",justifyContent:"center",flex:"1"},n),{},{children:[f(t)?(0,l.jsx)(i.default,{name:"LockClosedMini",size:12}):null,(0,l.jsx)(a.default,{typography:{sm:"Body1Strong",md:"Body2Strong"},ml:"1",numberOfLines:1,isTruncated:!0,children:t})]})):null}},381786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RpcSpeed:()=>y,allNetworksSelectAccount:()=>k,getRpcMeasureStatus:()=>w,measureRpc:()=>b,useRPCUrls:()=>x,useRpcMeasureStatus:()=>_});var r=n(968079),o=n(475652),a=n.n(o),i=n(196234),s=n(256666),l=n(634795),c=n(202784),d=n(945821),u=n(859071),f=n(53568),p=n(776553),m=n(386190);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={Fast:{iconColor:"icon-success",textColor:"text-success",text:"content__fast"},Slow:{iconColor:"icon-warning",textColor:"text-warning",text:"content__slow"},Unavailable:{iconColor:"icon-critical",textColor:"text-critical",text:"content__check_node"}},v=function(e){return"undefined"===typeof e?y.Unavailable:e<=800?y.Fast:y.Slow},b=function(){var e=(0,l.default)((function*(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var r=yield d.default.serviceNetwork.getRPCEndpointStatus(t,e,n),o=r.responseTime;return g({latestBlock:r.latestBlock,responseTime:o},v(o))}catch(a){}return g({latestBlock:void 0,responseTime:void 0},y.Unavailable)}));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){var t=(0,c.useState)(!1),n=(0,i.default)(t,2),o=n[0],s=n[1],u=(0,c.useState)(),f=(0,i.default)(u,2),p=f[0],m=f[1],h=(0,c.useState)([]),g=(0,i.default)(h,2),y=g[0],v=g[1],b=(0,c.useState)([]),x=(0,i.default)(b,2),w=x[0],_=x[1],k=(0,c.useCallback)((0,l.default)((function*(){if(e){s(!0);try{var t=d.default.serviceNetwork,n=yield t.getPresetRpcEndpoints(e),o=n.urls,i=void 0===o?[]:o,l=n.defaultRpcURL,c=yield t.getCustomRpcUrls(e);m(l),(yield t.networkIsPreset(e))?(_(null!=c?c:[]),v(i)):(_(a()([].concat((0,r.default)(i),(0,r.default)(c)))),v([]))}finally{s(!1)}}})),[e]);return(0,c.useEffect)((function(){k()}),[k]),{loading:o,defaultRpc:p,preset:y,custom:w,refresh:k}};function w(e){var t,n=Date.now()-(null!=(t=null==e?void 0:e.updatedAt)?t:0)>(0,p.getTimeDurationMs)({minute:2});return!e||n?{status:g({latestBlock:void 0,responseTime:void 0},y.Unavailable),loading:!0}:{status:g(g({},e),v(e.responseTime)),loading:!e}}var _=function(e){var t=(0,u.useAppSelector)((function(e){return e.general.activeNetworkId})),n=(0,u.useAppSelector)((function(n){var r,o;return null==(r=n.status.rpcStatus)?void 0:r[null!=(o=null!=e?e:t)?o:""]}));return(0,c.useMemo)((function(){return w(n)}),[n])},k=function(e){var t=e.networkId,n=e.accounts,r=(0,f.getManageNetworks)(void 0).enabledNetworks.find((function(e){return e.id===t}));return new Promise((function(e){return r&&n.length?1===n.length?e({network:r,account:n[0]}):void(0,m.showAllNetworksAccountDerivationsSelector)({network:r,accounts:n,onConfirm:function(t){e({network:r,account:t})}}):e(void 0)}))}},419479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ManageNetworkModalRoutes:()=>r.ManageNetworkModalRoutes});var r=n(481047)},423114:(e,t,n)=>{"use strict";n.r(t),n.d(t,{notifyIfRiskToken:()=>c});var r=n(669083),o=n(327377),a=n(849877),i=n(240634),s=n(63450),l=n(945821),c=function(e){var t;if(e.riskLevel&&!(e.riskLevel<=s.TokenRiskLevel.VERIFIED)){var n,c,d=null==e?void 0:e.networkId;if(!d)d=(0,a.generateNetworkIdByChainId)({impl:null!=(n=null==e?void 0:e.impl)?n:"",chainId:null!=(c=null==e?void 0:e.chainId)?c:""});l.default.serviceToken.getTokenRiskyItems({address:null!=(t=null==e?void 0:e.tokenIdOnNetwork)?t:(null==e?void 0:e.address)||"",networkId:d,apiName:i.GoPlusSupportApis.token_security}).then((function(t){var n,a;t.hasSecurity&&r.default.show({title:(0,o.formatMessage)({id:null!=t&&null!=(n=t.danger)&&n.length?"msg__str_is_a_risky_token_be_careful":"msg__str_is_an_attention_token_be_careful"},{0:null!=(a=null==e?void 0:e.symbol)?a:""})},{type:"default"})})).catch((function(){}))}}},918242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useAddressSecurityInfo:()=>c,useFiatPayTokens:()=>d,useTokenSecurityInfo:()=>l,useTokenSourceList:()=>s});var r=n(196234),o=n(202784),a=n(240634),i=n(945821),s=function(){var e=(0,o.useState)(!0),t=(0,r.default)(e,2),n=t[0],a=t[1],s=(0,o.useState)([]),l=(0,r.default)(s,2),c=l[0],d=l[1];return(0,o.useEffect)((function(){a(!0),i.default.serviceToken.fetchTokenSource().then((function(e){d(e.filter((function(e){return e.count>0})))})).finally((function(){return a(!1)}))}),[]),{loading:n,data:null!=c?c:[]}},l=function(e,t){var n=(0,o.useState)(!1),s=(0,r.default)(n,2),l=s[0],c=s[1],d=(0,o.useState)({safe:[],danger:[],warn:[],hasSecurity:!1}),u=(0,r.default)(d,2),f=u[0],p=u[1],m=(0,o.useCallback)((function(){e&&t&&(c(!0),i.default.serviceToken.getTokenRiskyItems({networkId:e,address:t,apiName:a.GoPlusSupportApis.token_security}).then(p).finally((function(){c(!1)})))}),[e,t]);return(0,o.useEffect)((function(){m()}),[m]),{loading:l,data:f}},c=function(e,t){var n=(0,o.useState)(!1),s=(0,r.default)(n,2),l=s[0],c=s[1],d=(0,o.useState)(),u=(0,r.default)(d,2),f=u[0],p=u[1],m=(0,o.useCallback)((function(){e&&t&&(c(!0),i.default.serviceToken.getAddressRiskyItems({address:t,networkId:e,apiName:a.GoPlusSupportApis.address_security}).then(p).finally((function(){c(!1)})))}),[e,t]);return(0,o.useEffect)((function(){m()}),[m]),{loading:l,data:f}},d=function(e,t){var n=(0,o.useState)([]),a=(0,r.default)(n,2),s=a[0],l=a[1],c=(0,o.useState)(!0),d=(0,r.default)(c,2),u=d[0],f=d[1];return(0,o.useEffect)((function(){f(!0),i.default.serviceFiatPay.getFiatPayList({networkId:e,type:t}).then((function(e){l(e)})).finally((function(){return f(!1)}))}),[e,t]),{tokenList:s,loading:u}}},546349:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PrivateOrPublicKeyPreview:()=>x,QRLoadingView:()=>b});var r=n(321668),o=n(866904),a=n(18861),i=n(453028),s=n(669083),l=n(539144),c=n(480058),d=n(795116),u=n(719392),f=n(225447),p=n(202784),m=n(783112),h=n(119804),g=n(497741),y=n(45668),v=n(552322),b=function(e){var t=e.qrCodeContainerSize;return(0,v.jsxs)(c.default,{w:t,h:t,children:[(0,v.jsx)(f.default,{borderRadius:"24px",source:g,w:t,h:t}),(0,v.jsx)(d.default,{w:"100%",h:"100%",children:(0,v.jsx)(u.default,{})})]})},x=function(e){var t=e.privateOrPublicKey,n=e.qrCodeContainerSize,c=(0,m.default)(),d=(0,l.default)(),u=(0,p.useCallback)((function(){(0,h.copyToClipboard)(null!=t?t:""),s.default.show({title:c.formatMessage({id:"msg__copied"})})}),[t,c]);return(0,v.jsxs)(a.default,{py:"24px",justifyContent:"center",flexDirection:"column",children:[(0,v.jsx)(a.default,{minH:n,alignItems:"center",flexDirection:"column",children:t?(0,v.jsx)(a.default,{borderRadius:"24px",bgColor:"#FFFFFF",p:d?"16px":"11px",shadow:"depth.4",children:!!t&&(0,v.jsx)(i.default,{value:t,logo:y,size:d?264:186,logoSize:d?57:40,logoMargin:d?4:2,logoBackgroundColor:"white"})}):(0,v.jsx)(b,{qrCodeContainerSize:n})}),(0,v.jsxs)(a.default,{alignItems:"center",mt:d?"32px":"24px",px:d?"24px":"32px",children:[(0,v.jsx)(o.default,{color:"text-subdued",textAlign:"center",typography:{sm:"Body1",md:"Body2"},w:"full",maxW:"full",children:t}),(0,v.jsx)(r.default,{width:d?"188px":"154px",height:d?"48px":"36px",mt:d?"32px":"24px",type:"plain",size:d?"xl":"base",leftIconName:"Square2StackMini",onPress:u,isLoading:!t,children:c.formatMessage({id:"action__copy"})})]})]})}},27172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(612210),o=n(566147),a=n(669083),i=n(634795),s=n(921311),l=n(539144),c=n(196234),d=n(202784),u=n(783112),f=n(822505),p=n(945821),m=n(552322);const h=function(e){var t,n=e.visible,h=e.account,g=e.onDone,y=e.onClose,v=(0,u.default)(),b=p.default.serviceAccount,x=(0,d.useState)(!1),w=(0,c.default)(x,2),_=w[0],k=w[1],I=(0,l.default)(),j=(0,s.default)({defaultValues:{name:""}}),O=j.control,T=j.handleSubmit,S=j.setError,P=j.reset;(0,d.useEffect)((function(){n||P()}),[n,P]);var C=T(function(){var e=(0,i.default)((function*(e){h&&(k(!0),(yield b.setAccountName(h.id,e.name))?(a.default.show({title:v.formatMessage({id:"msg__renamed"})}),null==y||y(),g(h)):S("name",{message:v.formatMessage({id:"msg__unknown_error"})}),k(!1))}));return function(t){return e.apply(this,arguments)}}());return(0,m.jsx)(m.Fragment,{children:n&&(0,m.jsx)(r.default,{visible:n,children:(0,m.jsxs)(o.default,{children:[(0,m.jsx)(o.default.Item,{name:"name",defaultValue:"",control:O,rules:{required:v.formatMessage({id:"form__field_is_required"}),maxLength:{value:24,message:v.formatMessage({id:"form__account_name_invalid_characters_limit"},{0:"24"})}},children:(0,m.jsx)(o.default.Input,{size:I?"xl":"default",autoFocus:!0,focusable:!0,placeholder:null!=(t=null==h?void 0:h.name)?t:""})}),(0,m.jsx)(f.default.FooterButton,{marginTop:0,secondaryActionTranslationId:"action__cancel",onSecondaryActionPress:function(){return null==y?void 0:y()},onPrimaryActionPress:function(){return C()},primaryActionTranslationId:"action__rename",primaryActionProps:{isLoading:_}})]})})})}},146571:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(612210),o=n(669083),a=n(634795),i=n(196234),s=n(202784),l=n(783112),c=n(506885),d=n(447325),u=n(945821),f=n(268883),p=n(327226),m=n(552322);function h(){var e=(0,l.default)(),t=u.default.serviceAccount,n=(0,s.useRef)(),h=(0,s.useState)(!1),g=(0,i.default)(h,2),y=g[0],v=g[1],b=(0,s.useState)(""),x=(0,i.default)(b,2),w=x[0],_=x[1],k=(0,s.useState)(""),I=(0,i.default)(k,2),j=I[0],O=I[1],T=(0,s.useState)(""),S=(0,i.default)(T,2),P=S[0],C=S[1],M=(0,s.useState)(),A=(0,i.default)(M,2),E=A[0],R=A[1],D=(0,p.default)().showVerify,N=(0,s.useCallback)((0,a.default)((function*(){if(!w)return Promise.resolve();var r=yield t.getAccount({walletId:j,accountId:w});return t.removeAccount(j,w,null!=E?E:"",P).then((function(){o.default.show({title:e.formatMessage({id:"msg__removed"})}),d.appUIEventBus.emit(d.AppUIEventBusNames.RemoveAccount,r),v(!1),null==n||null==n.current||n.current()})).catch((function(t){o.default.show({title:e.formatMessage({id:"msg__unknown_error"})}),console.log(t)}))})),[w,e,E,t,j,P]),L=function(e,t,r,o,a){n.current=a,_(t),R(r),O(e),C(o),setTimeout((function(){return v(!0)}),250)},B=(0,s.useCallback)((function(e){var t,n=e.wallet,r=e.callback,o=(null==n?void 0:n.type)!==c.WALLET_TYPE_HW&&(null==n?void 0:n.type)!==c.WALLET_TYPE_WATCHING&&(null==n?void 0:n.type)!==c.WALLET_TYPE_EXTERNAL,a=null!=(t=null==n?void 0:n.id)?t:"";o?D((function(t){L(a,e.accountId,t,e.networkId,r)}),(function(){}),null,f.ValidationFields.Account):L(a,e.accountId,void 0,e.networkId,r)}),[D]);return{RemoveAccountDialog:(0,s.useMemo)((function(){return y&&(0,m.jsx)(r.default,{visible:y,contentProps:{iconType:"danger",title:e.formatMessage({id:"action__remove_account"}),content:e.formatMessage({id:"dialog__remove_account_desc"})},footerButtonProps:{primaryActionProps:{type:"destructive",onPromise:function(){return N()}},primaryActionTranslationId:"action__remove",onSecondaryActionPress:function(){return v(!1)}}})}),[e,N,y]),show:L,goToRemoveAccount:B}}},931659:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(612210),o=n(669083),a=n(634795),i=n(896953),s=n(196234),l=n(202784),c=n(783112),d=n(447325),u=n(345584),f=n(945821),p=n(859071),m=n(776553),h=n(552322);const g=function(e){var t,n=e.deleteWallet,g=e.onClose,y=(0,c.default)(),v=f.default.engine,b=f.default.serviceAccount,x=(0,p.useNavigationActions)().closeWalletSelector,w=null!=n?n:{},_=w.walletId,k=w.password,I=w.hardware,j=(0,l.useState)(!1),O=(0,s.default)(j,2),T=O[0],S=O[1],P=(0,l.useState)(null!=(t=!!I)&&t),C=(0,s.default)(P,2),M=C[0],A=C[1],E=(0,l.useMemo)((function(){return I?I.isPassphrase?y.formatMessage({id:"dialog__delete_hardware_passphrase_wallet_desc"}):y.formatMessage({id:"dialog__delete_hardware_wallet_desc"}):y.formatMessage({id:"dialog__delete_wallet_desc"})}),[I,y]);return(0,h.jsx)(r.default,{visible:!0,canceledOnTouchOutside:!1,onClose:function(){A(!1),null==g||g()},contentProps:{iconType:"danger",title:y.formatMessage({id:!I||null!=I&&I.isPassphrase?"action__delete_wallet":"action__delete_device"}),content:E,input:I?void 0:(0,h.jsx)(i.default,{w:"full",mt:"4",isChecked:M,defaultIsChecked:!1,onChange:function(e){A(e)},title:y.formatMessage({id:"checkbox__i_have_written_down_phrase"}),description:y.formatMessage({id:"checkbox__i_have_written_down_phrase_desc"})})},footerButtonProps:{secondaryActionProps:{size:"xl"},primaryActionProps:{size:"xl",type:"destructive",children:y.formatMessage({id:"action__remove"}),isLoading:T,disabled:!I&&!M,isDisabled:!I&&!M},onPrimaryActionPress:function(){var e=(0,a.default)((function*(e){var t=e.onClose;_&&(S(!0),yield(0,m.wait)(100),u.default.clear(u.ETimelinePerfNames.removeWallet),u.default.mark({name:u.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> remove wallet start ======================="}),v.getWallet(_).then(function(){var e=(0,a.default)((function*(e){u.default.mark({name:u.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> engine.getWallet DONE"}),!I||null!=I&&I.isPassphrase||!e.associatedDevice?yield b.removeWallet(_,k):yield b.removeWalletAndDevice(_,e.associatedDevice),u.default.mark({name:u.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> serviceAccount.removeWallet DONE"}),o.default.show({title:y.formatMessage({id:"msg__wallet_deleted"},{0:e.name})}),d.appUIEventBus.emit(d.AppUIEventBusNames.RemoveWallet,e),null==t||t(),setTimeout((function(){x()}),100)}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.default.show({title:y.formatMessage({id:"msg__unknown_error"})}),console.log(e)})).finally((function(){S(!1),A(!1),u.default.mark({name:u.ETimelinePerfNames.removeWallet,title:"ManagerWalletDeleteDialog >> remove wallet end"})})))}));return function(t){return e.apply(this,arguments)}}()}})}},542457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EMarketCellData:()=>r,ListHeadTags:()=>u,ListHeadTagsForSearch:()=>d,MARKET_FAKE_SKELETON_CATEGORY_ARRAY:()=>c,MARKET_FAKE_SKELETON_LIST_ARRAY:()=>l,MARKET_LIST_COLUMN_SHOW_WIDTH_1:()=>a,MARKET_LIST_COLUMN_SHOW_WIDTH_2:()=>i,MARKET_LIST_COLUMN_SHOW_WIDTH_3:()=>s,SUBMIT_TOKEN_URL:()=>o});var r,o="https://gr4yl99ujhl.typeform.com/to/ZM0qyr9e",a=824,i=924,s=1024,l=new Array(5).fill(null),c=new Array(5).fill(0);!function(e){e.CollectionStarOrSerialNumber="CollectionStarOrSerialNumber",e.TokenInfo="TokenInfo",e.TokenSwapStatus="TokenSwapStatus",e.TokenPrice="TokenPrice",e.Token24hChange="Token24hChange",e.Token24hVolume="Token24hVolume",e.TokenMarketCap="TokenMarketCap",e.TokenSparklineChart="TokenSparklineChart",e.TokenCollectionStarAndMore="TokenCollectionStarAndMore"}(r||(r={}));var d=[{id:r.CollectionStarOrSerialNumber,minW:"42px",textAlign:"center",showVerticalLayout:!0,isSearch:!0},{id:r.TokenInfo,title:"form__name_uppercase",minW:"100px",textAlign:"left",showVerticalLayout:!0,isSearch:!0},{id:r.TokenPrice,title:"form__price_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!0,isSearch:!0},{id:r.Token24hChange,title:"form__24h%_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!0,isSearch:!0}],u=[{id:r.CollectionStarOrSerialNumber,minW:"32px",textAlign:"left",showVerticalLayout:!1},{id:r.TokenInfo,title:"form__name_uppercase",minW:"120px",textAlign:"left",showVerticalLayout:!0,dislocation:{id:r.TokenMarketCap,title:"form__market_cap_uppercase"}},{id:r.TokenSwapStatus,minW:"100px",showVerticalLayout:!1},{id:r.TokenPrice,title:"form__price_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!0},{id:r.Token24hChange,title:"form__24h%_uppercase",minW:"96px",textAlign:"right",showVerticalLayout:!0},{id:r.TokenMarketCap,title:"form__market_cap_uppercase",minW:"130px",textAlign:"right",showVerticalLayout:!1,hide824Width:!0,hide924Width:!0},{id:r.TokenSparklineChart,title:"form__last_7_days_uppercase",minW:"100px",textAlign:"right",showVerticalLayout:!1,hide924Width:!0,hide824Width:!0,hide1024Width:!0},{id:r.TokenCollectionStarAndMore,minW:"100px",showVerticalLayout:!1}]},516535:(e,t,n)=>{"use strict";function r(e){if(!e)return 0;var t=/\d(?:\.(\d*))?e([+-]\d+)/.exec(e.toExponential());return t?e.toFixed(Math.max(0,(t[1]||"").length-parseInt(t[2]))):e}function o(e){if(e){for(var t="",n=r(e).toString(),o=n.indexOf("."),a=-1===o?n:n.substring(0,o),i=-1!==o?n.substring(o+1):null;a.length>3;)t=`,${a.slice(-3)}${t}`,a=a.slice(0,a.length-3);return a&&(t=a+t),i&&(t=`${t}.${i}`),t}return"0.00"}function a(e,t){return e?t?e.toFixed(t):e.toFixed(2):"0.00"}function i(e,t){return e?`${e>=0?"+":""}${a(e,t)}`:"0.00"}function s(e){if(e>=1)return a(e);var t=r(e).toString().search(/[^-.0]/g),n=t-2,o=a(e,3+n);return n>=3?`0.{${n}}${o.toString().substring(t)}`:o}n.r(t),n.d(t,{formatDecimalZero:()=>s,formatLocalDate:()=>f,formatMarketUnitPosition:()=>p,formatMarketValueForComma:()=>o,formatMarketValueForFiexd:()=>a,formatMarketValueForInfo:()=>u,formatMarketVolatility:()=>i,parseExponential:()=>r});var l=1e9,c=1e6,d=1e3;function u(e){if(e){var t=0;return(t="string"===typeof e?e.startsWith("$")?parseFloat(e.substring(1).replaceAll(",","")):Number.isNaN(parseFloat(e))?0:parseFloat(e):e)>=l?`${a(t/l)}B`:t>=c?`${a(t/c)}M`:t>=d?`${a(t/d)}K`:t>=1?a(t):s(t)}return"0.00"}function f(e,t){return e&&e.length>0?new Date(e).toLocaleString(t):""}function p(e,t){return"sats"===(null==e?void 0:e.toLowerCase())?`${null!=t?t:""} ${null!=e?e:""}`:`${null!=e?e:""}${null!=t?t:""}`}},852547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CWalletSwitchDefaultConfig:()=>v,MonopolizeNetwork:()=>y,getNetworkWithWalletId:()=>g});var r=n(568505),o=n(98084),a=n(674548),i=n(601053),s=n(461109),l=n(585149),c=n(162634),d=n(296452),u=n(689906),f=n(670995),p=n(480855),m=n(617088),h=n(469782);function g(e){return e.split("-")[0]}var y=["POLKADOT"],v={"BTC-UniSat":{logo:i,title:"UniSat ",propertyKeys:["unisat"],enable:!0},"EVM-Metamask":{logo:d,title:"Metamask",propertyKeys:["ethereum"],enable:!0},"COSMOS-Keplr":{logo:c,title:"Keplr",propertyKeys:["keplr","getOfflineSigner","getOfflineSignerOnlyAmino","getOfflineSignerAuto"],enable:!0},"APTOS-Petra":{logo:a,title:"Petra",propertyKeys:["aptos","petra"],enable:!0},"APTOS-Martian":{logo:o,title:"Martian",propertyKeys:["martian"],enable:!1},"SUI-onekey":{logo:r,title:"OneKey(Sui)",propertyKeys:["onekey-sui"],enable:!0},"SUI-Sui Wallet":{logo:m,title:"Sui Wallet",propertyKeys:["suiWallet"],enable:!0},"SOLANA-onekey":{logo:r,title:"OneKey(Solana)",propertyKeys:["onekey-solana"],enable:!0},"SOLANA-Phantom":{logo:f,title:"Phantom",propertyKeys:["solana","phantom"],enable:!0},"TRON-TronLink":{logo:h,title:"TronLink",propertyKeys:["tronLink","tronWeb","sunWeb"],enable:!0},"CARDANO-Nami":{logo:s,title:"Nami",propertyKeys:["cardano"],enable:!0},"STARCOIN-StarMask":{logo:p,title:"StarMask",propertyKeys:["starcoin"],enable:!0},"CONFLUX-Fluent":{logo:l,title:"Fluent",propertyKeys:["conflux"],enable:!0},"POLKADOT-onekey":{logo:r,title:"OneKey(Polkadot)",propertyKeys:["onekey-polkadot"],enable:!0},"POLKADOT-polkadot-js":{logo:u,title:"Polkadot.js",propertyKeys:["polkadot-js"],enable:!1}}},79996:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(18861),o=n(256666),a=n(550398),i=n(795116),s=n(435581),l=n(459740),c=n(202784),d=n(552322),u=["verified"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=(0,c.memo)((function(e){var t=e.verified,n=(0,l.default)(e,u),o=n.width,f=n.height,m=n.src,h=(0,c.useMemo)((function(){return(0,d.jsx)(i.default,{width:o,height:o,borderRadius:"12px",bgColor:"surface-neutral-subdued",children:(0,d.jsx)(s.default,{name:"ImageBrokenIllus",size:20})})}),[o]);return m&&m.length>0?(0,d.jsxs)(r.default,{width:o,height:f,children:[(0,d.jsx)(a.default,p({preview:!1,skeleton:!0,borderRadius:"12px",fallbackElement:h},n)),!0===t?(0,d.jsx)(r.default,{bgColor:"background-default",position:"absolute",right:"-4px",bottom:"-4px",borderRadius:"full",children:(0,d.jsx)(s.default,{size:16,name:"BadgeCheckMini",color:"icon-success"})}):null]}):h}))},24809:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OnboardingContextProvider:()=>l,useOnboardingContext:()=>c});var r=n(196234),o=n(202784),a=n(702012),i=n(552322),s=(0,o.createContext)(null);function l(e){var t=e.children,n=(0,o.useState)({}),l=(0,r.default)(n,2),c=l[0],d=l[1],u=(0,a.useOnboardingLayoutVisible)(),f=u.visible,p=u.customVisibleRef,m=(0,o.useCallback)((function(){p.current=!0}),[p]),h=(0,o.useMemo)((function(){return{context:c,setContext:d,visible:f,forceVisibleUnfocused:m}}),[c,m,f]);return(0,i.jsx)(s.Provider,{value:h,children:t})}function c(){return(0,o.useContext)(s)}},702012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useOnboardingClose:()=>c,useOnboardingLayoutVisible:()=>l});var r=n(202784),o=n(472719),a=n(859071),i=n(493877),s=n(33809);function l(){var e,t=(0,o.useIsFocused)(),n=(0,r.useRef)();return t&&(n.current=void 0),{visible:null!=(e=n.current)?e:t,customVisibleRef:n}}function c(){var e=(0,a.useNavigationActions)().resetToRoot,t=(0,r.useCallback)((function(){e(),(0,s.closeExtensionWindowIfOnboardingFinished)()}),[e]);return{onboardingGoBack:(0,i.useNavigationBack)({fallback:t})}}},526002:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{EOnboardingRoutes:()=>r}),function(e){e.Welcome="welcome",e.ConnectWallet="ConnectWallet",e.ConnectHardwareModal="ConnectHardwareModal",e.ImportWallet="ImportWallet",e.RecoveryWallet="RecoveryWallet",e.SetPassword="SetPassword",e.RecoveryPhrase="RecoveryPhrase",e.ShowRecoveryPhrase="ShowRecoveryPhrase",e.BehindTheScene="BehindTheScene",e.ThirdPartyWallet="ThirdPartyWallet",e.RestoreFromCloud="RestoreFromCloud",e.CloudBackupDetails="CloudBackupDetails",e.KeyTag="KeyTag",e.Migration="Migration",e.MigrationPreview="MigrationPreview"}(r||(r={}))},108952:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessoryView:()=>g});var r=n(468702),o=n(256666),a=n(18861),i=n(321668),s=n(259924),l=n(459740),c=n(202784),d=n(783112),u=n(777791),f=n(552322),p=["accessoryData","withKeybord","expandWords","selected"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.accessoryData,n=e.withKeybord,o=e.expandWords,m=e.selected,g=(0,l.default)(e,p),y=(0,u.default)(),v=(0,d.default)(),b=(0,c.useMemo)((function(){return(y&&n||!n)&&(t&&t.length||!t)}),[t,y,n]),x=!t;return b?(0,f.jsx)(r.ScrollView,h(h({horizontal:!o,disableScrollViewPanResponder:!0,showsHorizontalScrollIndicator:!1,bgColor:"background-default",contentContainerStyle:{flexGrow:1}},g),{},{children:x?(0,f.jsx)(s.default,{alertType:"warn",title:v.formatMessage({id:"msg__invalid_word"}),dismiss:!1,containerProps:{flex:1}}):(0,f.jsx)(a.default,h(h({flexDirection:"row",m:"-4px"},o&&{flexWrap:"wrap"}),{},{children:t.map((function(e,t){return(0,f.jsx)(i.default,{size:o?"xs":"sm",onPress:function(){null==m||m(e)},m:"4px",shadow:"none",children:e},`${e}-${t}`)}))}))})):null}},159105:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useAccessory:()=>c,validMenmonicWord:()=>d});var r=n(968079),o=n(254073),a=n.n(o),i=n(196234),s=n(202784),l=n(36832),c=function(){var e=(0,s.useState)(""),t=(0,i.default)(e,2),n=t[0],o=t[1],c=(0,s.useState)([]),d=(0,i.default)(c,2),u=d[0],f=d[1];return{onChangeText:a()((0,s.useCallback)((function(e){if(o(e),(null==e?void 0:e.length)>1){var t=e.split(" ").pop();if(t&&t.length>1){var n=l.wordlists.english.filter((function(e){return e.startsWith(t)}));null!=n&&n.length?f(n):f(void 0)}else f([])}else f([])}),[]),150,{trailing:!0,leading:!1}),onSelectedKeybordAcessory:(0,s.useCallback)((function(e){var t=n.split(" ");t.pop();var a=`${[].concat((0,r.default)(t),[e]).join(" ")} `;o(a),f([])}),[n]),valueText:n,accessoryData:u,setAccessoryData:f}},d=function(e){return l.wordlists.english.find((function(t){return t===e}))}},574393:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MigrationEnable:()=>x,OneKeyMigrateQRCodePrefix:()=>b,addressWithoutHttp:()=>g,deviceInfo:()=>v,generatePassword:()=>h,parseCloudData:()=>f,parseDeviceInfo:()=>y,randomString:()=>m,shuffle:()=>p});var r=n(256666),o=n(459740),a=n(653124),i=n(380845),s=n(213208),l=n(620278),c=["public","private","publicData","privateData"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=e.public,n=e.private,r=e.publicData,a=e.privateData,i=(0,o.default)(e,c);return u(r&&a?{public:r,private:a}:{public:t,private:n},i)}function p(e){for(var t=e.split(""),n=t.length-1;n>0;n-=1){var r=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}return t.join("")}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~!@-#$";return Array.from(crypto.getRandomValues(new Uint32Array(e))).map((function(e){return t[e%t.length]})).join("")};function h(e){if(e<10)throw new Error("password too short");return p(m(Math.floor(e/3),"0123456789")+m(Math.floor(e/3),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz")+m(Math.floor(e/3),"~!@-#$^"))}function g(e){var t=e;return t.startsWith("http://")&&(t=t.replace("http://","")),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t}function y(e){var t=e.platform,n=e.channel,r="Unknow",o="QuestionMarkOutline";return"app"===t?null!=n&&n.includes("native-ios-pad")?(r="Tablet",o="DeviceTabletSolid"):(r="Mobile",o="DevicePhoneMobileSolid"):"web"===t?(r="Web",o="GlobeAltSolid"):"desktop"===t?(r="Desktop",o="ComputerDesktopSolid"):"ext"===t&&(r="Extension",o="PuzzlePieceSolid"),{name:r,logo:o}}function v(){var e=i.default.getState().settings,t=e.version,n=e.buildNumber;return{deviceName:null!=a.deviceName?a.deviceName:"unknown",platform:null!="web"?"web":"unknown",channel:s.default.distributionChannel,version:t,buildNumber:n}}var b=`${l.ONEKEY_APP_DEEP_LINK}migrate/`,x=!1},709303:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountBalanceDetailsPanel:()=>b,showAccountBalanceDetailsOverlay:()=>x,useAccountBalanceDetailsInfo:()=>v});var r=n(435581),o=n(759900),a=n(634795),i=n(196234),s=n(18861),l=n(10918),c=n(202784),d=n(783112),u=n(942013),f=n(945821),p=n(859071),m=n(793525),h=n(433423),g=n(552322);function y(e){var t=e.label,n=e.amount,r=e.symbol,o=e.alwaysShow;return n&&"0"!==n||o?(0,g.jsxs)(s.default,{justifyContent:"space-between",flexDirection:"row",alignItems:"center",children:[(0,g.jsx)(l.default.Body2Strong,{color:"text-subdued",children:t}),(0,g.jsxs)(l.default.Body2,{children:[n," ",r]})]}):null}function v(e){var t=e.accountId,n=e.networkId,r=e.useRecycleBalance,o=e.isInscribe,s=e.useCustomAddressesBalance,l=(0,d.default)(),u=(0,c.useState)(),m=(0,i.default)(u,2),h=m[0],g=m[1],y=(0,c.useState)(!1),v=(0,i.default)(y,2),b=v[0],x=v[1],w=(0,c.useState)(""),_=(0,i.default)(w,2),k=_[0],I=_[1],j=(0,p.useNativeToken)(n);(0,c.useEffect)((function(){(0,a.default)((function*(){try{x(!0);var e=yield f.default.serviceToken.fetchBalanceDetails({accountId:t,networkId:n,useRecycleBalance:r,isInscribe:o,useCustomAddressesBalance:s});g(e),x(!1),null!=e&&e.errorMessageKey&&I(l.formatMessage({id:null==e?void 0:e.errorMessageKey}))}catch(a){console.error(a),I(l.formatMessage({id:"msg__rpc_node_failure_refresh_and_try_again"}))}}))()}),[t,l,n,r,o,s]);var O=!0;return h||b||(O=!1),{enabled:O,balanceDetails:h,isLoading:b,errorMsg:k,nativeToken:j}}function b(e){var t=e.info,n=(0,d.default)(),a=(0,p.useActiveWalletAccount)().networkId,i=t.enabled,f=t.balanceDetails,m=t.isLoading,h=t.nativeToken,v=t.errorMsg,b=(0,c.useCallback)((function(){return m?(0,g.jsx)(o.default,{shape:"DisplayXLarge"}):a===u.OnekeyNetwork.sol?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(l.default.DisplayXLarge,{children:[null==f?void 0:f.total," ",null==h?void 0:h.symbol]}),(0,g.jsx)(y,{alwaysShow:!0,label:n.formatMessage({id:"content__spendable"}),amount:null==f?void 0:f.available,symbol:null==h?void 0:h.symbol}),(0,g.jsx)(y,{alwaysShow:!0,label:n.formatMessage({id:"content__rent"}),amount:null==f?void 0:f.unavailable,symbol:null==h?void 0:h.symbol})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(l.default.DisplayXLarge,{children:[null==f?void 0:f.total," ",null==h?void 0:h.symbol]}),(0,g.jsx)(y,{alwaysShow:!0,label:n.formatMessage({id:"content__spendable"}),amount:null==f?void 0:f.available,symbol:null==h?void 0:h.symbol}),(0,g.jsx)(y,{label:n.formatMessage({id:"content__frozen"}),amount:null==f?void 0:f.unavailableOfLocalFrozen,symbol:null==h?void 0:h.symbol}),(0,g.jsx)(y,{label:n.formatMessage({id:"content__inscriptions_occupy"}),amount:null==f?void 0:f.unavailableOfInscription,symbol:null==h?void 0:h.symbol}),(0,g.jsx)(y,{label:n.formatMessage({id:"content__unconfirmed"}),amount:null==f?void 0:f.unavailableOfUnconfirmed,symbol:null==h?void 0:h.symbol}),(0,g.jsx)(y,{label:n.formatMessage({id:"content__unusable"}),amount:null==f?void 0:f.unavailableOfUnchecked,symbol:null==h?void 0:h.symbol})]})}),[null==f?void 0:f.available,null==f?void 0:f.total,null==f?void 0:f.unavailable,null==f?void 0:f.unavailableOfInscription,null==f?void 0:f.unavailableOfLocalFrozen,null==f?void 0:f.unavailableOfUnchecked,null==f?void 0:f.unavailableOfUnconfirmed,n,m,null==h?void 0:h.symbol,a]);return i?(0,g.jsxs)(s.default,{children:[b(),v?(0,g.jsxs)(s.default,{flexDirection:"row",alignItems:"center",children:[(0,g.jsx)(r.default,{name:"ExclamationTriangleOutline",size:16,color:"text-warning"}),(0,g.jsx)(l.default.Caption,{ml:1,color:"text-warning",children:v})]}):null]}):null}function x(e){var t=e.info;(0,m.showOverlay)((function(e){return(0,g.jsx)(h.BottomSheetSettings,{closeOverlay:e,titleI18nKey:"content__account_balance",children:(0,g.jsx)(b,{info:t})})}))}},812177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(256666),o=n(785192),a=n(634795),i=n(202784),s=n(613549),l=(n(213208),n(722363)),c=n(859071),d=n(481047),u=n(331639),f=n(552322);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=function(e){var t=e.walletId,n=e.networkId,r=(0,c.useNavigation)(),p=(0,c.useNetwork)({networkId:n}).network,h=(0,s.isLightningNetworkByImpl)(null==p?void 0:p.impl),g=(0,l.useCreateAccountInWallet)({networkId:n,walletId:t,isFromAccountSelector:!0}).createAccount,y=(0,i.useCallback)((0,a.default)((function*(){t&&(yield g())})),[t,g]),v=(0,i.useCallback)((function(){setTimeout((function(){r.navigate(d.RootRoutes.Modal,{screen:d.ModalRoutes.CreateAccount,params:{screen:d.CreateAccountModalRoutes.CreateAccountAuthentication,params:{walletId:t,onDone:function(e){setTimeout((function(){r.replace(d.CreateAccountModalRoutes.RecoverAccountsList,{walletId:t,network:n,password:e,purpose:"",template:""})}),20)}}}})}))}),[r,t,n]),b=(0,i.useCallback)((function(){setTimeout((function(){r.navigate(d.RootRoutes.Modal,{screen:d.ModalRoutes.CreateAccount,params:{screen:d.CreateAccountModalRoutes.CreateAccountAuthentication,params:{walletId:t,onDone:function(e){setTimeout((function(){r.replace(d.CreateAccountModalRoutes.BulkCopyAddresses,{walletId:t,networkId:n,password:e,entry:"accountSelector"})}),20)}}}})}))}),[r,t,n]),x=(0,i.useMemo)((function(){return[{id:"action__add_account",onPress:y,icon:"PlusMini"},!h&&{id:"action__manage_account",onPress:v,icon:"SquaresPlusMini"},!h&&function(){return(0,f.jsx)(o.default,{my:1})},!h&&{id:"title__bulk_copy_addresses",onPress:b,icon:"Square2StackOutline"}]}),[y,v,b,h]);return(0,f.jsx)(u.default,m(m({options:x},e),{},{menuWidth:239}))}},386190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showAllNetworksAccountDerivationsSelector:()=>b});var r=n(256666),o=n(505240),a=n(107867),i=n(361301),s=n(10918),l=n(18861),c=n(202784),d=n(783112),u=n(626015),f=n(793525),p=n(433423),m=n(552322);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(){return(0,m.jsx)(l.default,{h:"2"})},v=function(e){var t=e.accounts,n=e.onConfirm,r=e.onClose,l=e.network,f=(0,d.default)(),p=(0,c.useCallback)((function(e){var t,o,c,d,p=e.item,h=null==(t=Object.values(null!=(c=null==l||null==(d=l.settings)?void 0:d.accountNameInfo)?c:{}))||null==t.find||null==(o=t.find((function(e){return e.template===p.template})))?void 0:o.label;return"object"===typeof h&&h.id&&(h=f.formatMessage({id:h.id})),(0,m.jsx)(a.default,{onPress:function(){n(p),null==r||r()},children:(0,m.jsx)(a.default.Column,{children:(0,m.jsxs)(i.default,{children:[(0,m.jsx)(s.default.Body1Strong,{mb:"1",children:(0,u.shortenAddress)(p.address)}),(0,m.jsx)(s.default.Body2,{children:h})]})},p.id)})}),[f,l.settings,n,r]);return(0,m.jsx)(o.default,{data:t,renderItem:p,ItemSeparatorComponent:y,keyExtractor:function(e){return e.id}})},b=function(e){return(0,f.showOverlay)((function(t){return(0,m.jsx)(p.BottomSheetSettings,{titleI18nKey:"form__select_address",closeOverlay:t,children:(0,m.jsx)(v,g(g({},e),{},{onClose:t}))})}))}},331639:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g,defaultMenuOffset:()=>h});var r=n(256666),o=n(284405),a=n(459740),i=n(202784),s=n(783112),l=n(783343),c=n(213208),d=n(552322),u=["options","children","menuWidth","placement"],f=["onPress","closeOnSelect","value","intlValues"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=c.default.isNativeAndroid?null==l.initialWindowMetrics?void 0:l.initialWindowMetrics.insets.top:0;const g=function(e){var t,n=e.options,r=e.children,l=e.menuWidth,c=e.placement,p=void 0===c?"bottom right":c,g=(0,a.default)(e,u),y=(0,s.default)(),v=(0,i.useCallback)((function(e,t){var n=e.onPress,r=e.closeOnSelect,i=void 0===r||r,s=e.value,l=e.intlValues,c=(0,a.default)(e,f);return void 0!==s?(0,d.jsx)(o.default.ItemOption,m(m({value:s},c),{},{onPress:function(){if(null==n||n(),!i)return!1},children:"textValue"in e?e.textValue:y.formatMessage({id:e.id},l)}),t):(0,d.jsx)(o.default.CustomItem,m(m({},c),{},{onPress:function(){if(null==n||n(),!i)return!1},children:"textValue"in e?e.textValue:y.formatMessage({id:e.id},l)}),t)}),[y]),b=(0,i.useCallback)((function(e){return e.filter(Boolean).map((function(e,t){return"function"===typeof e?(0,d.jsx)(i.Fragment,{children:e()},t):v(e,t)}))}),[v]);return(0,d.jsx)(o.default,m(m({w:l||190,offset:null!=(t=g.offset)?t:h,placement:p,trigger:function(e){return(0,i.cloneElement)(i.Children.only(r),e)}},g),{},{children:n.filter(Boolean).map((function(e,t){return"function"===typeof e?(0,d.jsx)(i.Fragment,{children:e()},t):"type"in e?"group"===e.type?(0,d.jsx)(o.default.Group,{title:y.formatMessage({id:e.title}),children:b(e.children)},t):(0,d.jsx)(o.default.OptionGroup,{type:e.type,title:y.formatMessage({id:e.title}),defaultValue:e.defaultValue,value:e.value,onChange:e.onChange,children:b(e.children)},t):v(e,t)}))}))}},433423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BottomSheetSettingRow:()=>p,BottomSheetSettings:()=>f});var r=n(877531),o=n(18861),a=n(297263),i=n(196234),s=n(539144),l=n(202784),c=n(783112),d=n(17756),u=n(552322),f=function(e){var t,n=e.closeOverlay,f=e.children,p=e.titleI18nKey,m=(0,l.useRef)(null),h=(0,s.default)(),g=(0,c.default)(),y=(0,a.default)(["surface-subdued","icon-subdued"]),v=(0,i.default)(y,2),b=v[0],x=v[1];return(0,l.useEffect)((function(){setTimeout((function(){var e;return null==(e=m.current)?void 0:e.open()}))}),[]),h?(0,u.jsx)(d.Modalize,{ref:m,onClosed:n,closeOnOverlayTap:!0,adjustToContentHeight:!0,handlePosition:"inside",modalStyle:{backgroundColor:b,borderTopLeftRadius:24,borderTopRightRadius:24,overflow:"hidden"},handleStyle:{backgroundColor:x},tapGestureEnabled:!1,children:(0,u.jsx)(o.default,{px:"16px",py:"24px",bg:"surface-subdued",children:f})}):(0,u.jsx)(r.default,{visible:!0,forceDesktop:!0,hideBackButton:!0,header:g.formatMessage({id:null!=(t=p)?t:"title__settings"}),footer:null,closeAction:n,staticChildrenProps:{pt:6,pb:6,px:{base:4,md:6},borderRadius:"24px"},children:f})},p=function(e){var t=e.children,n=e.mt;return(0,u.jsx)(o.default,{justifyContent:"space-between",flexDirection:"row",alignItems:"center",mt:n,children:t})}},219932:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showHomeBalanceSettings:()=>m});var r=n(307061),o=n(10918),a=n(783112),i=n(849877),s=n(945821),l=n(859071),c=n(821919),d=n(793525),u=n(433423),f=n(552322),p=function(e){var t=e.networkId,n=(0,a.default)(),d=(0,l.useAppSelector)((function(e){return e.settings})),p=d.hideSmallBalance,m=d.hideRiskTokens,h=d.putMainTokenOnTop;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.default.Subheading,{mb:"3",color:"text-subdued",children:n.formatMessage({id:"form__preferences"})}),(0,f.jsxs)(u.BottomSheetSettingRow,{children:[(0,f.jsx)(o.default.Body1Strong,{children:n.formatMessage({id:"form__hide_small_balance"})}),(0,f.jsx)(r.default,{labelType:"false",isChecked:p,onToggle:function(){return s.default.dispatch((0,c.setHideSmallBalance)(!p))}})]}),(0,i.isAllNetworks)(t)?null:(0,f.jsxs)(u.BottomSheetSettingRow,{mt:"4",children:[(0,f.jsx)(o.default.Body1Strong,{children:n.formatMessage({id:"form__put_coins_at_the_top"})}),(0,f.jsx)(r.default,{labelType:"false",isChecked:h,onToggle:function(){return s.default.dispatch((0,c.setPutMainTokenOnTop)(!h))}})]}),(0,i.isAllNetworks)(t)?null:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.default.Subheading,{mb:"3",mt:"8",color:"text-subdued",children:n.formatMessage({id:"form__anti_scam"})}),(0,f.jsxs)(u.BottomSheetSettingRow,{children:[(0,f.jsx)(o.default.Body1Strong,{children:n.formatMessage({id:"form__hide_risk_tokens"})}),(0,f.jsx)(r.default,{labelType:"false",isChecked:m,onToggle:function(){return s.default.dispatch((0,c.setHideRiskTokens)(!m))}})]})]})]})},m=function(e){var t=e.networkId;return(0,d.showOverlay)((function(e){return(0,f.jsx)(u.BottomSheetSettings,{closeOverlay:e,children:(0,f.jsx)(p,{networkId:t})})}))}},355231:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PortalContainer:()=>h,PortalRender:()=>m,isPortalExisted:()=>f,renderToPortal:()=>p});var r=n(196234),o=n(202784),a=n(342194),i=n(83615),s=n(552322),l=new Map,c=0;function d(e,t){l.set(e,t)}function u(e){return`portal:${e}`}function f(e){return l.has(e)}function p(e,t,n){var r=l.get(e),o=u(++c);if(!r)throw new Error(`react-native-root-portal: Can not find target PortalContainer named:'${e}'.`);return r.update(o,t,n),{update:function(e,t){r.update(o,e,t)},destroy:function(e){r.destroy(o,e)}}}function m(e){var t=e.children,n=e.container,a=(0,o.useState)(!1),i=(0,r.default)(a,2),d=i[0],f=i[1],p=(0,o.useMemo)((function(){var e=n?l.get(n):null,t="";e&&(t=u(++c));var r=null;return{destroy:function(){e&&t&&(null==e||e.destroy(t))},update:function(o){if(n)return o===r||(e&&t?(e.update(t,(0,s.jsx)(s.Fragment,{children:o})),r=o,!0):void console.error(`react-native-root-portal: Can not find target PortalContainer named:'${n}'.`))}}}),[n]);return p.update(t),(0,o.useEffect)((function(){return function(){p.destroy()}}),[p]),(0,o.useEffect)((function(){if(n){var e=p.update(t);d||e||setTimeout((function(){console.error(`react-native-root-portal: retry load PortalContainer:'${n}'.`),f(!0)}),800)}}),[t,n,p,d]),n?null:(0,s.jsx)(s.Fragment,{children:t})}function h(e){var t=e.name,n=e.renderSibling,r=e.children,c=(0,o.useMemo)((function(){var e=(0,i.default)(a.default,n),r=e.Root,o=e.manager;return f(t)&&console.warn(`react-native-root-portal: Another PortalContainer named:'${t}' is already existed.`),d(t,o),{Root:r,manager:o}}),[]);(0,o.useEffect)((function(){return l.has(t)||d(t,c.manager),function(){l.delete(t)}}),[t]);var u=c.Root;return(0,s.jsxs)(s.Fragment,{children:[r,(0,s.jsx)(u,{})]})}},7236:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showSplashScreen:()=>c});var r=n(18861),o=n(941749),a=n(554295),i=n(985769),s=(n(213208),n(793525)),l=n(552322),c=function(){a.default.dismiss(),(0,s.showOverlay)((function(){return(0,l.jsx)(r.default,{flex:1,justifyContent:"center",alignItems:"center",bg:"background-default",children:(0,l.jsx)(o.default,{style:{height:"100%",width:"100%",resizeMode:"center"},source:i})})}))}},92168:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OverviewBadge:()=>c});var r=n(425832),o=n(18861),a=n(854787),i=n(539144),s=n(783112),l=n(552322),c=function(e){var t=e.rate,n=(0,s.default)();return(0,i.default)()?(0,l.jsx)(a.default,{ml:"2",size:"lg",title:`${t.toFixed(2)}%`}):(0,l.jsx)(r.Tooltip,{hasArrow:!0,_text:{maxW:"80"},label:n.formatMessage({id:"msg__portfolio_share"}),placement:"top",children:(0,l.jsx)(o.default,{children:(0,l.jsx)(a.default,{ml:"2",size:"lg",title:`${t.toFixed(2)}%`})})})}},490415:(e,t,n)=>{"use strict";var r,o,a;n.r(t),n.d(t,{EOverviewScanTaskType:()=>r,OverviewDeFiPoolType:()=>o,OverviewModalRoutes:()=>a}),function(e){e.token="token",e.defi="defi",e.nfts="nfts"}(r||(r={})),function(e){e.Pool="Pool",e.Locked="Locked",e.Farming="Farming",e.Liquidity="Liquidity",e.Staked="Staked",e.Deposited="Deposited",e.Vesting="Vesting",e.Governance="Governance",e.Lending="Lending",e.Borrowed="Borrowed",e.Rewards="Rewards"}(o||(o={})),function(e){e.OverviewProtocolDetail="OverviewProtocolDetail"}(a||(a={}))},249915:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ReceiveTokenModalRoutes:()=>r.ReceiveTokenModalRoutes});var r=n(481047)},38484:(e,t,n)=>{"use strict";var r,o;n.r(t),n.d(t,{AssetType:()=>o,RevokeRoutes:()=>r}),function(e){e.ShareModal="ShareModal",e.ChangeAllowance="ChangeAllowance"}(r||(r={})),function(e){e[e.tokens=0]="tokens",e[e.nfts=1]="nfts"}(o||(o={}))},394171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{scanFromURLAsync:()=>a});var r=n(634795);function o(){return(o=(0,r.default)((function*(e){return new Promise((function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){var e=n.width||n.naturalWidth||150,r=n.height||n.naturalHeight||150,o=Math.min(960,e),a=r*(o/e),i=document.createElement("canvas");i.width=o,i.height=a;var s=i.getContext("2d");s.drawImage(n,0,0,e,r,0,0,o,a),t(s.getImageData(0,0,o,a))},n.src=e}))}))).apply(this,arguments)}function a(e){return i.apply(this,arguments)}function i(){return i=(0,r.default)((function*(e){var t=yield function(e){return o.apply(this,arguments)}(e),r=n(125631).scanImageData;return(yield r(t))[0].decode()})),i.apply(this,arguments)}},393072:(e,t,n)=>{"use strict";var r,o;n.r(t),n.d(t,{ScanQrcodeRoutes:()=>o,ScanSubResultCategory:()=>r}),function(e){e.URL="url",e.TEXT="text",e.MIGRATE="migrate"}(r||(r={})),function(e){e.ScanQrcode="ScanQrcode",e.ScanQrcodeResult="ScanQrcodeResult",e.PreviewSend="PreviewSend",e.RequestPermission="RequestPermission"}(o||(o={}))},706010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseSendModal:()=>h});var r=n(877531),o=n(256666),a=n(18861),i=n(866904),s=n(737790),l=n(459740),c=n(671029),d=n(859071),u=n(552322),f=["children","scrollViewProps"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=e.networkId,n=(0,d.useNetwork)({networkId:t}).network,o=e.children,p=e.scrollViewProps,h=(0,l.default)(e,f);return(0,u.jsx)(r.default,m(m({headerDescription:(0,u.jsxs)(a.default,{flexDirection:"row",alignItems:"center",mt:.5,children:[(0,u.jsx)(s.default,{size:4,mr:2,token:{logoURI:null==n?void 0:n.logoURI,name:null==n?void 0:n.shortName}}),(0,u.jsx)(i.default,{textAlign:"center",typography:"Caption",color:"text-subdued",children:(null==n?void 0:n.name)||(null==n?void 0:n.shortName)||void 0})]}),onSecondaryActionPress:function(e){return(0,e.close)()}},h),{},{scrollViewProps:p?m(m({},p),{},{children:null!=p&&p.children?(0,u.jsx)(c.LazyLoadingDisplayView,{children:null==p?void 0:p.children}):null}):void 0,children:o?(0,u.jsx)(c.LazyLoadingDisplayView,{children:o}):null}))}},729973:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DappSecurityView:()=>O});var r=n(854787),o=n(10918),a=n(18861),i=n(606201),s=n(256666),l=n(561220),c=n(333665),d=n(361301),u=n(225447),f=n(435581),p=n(795116),m=n(470310),h=n(866904),g=n(634795),y=n(196234),v=n(202784),b=n(783112),x=n(945821),w=n(627009),_=n(552322);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={is_open_source:"badge__not_open_source",malicious_contract:"badge__malicious_contract",malicious_creator:"badge__malicious_contract_creator",phishing_site:"badge__phishing_site"},O=function(e){var t,n,s,k,O,T=e.hostname,S=e.origin,P=e.networkId,C=e.name,M=e.icon,A=(0,b.default)(),E=(0,v.useState)(),R=(0,y.default)(E,2),D=R[0],N=R[1],L=(0,v.useState)(),B=(0,y.default)(L,2),F=B[0],U=B[1],H=null!=(t=null!=C?C:null==F?void 0:F.title)?t:"",W=null!=(n=null!=M?M:null==F?void 0:F.icon)?n:"",V=(0,v.useCallback)((function(){x.default.serviceToken.getSiteSecurityInfo(S,P).then((function(e){return N(e)}))}),[S,P]),z=(0,v.useCallback)((0,g.default)((function*(){var e=yield x.default.serviceDappMetaData.getUrlMeta({url:S});U(e)})),[S]);(0,v.useEffect)((function(){V(),z()}),[z,V]);var K=(0,v.useMemo)((function(){return(0,_.jsxs)(m.default,{space:1,alignItems:"center",children:[(0,_.jsxs)(h.default,{color:"text-subdued",fontSize:"10px",children:[A.formatMessage({id:"content__provided_by_str"},{source:"GoPlus"}),"."]}),(0,_.jsx)(h.default,{color:"text-subdued",onPress:function(){return(0,w.openUrlExternal)("https://feedback.gopluslabs.io/")},fontSize:"10px",typography:"Body2Underline",children:A.formatMessage({id:"action__report"})})]})}),[A]),G=null==H?void 0:H.slice(0,4),$=(0,v.useMemo)((function(){return G?(0,_.jsx)(p.default,{width:"full",height:"full",borderRadius:"full",bg:"background-selected",overflow:"hidden",children:(0,_.jsx)(h.default,{textAlign:"center",color:"text-default",children:G.toUpperCase()})}):(0,_.jsx)(p.default,{width:"full",height:"full",borderRadius:"full",bg:"background-selected",children:(0,_.jsx)(f.default,{name:"GlobeAsiaAustraliaMini",color:"icon-subdued"})})}),[G]),Z=(0,v.useMemo)((function(){return W?(0,_.jsx)(u.default,{width:"full",height:"full",src:W,fallbackElement:$,alt:W,borderRadius:"full"},W):$}),[$,W]),q=(0,v.useMemo)((function(){return(0,_.jsx)(i.default,{trigger:function(e){var t=Object.assign({},((0,c.default)(e),e));return(0,_.jsx)(l.default,I(I({},t),{},{children:void 0===D?(0,_.jsx)(f.default,{name:"QuestionMarkCircleMini",size:20,color:"icon-subdued"}):0===(null==D?void 0:D.length)?(0,_.jsx)(f.default,{name:"BadgeCheckMini",size:20,color:"icon-success"}):(0,_.jsx)(f.default,{name:"ShieldExclamationMini",size:20,color:"icon-critical"})}))},bodyProps:{children:void 0===D?(0,_.jsxs)(d.default,{space:1,children:[(0,_.jsx)(h.default,{typography:"Caption",fontSize:"14px",children:A.formatMessage({id:"title__unscanned_site"})}),(0,_.jsx)(h.default,{color:"text-subdued",fontSize:"10px",children:A.formatMessage({id:"title__cautions_scam_site_desc"})}),K]}):0===(null==D?void 0:D.length)?(0,_.jsxs)(d.default,{space:1,children:[(0,_.jsx)(h.default,{typography:"Caption",fontSize:"14px",children:A.formatMessage({id:"title__verified_site"})}),K]}):(0,_.jsxs)(d.default,{space:1,children:[(0,_.jsx)(h.default,{typography:"Caption",fontSize:"14px",children:A.formatMessage({id:"title__cautions_scam_site"})}),K]})}})}),[K,A,D]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(m.default,{alignItems:"center",space:3,w:"full",children:[(0,_.jsx)(a.default,{width:"32px",height:"32px",children:Z}),(0,_.jsxs)(d.default,{flex:"1",children:[(0,_.jsxs)(m.default,{alignItems:"center",space:1,children:[(0,_.jsx)(o.default.Body1Strong,{textTransform:"capitalize",children:null!=(s=null==T||null==(k=T.split("."))||null==k.reverse||null==(O=k.reverse())?void 0:O[1])?s:"N/A"}),q]}),(0,_.jsx)(o.default.Caption,{color:"text-subdued",isTruncated:!0,maxW:"300px",children:T})]})]}),D&&(null==D?void 0:D.length)>0?(0,_.jsxs)(m.default,{borderTopWidth:"1px",borderTopColor:"divider",alignItems:"center",flexWrap:"wrap",pt:2,mt:3,space:2,children:[null==D?void 0:D.map((function(e){var t;return(0,_.jsx)(r.default,{size:"sm",title:A.formatMessage({id:null!=(t=j[e])?t:""}),type:"critical",mb:1},e)})),(0,_.jsx)(i.default,{trigger:function(e){var t=Object.assign({},((0,c.default)(e),e));return(0,_.jsx)(l.default,I(I({},t),{},{mb:1,children:(0,_.jsx)(f.default,{name:"InformationCircleOutline",size:16,color:"icon-subdued"})}))},bodyProps:{children:K}})]}):null]})}},253557:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FeeSpeedLabel:()=>g});var r=n(470310),o=n(361301),a=n(256666),i=n(866904),s=n(459740),l=n(202784),c=n(783112),d=n(213208),u=n(242914),f=n(552322),p=["index","isCustom","iconSize","prices","withSpeedTime","waitingSeconds"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t,n=e.index,a=e.isCustom,m=e.iconSize,g=void 0===m?18:m,y=e.prices,v=e.withSpeedTime,b=e.waitingSeconds,x=(0,s.default)(e,p),w=(0,c.default)(),_=parseInt(n,10);y&&1===y.length&&(_=1);var k="";if(a)k="\u2699\ufe0f",t="form__gear_custom";else switch(_){case 0:k="\ud83d\udeb4\ud83c\udffb",t="form__low";break;case 1:default:k="\ud83d\ude95",t="form__normal";break;case 2:k="\ud83d\ude85",t="form__high"}var I=(0,l.useCallback)((function(){if(!a&&1===_&&d.default.isNativeAndroid)return g>20?{mt:"-10px"}:{mt:"-5px"}}),[g,_,a]);return(0,f.jsxs)(r.default,h(h({alignItems:"center"},x),{},{children:[(0,f.jsx)(i.default,h(h({},I()),{},{fontSize:g,children:k})),(0,f.jsxs)(o.default,{children:[(0,f.jsx)(i.default,{typography:"Body1Strong",children:w.formatMessage({id:t})}),v?(0,f.jsx)(u.FeeSpeedTime,{index:_,waitingSeconds:b,typography:"Body2"}):null]})]}))}},242914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomFeeSpeedTime:()=>c,FeeSpeedTime:()=>l});var r=n(866904),o=n(783112),a=n(822101),i=n(552322);function s(e){return e<15||e<=30?"text-success":"text-warning"}function l(e){var t=e.index,n=e.waitingSeconds,a=e.withColor,l=e.prices,c=e.typography,d=(0,o.default)(),u=parseInt(t,10),f=`< ${d.formatMessage({id:"content__str_seconds_plural"},{0:"15"})}`,p=n;if(l&&1===l.length&&(u=1),n){var m=n>60?Math.ceil(n/60):n;f=`~ ${d.formatMessage({id:n>60?"content__str_minutes_plural":"content__str_seconds_plural"},{0:m})}`}else 0===u&&(f=`> ${d.formatMessage({id:"content__str_seconds_plural"},{0:"30"})}`,p=31),1===u&&(f=`~ ${d.formatMessage({id:"content__str_seconds_plural"},{0:"30"})}`,p=30),2===u&&(f=`< ${d.formatMessage({id:"content__str_seconds_plural"},{0:"15"})}`,p=14);return a?(0,i.jsx)(r.default,{typography:c,color:s(p),children:f}):(0,i.jsx)(r.default,{typography:c,color:"text-subdued",children:f})}function c(e){var t=e.custom,n=e.prices,r=e.isEIP1559Fee,o=e.waitingSeconds,s=e.withColor;if(!t)return null;var c=(0,a.getCustomFeeSpeedInfo)({custom:t,prices:n,isEIP1559Fee:r,waitingSeconds:o}),d=c.customSimilarToPreset,u=c.customWaitingSeconds;return(0,i.jsx)(l,{withColor:s,index:d,waitingSeconds:u})}},349658:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FeeSpeedTip:()=>v});var r=n(606201),o=n(18861),a=n(256666),i=n(435581),s=n(333665),l=n(470310),c=n(866904),d=n(206391),u=n.n(d),f=n(783112),p=n(79694),m=n(552322);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=e.title,n=e.value;return(0,m.jsxs)(l.default,{justifyContent:"space-between",children:[(0,m.jsx)(c.default,{typography:"Body2Strong",children:t}),(0,m.jsx)(c.default,{typography:"Body2",color:"text-subdued",children:n})]})}function v(e){var t,n,a=e.index,l=e.isCustom,d=e.isEIP1559,h=e.price,v=e.limit,b=e.feeInfo,x=e.prices,w=e.custom,_=(0,f.default)(),k=parseInt(a,10);if(l)n="content__gas_option_custom_desc";else if(1===(null==x?void 0:x.length))n="content__gas_option_market_desc";else switch(k){case 0:n="content__gas_option_low_desc";break;case 1:default:n="content__gas_option_market_desc";break;case 2:n="content__gas_option_aggressive_desc"}var I=null==b?void 0:b.isBtcForkChain;return(0,m.jsx)(r.default,{trigger:function(e){var t=Object.assign({},((0,s.default)(e),e));return(0,m.jsx)(p.default,g(g({},t),{},{children:(0,m.jsx)(i.default,{name:"InformationCircleMini",size:18,color:"icon-subdued"})}))},bodyProps:{children:(0,m.jsxs)(o.default,{children:[(0,m.jsx)(c.default,{typography:"Body2",children:_.formatMessage({id:n})}),d&&h&&v&&(0,m.jsxs)(o.default,{mt:1,children:[(0,m.jsx)(y,{title:_.formatMessage({id:"content__max_fee"}),value:h.maxFeePerGas}),(0,m.jsx)(y,{title:_.formatMessage({id:"content__max_priority_fee"}),value:h.maxPriorityFeePerGas}),(0,m.jsx)(y,{title:_.formatMessage({id:"content__gas_limit"}),value:v})]}),!d&&!I&&h&&v&&(0,m.jsxs)(o.default,{mt:1,children:[(0,m.jsx)(y,{title:_.formatMessage({id:"content__gas_price"}),value:h}),(0,m.jsx)(y,{title:_.formatMessage({id:"content__gas_limit"}),value:v})]}),I&&h&&v&&(0,m.jsxs)(o.default,{mt:1,children:[(0,m.jsx)(y,{title:_.formatMessage({id:"form__fee_rate"}),value:l&&null!=w&&w.feeRate?`${w.feeRate} sat/vB`:`${new(u())(h).shiftedBy(null!=(t=null==b?void 0:b.feeDecimals)?t:8).toFixed()} sat/vB`}),(0,m.jsx)(y,{title:_.formatMessage({id:"form__size"}),value:`${v} B`})]})]})}})}},588594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SendEditFeeOverview:()=>f});var r=n(18861),o=n(256666),a=n(866904),i=n(783112),s=n(392853),l=n(534159),c=n(552322);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t,n,o=e.accountId,d=e.networkId,f=e.feeInfo,p=e.price,m=e.limit,h=e.btcCustomFee,g=e.onlyCurrency,y=e.currencyProps,v=e.formatOptions,b=(0,i.default)(),x=null==f?void 0:f.eip1559,w=null==f?void 0:f.isBtcForkChain,_="",k="",I=null==f?void 0:f.feeDecimals;if(x){var j=(0,s.calculateTotalFeeRange)({eip1559:!0,limit:m,price1559:p},I),O=j.min,T=j.max,S=O;k=(0,s.calculateTotalFeeNative)({amount:T,info:f}),_=(0,s.calculateTotalFeeNative)({amount:S,info:f})}else if(w){var P;if(h)P=parseInt(h);else{var C,M=f.prices.findIndex((function(e){return e===p}));P=null==(C=f.feeList)?void 0:C[M]}var A=(0,s.calculateTotalFeeRange)({limit:m,price:p,btcFee:P,isBtcForkChain:!0},I).max;k=(0,s.calculateTotalFeeNative)({amount:A,info:f,displayDecimal:I})}else{var E=(0,s.calculateTotalFeeRange)({limit:m,price:p},I).max;k=(0,s.calculateTotalFeeNative)({amount:E,info:f,displayDecimal:I})}return g?(0,c.jsx)(a.default,u(u({},y),{},{children:_?(0,c.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:d,value:_,formatOptions:v,render:function(e){return(0,c.jsx)(c.Fragment,{children:_?e:"-"})}}):(0,c.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:d,value:k,formatOptions:v,render:function(e){return(0,c.jsx)(c.Fragment,{children:k?e:"-"})}})})):(0,c.jsxs)(r.default,{children:[(0,c.jsxs)(a.default,{typography:"Body2Strong",textAlign:"center",children:[_||k,null!=(t=null==f?void 0:f.nativeSymbol)?t:""]}),(0,c.jsx)(a.default,{typography:"Display2XLarge",textAlign:"center",children:_?(0,c.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:d,value:_,formatOptions:v,render:function(e){return(0,c.jsx)(c.Fragment,{children:_?e:"-"})}}):(0,c.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:d,value:k,formatOptions:v,render:function(e){return(0,c.jsx)(c.Fragment,{children:k?e:"-"})}})}),_&&(0,c.jsxs)(a.default,{typography:"Body2",color:"text-subdued",textAlign:"center",mt:1,children:[b.formatMessage({id:"content__max_fee"}),":",(0,c.jsx)(l.FormatCurrencyNativeOfAccount,{accountId:o,networkId:d,value:k,formatOptions:v,render:function(e){return(0,c.jsx)(c.Fragment,{children:k?e:"-"})}}),`(${k}${null!=(n=null==f?void 0:f.nativeSymbol)?n:""})`]})]})}},72722:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MAX_ACTIONS_DISPLAY_IN_CONFIRM:()=>o,MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM:()=>r,MAX_TRANSACTIONS_DISPLAY_IN_CONFIRM:()=>a});var r=5,o=5,a=5},150796:(e,t,n)=>{"use strict";var r,o,a;n.r(t),n.d(t,{BatchSendState:()=>a,ESendEditFeeTypes:()=>o,SendModalRoutes:()=>r}),function(e){e.PreSendToken="PreSendToken",e.PreSendBRC20TokenAmount="PreSendBRC20TokenAmount",e.PreSendAddress="PreSendAddress",e.PreSendAmount="PreSendAmount",e.SendConfirm="SendConfirm",e.SendConfirmFromDapp="SendConfirmFromDapp",e.SendEditFee="SendEditFee",e.TokenApproveAmountEdit="TokenApproveAmountEdit",e.SendSpecialWarning="SendSpecialWarning",e.SendAuthentication="SendAuthentication",e.SignMessageConfirm="SignMessageConfirm",e.SendFeedbackReceipt="SendFeedbackReceipt",e.HardwareSwapContinue="HardwareSwapContinue",e.BatchSendConfirm="BatchSendConfirm",e.BatchSendProgress="BatchSendProgress",e.NFTDetailModal="NFTDetailModal",e.LNURLPayRequest="LNURLPayRequest",e.LNURLWithdraw="LNURLWithdraw",e.LNURLAuth="LNURLAuth",e.LNURLAuthentication="LNURLAuthentication",e.WeblnSendPayment="WeblnSendPayment"}(r||(r={})),function(e){e.standard="standard",e.advanced="advanced"}(o||(o={})),function(e){e.idle="idle",e.inProgress="inProgress",e.onPause="onPause"}(a||(a={}))},857280:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PreSendAmount:()=>Q,PreSendAmountPreview:()=>Y});n(231052);var r=n(321668),o=n(435581),a=n(669083),i=n(10918),s=n(539144),l=n(719392),c=(n(606201),n(256666)),d=n(561220),u=n(470310),f=n(18861),p=n(866904),m=n(795116),h=n(634795),g=n(196234),y=n(202784),v=n(472719),b=n(206391),x=n.n(b),w=n(783112),_=n(13334),k=n(626015),I=n(119804),j=n(942013),O=n(613549),T=n(213208),S=n(945821),P=n(585665),C=n(534159),M=n(859071),A=n(358799),E=n(920453),R=n(776553),D=n(709303),N=n(331639),L=n(552322);const B=function(e){var t=e.accountId,n=e.networkId,r=e.callback,a=(0,w.default)(),i=(0,y.useState)(a.formatMessage({id:"form__available_balance_auto"})),s=(0,g.default)(i,2),l=s[0],c=s[1],u=(0,y.useState)(null),m=(0,g.default)(u,2),v=m[0],b=m[1];(0,y.useEffect)((function(){(0,h.default)((function*(){if(t&&n){var e=yield S.default.engine.getAccount(t,n);b(e)}}))()}),[t,n]);var x=(0,y.useMemo)((function(){if(!(0,O.isBTCNetwork)(n))return!1;if(null==v||!v.customAddresses)return!1;try{var e=JSON.parse(v.customAddresses);return Object.values(e).length>0}catch(t){return!1}}),[v,n]),_=(0,y.useCallback)((function(e){r(e)}),[r]),k=(0,y.useMemo)((function(){return[{id:"form__available_balance_auto",onPress:function(){_("Auto"),c(a.formatMessage({id:"form__available_balance_auto"}))}},{id:"form__custom_addresses_balance",onPress:function(){_("Manually"),c(a.formatMessage({id:"form__custom_addresses_balance"}))}}]}),[_,a]);return x?(0,L.jsx)(f.default,{height:4,children:(0,L.jsx)(N.default,{options:k,menuWidth:280,children:(0,L.jsxs)(d.default,{flex:1,alignItems:"center",flexDirection:"row",children:[(0,L.jsx)(p.default,{typography:"CaptionStrong",color:"text-default",mr:2,children:l}),(0,L.jsx)(o.default,{name:"ChevronDownMini",size:12})]})})}):(0,L.jsx)(p.default,{typography:"CaptionStrong",color:"text-default",mr:2,children:a.formatMessage({id:"content__available_balance"})})};var F=n(706010),U=n(259924);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=e.accountId,n=e.networkId,r=e.tokenId,o=(0,w.default)(),a=(0,E.useFrozenBalance)({accountId:t,networkId:n,tokenId:r});return new(x())(a).isNegative()?(0,L.jsx)(f.default,{mb:2,children:(0,L.jsx)(U.default,{dismiss:!1,title:o.formatMessage({id:"msg__the_spendable_balance_on_the_chain_will_be_0_when_a_transfer_in_in_progress"}),alertType:"warn"})}):null}function z(e){var t=e.accountId,n=e.networkId,r=e.amount,o=(0,w.default)(),a=(0,y.useState)(null),i=(0,g.default)(a,2),s=i[0],l=i[1],c=(0,y.useCallback)((0,h.default)((function*(){try{return yield S.default.serviceLightningNetwork.validateZeroInvoiceMaxSendAmount({accountId:t,networkId:n,amount:r}),{result:!0,errorInfo:null}}catch(e){return{result:!1,errorInfo:{key:e.key,info:e.info}}}})),[t,n,r]);return(0,y.useEffect)((function(){var e=function(){var e=(0,h.default)((function*(){var e=yield c(),t=e.result,n=e.errorInfo;l(t?null:n)}));return function(){return e.apply(this,arguments)}}();e()}),[c]),(0,L.jsx)(f.default,{mb:2,children:s?(0,L.jsx)(U.default,{dismiss:!1,title:o.formatMessage({id:s.key},W({},s.info)),alertType:"error"}):(0,L.jsx)(U.default,{dismiss:!1,title:o.formatMessage({id:"msg__the_invoice_does_not_specify_a_amount_pay_attention_to_avoid_overpayment"}),alertType:"warn"})})}function K(e){var t=e.networkId,n=e.accountId,r=e.amount;return t===j.OnekeyNetwork.xmr?(0,L.jsx)(V,W({},e)):(0,O.isLightningNetworkByNetworkId)(t)?(0,L.jsx)(z,{networkId:t,accountId:n,amount:r}):null}var G=n(150796),$=n(433996);var Z=n(472930);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=e.title,n=e.titleAction,r=e.text,o=e.onChangeText,a=e.loading,i=e.desc,s=e.placeholder,c=void 0===s?"0":s,d=((0,w.default)(),(0,y.useState)(!1)),v=(0,g.default)(d,2),b=(v[0],v[1]),x=((0,y.useCallback)((0,h.default)((function*(){var e=yield(0,I.getClipboard)();null==o||o(e),b(!1)})),[o]),(0,y.useMemo)((function(){return i?(0,y.isValidElement)(i)?(0,L.jsx)(m.default,{children:i}):(0,L.jsx)(p.default,{numberOfLines:2,typography:"Body1Strong",textAlign:"center",isTruncated:!0,children:i}):null}),[i])),_=(0,y.useMemo)((function(){return(0,L.jsx)(P.AutoSizeText,{autoFocus:!0,text:r,onChangeText:o,placeholder:c})}),[o,c,r]);return(0,L.jsxs)(f.default,{height:"140px",children:[!!t&&(0,L.jsxs)(u.default,{space:2,alignItems:"center",justifyContent:"center",children:[(0,L.jsx)(f.default,{opacity:0,children:n}),(0,L.jsx)(p.default,{textAlign:"center",typography:"DisplayLarge",color:"text-subdued",children:t}),n]}),(0,L.jsx)(m.default,{flex:1,maxH:"64px",mt:2,mb:3,children:_}),a?(0,L.jsx)(l.default,{size:"sm"}):x]})}function Q(){var e,t,n,l,c,u,m,b,I,P,N=(0,w.default)(),U=((0,_.default)().height,(0,s.default)()),H=(0,y.useState)(!1),W=(0,g.default)(H,2),V=W[0],z=W[1],q=(0,v.useNavigation)(),Q=(0,v.useRoute)(),J=(0,y.useMemo)((function(){return X({},Q.params)}),[Q.params]),ee=(0,y.useState)(""),te=(0,g.default)(ee,2),ne=te[0],re=te[1],oe=(0,M.useActiveSideAccount)(J),ae=oe.account,ie=oe.accountId,se=oe.networkId,le=oe.network,ce=S.default.engine,de=(0,y.useState)(!1),ue=(0,g.default)(de,2),fe=ue[0],pe=ue[1];(0,Z.useReloadAccountBalance)({networkId:se,accountId:ie});var me=J.token,he=(0,E.useSingleToken)(se,null!=me?me:"").token,ge=(0,A.useTokenBalanceWithoutFrozen)({networkId:se,accountId:ie,token:X(X({},he),{},{sendAddress:J.tokenSendAddress}),useRecycleBalance:null==(e=null==he?void 0:he.isNative)||e,fallback:"0",useCustomAddressesBalance:fe}),ye=(0,E.useFrozenBalance)({networkId:se,accountId:ie,tokenId:(null==he?void 0:he.tokenIdOnNetwork)||"main",useRecycleBalance:null==(t=null==he?void 0:he.isNative)||t,useCustomAddressesBalance:fe}),ve=(0,A.useTokenBalance)({networkId:se,accountId:ie,token:X(X({},he),{},{sendAddress:J.tokenSendAddress}),useRecycleBalance:null==(n=null==he?void 0:he.isNative)||n,fallback:"0"}),be=(0,y.useCallback)((function(){if(!he||!ne)return"error";var e,t,n=new(x())(ne),r=new(x())(ge);return n.isNaN()||r.isNaN()?N.formatMessage({id:"form__amount_invalid"},{0:null!=(e=null==he?void 0:he.symbol)?e:""}):r.isLessThan(n)?N.formatMessage({id:"form__amount_invalid"},{0:null!=(t=null==he?void 0:he.symbol)?t:""}):void 0}),[ne,N,ge,he])(),xe=(0,y.useMemo)((function(){return new(x())((null==le?void 0:le.settings.minTransferAmount)||"0")}),[le]),we=(0,y.useMemo)((function(){if(!xe.isNaN()&&xe.gt("0")){var e=new(x())(ne);if(e.isNaN())return[!1,!1];if(e.lt(xe))return[!1,e.gt("0")]}return[!0,!1]}),[xe,ne]),_e=(0,g.default)(we,2),ke=_e[0],Ie=_e[1],je=(0,O.isLightningNetworkByNetworkId)(se),Oe=(0,y.useState)(null),Te=(0,g.default)(Oe,2),Se=Te[0],Pe=Te[1],Ce=(0,y.useCallback)((0,h.default)((function*(){if(!ke)return{result:!0,errorInfo:null};try{return yield ce.validateSendAmount({accountId:ie,networkId:se,amount:ne,tokenBalance:ve,to:J.to}),{result:!0,errorInfo:null}}catch(e){return{result:!1,errorInfo:{key:e.key,info:e.info}}}})),[ie,se,ne,ce,J,ve,ke]);(0,y.useEffect)((function(){var e=function(){var e=(0,h.default)((function*(){var e=yield Ce(),t=e.result,n=e.errorInfo;Pe(t?null:n)}));return function(){return e.apply(this,arguments)}}();e()}),[Ce]);var Me=(0,y.useMemo)((function(){return Ie?(0,L.jsx)(i.default.Body1Strong,{color:"text-critical",children:N.formatMessage({id:"form__str_minimum_transfer"},{0:xe.toFixed(),1:null==he?void 0:he.symbol})}):Se&&!je?(0,L.jsx)(i.default.Body1Strong,{color:"text-critical",children:N.formatMessage({id:Se.key},X({},Se.info))}):void 0}),[N,xe,Ie,null==he?void 0:he.symbol,Se,je]),Ae=(0,y.useMemo)((function(){return!(null!=le&&le.settings.isBtcForkChain||(null==le?void 0:le.id)===j.OnekeyNetwork.sol)&&new(x())(null!=ye?ye:"0").isGreaterThan(0)}),[ye,null==le?void 0:le.id,null==le?void 0:le.settings.isBtcForkChain]),Ee=function(e){var t,n,r,o=e.tokenInfo,a=e.desc,i=e.network,s=e.amount,l=e.setAmount,c=e.tokenBalance,d=e.networkId,u=e.accountId,f=null!=(t=null!=o&&o.tokenIdOnNetwork?null==i?void 0:i.tokenDisplayDecimals:null==i?void 0:i.nativeDisplayDecimals)?t:2,m=null!=(n=null==o?void 0:o.decimals)?n:18,h=(0,y.useMemo)((function(){var e=`^(0|([1-9][0-9]*))?\\.?([0-9]{1,${m}})?$`;return 0===m&&(e="^(0|([1-9][0-9]*))?$"),new RegExp(e)}),[m]),v=(0,E.useSimpleTokenPriceValue)({networkId:d,contractAdress:null==o?void 0:o.tokenIdOnNetwork}),b=(0,M.useSettings)().selectedFiatMoneySymbol,w=void 0===b?"usd":b,_=w.toUpperCase().trim(),k=(0,y.useState)(!1),I=(0,g.default)(k,2),j=I[0],O=I[1],S=j?"btc"===w?8:2:m,P=(0,y.useMemo)((function(){var e=`^(0|([1-9][0-9]*))?\\.?([0-9]{1,${S}})?$`;return 0===S&&(e="^(0|([1-9][0-9]*))?$"),new RegExp(e)}),[S]),A=(0,y.useState)(s),R=(0,g.default)(A,2),D=R[0],N=R[1],B=(0,y.useMemo)((function(){return new(x())(null!=v?v:0)}),[v]),F=!B.isNaN()&&B.gt(0),U=(0,y.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e?t?B.times(t||"0").toFixed(S,n):"":t}),[S,B]),H=(0,y.useCallback)((function(e){var t=U(j,e,x().ROUND_FLOOR);N(t)}),[U,j]),W=(0,y.useCallback)((function(e){var t=e.replace(/\u3002/g,".");if(T.default.isRuntimeBrowser&&"."===e&&!D&&(t="0."),t.length<D.length)N(t);else if(P.test(t))N(t);else{var n=new(x())(t);if(!n.isNaN()){var r=n.toFixed(S,x().ROUND_FLOOR);N(r)}}}),[D,S,P]),V=(0,y.useCallback)((function(e){if(e.length<s.length)l(e);else if(h.test(e))l(e);else{var t=new(x())(e);if(!t.isNaN()){var n=t.toFixed(m,x().ROUND_FLOOR);l(n)}}}),[s.length,m,l,h]),z=(0,L.jsx)($.default,{name:"ArrowsUpDownOutline",size:"lg",type:"plain",circle:!0,onPress:function(){var e;D&&D===c&&!j&&(e=x().ROUND_FLOOR);var t=!j;O(t),N(U(t,s,e))}}),K=(0,y.useMemo)((function(){return a||(j?(0,L.jsxs)(p.default,{numberOfLines:2,textAlign:"center",children:[(null==(e=(0,C.formatBalanceDisplay)(s||"0","",{fixed:f}))?void 0:e.amount)||s||"0"," ",null==o?void 0:o.symbol]}):(0,L.jsx)(C.FormatCurrencyTokenOfAccount,{accountId:u,networkId:d,token:o,value:s,render:function(e){return(0,L.jsx)(p.default,{numberOfLines:2,textAlign:"center",children:e})}}));var e}),[u,s,f,a,j,d,o]);return(0,y.useEffect)((function(){return V(j?D?new(x())(D).div(B).toFixed():"":D)}),[j,V,D,B]),{validAmountRegex:h,title:null!=(r=j?_:null==o?void 0:o.symbol)?r:"--",titleAction:F?z:void 0,isFiatMode:j,descView:K,text:D,onTextChange:W,setTextByAmount:H}}({tokenInfo:he,desc:Me,network:le,amount:ne,setAmount:re,tokenBalance:ge,accountId:ie,networkId:se}),Re=Ee.title,De=Ee.titleAction,Ne=Ee.descView,Le=Ee.text,Be=Ee.onTextChange,Fe=(Ee.validAmountRegex,Ee.setTextByAmount),Ue=Ee.isFiatMode,He=(0,D.useAccountBalanceDetailsInfo)({networkId:se,accountId:ie,useRecycleBalance:null==(l=null==he?void 0:he.isNative)||l,useCustomAddressesBalance:fe});return(0,L.jsx)(F.BaseSendModal,{accountId:ie,networkId:se,header:N.formatMessage({id:"content__amount"}),primaryActionTranslationId:"action__next",hideSecondaryAction:!0,primaryActionProps:{isDisabled:!!be||!ke||!!Se,isLoading:V},onPrimaryActionPress:(0,h.default)((function*(){if(ae&&le&&he){var e=Ue?ne:Le;J&&(J.amount=e,J.from=ae.address),fe&&(J.useCustomAddressesBalance=!0);try{var t;z(!0),yield(0,R.wait)(100);var n=yield ce.buildEncodedTxFromTransfer({networkId:se,accountId:ie,transferInfo:J});q.navigate(G.SendModalRoutes.SendConfirm,{accountId:ie,networkId:se,encodedTx:n,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,backRouteName:G.SendModalRoutes.PreSendAddress,payload:{payloadType:"Transfer",account:ae,network:le,token:X(X({},he),{},{sendAddress:J.tokenSendAddress,idOnNetwork:null!=(t=null==he?void 0:he.tokenIdOnNetwork)?t:""}),to:J.to,value:e,isMax:!1}})}catch(i){console.error(i);var r,o=i.key;if("form__amount_invalid"===(void 0===o?"":o))a.default.show({title:N.formatMessage({id:"form__amount_invalid"},{0:null!=(r=null==he?void 0:he.symbol)?r:""})},{type:"error"});else a.default.show({title:"string"===typeof i?i:i.message},{type:"error"})}finally{z(!1)}}})),children:(0,L.jsxs)(f.default,{flex:1,flexDirection:"column",style:{userSelect:"none"},children:[(0,L.jsx)(K,{accountId:ie,networkId:se,tokenId:null!=(c=null==he?void 0:he.id)?c:"",amount:ne}),(0,L.jsxs)(f.default,{flexDirection:"row",alignItems:"baseline",children:[(0,L.jsxs)(i.default.Body2Strong,{mr:2,color:"text-subdued",children:[N.formatMessage({id:"content__to"}),":"]}),(0,L.jsx)(i.default.Body1,{children:(0,k.shortenAddress)(null!=(u=null==J?void 0:J.to)?u:"")})]}),(0,L.jsx)(f.default,{py:U?4:void 0,my:6,flex:1,justifyContent:"center",children:(0,L.jsx)(Y,{title:Re,titleAction:De,desc:Ne,text:Le,onChangeText:Be})}),(0,L.jsxs)(f.default,{mt:"auto",children:[(0,L.jsxs)(f.default,{flexDirection:"row",alignItems:"center",children:[(0,L.jsxs)(f.default,{flex:1,children:[(0,L.jsx)(B,{accountId:ie,networkId:se,callback:function(e){return pe("Manually"===e)}}),(0,L.jsxs)(d.default,{onPress:He.enabled?function(){return(0,D.showAccountBalanceDetailsOverlay)({info:He})}:void 0,flexDirection:"row",alignItems:"center",children:[(0,L.jsx)(C.FormatBalanceTokenOfAccount,{accountId:ie,networkId:se,token:X(X({id:null!=(m=null==he?void 0:he.id)?m:"",name:null!=(b=null==he?void 0:he.name)?b:""},he||{}),{},{sendAddress:J.tokenSendAddress}),useRecycleBalance:null==(I=null==he?void 0:he.isNative)||I,useCustomAddressesBalance:fe,render:function(e){return(0,L.jsx)(i.default.Body1Strong,{color:be&&ne?"text-critical":"text-default",children:e})}}),He.enabled?(0,L.jsx)(f.default,{ml:2,children:(0,L.jsx)(o.default,{name:"InformationCircleSolid",size:18})}):null]}),Ae?(0,L.jsx)(i.default.Caption,{color:"text-subdued",mt:2,children:`${N.formatMessage({id:"form__frozen_balance"})}: ${new(x())(null!=ye?ye:"0").toFixed()} ${null!=(P=null==he?void 0:he.symbol)?P:""}`}):null]}),(0,L.jsx)(r.default,{onPress:function(){Fe(null!=ge?ge:"0")},children:N.formatMessage({id:"action__max"})})]}),!1]})]})})}},530483:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EditableNonceStatusEnum:()=>r,SendModalRoutes:()=>o.SendModalRoutes});var r,o=n(150796);!function(e){e.None="None",e.Equal="Equal",e.Less="Less",e.Greater="Greater"}(r||(r={}))},446334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TransactionSendContextProvider:()=>s,useTransactionSendContext:()=>l});var r=n(196234),o=n(202784),a=n(552322),i=(0,o.createContext)(null);function s(e){var t=e.children,n=(0,o.useState)({}),s=(0,r.default)(n,2),l=s[0],c=s[1],d=(0,o.useMemo)((function(){return{isTransactionSendFlow:!0,context:l,setContext:c}}),[l]);return(0,a.jsx)(i.Provider,{value:d,children:t})}function l(){return(0,o.useContext)(i)}},822101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCustomFeeSpeedInfo:()=>a});var r=n(206391),o=n.n(r);function a(e){var t=e.custom,n=e.prices,r=e.isEIP1559Fee,a=e.waitingSeconds,i=0,s="0",l={price:n[0],waitingSeconds:a[0]},c={price:n[1],waitingSeconds:a[1]},d={price:n[2],waitingSeconds:a[2]};if(r){var u,f,p,m,h=new(o())(null!=(u=null==t||null==(f=t.price1559)?void 0:f.maxPriorityFeePerGas)?u:0);if(h.isGreaterThanOrEqualTo(null==(p=c.price)?void 0:p.maxPriorityFeePerGas))h.isLessThan(null==(m=d.price)?void 0:m.maxPriorityFeePerGas)?(i=c.waitingSeconds,s="1"):(i=d.waitingSeconds,s="2");else i=l.waitingSeconds,s="0"}else{var g,y,v=null!=t&&t.feeRate?new(o())(null!=(g=null==t?void 0:t.feeRate)?g:0).shiftedBy(-8):new(o())(null!=(y=null==t?void 0:t.price)?y:0);1===n.length?v.isGreaterThan(l.price)?(i=l.waitingSeconds-1,s="2"):v.isEqualTo(l.price)?(i=l.waitingSeconds,s="1"):(i=l.waitingSeconds+1,s="0"):v.isGreaterThanOrEqualTo(c.price)?v.isLessThan(d.price)?(i=c.waitingSeconds,s="1"):(i=d.waitingSeconds,s="2"):(i=l.waitingSeconds,s="0")}return{customSimilarToPreset:s,customWaitingSeconds:i}}},6190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FEE_INFO_POLLING_INTERVAL:()=>a,FEE_LEVEL_BADGE_TYPE_MAP:()=>s,FEE_LEVEL_TEXT_COLOR_MAP:()=>i,IS_REPLACE_ROUTE_TO_FEE_EDIT:()=>r,SEND_EDIT_FEE_PRICE_UP_RATIO:()=>o});var r=!1,o=1.1,a=6e3,i=["decorative-icon-one","text-warning","decorative-icon-five"],s=["success","warning","critical"]},472930:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useReloadAccountBalance:()=>a});var r=n(202784),o=n(945821);function a(e){var t=e.accountId,n=e.networkId;(0,r.useEffect)((function(){t&&n&&o.default.serviceToken.fetchAccountTokens({accountId:t,networkId:n,simpleRefreshBalanceOnly:!0})}),[t,n])}},133531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getKeleContractAddress:()=>l,getLidoContractAddress:()=>s,getLidoNFTContractAddress:()=>c,getMaticContractAdderess:()=>a,getStMaticContractAdderess:()=>i});var r=n(942013),o=n(964253),a=function(e){if(e===r.OnekeyNetwork.eth)return o.MainnetMaticContractAddress;if(e===r.OnekeyNetwork.goerli)return o.TestnetMaticContractAddress;throw new Error("Not supported network")},i=function(e){if(e===r.OnekeyNetwork.eth)return o.MainnetStMaticContractAddress;if(e===r.OnekeyNetwork.goerli)return o.TestnetStMaticContractAddress;throw new Error("Not supported network")},s=function(e){if(e===r.OnekeyNetwork.eth)return o.MainnetLidoContractAddress;if(e===r.OnekeyNetwork.goerli)return o.TestnetLidoContractAddress;throw new Error("Not supported network")},l=function(e){if(e===r.OnekeyNetwork.eth)return o.MainnetKeleContractAddress;if(e===r.OnekeyNetwork.goerli)return o.TestnetKeleContractAddress;throw new Error("Not supported network")},c=function(e){if(e===r.OnekeyNetwork.eth)return o.MainnetLidoWithdrawalERC721;if(e===r.OnekeyNetwork.goerli)return o.TestnetLidoWithdrawalERC721;throw new Error("Not supported network")}},964253:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MainnetKeleContractAddress:()=>i,MainnetLidoContractAddress:()=>o,MainnetLidoWithdrawalERC721:()=>l,MainnetMaticContractAddress:()=>d,MainnetStMaticContractAddress:()=>f,TestnetKeleContractAddress:()=>a,TestnetLidoContractAddress:()=>r,TestnetLidoWithdrawalERC721:()=>s,TestnetMaticContractAddress:()=>c,TestnetStMaticContractAddress:()=>u});var r="0x1643E812aE58766192Cf7D2Cf9567dF2C37e9B7F",o="0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",a="0xdCAe38cC28606e61B1e54D8b4b134588e4ca7Ab7",i="0xACBA4cFE7F30E64dA787c6Dc7Dc34f623570e758",s="0xCF117961421cA9e546cD7f50bC73abCdB3039533",l="0x889edC2eDab5f40e902b864aD4d7AdE8E412F9B1",c="0x499d11e0b6eac7c0593d8fb292dcbbf815fb29ae",d="0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0",u="0x9a7c69a167160c507602ecb3df4911e8e98e1279",f="0x9ee91f9f426fa633d227f7a9b000e28b9dfd8599"},288471:(e,t,n)=>{"use strict";var r,o,a;n.r(t),n.d(t,{EthStakingSource:()=>o,KeleStakingMode:()=>a,StakingRoutes:()=>r}),function(e){e.StakingAmount="StakingAmount",e.StakedETHOnKele="StakedETHOnKele",e.StakedETHOnLido="StakedETHOnLido",e.StakedMaticOnLido="StakedMaticOnLido",e.UnstakeAmount="UnstakeAmount",e.WithdrawAmount="WithdrawAmount",e.Feedback="Feedback",e.KeleEthStakeShouldUnderstand="KeleEthStakeShouldUnderstand",e.KeleEthUnstakeShouldUnderstand="KeleEthUnstakeShouldUnderstand",e.LidoEthStakeShouldUnderstand="LidoEthStakeShouldUnderStand",e.LidoMaticStakeShouldUnderstand="LidoMaticStakeShouldUnderstand",e.LidoEthUnstakeShouldUnderstand="LidoEthUnstakeShouldUnderStand",e.LidoEthUnstake="LidoEthUnstake",e.LidoEthUnstakeRoutes="LidoEthUnstakeRoutes",e.LidoUnstakeRoutes="LidoUnstakeRoutes",e.ETHPoolSelector="ETHPoolSelector",e.KeleStakingModeSelector="KeleStakingModeSelector",e.ETHStake="ETHStake",e.MaticStake="MaticStake",e.LidoMaticUnstake="LidoMaticUnstake",e.LidoMaticClaim="LidoMaticClaim"}(r||(r={})),function(e){e.Kele="Kele",e.Lido="Lido"}(o||(o={})),function(e){e.normal="normal",e.fast="fast"}(a||(a={}))},363250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WETH9:()=>h,ZeroExchangeAddress:()=>y,estimatedTime:()=>f,limitOrderNetworkIds:()=>m,networkIdDontSupportRecipientAddress:()=>v,networkProviderInfos:()=>p,quoterServerEndpoints:()=>u,swftcCustomerSupportUrl:()=>c,wrapToken:()=>g,zeroXenabledNetworkIds:()=>d});var r,o,a,i,s=n(134662),l=n(942013),c="https://tawk.to/chat/6520bf666fcfe87d54b751ef/1hc3unaha",d=[l.OnekeyNetwork.eth,l.OnekeyNetwork.bsc,l.OnekeyNetwork.polygon,l.OnekeyNetwork.fantom,l.OnekeyNetwork.avalanche,l.OnekeyNetwork.celo,l.OnekeyNetwork.optimism,l.OnekeyNetwork.arbitrum],u=((r={})[l.OnekeyNetwork.heco]="https://0x.onekey.so/swap/v1/quote",r[l.OnekeyNetwork.goerli]="https://goerli.api.0x.org/swap/v1/quote",r),f=((o={})[l.OnekeyNetwork.eth]=60,o[l.OnekeyNetwork.bsc]=30,o[l.OnekeyNetwork.polygon]=30,o[l.OnekeyNetwork.fantom]=30,o[l.OnekeyNetwork.avalanche]=30,o[l.OnekeyNetwork.celo]=60,o[l.OnekeyNetwork.optimism]=60,o[l.OnekeyNetwork.heco]=15,o[l.OnekeyNetwork.okt]=15,o),p=((a={})[l.OnekeyNetwork.okt]=[{name:"CherrySwap",logoUrl:"https://common.onekey-asset.com/logo/CherrySwap.png"}],a[l.OnekeyNetwork.heco]=[{name:"MDex",logoUrl:"https://common.onekey-asset.com/logo/MdexSwap.png"}],a[l.OnekeyNetwork.xdai]=[{name:"HoneySwap",logoUrl:"https://common.onekey-asset.com/logo/HoneySwap.png"}],a),m=[l.OnekeyNetwork.eth,l.OnekeyNetwork.bsc,l.OnekeyNetwork.polygon],h=((i={})[l.OnekeyNetwork.eth]=(0,s.formatServerToken)({name:"Wrapped Ether",symbol:"WETH",address:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",decimals:18,logoURI:"https://common.onekey-asset.com/token/evm-1/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2.jpg",impl:"evm",chainId:"1"}),i[l.OnekeyNetwork.bsc]=(0,s.formatServerToken)({name:"Wrapped BNB",symbol:"WBNB",address:"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",decimals:18,logoURI:"https://common.onekey-asset.com/token/evm-56/0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c.jpg",impl:"evm",chainId:"56"}),i[l.OnekeyNetwork.polygon]=(0,s.formatServerToken)({name:"Wrapped Matic",symbol:"WMATIC",address:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",decimals:18,logoURI:"https://common.onekey-asset.com/token/evm-137/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270.jpg",impl:"evm",chainId:"137"}),i);function g(e){return!e.tokenIdOnNetwork&&h[e.networkId]?h[e.networkId]:e}var y="0xdef1c0ded9bec7f1a1670819833240f027b25eff",v=[l.OnekeyNetwork.sol,l.OnekeyNetwork.apt]},428357:(e,t,n)=>{"use strict";var r,o,a;n.r(t),n.d(t,{QuoterType:()=>a,SwapError:()=>o,SwapRoutes:()=>r}),function(e){e.Swap="Swap",e.Input="Input",e.Output="Output",e.OutputCrosschain="OutputCrosschain",e.Settings="Settings",e.CustomToken="CustomToken",e.Transaction="Transaction",e.Webview="Webview",e.Share="Share",e.SwftcHelp="SwftcHelp",e.PickRecipient="PickRecipient",e.PickAccount="PickAccount",e.SelectSendingAccount="SelectSendingAccount",e.SelectRecipient="SelectRecipient",e.EnterAddress="EnterAddress",e.Welcome="Welcome",e.SelectRoutes="SelectRoutes",e.Slippage="Slippage",e.SlippageCheck="SlippageCheck",e.LimitOrderInput="LimitOrderInput",e.LimitOrderOutput="LimitOrderOutput",e.LimitOrderDetails="LimitOrderDetails",e.TransactionSubmitted="TransactionSubmitted",e.HardwareContinue="HardwareContinue",e.ChainSelector="ChainSelector"}(r||(r={})),function(e){e.QuoteFailed="QuoteFailed",e.InsufficientBalance="InsufficientBalance",e.NotSupport="NotSupport",e.DepositMax="DepositMax",e.DepositMin="DepositMin"}(o||(o={})),function(e){e.swftc="swftc",e.socket="socket",e.mdex="mdex",e.zeroX="0x",e.jupiter="jupiter",e.onekey="onekey",e.deezy="Deezy",e.thorswap="Thorswap",e.thorswapStream="ThorswapStream"}(a||(a={}))},415008:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LoggerTimerTags:()=>V,TokenAmount:()=>g,affiliateAddress:()=>h,calculateDecodedTxNetworkFee:()=>G,calculateNetworkFee:()=>$,calculateProtocalsFee:()=>K,calculateRange:()=>B,calculateRate:()=>M,combinedTasks:()=>te,convertBuildParams:()=>W,convertLimitOrderParams:()=>H,convertParams:()=>U,createLoggerTimer:()=>ee,div:()=>x,feeRecipient:()=>m,formatAmount:()=>P,formatAmountExact:()=>C,getChainIdFromNetwork:()=>A,getChainIdFromNetworkId:()=>E,getEvmTokenAddress:()=>L,getLimitOrderPercent:()=>J,getNetworkIdImpl:()=>R,getQuoteType:()=>Z,getTokenAmountString:()=>y,getTokenAmountValue:()=>v,greaterThanZeroOrUndefined:()=>S,gt:()=>I,gte:()=>k,isEvmNetworkId:()=>D,isSimpleTx:()=>q,isSolNetworkId:()=>N,lt:()=>O,lte:()=>j,minus:()=>_,multiply:()=>b,nativeTokenAddress:()=>p,normalizeProviderName:()=>z,plus:()=>w,recipientMustBeSendingAccount:()=>Y,shouldShowAllowRecipientAddressInput:()=>Q,stringifyTokens:()=>F,toHex:()=>oe,tokenBN:()=>T,tokenEqual:()=>X,truncate:()=>re});var r=n(634795),o=n(968079),a=n(887371),i=n(206391),s=n.n(i),l=n(392853),c=n(613549),d=n(292147),u=n(363250),f=n(428357),p="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",m="0xc1e92BD5d1aa6e5f5F299D0490BefD9D8E5a887a",h="0x4F5FC02bE49Bea15229041b87908148b04c14717",g=function(){function e(e,t){this.token=e,this.typedValue=t,this.base=new(s())(10),this.value=new(s())(t),this.decimals=new(s())(e.decimals),this.amount=this.base.exponentiatedBy(this.decimals).multipliedBy(this.value)}var t=e.prototype;return t.toNumber=function(){return this.amount},t.toFormat=function(){return this.toNumber().toFixed(0)},(0,a.default)(e)}();function y(e,t){return new g(e,t).toFormat()}function v(e,t){var n=new(s())(t),r=new(s())(e.decimals),o=new(s())(10);return n.dividedBy(o.exponentiatedBy(r))}function b(e,t){var n=new(s())(e),r=new(s())(t);return s().isBigNumber(n)&&s().isBigNumber(r)?n.multipliedBy(r).toFixed():"0"}function x(e,t){var n=new(s())(e),r=new(s())(t);return s().isBigNumber(n)&&s().isBigNumber(r)?n.div(r).toFixed():"0"}function w(e,t){var n=new(s())(e),r=new(s())(t);return s().isBigNumber(n)&&s().isBigNumber(r)?n.plus(r).toFixed():"0"}function _(e,t){var n=new(s())(e),r=new(s())(t);return s().isBigNumber(n)&&s().isBigNumber(r)?n.minus(r).toFixed():"0"}function k(e,t){var n=new(s())(e),r=new(s())(t);return!(!s().isBigNumber(n)||!s().isBigNumber(r))&&n.gte(r)}function I(e,t){var n=new(s())(e),r=new(s())(t);return!(!s().isBigNumber(n)||!s().isBigNumber(r))&&n.gt(r)}function j(e,t){var n=new(s())(e),r=new(s())(t);return!(!s().isBigNumber(n)||!s().isBigNumber(r))&&n.lte(r)}function O(e,t){var n=new(s())(e),r=new(s())(t);return!(!s().isBigNumber(n)||!s().isBigNumber(r))&&n.lt(r)}function T(e,t){return new(s())(10).exponentiatedBy(t).multipliedBy(e)}function S(e){if(e&&!Number.isNaN(e))return Number(e)>0?e:void 0}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s().ROUND_HALF_UP;if(!e)return"";var r=new(s())(e);return r.isNaN()?"":r.decimalPlaces(t,n).toFixed()}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!e)return"";for(var n=new(s())(e),r=0,o=0;o<=4;o+=1){var a=P(n,r+=t,s().ROUND_FLOOR);if(n.minus(a).abs().div(n).lt(.01))return a}return P(n,Math.max(4,r),s().ROUND_FLOOR)}function M(e,t,n,r){return new(s())(10**e).multipliedBy(r).div(10**t).div(n).toFixed()}function A(e){var t,n=null==e||null==(t=e.extraInfo)?void 0:t.chainId;return e?String(+n):""}function E(e){var t;return null!=(t=e.split("--")[1])?t:""}function R(e){if(e)return e.split("--")[0]}function D(e){return R(e)===c.IMPL_EVM}function N(e){return R(e)===c.IMPL_SOL}function L(e){return e.tokenIdOnNetwork?e.tokenIdOnNetwork:p}function B(e){var t=e.map((function(e){return e.max})).filter(Boolean),n=e.map((function(e){return e.min})).filter(Boolean);return{max:t.length>0?s().max.apply(s(),(0,o.default)(t)).toFixed():void 0,min:n.length>0?s().min.apply(s(),(0,o.default)(n)).toFixed():void 0}}function F(e,t){return e&&t?`${`input:${e.networkId}-${t.tokenIdOnNetwork}`}|${`output:${e.networkId}-${t.tokenIdOnNetwork}`} `:""}function U(e){if(e.receivingAddress){var t,n,r=e.networkOut.id,o=e.networkIn.id,a=e.tokenOut.tokenIdOnNetwork?e.tokenOut.tokenIdOnNetwork:p,i=e.tokenIn.tokenIdOnNetwork?e.tokenIn.tokenIdOnNetwork:p,s=e.tokenOut.decimals,l=e.tokenIn.decimals,c=e.slippagePercentage,d=e.receivingAddress,u=e.activeAccount.address;"INPUT"===e.independentField?n=y(e.tokenIn,e.typedValue):t=y(e.tokenOut,e.typedValue);var f={toNetworkId:r,fromNetworkId:o,toTokenAddress:a,fromTokenAddress:i,toTokenDecimals:s,fromTokenDecimals:l,slippagePercentage:c,userAddress:u,receivingAddress:d};return n&&(f.fromTokenAmount=n),t&&(f.toTokenAmount=t),e.onChainSatsPerVbyte&&(f.onChainSatsPerVbyte=e.onChainSatsPerVbyte),f.includes="0x,1inch,jupiter,openocean,swftc,socket,mdex,Deezy,Thorswap,ThorswapStream",f.noFilter=!0,f}}function H(e){var t=e.tokenIn.networkId,n=e.tokenOut.networkId,r=e.tokenOut.tokenIdOnNetwork?e.tokenOut.tokenIdOnNetwork:p,o=e.tokenIn.tokenIdOnNetwork?e.tokenIn.tokenIdOnNetwork:p,a=e.tokenOut.decimals,i=e.tokenIn.decimals,s=e.activeAccount.address,l=y(e.tokenIn,e.tokenInValue),c={toNetworkId:t,fromNetworkId:n,toTokenAddress:r,fromTokenAddress:o,toTokenDecimals:a,fromTokenDecimals:i,slippagePercentage:1,userAddress:s,receivingAddress:e.activeAccount.address};return l&&(c.fromTokenAmount=l),c}function W(e){var t=U(e);if(t)return t.fromTokenAmount=e.sellAmount,delete t.toTokenAmount,t}var V,z=function(e){return"swftc"===e?"SWFT":e},K=function(e){var t=e.amount,n=e.asset,r=new(s())(t),o=new(s())(n.decimals),a=new(s())(10);return{value:r.dividedBy(a.exponentiatedBy(o)).toFixed(),symbol:n.symbol}};function G(e,t){var n=e.feeInfo,r=e.totalFeeInNative;if(r)return r;if(n){var o=(0,l.calculateTotalFeeRange)(n,t.feeDecimals);return(0,l.calculateTotalFeeNative)({amount:o.max,info:{defaultPresetIndex:"0",prices:[],feeSymbol:t.feeSymbol,feeDecimals:t.feeDecimals,nativeSymbol:t.symbol,nativeDecimals:t.decimals}})}}function $(e,t){var n=(0,l.calculateTotalFeeRange)(e,t.feeDecimals);return(0,l.calculateTotalFeeNative)({amount:n.max,info:{defaultPresetIndex:"0",prices:[],feeSymbol:t.feeSymbol,feeDecimals:t.feeDecimals,nativeSymbol:t.symbol,nativeDecimals:t.decimals}})}function Z(e){return e.quoterType?e.quoterType:e.thirdPartyOrderId?f.QuoterType.swftc:f.QuoterType.zeroX}function q(e){var t,n,r=null==(t=e.tokens)?void 0:t.from,o=null==(n=e.tokens)?void 0:n.to,a=Z(e);return a!==f.QuoterType.swftc&&a!==f.QuoterType.jupiter&&(null==r?void 0:r.networkId)===(null==o?void 0:o.networkId)}function X(e,t){return e.networkId===t.networkId&&e.tokenIdOnNetwork.toLowerCase()===t.tokenIdOnNetwork.toLowerCase()}function Y(e,t,n){return!(e.networkId!==t.networkId||!u.networkIdDontSupportRecipientAddress.includes(e.networkId))||R(e.networkId)===R(t.networkId)&&!n}function Q(e,t){var n=R(e.networkId)===R(t.networkId);return e.networkId===t.networkId&&(n=!u.networkIdDontSupportRecipientAddress.includes(e.networkId)),n}function J(e){return b(x(_(e.tokenOutValue,e.remainingFillable),e.tokenOutValue),100)}function ee(){var e={};return{start:function(t){var n=Date.now();e[t]&&d.default.swap.info(`tag ${t} already exists, it's value ${e[t]} will be replace with ${n}`),e[t]=n},end:function(t){var n=e[t],r=Date.now();if(n){var o=((r-n)/1e3).toFixed(2);d.default.swap.info(`tag ${t} took ${o} secords, ended at ${r}`)}else d.default.swap.info(`tag ${t} ended at ${r}`)},clear:function(){e={}}}}function te(e){return ne.apply(this,arguments)}function ne(){return ne=(0,r.default)((function*(e){var t=0;function n(){return o.apply(this,arguments)}function o(){return(o=(0,r.default)((function*(){if(t<e.length){var r=e[t];t+=1,yield r(n)}}))).apply(this,arguments)}yield n()})),ne.apply(this,arguments)}!function(e){e.overview="overview",e.approval="approval",e.cancelApproval="cancelApproval",e.swap="swap",e.sendTransaction="sendTransaction",e.signMessage="signMessage",e.gasEstimate="gasEstimate",e.checkTokenBalance="checkTokenBalance",e.checkTokenAllowance="checkTokenAllowance",e.buildTransaction="buildTransaction"}(V||(V={}));var re=function(e,t){return e.length>t?`${e.slice(0,t)}...`:e},oe=function(e){return e.startsWith("0x")?e:`0x${new(s())(e).toString(16)}`}},800736:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxActionsListView:()=>B});var r=n(18861),o=n(361301),a=n(785192),i=n(256666),s=n(634795),l=n(196234),c=n(202784),d=n(206391),u=n.n(d),f=n(783112),p=n(398514),m=n(945821),h=n(859071),g=n(72722),y=n(866904),v=n(887371),b=n(545754),x=n(411987),w=n(695058),_=n(174276),k=n(552322);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,w.default)(e);if(t){var o=(0,w.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.default)(this,n)}}var j=function(e){(0,b.default)(n,e);var t=I(n);function n(){return t.apply(this,arguments)}return n.prototype.render=function(){return this.state.error?(0,k.jsx)(y.default,{children:this.state.error.message}):this.props.children},(0,v.default)(n)}(_.ErrorBoundaryBase),O=n(795116),T=n(321668),S=n(435581),P=n(49198),C=n(395795),M=n(28314);function A(e){var t=e.titleInfo,n=e.decodedTx,r=(0,P.useNetwork)({networkId:n.networkId}).network,o=(0,C.default)(r),a=o.hasAvailable&&n.txid;return(0,k.jsx)(O.default,{children:a?(0,k.jsx)(T.default,{isDisabled:!a,onPress:function(){return o.openTransactionDetails(n.txid)},type:"basic",size:"base",rightIcon:(0,k.jsx)(S.default,{name:"ArrowTopRightOnSquareMini",color:"icon-default",size:16}),children:null==t?void 0:t.title}):(0,k.jsx)(y.default,{typography:"Body1Strong",color:"text-subdued",textAlign:"center",children:null==t?void 0:t.title})})}var E=n(579029),R=n(89382);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={T0:function(e){var t=e.iconInfo,n=e.titleInfo;return(0,k.jsx)(M.TxListActionBox,{iconInfo:t,titleInfo:n})},T1:A,T2:A};function B(e){var t=e.historyTx,n=e.decodedTx,i=e.transformType,d=void 0===i?"T0":i,y=e.space,v=void 0===y?0:y,b=e.showDivider,x=void 0!==b&&b,w=e.showConnectionLine,_=void 0!==w&&w,I=e.transferAmount,O=(0,f.default)(),T=function(e){var t=(0,c.useState)(),n=(0,l.default)(t,2),r=n[0],o=n[1];return(0,c.useEffect)((function(){(0,s.default)((function*(){var t=yield m.default.serviceHistory.getOriginHistoryTxOfCancelTx(e);o(t)}))()}),[e]),r}(t),S=(0,h.useNetworkSimple)(n.networkId),P=(0,c.useMemo)((function(){var e=N({},n);T&&(e.actions=T.decodedTx.actions,e.outputActions=T.decodedTx.outputActions);for(var r=(0,R.getDisplayedActions)({decodedTx:e}),o=[],a=r.length,i=0,s=u().min(a,g.MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM).toNumber();i<s&&!(e.status===p.IDecodedTxStatus.Offline&&o.length>=1);i+=1){var l=r[i],c=(0,E.getTxActionMeta)({action:l,decodedTx:e,intl:O,historyTx:t,network:S});c.meta.transferAmount=I;var f=c.meta,m=c.components[d];o.push((0,k.jsx)(j,{children:(0,k.jsx)(m,N(N({},c.props),{},{meta:f,network:S}),i)},`error-boundary-${i}`)),x&&r.length}if(a>g.MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM){var h=L[d];o.push((0,k.jsx)(h,{decodedTx:e,iconInfo:{icon:{name:"EllipsisVerticalMini"}},titleInfo:{title:O.formatMessage({id:"action__str_more_actions"},{count:a-g.MAX_ACTIONS_DISPLAY_IN_HISTORY_ITEM})}}))}return o}),[n,t,O,S,T,x,I,d]),C=P.length>1&&_?(0,k.jsx)(a.default,{testID:"TxActionsListView-ConnectionLine",orientation:"vertical",position:"absolute",left:4,top:6,bottom:7,height:"auto",thickness:2}):null;return(0,k.jsxs)(r.default,{testID:"TxActionsListView",children:[C,(0,k.jsx)(o.default,{space:v,children:P})]})}},516515:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxDetailContextProvider:()=>d,useTxDetailContext:()=>u});var r=n(256666),o=n(196234),a=n(202784),i=n(552322);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,a.createContext)(null);function d(e){var t=e.children,n=e.isHistoryDetail,r=e.isMultipleActions,s=e.isSendConfirm,d=e.sendConfirmParamsParsed,u=e.isCollapse,f=(0,a.useState)({isHistoryDetail:n,isMultipleActions:r,isSendConfirm:s,sendConfirmParamsParsed:d,isCollapse:u}),p=(0,o.default)(f,2),m=p[0],h=p[1];(0,a.useEffect)((function(){h((function(e){return l(l({},e),{},{isHistoryDetail:n,isMultipleActions:r,isSendConfirm:s,sendConfirmParamsParsed:d,isCollapse:u})}))}),[n,r,s,d,u]);var g=(0,a.useMemo)((function(){return{context:m,setContext:h}}),[m]);return(0,i.jsx)(c.Provider,{value:g,children:t})}function u(){return(0,a.useContext)(c)}},589427:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxDetailView:()=>xe});var r=n(18861),o=n(259924),a=n(866904),i=n(43939),s=n(256666),l=n(301842),c=n.n(l),d=n(202784),u=n(206391),f=n.n(u),p=n(783112),m=n(613549),h=n(859071),g=n(481047),y=n(72722),v=n(568674),b=n(321668),x=n(435581),w=n(433996),_=n(65143),k=n(284315),I=n(331639),j=n(552322);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var T=function(e){var t=e.decodedTx,n=(0,k.useClipboard)().copyText,r=(0,d.useMemo)((function(){return[{id:"action__copy",onPress:function(){var e,r;return n(null!=(e=null==(r=t.encodedTx)?void 0:r.data)?e:"")},icon:"Square2StackMini"}]}),[n,t.encodedTx]);return(0,j.jsx)(I.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:r},e))};function S(e){var t,n,o=e.decodedTx,i=e.isSendConfirm,s=(0,p.default)(),l=[];(o.nonce&&o.nonce>=0&&l.push({title:s.formatMessage({id:"form__nonce"}),content:`${new u.BigNumber(o.nonce).toFixed()}`}),null!=(t=o.encodedTx)&&t.data&&!o.isFinal)&&l.push({title:s.formatMessage({id:"form__hex_data"}),content:(0,j.jsx)(a.default,{numberOfLines:1,typography:"Body2Strong",children:null==(n=o.encodedTx)?void 0:n.data}),extra:(0,j.jsx)(T,{decodedTx:o,children:(0,j.jsx)(w.default,{circle:!0,type:"plain",iconSize:18,name:"EllipsisVerticalOutline"})})});return i?null:l&&0!==l.length?(0,j.jsx)(v.default,{arrowPosition:"right",renderCustomTrigger:function(e,t){return t?(0,j.jsx)(b.default,{rightIcon:(0,j.jsx)(x.default,{size:12,name:"ChevronDownMini",color:"icon-subdued"}),type:"plain",size:"sm",mt:2,onPress:e,children:(0,j.jsx)(a.default,{textAlign:"center",typography:"Body1Strong",fontSize:"14px",color:"text-subdued",children:s.formatMessage({id:"action__advance"})})}):null},children:(0,j.jsxs)(r.default,{mt:6,children:[i?null:(0,j.jsx)(a.default,{typography:"Subheading",textTransform:"uppercase",mb:3,color:"text-subdued",children:s.formatMessage({id:"action__advance"})}),(0,j.jsx)(_.TxDetailActionBox,{details:l,showContentDivider:!0})]})}):null}var P=n(561220),C=n(470310),M=n(392853),A=n(534159),E=n(49198),R=n(417837),D=n(527505),N=n(395795);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var B=function(e){var t=e.decodedTx,n=(0,k.useClipboard)().copyText,r=(0,E.useNetwork)({networkId:t.networkId}).network,o=(0,N.default)(r),a=(0,d.useMemo)((function(){return[{id:"action_copy_hash",onPress:function(){return n(t.txid)},icon:"Square2StackMini"},o.hasAvailable&&{id:"action__view_in_browser",onPress:function(){return o.openTransactionDetails(t.txid)},icon:"GlobeAltMini"}]}),[n,t.txid,o]);return(0,j.jsx)(I.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:a},e))},F=n(261961);function U(e){var t=e.decodedTx,n=t.feeInfo,r=t.totalFeeInNative,o=t.networkId,i=t.accountId,s=e.network;if(r&&s)return`${f().max(r,0).toFixed()} ${s.symbol}`;if(!n||!s)return"--";var l=(0,M.calculateTotalFeeRange)(n,s.feeDecimals),c=(0,M.calculateTotalFeeNative)({amount:l.max,info:{defaultPresetIndex:"0",prices:[],feeSymbol:s.feeSymbol,feeDecimals:s.feeDecimals,nativeSymbol:s.symbol,nativeDecimals:s.decimals}});return(0,j.jsxs)(C.default,{space:1,alignItems:"center",children:[(0,j.jsx)(a.default,{children:`${c} ${s.symbol}`}),(0,j.jsx)(A.FormatCurrencyNativeOfAccount,{networkId:o,accountId:i,value:c,render:function(e){return(0,j.jsxs)(a.default,{color:"text-subdued",children:["(",e,")"]})}})]})}function H(e){var t,n,o=e.decodedTx,i=e.historyTx,s=e.feeInput,l=e.isBatchSendConfirm,c=e.isSendConfirm,u=(0,E.useNetwork)({networkId:o.networkId}).network,f=[],m=(0,p.default)(),h=(0,k.useClipboard)().copyText,g=(0,d.useRef)(0),y=o.interactInfo;!c&&y&&f.push((0,j.jsx)(F.TxInteractInfo,{origin:null!=(t=null==y?void 0:y.url)?t:"",name:null==y?void 0:y.name,icon:null==y?void 0:y.icons[0],networkId:null!=(n=null==o?void 0:o.networkId)?n:"",borderWidth:0,padding:0,mb:0}));return null!==s&&f.push({title:m.formatMessage({id:"content__fee"}),content:s||U({network:u,decodedTx:o})}),function(e){var t=e.txid,n=e.txidPattern;return!!t&&(!n||new RegExp(n).test(t))}({txid:o.txid,txidPattern:null==u?void 0:u.settings.transactionIdPattern})&&f.push({title:(0,j.jsx)(P.default,{cursor:"default",style:{cursor:"default"},onPress:function(){g.current+=1,g.current>5&&(g.current=0,h(JSON.stringify(null!=i?i:o,null,2)))},children:(0,j.jsx)(D.TxActionElementDetailCellTitleText,{children:m.formatMessage({id:"content__hash"})})}),content:(0,j.jsx)(R.TxActionElementAddressNormal,{address:o.txid,isCopy:!1}),extra:(0,j.jsx)(B,{decodedTx:o,children:(0,j.jsx)(w.default,{circle:!0,type:"plain",iconSize:18,name:"EllipsisVerticalOutline"})})}),null!=u&&u.settings.txExtraInfo&&(null==u||u.settings.txExtraInfo.forEach((function(e){var t,n=o.extraInfo&&o.extraInfo[e.key];n&&f.push({title:m.formatMessage({id:e.title}),content:(0,j.jsx)(R.TxActionElementAddressNormal,{address:n,isCopy:e.canCopy,isShorten:e.isShorten,numberOfLines:null!=(t=e.numberOfLines)?t:2})})}))),f.length?l?null:(0,j.jsxs)(r.default,{children:[c?null:(0,j.jsx)(a.default,{typography:"Subheading",textTransform:"uppercase",mb:3,color:"text-subdued",children:m.formatMessage({id:"content__details"})}),(0,j.jsx)(_.TxDetailActionBox,{details:f.filter(Boolean),showContentDivider:!0})]}):null}var W=n(785192),V=n(398514),z=n(719392),K=n(669083),G=n(634795),$=n(196234),Z=n(849877),q=n(945821);function X(e){var t,n=(0,p.default)(),a=e.tokensInTx,i=(0,d.useState)([]),s=(0,$.default)(i,2),l=s[0],c=s[1],u=(0,d.useState)([]),f=(0,$.default)(u,2),m=f[0],g=f[1],y=(0,d.useState)(!1),v=(0,$.default)(y,2),b=v[0],x=v[1],w=(0,h.useActiveWalletAccount)(),_=w.accountId,k=w.networkId,I=w.network,O=(0,d.useCallback)((0,G.default)((function*(){if(!b){x(!0);for(var e=!1,t=0,r=l.length;t<r;t+=1){var o=l[t];(yield q.default.serviceToken.addAccountToken(k,_,o.tokenIdOnNetwork))&&(e=!0)}if(e){var a=yield q.default.engine.getTokens(k,_);g(a),K.default.show({title:n.formatMessage({id:"msg__token_added",defaultMessage:"Token Added"})})}x(!1)}})),[_,n,b,k,l]),T=(0,d.useMemo)((function(){return l.map((function(e){return e.symbol})).join(", ")}),[l]);return(0,d.useEffect)((function(){var e=function(){var e=(0,G.default)((function*(){var e=yield q.default.engine.getTokens(k,_);g(e)}));return function(){return e.apply(this,arguments)}}();e()}),[_,k]),(0,d.useEffect)((function(){!function(){for(var e=[],t=function(){var t=a[n];m.some((function(e){return t.tokenIdOnNetwork===e.tokenIdOnNetwork&&!e.autoDetected}))||e.push(t)},n=0,r=a.length;n<r;n+=1)t();c(e)}()}),[a,c,m]),l&&0!==l.length?(0,Z.isAllNetworks)(k)||null==I||null==(t=I.settings)||!t.tokenEnabled?null:(0,j.jsx)(r.default,{mb:6,children:(0,j.jsx)(o.default,{title:n.formatMessage({id:"msg__add_str_to_your_token_list"},{0:T}),alertType:"info",dismiss:!1,action:b?(0,j.jsx)(z.default,{}):n.formatMessage({id:"action__add"}),onAction:O})}):null}var Y=n(225447),Q=n(472719),J=n(645130),ee=n.n(J),te=n(700042),ne=n(653293),re=n(839484),oe=n(308877),ae=n(942013),ie=n(89382);function se(e){var t=e.decodedTx,n=e.isSendConfirm,o=e.tokensInTx,i=(0,Q.useNavigation)(),s=(0,p.default)(),l=(0,ie.getTxStatusInfo)({decodedTx:t}).text,c=(0,d.useMemo)((function(){return t.status===V.IDecodedTxStatus.Pending?re:t.status===V.IDecodedTxStatus.Confirmed?oe:t.status===V.IDecodedTxStatus.Offline?ne:te}),[t.status]),u=(0,d.useCallback)(function(){var e=(0,G.default)((function*(e){var n=e;n&&((yield q.default.serviceSwap.tokenIsSupported(n))||(K.default.show({title:s.formatMessage({id:"msg__wrong_network_desc"})},{type:"default"}),n=yield q.default.engine.getNativeTokenInfo(ae.OnekeyNetwork.eth)));var r=(0,m.isLightningNetworkByNetworkId)(t.networkId);q.default.serviceSwap.sellToken(n,!r).then((function(){r&&q.default.serviceSwap.switchToNativeOutputToken(t.networkId===ae.OnekeyNetwork.lightning?ae.OnekeyNetwork.btc:ae.OnekeyNetwork.tbtc)})),i.navigate(g.TabRoutes.Swap)}));return function(t){return e.apply(this,arguments)}}(),[s,i,t.networkId]),f=(0,d.useMemo)((function(){return o.map((function(e){var t;return{textValue:null!=(t=null==e?void 0:e.symbol)?t:"",onPress:function(){return u(e)}}}))}),[u,o]);return n?null:(0,j.jsx)(r.default,{mb:6,children:(0,j.jsxs)(C.default,{justifyContent:"space-between",alignItems:"center",children:[(0,j.jsxs)(C.default,{space:2,alignItems:"center",children:[(0,j.jsx)(Y.default,{size:10,source:c}),(0,j.jsxs)(r.default,{children:[(0,j.jsx)(a.default,{typography:"Body1Strong",children:s.formatMessage({id:l})}),(t.createdAt||t.updatedAt)&&(0,j.jsx)(a.default,{typography:"Body2",color:"text-subdued",children:ee()(t.createdAt||t.updatedAt).format("MMM DD YYYY, HH:mm")})]})]}),1===o.length&&(0,j.jsx)(b.default,{size:"sm",type:"basic",onPress:function(){return u(o[0])},children:s.formatMessage({id:"title__swap"})}),o.length>1&&(0,j.jsx)(I.default,{options:f,children:(0,j.jsx)(b.default,{size:"sm",type:"basic",children:s.formatMessage({id:"title__swap"})})})]})})}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=e.decodedTx,n=e.isSendConfirm,o=(0,d.useMemo)((function(){var e,n={};return(null!=(e=t.outputActions)?e:t.actions).forEach((function(e){var t,r,o,a,i,s,l=[];switch(e.type){case V.IDecodedTxActionType.NATIVE_TRANSFER:l=[null==(t=e.nativeTransfer)?void 0:t.tokenInfo];break;case V.IDecodedTxActionType.TOKEN_TRANSFER:l=[null==(r=e.tokenTransfer)?void 0:r.tokenInfo];break;case V.IDecodedTxActionType.TOKEN_APPROVE:l=[null==(o=e.tokenApprove)?void 0:o.tokenInfo];break;case V.IDecodedTxActionType.TOKEN_ACTIVATE:var d=e.tokenActivate;l=[ce(ce({},d),{},{id:d.tokenAddress,tokenIdOnNetwork:d.tokenAddress,networkId:d.networkId})];break;case V.IDecodedTxActionType.INTERNAL_SWAP:l=[null==(a=e.internalSwap)?void 0:a.send.tokenInfo,null==(i=e.internalSwap)?void 0:i.receive.tokenInfo];break;case V.IDecodedTxActionType.INTERNAL_STAKE:l=[null==(s=e.internalStake)?void 0:s.tokenInfo]}l.length>0&&l.filter((function(e){return!c()(e)})).forEach((function(e){return n[e.tokenIdOnNetwork]=e}))})),Object.values(n)}),[t.actions,t.outputActions]);return n?null:(0,j.jsxs)(r.default,{mb:6,children:[(0,j.jsx)(se,ce({tokensInTx:o},e)),(0,j.jsx)(X,ce({tokensInTx:o},e)),(0,j.jsx)(W.default,{})]})}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e){var t=e.style,n=e.onPress,o=(0,p.default)();return(0,j.jsx)(r.default,fe(fe({},t),{},{children:(0,j.jsx)(P.default.Item,{borderRadius:"12px",px:4,onPress:n,borderWidth:1,borderColor:"border-default",children:(0,j.jsxs)(C.default,{space:2,alignItems:"center",justifyContent:"space-between",children:[(0,j.jsx)(a.default,{typography:"Body1",children:o.formatMessage({id:"form__view_inputs_outputs"})}),(0,j.jsx)(x.default,{name:"ChevronRightMini",color:"icon-subdued",size:20})]})})}))}var me=n(66097),he=n(800736),ge=n(516515),ye=n(579029);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){var t,n,s,l,u=e.historyTx,v=e.decodedTx,b=e.isHistoryDetail,x=e.isSendConfirm,w=e.isBatchSendConfirm,_=e.sendConfirmParamsParsed,k=e.advancedSettingsForm,I=e.transferAmount,O=e.transformType,T=void 0===O?"T1":O,P=e.isSingleTransformMode,C=(0,me.getReplacedTxAlertTextKeys)({historyTx:u}),M=(0,h.useNetworkSimple)(v.networkId),A=(0,p.default)(),E=(0,ie.getDisplayedActions)({decodedTx:v}),R=(0,h.useNavigation)(),D=E.length>1,N=(0,d.useCallback)((function(){for(var e=[],t=E.length,n=0,r=f().min(t,y.MAX_ACTIONS_DISPLAY_IN_CONFIRM).toNumber();n<r;n+=1){var o=E[n],s=(0,ye.getTxActionMeta)({action:o,decodedTx:v,intl:A,historyTx:void 0});c()(I)||(s.meta.transferAmount=I);var l=s.meta,d=s.components[T];e.push((0,j.jsx)(i.default.Item,{wrap:(0,j.jsx)(d,be(be({},s.props),{},{meta:l,network:M})),hidePadding:!0},n))}return t>y.MAX_ACTIONS_DISPLAY_IN_CONFIRM&&e.push((0,j.jsx)(a.default,{typography:"Body2Strong",color:"text-subdued",paddingY:4,textAlign:"center",children:A.formatMessage({id:"action__str_more_actions"},{count:t-y.MAX_ACTIONS_DISPLAY_IN_CONFIRM})})),e}),[v,E,A,M,I,T]),L=b?D:!P||D,B=null==v?void 0:v.interactInfo;return(0,j.jsxs)(j.Fragment,{children:[C&&C.length?(0,j.jsx)(r.default,{testID:"replacedTxTextKeys",mb:6,children:(0,j.jsx)(o.default,{title:A.formatMessage({id:C[0]}),description:A.formatMessage({id:C[1]}),alertType:"info"})}):null,(0,j.jsx)(ge.TxDetailContextProvider,{isMultipleActions:!0,isHistoryDetail:b,isSendConfirm:x,sendConfirmParamsParsed:_,isCollapse:L,isBatchSendConfirm:w,children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(de,be({},e)),x?(0,j.jsx)(F.TxInteractInfo,{origin:null!=(t=null!=(n=null==B?void 0:B.url)?n:null==_||null==(s=_.sourceInfo)?void 0:s.origin)?t:"",name:null==B?void 0:B.name,icon:null==B?void 0:B.icons[0],networkId:null!=(l=null==v?void 0:v.networkId)?l:""}):null,(0,j.jsx)(H,be({},e)),(0,j.jsx)(S,be({},e)),k,(0,j.jsxs)(r.default,{mt:P||b?6:0,flex:1,children:[x?null:(0,j.jsx)(a.default,{typography:"Subheading",textTransform:"uppercase",mb:3,color:"text-subdued",children:A.formatMessage({id:"form__transaction"})}),L?(0,j.jsx)(i.default.Box,{p:"0",borderWidth:1,borderColor:"border-subdued",flex:1,children:N()}):(0,j.jsx)(he.TxActionsListView,be(be({},e),{},{transformType:"T1",space:6}))]}),(0,m.isBTCNetwork)(v.networkId)?(0,j.jsx)(pe,{style:{mt:6},onPress:function(){R.navigate(g.RootRoutes.Modal,{screen:g.ModalRoutes.TransactionDetail,params:{screen:g.TransactionDetailModalRoutes.UtxoDetailModal,params:{decodedTx:v}}})}}):null]})})]})}},65143:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxDetailActionBox:()=>x});var r=n(568674),o=n(18861),a=n(561220),i=n(435581),s=n(256666),l=n(301842),c=n.n(l),d=n(785192),u=n(470310),f=n(361301),p=n(202784),m=n(553197),h=n(527505),g=n(516515),y=n(552322);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t,n=e.title,s=e.subTitle,l=e.desc,v=e.icon,x=e.content,w=e.details,_=e.showTitleDivider,k=e.showContentDivider,I=e.isSingleTransformMode,j=(0,g.useTxDetailContext)(),O=null==j||null==(t=j.context)?void 0:t.isCollapse,T=!!n&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(u.default,{space:2,pb:4,alignItems:"center",children:[v,(0,y.jsxs)(f.default,{children:[n,s]})]}),_&&null!=w&&w.length&&x?(0,y.jsx)(d.default,{mb:4,ml:-4,mr:-4,w:"auto"}):null]}),S=(0,p.useCallback)((function(e){return n?(0,y.jsxs)(u.default,{p:2,space:2,alignItems:"center",flex:1,children:[v,(0,y.jsxs)(f.default,{flex:1,children:[(0,y.jsxs)(u.default,{alignItems:"baseline",space:2,children:[n,e?l:null]}),s]})]}):null}),[l,v,s,n]),P=(0,p.useCallback)((function(e,t){var n,r;return c()(t)?null:null!=t&&t.title?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h.TxActionElementDetailCell,b({},t),e),k&&e!==(null!=(r=null==w?void 0:w.length)?r:0)-1&&(0,y.jsx)(d.default,{})]}):(0,y.jsxs)(y.Fragment,{children:[t,k&&e!==(null!=(n=null==w?void 0:w.length)?n:0)-1&&(0,y.jsx)(d.default,{})]})}),[null==w?void 0:w.length,k]),C=(0,y.jsxs)(y.Fragment,{children:[x,(0,y.jsx)(f.default,{space:4,children:(null!=w?w:[]).filter(Boolean).map((function(e,t){return P(t,e)}))})]});return O&&n?(0,y.jsxs)(r.default,{arrowPosition:"right",renderCustomTrigger:function(e,t){return(0,y.jsx)(a.default,{onPress:e,p:"8px",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:(0,y.jsxs)(u.default,{alignItems:"center",justifyContent:"space-between",children:[S(t),(0,y.jsx)(m.View,{animate:{rotate:t?"0deg":"90deg"},children:(0,y.jsx)(i.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})})]})})},triggerWrapperProps:{borderRadius:0},triggerProps:{flex:1},children:[(0,y.jsx)(d.default,{w:"auto"}),(0,y.jsx)(o.default,{p:4,children:C})]}):I?(0,y.jsxs)(o.default,{children:[T,C]}):(0,y.jsxs)(o.default,{bg:"surface-default",borderRadius:12,borderWidth:1,borderColor:"border-subdued",p:4,children:[T,C]})}},261961:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxInteractInfo:()=>f});var r=n(256666),o=n(18861),a=n(459740),i=n(202784),s=n(729973),l=n(552322),c=["origin","networkId","name","icon"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.origin,n=e.networkId,r=e.name,d=e.icon,f=(0,a.default)(e,c),p=(0,i.useMemo)((function(){try{return new URL(t)}catch(e){}}),[t]);return p?(0,l.jsx)(o.default,u(u({bg:"surface-default",borderColor:"border-default",borderWidth:1,borderRadius:12,paddingX:4,paddingY:3,mb:6},f),{},{children:(0,l.jsx)(s.DappSecurityView,{hostname:p.hostname,origin:p.origin,networkId:n,name:r,icon:d})})):null}},28314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxListActionBox:()=>x,TxListActionBoxContentText:()=>y,TxListActionBoxExtraText:()=>b,TxListActionBoxSubTitleText:()=>v,TxListActionBoxTitleText:()=>g});var r=n(470310),o=n(18861),a=n(256666),i=n(866904),s=n(450870),l=n(849877),c=n(859071),d=n(680481),u=n(744235),f=n(89382),p=n(552322);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return(0,p.jsx)(i.default,h({typography:"Body1Strong"},e))}function y(e){return(0,p.jsx)(i.default,h({typography:"Body1Strong",textAlign:"right"},e))}function v(e){return(0,p.jsx)(i.default,h({typography:"Body2",color:"text-subdued"},e))}function b(e){return(0,p.jsx)(i.default,h({testID:"TxListActionBoxExtraText",numberOfLines:2,isTruncated:!0,typography:"Body2",color:"text-subdued",textAlign:"right"},e))}function x(e){var t,n=e.icon,a=e.iconInfo,i=e.title,m=e.titleInfo,h=e.content,x=e.extra,w=e.subTitle,_=e.footer,k=e.symbol,I=e.network,j=(0,c.useAppSelector)((function(e){return e.general})).activeNetworkId,O=null!=(t=(0,f.fallbackTextComponent)(i,g))?t:(0,p.jsx)(u.TxActionElementTitleNormal,{titleInfo:m}),T=null!=n?n:(0,p.jsx)(d.TxActionElementIconLarge,{iconInfo:a,name:k}),S=(0,f.fallbackTextComponent)(h,y),P=(0,f.fallbackTextComponent)(w,v),C=(0,f.fallbackTextComponent)(x,b),M=!!C;return(0,p.jsxs)(o.default,{children:[(0,p.jsxs)(r.default,{space:2,children:[T?(0,p.jsx)(o.default,{py:"6px",children:T}):null,(0,p.jsxs)(o.default,{flex:1,flexDirection:"column",justifyContent:"center",children:[(0,p.jsxs)(r.default,{space:2,flexDirection:"row",justifyContent:"space-between",children:[(0,p.jsx)(o.default,{maxW:S?"50%":"100%",children:O}),!!S&&(0,p.jsx)(o.default,{flex:1,justifyContent:"flex-end",children:S})]}),Boolean(P||C)&&(0,p.jsxs)(r.default,{space:2,flexDirection:"row",justifyContent:"space-between",children:[(0,p.jsxs)(r.default,{testID:"TxListActionBox-subTitleView",flex:M?void 0:1,alignItems:"center",children:[(0,l.isAllNetworks)(j)&&null!=I&&I.id?(0,p.jsx)(o.default,{mr:"2px",children:(0,p.jsx)(s.NetworkDarkIcon,{networkId:I.id})}):null,P]}),M&&(0,p.jsx)(o.default,{testID:"TxListActionBox-extraView",flex:1,children:C})]})]})]}),_?(0,p.jsx)(o.default,{pl:"40px",children:_}):null]})}},417837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxActionElementAddress:()=>W,TxActionElementAddressNormal:()=>V,getTxActionElementAddressWithSecurityInfo:()=>z,useAddressBookItem:()=>U,useAddressLabel:()=>F});var r=n(470310),o=n(433996),a=n(361301),i=n(866904),s=n(256666),l=n(459740),c=n(634795),d=n(196234),u=n(202784),f=n(783112),p=n(626015),m=n(945821),h=n(609813),g=n(859071),y=n(284315),v=n(395795),b=n(322987),x=n(481047),w=n(830631),_=n(903730),k=n(918242),I=n(259825),j=n(321668),O=n(795116),T=n(18861),S=n(435581),P=n(793525),C=n(552322);function M(e){var t=e.address,n=e.closeOverlay,o=(0,f.default)(),a=(0,y.useClipboard)().copyText;return(0,C.jsxs)(I.default,{title:"",closeOverlay:n,showCloseButton:!1,children:[(0,C.jsx)(O.default,{mt:-10,children:(0,C.jsx)(T.default,{width:12,height:12,borderRadius:"full",alignItems:"center",justifyContent:"center",bgColor:"surface-critical-default",children:(0,C.jsx)(S.default,{name:"ExclamationTriangleOutline",size:24,color:"icon-critical"})})}),(0,C.jsxs)(T.default,{children:[(0,C.jsx)(i.default,{textAlign:"center",typography:"DisplayMedium",fontSize:20,mt:5,children:o.formatMessage({id:"title__beware_of_address_poisoning_scams"})}),(0,C.jsx)(i.default,{textAlign:"center",typography:"Body2",color:"text-subdued",mt:2,fontSize:14,children:o.formatMessage({id:"title__beware_of_address_poisoning_scams_desc"})}),(0,C.jsx)(i.default,{textAlign:"center",typography:"Body2",color:"text-subdued",mt:5,fontSize:14,children:t})]}),(0,C.jsxs)(r.default,{space:3,mt:6,pb:5,children:[(0,C.jsx)(j.default,{size:"xl",flex:1,onPress:function(){return n()},children:o.formatMessage({id:"action__cancel"})}),(0,C.jsx)(j.default,{flex:1,size:"xl",type:"destructive",onPress:function(){a(t),n()},children:o.formatMessage({id:"action__copy_address"})})]})]})}var A=function(e){(0,P.showOverlay)((function(t){return(0,C.jsx)(M,{address:e,closeOverlay:t})}))},E=n(331639),R=n(336782),D=["networkId","address","amount","isCopy","isAccount","contact"],N=["address","isShorten","isCopy","checkSecurity","networkId","flex","amount","displayAddress","numberOfLines","isInscribeTransfer"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=e.address,n=e.networkId,r=(0,u.useState)(""),o=(0,d.default)(r,2),a=o[0],i=o[1],s=(0,u.useState)(""),l=(0,d.default)(s,2),f=l[0],p=l[1],h=(0,u.useState)(!1),g=(0,d.default)(h,2),y=g[0],v=g[1];return(0,u.useEffect)((function(){(0,c.default)((function*(){var e=yield m.default.serviceAccount.getAddressLabel({address:t,networkId:n});e&&e.label&&(i(e.label),p(e.walletId),v(e.accountId.startsWith("watching--")))}))()}),[t,n]),{label:a,walletId:f,isWatchAccount:y}}function U(e){var t=e.address,n=(0,u.useState)(),r=(0,d.default)(n,2),o=r[0],a=r[1];return(0,u.useEffect)((function(){(0,c.default)((function*(){var e=yield m.default.serviceAddressbook.getItem({address:t});e&&a(e)}))()}),[t]),o}function H(e){var t=e.networkId,n=e.address,r=e.amount,o=e.isCopy,a=e.isAccount,i=e.contact,s=(0,l.default)(e,D),d=(0,g.useNetwork)({networkId:t}).network,f=(0,v.default)(d),p=(0,y.useClipboard)().copyText,h=(0,g.useNavigation)(),k=(0,u.useCallback)((function(e){"0"===r?A(n):p(e)}),[n,r,p]),I=(0,u.useCallback)((0,c.default)((function*(){var e=yield m.default.serviceAccount.getAccountByAddress({address:n,networkId:t});e&&t&&(yield m.default.serviceAccount.changeCurrrentAccount({accountId:e.id,networkId:t})),m.default.dispatch((0,w.setHomeTabName)(R.WalletHomeTabEnum.Tokens)),b.navigationShortcuts.navigateToHome()})),[t,n]),j=(0,u.useMemo)((function(){return[o&&{id:"action__copy_address",onPress:function(){return k(n)},icon:"Square2StackMini"},a&&{id:"action__view_account",onPress:I,icon:"UserCircleSolid"},!!i&&{id:"action__edit",onPress:function(){h.navigate(x.RootRoutes.Modal,{screen:x.ModalRoutes.AddressBook,params:{screen:_.AddressBookRoutes.EditAddressRoute,params:{uuid:i.id,defaultValues:{name:i.name,address:i.address,networkId:i.networkId}}}})},icon:"PencilSquareMini"},f.hasAvailable&&{id:"action__view_in_browser",onPress:function(){return f.openAddressDetails(n)},icon:"GlobeAltMini"}].filter(Boolean)}),[I,n,k,a,i,o,h,f]);return 0===j.length?null:(0,C.jsx)(E.default,B({options:j},s))}function W(e){var t=e.address,n=e.isShorten,s=void 0===n||n,c=e.isCopy,d=void 0===c||c,u=e.checkSecurity,m=void 0!==u&&u,g=e.networkId,y=e.flex,v=e.amount,b=e.displayAddress,x=void 0===b||b,w=e.numberOfLines,_=void 0===w?2:w,I=e.isInscribeTransfer,j=(0,l.default)(e,N),O=(0,f.default)(),T=!(!m||!g),S=(0,k.useAddressSecurityInfo)(null!=g?g:"",T?t:"").data,P=F({address:t,networkId:g}),M=P.label,A=P.isWatchAccount,E=P.walletId,R=U({address:t}),D=s?(0,p.shortenAddress)(t):t;return D="unknown"===D?O.formatMessage({id:"form__unknown"}):D,(0,C.jsx)(a.default,{flex:y,children:(0,C.jsxs)(r.default,{alignItems:"flex-start",space:1,children:[(0,C.jsxs)(a.default,{space:1,flex:1,children:[x&&(0,C.jsx)(i.default,B(B({ml:null!=S&&S.length?1:0,isTruncated:!0,numberOfLines:_},j),{},{color:null!=S&&S.length?"text-critical":"text-default",children:D})),(0,C.jsx)(h.AddressLabel,{mt:-1,address:t,networkId:g,securityInfo:S,shouldCheckSecurity:T,isAccount:!!M,accountLabel:M,walletId:E,isWatchAccount:A,isAddressBook:!!R,addressBookLabel:null==R?void 0:R.name,isInscribeAddress:I,labelStyle:{mt:1}})]}),t&&"unknown"!==t?(0,C.jsx)(H,{networkId:g,address:t,amount:v,isCopy:d,isAccount:!!M,contact:R,children:(0,C.jsx)(o.default,{circle:!0,mt:"-6px",type:"plain",iconSize:18,name:"EllipsisVerticalOutline"})}):null]})})}function V(e){return(0,C.jsx)(W,B({typography:"Body2Strong"},e))}function z(e){var t=e.address,n=e.networkId,r=e.withSecurityInfo,o=void 0!==r&&r,a=e.typography,i=void 0===a?"Body2Strong":a,s=e.amount,l=e.isCopy,c=e.isShorten,d=e.displayAddress,u=e.isInscribeTransfer;return o&&n?(0,C.jsx)(W,{checkSecurity:!0,address:t,networkId:n,typography:i,amount:s,isCopy:l,isShorten:c,displayAddress:d,isInscribeTransfer:u}):(0,C.jsx)(W,{typography:i,address:t,networkId:n,amount:s,isCopy:l,isShorten:c,displayAddress:d,isInscribeTransfer:u})}},527505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxActionElementDetailCell:()=>p,TxActionElementDetailCellContentText:()=>f,TxActionElementDetailCellTitleText:()=>u});var r=n(470310),o=n(18861),a=n(256666),i=n(866904),s=n(89382),l=n(552322);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return(0,l.jsx)(i.default,d({typography:"Body2Strong",color:"text-subdued"},e))}function f(e){return(0,l.jsx)(i.default,d({typography:"Body2Strong"},e))}function p(e){var t=e.title,n=e.content,a=e.extra,i=(0,s.fallbackTextComponent)(t,u),c=(0,s.fallbackTextComponent)(n,f);return a?(0,l.jsx)(o.default,{children:(0,l.jsxs)(r.default,{justifyContent:"space-between",alignItems:"center",children:[(0,l.jsxs)(o.default,{flex:1,children:[i,c]}),(0,l.jsx)(o.default,{children:a})]})}):(0,l.jsxs)(o.default,{children:[i,c]})}},680481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxActionElementIcon:()=>d,TxActionElementIconLarge:()=>f,TxActionElementIconNormal:()=>u,TxActionElementIconXLarge:()=>p});var r=n(256666),o=n(795116),a=n(435581),i=n(737790),s=n(552322);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){var t,n=e.iconInfo,r=e.size,l=void 0===r?16:r,d=e.name,u=`${l}px`,f={width:u,height:u,borderRadius:"full",bg:"background-selected",nativeID:"TxActionElementIcon-Center-Container"},p=null!=(t=null==n?void 0:n.icon)?t:{},m=(0,s.jsx)(i.default,{showIconBorder:!0,size:u,token:{name:d,logoURI:p.url}});return null!=p&&p.name?(0,s.jsx)(o.default,c(c({},f),{},{children:(0,s.jsx)(a.default,{name:p.name})})):m}function u(e){return(0,s.jsx)(d,c({size:28},e))}function f(e){return(0,s.jsx)(d,c({size:32},e))}function p(e){return(0,s.jsx)(d,c({size:40},e))}},66097:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxActionElementReplacedTxText:()=>p,getReplacedTxAlertTextKeys:()=>f,getReplacedTxTextKey:()=>u});var r=n(256666),o=n(866904),a=n(459740),i=n(783112),s=n(552322),l=["historyTx"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t,n=e.historyTx;return"cancel"===(null==n?void 0:n.replacedType)&&(t="form__cancelled_transaction"),"speedUp"===(null==n?void 0:n.replacedType)&&(t="form__accelerated_transaction"),t}function f(e){var t=e.historyTx,n=[];return"cancel"===(null==t?void 0:t.replacedType)&&(n=["msg__this_is_a_transaction_for_cancellation","msg__this_is_a_transaction_for_cancellation_desc"]),"speedUp"===(null==t?void 0:t.replacedType)&&(n=["msg__this_is_an_accelerated_transaction","msg__this_is_an_accelerated_transaction_desc"]),n}function p(e){var t=e.historyTx,n=(0,a.default)(e,l),r=(0,i.default)(),c=u({historyTx:t}),f=c?r.formatMessage({id:c}):"";return(0,s.jsx)(o.default,d(d({typography:"Body2",color:"text-subdued"},n),{},{children:f}))}},158870:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxActionElementTime:()=>f});var r=n(256666),o=n(866904),a=n(459740),i=n(202784),s=n(74008),l=n(552322),c=["timestamp","isShort"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=e.timestamp,n=e.isShort,r=(0,a.default)(e,c),d=(0,s.default)(),f=(0,i.useMemo)((function(){if(!t)return"";var e=new Date(t);return n?d.formatDate(e,{hideTheYear:!0,hideTheMonth:!0}):e.toLocaleString()}),[d,n,t]);return(0,l.jsx)(o.default,u(u({},r),{},{children:f}))}},744235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TxActionElementTitle:()=>u,TxActionElementTitleHeading:()=>f,TxActionElementTitleNormal:()=>p});var r=n(256666),o=n(866904),a=n(459740),i=n(783112),s=n(552322),l=["titleInfo","iconInfo","transferAmount"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t=e.titleInfo,n=(e.iconInfo,e.transferAmount,(0,a.default)(e,l)),r=(0,i.default)(),c="";return null!=t&&t.titleKey&&(c=r.formatMessage({id:null==t?void 0:t.titleKey})),null!=t&&t.title&&(c=null==t?void 0:t.title),c?(0,s.jsx)(o.default,d(d({whiteSpace:"nowrap"},n),{},{children:c||""})):null}function f(e){return(0,s.jsx)(u,d({typography:"Heading"},e))}function p(e){return(0,s.jsx)(u,d({typography:"Body1Strong"},e))}},579029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{UNKNOWN_ACTION_ICON_NAME:()=>et,getTxActionMeta:()=>tt});var r=n(398514),o=n(866904),a=n(783112),i=n(626015),s=n(534159),l=n(859071),c=n(256666),d=n(18861),u=n(459740),f=n(361301),p=n(301842),m=n.n(p),h=n(202784),g=n(206391),y=n.n(g),v=n(561220),b=n(435581),x=n(552322);function w(e){var t=e.children,n=e.flex,r=e.icon;return(0,x.jsxs)(d.default,{flexDirection:"row",alignItems:"center",testID:"TxActionElementWithIcon",children:[(0,x.jsx)(d.default,{flex:n,maxW:"full",children:t}),!!r&&(0,x.jsx)(d.default,{ml:1,children:r})]})}function _(e){var t=e.flex,n=e.onPress,r=e.children,o=e.icon,a=void 0===o?(0,x.jsx)(b.default,{name:"ChevronRightMini",color:"icon-subdued",size:20}):o,i=(0,x.jsx)(w,{flex:t,icon:n?a:void 0,children:r});return n?(0,x.jsx)(v.default,{onPress:n,children:i}):i}var k=["direction","amount","symbol","onPress","decimals","subText","isSendConfirm"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t="",n="text-default";return e!==r.IDecodedTxDirection.SELF&&e!==r.IDecodedTxDirection.OUT||(t="-",n="text-default"),e===r.IDecodedTxDirection.IN&&(t="+",n="text-success"),{sign:t,color:n}}function T(e){var t=e.direction,n=e.amount,r=e.symbol,a=e.onPress,i=e.decimals,l=e.subText,c=e.isSendConfirm,d=(0,u.default)(e,k),p=(0,h.useMemo)((function(){return O(t)}),[t]),g=(0,h.useMemo)((function(){if(n)return new(y())(n)}),[n]),v=(0,h.useMemo)((function(){return g&&n?m()(i)||g.isNaN()?n:(null==(e=(0,s.formatBalanceDisplay)(n,"",{fixed:i}))?void 0:e.amount)||n:"";var e}),[n,g,i]),b=(0,x.jsxs)(f.default,{flex:"1",children:[(0,x.jsxs)(o.default,j(j({testID:"TxActionElementAmount",numberOfLines:2,isTruncated:!0,color:p.color},d),{},{children:[c?null:p.sign,v," ",r]})),l]});return a?(0,x.jsx)(_,{onPress:a,flex:1,children:b}):b}function S(e){return(0,x.jsx)(T,j({typography:"Body2"},e))}function P(e){return(0,x.jsx)(T,j({typography:"Body1Strong"},e))}function C(e){return(0,x.jsx)(T,j({typography:"DisplayXLarge"},e))}var M=n(680481),A=n(744235),E=n(516515),R=n(65143),D=n(470310),N=n(66097),L=n(89382),B=["decodedTx"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=e.decodedTx,n=(0,u.default)(e,B),r=(0,a.default)(),i=(0,L.getTxStatusInfo)({decodedTx:t});return(0,x.jsx)(o.default,U(U({typography:"Body2",color:i.textColor},n),{},{children:r.formatMessage({id:i.text})}))}var W=n(158870);function V(e){var t=e.decodedTx;return t.status!==r.IDecodedTxStatus.Confirmed&&t.status!==r.IDecodedTxStatus.Offline?(0,x.jsx)(H,{decodedTx:t}):void 0}function z(e){var t=e.decodedTx,n=V({decodedTx:t}),r=(0,x.jsx)(W.TxActionElementTime,{typography:"Body2",color:"text-subdued",timestamp:t.updatedAt||t.createdAt||0});return(0,x.jsxs)(D.default,{space:2,children:[n,r]})}function K(e){var t=e.historyTx,n=V({decodedTx:e.decodedTx}),r=null;null!=t&&t.replacedType&&(r=(0,x.jsx)(N.TxActionElementReplacedTxText,{historyTx:t}));var o=n||r?(0,x.jsxs)(D.default,{space:2,children:[n,r]}):void 0;return null!=o?o:null}var G=["amountInfo","decodedTx","content","icon","iconInfo","title","titleInfo","desc"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t,n,r,o,a=e.amountInfo,i=e.decodedTx,s=e.content,l=e.icon,c=e.iconInfo,f=e.title,p=e.titleInfo,m=e.desc,h=(0,u.default)(e,G),g=(0,E.useTxDetailContext)(),y=null==g||null==(t=g.context)?void 0:t.isMultipleActions,v=null==g||null==(n=g.context)?void 0:n.isHistoryDetail,b=null==g||null==(r=g.context)?void 0:r.isSendConfirm,w=!y,_=m;a&&(o=(0,x.jsx)(C,{direction:a.direction,amount:a.amount,symbol:a.symbol,isSendConfirm:b,mb:4}),_=(0,x.jsx)(S,{direction:a.direction,amount:a.amount,symbol:a.symbol,isSendConfirm:b,decimals:8,color:"text-subdued",typography:"Body2Strong"}));var k,I,j=l;j||(j=(0,x.jsx)(M.TxActionElementIconLarge,{iconInfo:c,name:null!=(k=null==a?void 0:a.symbol)?k:""}),w&&(j=(0,x.jsx)(d.default,{py:"6px",children:(0,x.jsx)(M.TxActionElementIconXLarge,{iconInfo:c,name:null!=(I=null==a?void 0:a.symbol)?I:""})})));var O,T=f;return T||(T=(0,x.jsx)(A.TxActionElementTitleNormal,{titleInfo:p}),w&&(T=(0,x.jsx)(A.TxActionElementTitleHeading,{titleInfo:p}))),w&&v&&(O=(0,x.jsx)(z,{decodedTx:i})),(0,x.jsx)(R.TxDetailActionBox,Z(Z({},h),{},{content:o||s,icon:j,title:T,subTitle:O,desc:_,isSingleTransformMode:w,showTitleDivider:!w}))}var X=n(28314),Y=n(417837);function Q(e){var t,n,o,a,i=e.action,s=i.brc20Info,l=i.direction,c=i.type,d=null!=(t=null==s?void 0:s.sender)?t:"",u=null!=(n=null==s?void 0:s.receiver)?n:"",f=!(null==s||!s.isInscribeTransfer);i.direction=l;var p,m=l===r.IDecodedTxDirection.OUT,h=function(e){var t=e.isOut,n=e.type;return n===r.IDecodedTxActionType.TOKEN_BRC20_DEPLOY?{titleKey:"content__deploy"}:n===r.IDecodedTxActionType.TOKEN_BRC20_MINT?{titleKey:"content__mint"}:n===r.IDecodedTxActionType.TOKEN_BRC20_INSCRIBE?{titleKey:"title__inscribe"}:n===r.IDecodedTxActionType.TOKEN_BRC20_TRANSFER?{titleKey:t?"action__send":"action__receive"}:{titleKey:t?"form_send_nft":"form_receive_nft"}}({type:c,isOut:m}),g=null==(o=i.brc20Info)?void 0:o.token.logoURI;return g&&(p={icon:{url:g}}),{titleInfo:h,iconInfo:p,displayDecimals:100,symbol:null==s?void 0:s.token.symbol,sender:d,receiver:u,isOut:m,action:i,isInscribeTransfer:f,amount:null!=(a=null==s?void 0:s.amount)?a:"0"}}function J(e){var t,n=e.action,l=e.meta,c=e.decodedTx,d=e.historyTx,u=e.network,f=c.accountId,p=c.networkId,m=c.status,h=Q(e),g=h.amount,y=h.symbol,v=h.isOut,b=h.sender,w=h.receiver,_=(0,x.jsx)(K,{decodedTx:c,historyTx:d}),k=(0,a.default)(),I="",j=n.type===r.IDecodedTxActionType.TOKEN_BRC20_DEPLOY,O=n.type===r.IDecodedTxActionType.TOKEN_BRC20_MINT,T="unknown"===(I=j||O||v?w:b)?I:(0,i.shortenAddress)(I);return(0,x.jsx)(X.TxListActionBox,{network:u,footer:_,symbol:y,iconInfo:null==l?void 0:l.iconInfo,titleInfo:m===r.IDecodedTxStatus.Offline?{titleKey:"form__partially_sign"}:null==l?void 0:l.titleInfo,content:(0,x.jsx)(P,{textAlign:"right",justifyContent:"flex-end",amount:j?void 0:g,symbol:y,direction:j?void 0:n.direction}),subTitle:m===r.IDecodedTxStatus.Offline?(0,x.jsx)(o.default,{typography:"Body2",color:"text-warning",children:k.formatMessage({id:"form__not_broadcast"})}):T,extra:m===r.IDecodedTxStatus.Offline||j?"":(0,x.jsx)(s.FormatCurrencyTokenOfAccount,{accountId:f,networkId:p,token:null==(t=n.brc20Info)?void 0:t.token,value:g,render:function(e){return(0,x.jsx)(X.TxListActionBoxExtraText,{children:e})}})})}function ee(e){var t=(0,a.default)(),n=e.action,o=e.meta,i=e.decodedTx,s=e.network,c=e.isShortenAddress,d=void 0!==c&&c,u=i.accountId,f=i.networkId,p=Q(e),m=p.amount,h=p.sender,g=p.receiver,y=p.isOut,v=p.symbol,b=p.isInscribeTransfer,w=(0,l.useAccount)({accountId:u,networkId:f}).account,_=n.type===r.IDecodedTxActionType.TOKEN_BRC20_DEPLOY,k=n.type===r.IDecodedTxActionType.TOKEN_BRC20_TRANSFER,I=[_||k?{title:t.formatMessage({id:"content__from"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:_?g:h,networkId:null==s?void 0:s.id,withSecurityInfo:!y,amount:m,isCopy:!0,isShorten:d,isInscribeTransfer:b&&(null==w?void 0:w.address)!==h})}:null,_?null:{title:t.formatMessage({id:"content__to"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:g,networkId:null==s?void 0:s.id,withSecurityInfo:y,amount:m,isCopy:!0,isShorten:d,isInscribeTransfer:b&&(null==w?void 0:w.address)!==g})}];return(0,x.jsx)(q,{decodedTx:i,iconInfo:null==o?void 0:o.iconInfo,titleInfo:null==o?void 0:o.titleInfo,amountInfo:{direction:_?void 0:n.direction,amount:_?"":m,symbol:null!=v?v:""},details:I})}function te(e){var t,n,o,a,i,s,l,c,d,u,f=e.action,p="",m="",h="",g="",y=[];f.type===r.IDecodedTxActionType.FUNCTION_CALL&&(p=null!=(t=null==(n=f.functionCall)?void 0:n.target)?t:"",m=null!=(o=null==(a=f.functionCall)?void 0:a.functionName)?o:"",h=null!=(i=null==(s=f.functionCall)?void 0:s.functionHash)?i:"",g=null!=(l=null==(c=f.functionCall)?void 0:c.functionSignature)?l:"",y=null!=(d=null==(u=f.functionCall)?void 0:u.args)?d:[]);return{titleInfo:{titleKey:"form__contract_data"},target:p,functionName:m,functionHash:h,functionSignature:g,args:y}}function ne(e){var t=e.meta,n=e.decodedTx,r=(0,a.default)(),i=te(e),s=i.target,l=i.args,c=i.functionName,u=[{title:r.formatMessage({id:"content__token_approve_owner"}),content:(0,x.jsx)(Y.TxActionElementAddressNormal,{isShorten:!1,address:s})},{title:r.formatMessage({id:"form__contract"}),content:(0,x.jsx)(o.default,{typography:{sm:"Caption",md:"Caption"},flex:1,overflowWrap:"anywhere",children:c})},{title:r.formatMessage({id:"form__contract_data"}),content:(0,x.jsx)(d.default,{children:l.map((function(e){return(0,x.jsx)(o.default,{typography:{sm:"Caption",md:"Caption"},color:"text-subdued",flex:1,overflowWrap:"anywhere",children:e})}))})}];return(0,x.jsx)(q,{decodedTx:n,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,details:u})}function re(e){var t=e.meta,n=e.decodedTx,r=e.historyTx,o=(0,a.default)(),i=te(e),s=i.target,l=i.functionName,c=(0,x.jsx)(K,{decodedTx:n,historyTx:r});return(0,x.jsx)(X.TxListActionBox,{footer:c,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,content:(0,x.jsx)(Y.TxActionElementAddressNormal,{isShorten:!1,address:s,isCopy:!1}),subTitle:o.formatMessage({id:"form__contract"}),extra:(0,x.jsx)(Y.TxActionElementAddressNormal,{isShorten:!1,address:l,isCopy:!1})})}var oe=n(107867),ae=n(196234),ie=n(472719),se=n(481047),le=n(665277),ce=["direction","title","onPress","subText"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=e.asset,n=(0,le.getBTCListComponent)({data:t,sizeType:"history"}).Component;return(0,x.jsx)(n,{asset:t,borderRadius:"8px",size:32})}function pe(e){var t=e.direction,n=e.title,r=e.onPress,a=e.subText,i=(0,u.default)(e,ce),s=O(t).color,l=(0,x.jsxs)(f.default,{flex:"1",children:[(0,x.jsx)(o.default,ue(ue({testID:"TxActionElementInscriptionContent",numberOfLines:2,isTruncated:!0,color:s},i),{},{children:n})),a]});return r?(0,x.jsx)(_,{onPress:r,flex:1,children:l}):l}var me=3;function he(e){var t,n,o=e.action,a=o.inscriptionInfo,i=o.direction,s=!(null==a||!a.isInscribeTransfer),l=null!=(t=null==a?void 0:a.send)?t:"",c=null!=(n=null==a?void 0:a.receive)?n:"";o.direction=i;var d=i===r.IDecodedTxDirection.OUT||i===r.IDecodedTxDirection.SELF||i===r.IDecodedTxDirection.OTHER,u=function(e){var t=e.type,n=e.direction;return t===r.IDecodedTxActionType.NFT_INSCRIPTION?{titleKey:"form_receive_nft"}:t===r.IDecodedTxActionType.NFT_TRANSFER_BTC?n===r.IDecodedTxDirection.OUT?{titleKey:"form_send_nft"}:{titleKey:"form_receive_nft"}:void 0}({type:o.type,direction:i});return{titleInfo:u,iconInfo:undefined,displayDecimals:100,send:l,receive:c,isOut:d,action:o,isInscribeTransfer:s,asset:null==a?void 0:a.asset,assetsInSameUtxo:null==a?void 0:a.assetsInSameUtxo}}function ge(e){var t=e.decodedTx,n=e.action,r=e.meta,i=e.network,s=e.isShortenAddress,c=void 0!==s&&s,d=t.accountId,u=t.networkId,f=(0,a.default)(),p=(0,l.useAccount)({accountId:d,networkId:u}).account,m=he(e),g=m.send,y=m.receive,w=m.isOut,_=m.asset,k=m.assetsInSameUtxo,I=m.isInscribeTransfer,j=(0,ie.useNavigation)(),O=(0,h.useState)(!1),T=(0,ae.default)(O,2),S=T[0],P=T[1],C=[_,k].flat().filter(Boolean),M=[{title:f.formatMessage({id:"content__from"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:g,networkId:null==i?void 0:i.id,withSecurityInfo:!w,isShorten:c,isInscribeTransfer:I&&(null==p?void 0:p.address)!==g})},{title:f.formatMessage({id:"content__to"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:y,networkId:null==i?void 0:i.id,withSecurityInfo:w,isShorten:c,isInscribeTransfer:I&&(null==p?void 0:p.address)!==y})}],E=(0,x.jsx)(A.TxActionElementTitleHeading,{titleInfo:null==r?void 0:r.titleInfo});return(0,x.jsx)(R.TxDetailActionBox,{icon:(0,x.jsx)(fe,{asset:_}),title:E,content:(0,x.jsxs)(x.Fragment,{children:[C.slice(0,S?void 0:me).map((function(e){return(0,x.jsxs)(oe.default,{px:0,py:"12px",onPress:function(){i&&e&&j.navigate(se.RootRoutes.Modal,{screen:se.ModalRoutes.Send,params:{screen:se.SendModalRoutes.NFTDetailModal,params:{asset:e,networkId:u,accountId:d,isOwner:!1}}})},children:[(0,x.jsx)(pe,{typography:"DisplayXLarge",direction:n.direction,title:`Inscription #${null==e?void 0:e.inscription_number}`}),(0,x.jsx)(b.default,{name:"ChevronRightSolid",size:20})]},e.inscription_id)})),S||C.length<=me?null:(0,x.jsx)(v.default,{p:"8px",borderRadius:"12px",_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},onPress:function(){return P(!0)},children:(0,x.jsxs)(D.default,{alignItems:"center",justifyContent:"center",space:2,children:[(0,x.jsx)(o.default,{color:"text-subdued",children:f.formatMessage({id:"form__show_all"})}),(0,x.jsx)(b.default,{name:"ChevronDownMini",size:12,color:"icon-subdued"})]})})]}),showTitleDivider:!0,details:M})}function ye(e){var t=(0,a.default)(),n=e.action,s=e.meta,c=e.decodedTx,d=c.status,u=he(e),f=u.send,p=u.receive,m=u.isOut,h=u.asset,g=(0,l.useNetwork)({networkId:c.networkId}).network,v=m?(0,i.shortenAddress)(p):(0,i.shortenAddress)(f);return(0,x.jsx)(X.TxListActionBox,{symbol:"symbol",icon:(0,x.jsx)(fe,{asset:h}),titleInfo:d===r.IDecodedTxStatus.Offline?{titleKey:"form__partially_sign"}:null==s?void 0:s.titleInfo,content:(0,x.jsx)(pe,{direction:n.direction,title:`Inscription #${null==h?void 0:h.inscription_number}`,typography:"Body1Strong",textAlign:"right",justifyContent:"flex-end"}),subTitle:d===r.IDecodedTxStatus.Offline?(0,x.jsx)(o.default,{typography:"Body2",color:"text-warning",children:t.formatMessage({id:"form__not_broadcast"})}):v,extra:g&&h?(0,x.jsx)(X.TxListActionBoxExtraText,{children:`${new(y())(h.output_value_sat).shiftedBy(-g.decimals).toFixed()} ${g.symbol}`}):void 0})}var ve=n(920453),be=n(431440),xe="0x0000000000000000000000000000000000000000";function we(e){var t,n,o,a,i,s,l=e.action,c=e.decodedTx,d=function(e){var t=e.nftTransfer,n=e.nftTrade;return e.type===r.IDecodedTxActionType.NFT_SALE&&n?n:t}(l),u=c.owner,f=null!=(t=null==d?void 0:d.amount)?t:"0",p=null!=(n=null!=(o=null==d?void 0:d.asset.name)?o:null==d?void 0:d.asset.contractName)?n:"",m=null!=(a=null==d?void 0:d.send)?a:"",h=null!=(i=null==d?void 0:d.receive)?i:"",g=null!=(s=null==d?void 0:d.from)?s:"",y=null==d?void 0:d.asset.collection.logoUrl,v=r.IDecodedTxDirection.OTHER;m===h&&m===u&&(v=r.IDecodedTxDirection.SELF),m&&m===u&&(v=r.IDecodedTxDirection.OUT),h&&h===u&&(v=r.IDecodedTxDirection.IN),l.direction=v;var b,x=v===r.IDecodedTxDirection.OUT||v===r.IDecodedTxDirection.SELF||v===r.IDecodedTxDirection.OTHER,w=function(e){var t=e.type,n=e.send,o=e.receive,a=e.account,i=e.from;if(n===a&&o===xe||t===r.IDecodedTxActionType.NFT_BURN)return{titleKey:"form_burn_nft"};if(t===r.IDecodedTxActionType.NFT_MINT)return i.toLowerCase()!==o.toLowerCase()?{titleKey:"form_receive_airdrop_nft"}:{titleKey:"form_mint_nft"};if(t===r.IDecodedTxActionType.NFT_SALE)return{titleKey:"form_trade_nft"};if(t===r.IDecodedTxActionType.NFT_TRANSFER){if(n===a)return{titleKey:"form_send_nft"};if(o===a)return{titleKey:"form_receive_nft"}}}({type:l.type,send:m,receive:h,account:u,from:g});return y&&(b={icon:{url:y}}),{titleInfo:w,iconInfo:b,amount:f,symbol:p,displayDecimals:100,send:m,receive:h,isOut:x,action:l,asset:null==d?void 0:d.asset}}function _e(e){var t=e.decodedTx,n=e.meta,r=e.network,i=e.isShortenAddress,s=void 0!==i&&i,l=t.accountId,c=t.networkId,d=(0,a.default)(),u=we(e),f=u.symbol,p=u.send,m=u.receive,h=u.isOut,g=u.asset,y=(0,ie.useNavigation)(),v=[{title:d.formatMessage({id:"content__from"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:p,networkId:null==r?void 0:r.id,withSecurityInfo:!h,isShorten:s})},{title:d.formatMessage({id:"content__to"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:m,networkId:null==r?void 0:r.id,withSecurityInfo:h,isShorten:s})}],w=(0,x.jsx)(A.TxActionElementTitleHeading,{titleInfo:null==n?void 0:n.titleInfo}),_=(0,x.jsx)(o.default,{typography:"Body2Strong",color:"text-subdued",flexWrap:"nowrap",ellipsizeMode:"middle",numberOfLines:1,children:f});return(0,x.jsx)(R.TxDetailActionBox,{icon:g?(0,x.jsx)(be.default,{asset:g,borderRadius:"6px",size:32}):void 0,title:w,desc:_,content:(0,x.jsxs)(oe.default,{px:0,py:"12px",onPress:function(){r&&g&&y.navigate(se.RootRoutes.Modal,{screen:se.ModalRoutes.Send,params:{screen:se.SendModalRoutes.NFTDetailModal,params:{asset:g,networkId:c,accountId:l,isOwner:!1}}})},children:[(0,x.jsx)(o.default,{flex:1,numberOfLines:1,typography:"DisplayXLarge",children:f}),(0,x.jsx)(b.default,{name:"ChevronRightSolid",size:20})]}),showTitleDivider:!0,details:v})}function ke(e){var t=e.action,n=e.meta,r=we(e),o=r.amount,a=r.symbol,s=r.send,l=r.receive,c=r.isOut,d=r.asset,u=O(t.direction).color,f=(0,h.useMemo)((function(){return new(y())(o)}),[o]);return(0,x.jsx)(X.TxListActionBox,{symbol:a,icon:d?(0,x.jsx)(be.default,{asset:d,borderRadius:"6px",size:32}):void 0,titleInfo:null==n?void 0:n.titleInfo,content:(0,x.jsx)(P,{textAlign:"right",justifyContent:"flex-end",amount:f.gt(1)?o:void 0,symbol:a,color:u,direction:f.gt(1)?t.direction:void 0}),subTitle:c?(0,i.shortenAddress)(l):(0,i.shortenAddress)(s)})}function Ie(e){return _e(e)}function je(e){var t,n,r=e.action,o=e.meta,a=e.decodedTx,l=we(e),c=l.amount,d=l.symbol,u=l.send,f=l.receive,p=l.isOut,m=l.asset,g=O(r.direction).color,v=(0,h.useMemo)((function(){return new(y())(c)}),[c]),b=r.nftTrade,w=a.networkId,_=null!=(t=null==b?void 0:b.tradeSymbolAddress)?t:"",k=null!=(n=null==b?void 0:b.value)?n:"0",I=(0,ve.useSimpleTokenPriceValue)({networkId:w,contractAdress:_}),j=(0,h.useMemo)((function(){if(k&&I)return new(y())(k).multipliedBy(I)}),[I,k]);return(0,x.jsx)(X.TxListActionBox,{symbol:d,icon:m?(0,x.jsx)(be.default,{asset:m,borderRadius:"6px",size:32}):void 0,titleInfo:null==o?void 0:o.titleInfo,content:(0,x.jsx)(P,{textAlign:"right",justifyContent:"flex-end",amount:v.gt(1)?c:void 0,symbol:d,color:g,direction:v.gt(1)?r.direction:void 0}),subTitle:p?(0,i.shortenAddress)(f):(0,i.shortenAddress)(u),extra:(0,x.jsx)(X.TxListActionBoxExtraText,{children:(0,x.jsx)(s.FormatCurrencyNumber,{value:0,decimals:2,convertValue:j})})})}function Oe(e){var t,n,r=e.action;if(!r.internalStake)throw new Error("internalStake is missing in txAction");var o,a=null==(t=r.internalStake)||null==(n=t.tokenInfo)?void 0:n.logoURI;return a&&(o={icon:{url:a}}),{titleInfo:{titleKey:"action__stake"},iconInfo:o,stakeInfo:r.internalStake}}function Te(e){var t=e.meta,n=e.decodedTx,r=Oe(e).stakeInfo,o=r.tokenInfo,i=r.amount,s=r.accountAddress,l=(0,a.default)(),c=[{title:l.formatMessage({id:"content__amount"}),content:(0,x.jsx)(C,{amount:i,symbol:o.symbol,mb:4})},{title:l.formatMessage({id:"form__account"}),content:(0,x.jsx)(Y.TxActionElementAddressNormal,{address:s})}];return(0,x.jsx)(q,{decodedTx:n,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,details:c})}function Se(e){var t=e.meta,n=e.decodedTx,o=e.historyTx,a=Oe(e).stakeInfo,s=a.accountAddress,l=(0,x.jsx)(K,{decodedTx:n,historyTx:o});return(0,x.jsx)(X.TxListActionBox,{symbol:a.tokenInfo.symbol,footer:l,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,content:(0,x.jsx)(P,{textAlign:"right",amount:a.amount,symbol:a.tokenInfo.symbol,direction:r.IDecodedTxDirection.OUT}),subTitle:(0,i.shortenAddress)(s)})}var Pe=n(49198);function Ce(e){var t=e.action;if(!t.internalSwap)throw new Error("internalSwap is missing in txAction");return{titleInfo:{titleKey:"title__swap"},iconInfo:{icon:{name:"ArrowsRightLeftMini"}},swapInfo:t.internalSwap}}function Me(e){var t,n=e.meta,o=e.decodedTx,i=e.isShortenAddress,s=void 0!==i&&i,l=(0,a.default)(),c=Ce(e).swapInfo,d=c.send,u=c.receive,f=c.accountAddress,p=c.receivingAddress,m=(0,Pe.useNetwork)({networkId:d.networkId}).network,g=(0,Pe.useNetwork)({networkId:u.networkId}).network,y=(0,h.useMemo)((function(){return m&&g&&m.id!==g.id?`${l.formatMessage({id:"action__send"}).toUpperCase()}  (${m.shortName})`:l.formatMessage({id:"action__send"}).toUpperCase()}),[m,g,l]),v=(0,h.useMemo)((function(){return m&&g&&m.id!==g.id?`${l.formatMessage({id:"action__receive"}).toUpperCase()}  (${g.shortName})`:l.formatMessage({id:"action__receive"}).toUpperCase()}),[m,g,l]),b=[{title:y,content:(0,x.jsx)(C,{direction:r.IDecodedTxDirection.OUT,amount:d.amount,symbol:d.tokenInfo.symbol,mb:4})},{title:v,content:(0,x.jsx)(C,{direction:r.IDecodedTxDirection.IN,amount:u.amount,symbol:u.tokenInfo.symbol,mb:4})}];p&&f!==p?(f&&b.push({title:l.formatMessage({id:"content__from"}),content:(0,x.jsx)(Y.TxActionElementAddressNormal,{address:f,isShorten:s})}),b.push({title:l.formatMessage({id:"content__to"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:p||"",networkId:null!=(t=null==g?void 0:g.id)?t:"",withSecurityInfo:!0,isShorten:s})})):b.push({title:l.formatMessage({id:"form__account"}),content:(0,x.jsx)(Y.TxActionElementAddressNormal,{address:f})});return(0,x.jsx)(q,{decodedTx:o,iconInfo:null==n?void 0:n.iconInfo,titleInfo:null==n?void 0:n.titleInfo,details:b})}function Ae(e){var t=e.meta,n=e.decodedTx,o=e.historyTx,a=Ce(e).swapInfo,s=a.accountAddress,l=(0,Pe.useNetwork)({networkId:n.networkId}).network,c=(0,x.jsx)(K,{decodedTx:n,historyTx:o});return(0,x.jsx)(X.TxListActionBox,{footer:c,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,symbol:a.send.tokenInfo.symbol,content:(0,x.jsx)(P,{textAlign:"right",amount:a.send.amount,symbol:a.send.tokenInfo.symbol,direction:r.IDecodedTxDirection.OUT}),subTitle:(0,i.shortenAddress)(s),extra:(0,x.jsx)(S,{textAlign:"right",amount:a.receive.amount,symbol:a.receive.tokenInfo.symbol,direction:r.IDecodedTxDirection.IN,decimals:null==l?void 0:l.tokenDisplayDecimals})})}var Ee=n(10918);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){var t,n,r,o,a,i,s=e.action.tokenActivate,l=null!=(t=null==s?void 0:s.tokenAddress)?t:"",c=null!=(n=null==s?void 0:s.symbol)?n:"",d=null!=(r=null==s?void 0:s.name)?r:"",u=null!=(o=null==s?void 0:s.decimals)?o:0,f=null!=(a=null==s?void 0:s.logoURI)?a:"";return f&&(i={icon:{url:f}}),{displayDecimals:u,tokenAddress:l,symbol:c,name:d,titleInfo:{titleKey:"title__add_token"},iconInfo:i}}function Le(e){var t=e.meta,n=e.decodedTx,r=Ne(e),o=r.name,i=r.tokenAddress,s=(0,a.default)(),l=[{title:s.formatMessage({id:"form__token_symbol"}),content:(0,x.jsx)(Ee.default.Body1Strong,{children:o})},{title:s.formatMessage({id:"transaction__contract_address"}),content:(0,x.jsx)(Ee.default.Body1Strong,{children:i})}];return(0,x.jsx)(q,{decodedTx:n,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,details:l})}function Be(e){var t=e.meta,n=e.decodedTx,r=e.historyTx,o=(0,a.default)(),i=Ne(De(De({},e),{},{intl:o})).name,s=(0,x.jsx)(K,{decodedTx:n,historyTx:r});return(0,x.jsx)(X.TxListActionBox,{footer:s,iconInfo:null==t?void 0:t.iconInfo,titleInfo:null==t?void 0:t.titleInfo,subTitle:i})}var Fe=n(530483),Ue=n(6190);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e){var t,n,r,o,a=e.action,i=e.intl,s=e.network,l=a.tokenApprove,c=(null==l?void 0:l.spender)||"",d=null!=l&&l.isMax?i.formatMessage({id:"form__unlimited"}):null!=(t=null==l?void 0:l.amount)?t:"0",u=null!=(n=null==l?void 0:l.tokenInfo.symbol)?n:"",f=null==s?void 0:s.tokenDisplayDecimals,p=null==(r=a.tokenApprove)?void 0:r.tokenInfo.logoURI;return p&&(o={icon:{url:p}}),{displayDecimals:f,amount:d,symbol:u,spender:c,titleInfo:{titleKey:"title__approve"},iconInfo:o}}function ze(e){var t,n,r,o,i=e.action,s=e.decodedTx,l=e.meta,c=e.network,d=e.isShortenAddress,u=void 0!==d&&d,f=s.accountId,p=s.networkId,m=(0,ie.useNavigation)(),h=(0,a.default)(),g=Ve(We(We({},e),{},{intl:h})),y=g.amount,v=g.symbol,b=(0,E.useTxDetailContext)(),w=null==b||null==(t=b.context)?void 0:t.isSendConfirm,_=null==b||null==(n=b.context)?void 0:n.isCollapse,k=null==b||null==(r=b.context)?void 0:r.sendConfirmParamsParsed,I=null==k?void 0:k.sourceInfo,j=i.tokenApprove,O=(0,x.jsx)(P,{testID:"TxActionTokenApprove-AllowanceAmount",amount:y,symbol:v,onPress:w&&!_?function(){var e,t,n=Fe.SendModalRoutes.TokenApproveAmountEdit;if(null!=k&&k.routeParams){var r={accountId:f,networkId:p,sendConfirmParams:null==k?void 0:k.routeParams,tokenApproveAmount:null!=(e=null==j?void 0:j.amount)?e:"0",isMaxAmount:null==(t=null==j?void 0:j.isMax)||t,sourceInfo:I,encodedTx:s.encodedTx,decodedTx:s};return Ue.IS_REPLACE_ROUTE_TO_FEE_EDIT?m.replace(n,r):m.navigate(n,r)}}:void 0,subText:null!=j&&j.isMax?(0,x.jsx)(Ee.default.Body2Strong,{color:"text-warning",mt:"1",children:h.formatMessage({id:"content__unlimited_authorization_puts_all_approved_tokens_at_risk"})}):void 0}),T=(0,x.jsx)(S,{amount:y,symbol:v,color:"text-subdued",typography:"Body2Strong"}),C=[{title:h.formatMessage({id:"content__spend_limit_amount"}),content:O},{title:h.formatMessage({id:"content__token_approve_owner"}),content:(0,x.jsx)(Y.TxActionElementAddressNormal,{address:null!=(o=null==j?void 0:j.owner)?o:"",isShorten:u})},{title:h.formatMessage({id:"content__token_approve_spender"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:(null==j?void 0:j.spender)||"",networkId:null==c?void 0:c.id,withSecurityInfo:!0,isShorten:u})}].filter(Boolean);return(0,x.jsx)(q,{decodedTx:s,iconInfo:null==l?void 0:l.iconInfo,titleInfo:null==l?void 0:l.titleInfo,desc:T,details:C})}function Ke(e){var t=e.meta,n=e.decodedTx,r=e.historyTx,o=(0,a.default)(),l=Ve(We(We({},e),{},{intl:o})),c=l.amount,d=l.symbol,u=l.spender,f=l.displayDecimals,p=(0,x.jsx)(K,{decodedTx:n,historyTx:r}),g=(0,h.useMemo)((function(){var e,t=new(y())(c);return t&&c?m()(f)||t.isNaN()?c:(null==(e=(0,s.formatBalanceDisplay)(c,"",{fixed:f}))?void 0:e.amount)||c:""}),[c,f]);return(0,x.jsx)(X.TxListActionBox,{symbol:d,footer:p,iconInfo:null==t?void 0:t.iconInfo,titleInfo:{title:o.formatMessage({id:"form__approve_str"},{0:`${g} ${d}`})},subTitle:(0,i.shortenAddress)(u)})}function Ge(e){var t,n=e.decodedTx,r=e.action,o=e.meta,i=e.network,s=e.isShortenAddress,l=void 0!==s&&s,c=n.encodedTx||r.evmInfo,d=(0,a.default)(),u=[null!=c&&c.from?{title:d.formatMessage({id:"content__from"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:c.from||"",networkId:null==i?void 0:i.id,withSecurityInfo:!1,isShorten:l})}:null,null!=c&&c.to?{title:d.formatMessage({id:"content__to"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:c.to||"",networkId:null==i?void 0:i.id,withSecurityInfo:!0,isShorten:l})}:null,null!=c&&c.data?{title:d.formatMessage({id:"form__data"}),content:(0,x.jsx)(Y.TxActionElementAddressNormal,{address:null!=(t=c.data)?t:"",numberOfLines:1,isShorten:!1,flex:1,isCopy:!1})}:null];return(0,x.jsx)(q,{decodedTx:n,iconInfo:null==o?void 0:o.iconInfo,titleInfo:null==o?void 0:o.titleInfo,details:u})}function $e(e){var t,n=e.decodedTx,r=e.meta,o=e.historyTx,a=(0,x.jsx)(K,{decodedTx:n,historyTx:o});return(0,x.jsx)(X.TxListActionBox,{footer:a,iconInfo:null==r?void 0:r.iconInfo,titleInfo:null==r?void 0:r.titleInfo,subTitle:(0,i.shortenAddress)(null!=(t=null==n?void 0:n.txid)?t:""),content:"",extra:""})}var Ze=n(254595),qe=n(613549);function Xe(e,t){return!(0,qe.isLightningNetworkByImpl)(t)||(0,Ze.isLightningAddress)(null!=e?e:"")}function Ye(e){var t,n,o,a,i,s,l,c,d,u,f,p,m,h,g,y,v,b,x,w,_,k,I=e.action,j=e.meta,O=e.network,T="0",S="",P="",C="",M=!1,A=!0,E=!0,R=!0,D=!0;I.type===r.IDecodedTxActionType.NATIVE_TRANSFER&&(T=null!=(i=null!=(s=null==j?void 0:j.transferAmount)?s:null==(l=I.nativeTransfer)?void 0:l.amount)?i:"0",S=null!=(c=null==(d=I.nativeTransfer)?void 0:d.tokenInfo.symbol)?c:"",P=null!=(u=null==(f=I.nativeTransfer)?void 0:f.from)?u:"",C=null!=(p=null==(m=I.nativeTransfer)?void 0:m.to)?p:"",M=!(null==(h=I.nativeTransfer)||!h.isInscribeTransfer),a=null==O?void 0:O.nativeDisplayDecimals,A=Boolean(!(null!=O&&O.settings.hideFromToFieldIfValueEmpty&&(!P||!P.length))),R=Boolean(!(null!=O&&O.settings.hideFromToFieldIfValueEmpty&&(!C||!C.length))),E=Xe(P,null==O?void 0:O.impl),D=Xe(C,null==O?void 0:O.impl));I.type===r.IDecodedTxActionType.TOKEN_TRANSFER&&(T=null!=(g=null==(y=I.tokenTransfer)?void 0:y.amount)?g:"0",S=null!=(v=null==(b=I.tokenTransfer)?void 0:b.tokenInfo.symbol)?v:"",P=null!=(x=null==(w=I.tokenTransfer)?void 0:w.from)?x:"",C=null!=(_=null==(k=I.tokenTransfer)?void 0:k.to)?_:"",a=null==O?void 0:O.tokenDisplayDecimals);var N,L=I.direction===r.IDecodedTxDirection.OUT||I.direction===r.IDecodedTxDirection.SELF||I.direction===r.IDecodedTxDirection.OTHER,B={titleKey:L?"action__send":"action__receive"},F=null!=(t=null==(n=I.nativeTransfer)?void 0:n.tokenInfo.logoURI)?t:null==(o=I.tokenTransfer)?void 0:o.tokenInfo.logoURI;return F&&(N={icon:{url:F}}),{titleInfo:B,iconInfo:N,amount:T,symbol:S,displayDecimals:a,from:P,to:C,isOut:L,displayFromLabel:A,displayFromAddress:E,displayToLabel:R,displayToAddress:D,isInscribeTransfer:M}}function Qe(e){var t=(0,a.default)(),n=e.action,r=e.meta,o=e.decodedTx,i=e.network,s=e.isShortenAddress,c=void 0!==s&&s,d=Ye(e),u=d.amount,f=d.symbol,p=d.from,m=d.to,g=d.isOut,y=d.displayFromLabel,v=d.displayFromAddress,b=d.displayToLabel,w=d.displayToAddress,_=d.isInscribeTransfer,k=o.accountId,I=o.networkId,j=(0,l.useAccount)({accountId:k,networkId:I}).account,O=(0,h.useMemo)((function(){return!(0,qe.isLightningNetworkByImpl)(null==i?void 0:i.impl)}),[i]),T=[y?{title:t.formatMessage({id:"content__from"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:p,networkId:null==i?void 0:i.id,withSecurityInfo:!g,amount:u,isCopy:"unknown"!==p&&O,isShorten:c,displayAddress:v,isInscribeTransfer:_&&(null==j?void 0:j.address)!==p})}:null,b?{title:t.formatMessage({id:"content__to"}),content:(0,Y.getTxActionElementAddressWithSecurityInfo)({address:m,networkId:null==i?void 0:i.id,withSecurityInfo:g,amount:u,isCopy:"unknown"!==m&&O,isShorten:c,displayAddress:w,isInscribeTransfer:_&&(null==j?void 0:j.address)!==m})}:null];return(0,x.jsx)(q,{decodedTx:o,iconInfo:null==r?void 0:r.iconInfo,titleInfo:null==r?void 0:r.titleInfo,amountInfo:{direction:n.direction,amount:u,symbol:f},details:T})}function Je(e){var t,n,o,l=(0,a.default)(),c=e.action,d=e.meta,u=e.decodedTx,f=e.historyTx,p=e.network,m=u.accountId,h=u.networkId,g=u.status,y=Ye(e),v=y.amount,b=y.symbol,w=y.from,_=y.to,k=y.isOut,I=y.displayDecimals,j=(0,x.jsx)(K,{decodedTx:u,historyTx:f}),O=k?_:w,T="unknown"===O?l.formatMessage({id:"form__unknown"}):(0,i.shortenAddress)(O);return g===r.IDecodedTxStatus.Offline?null:(0,x.jsx)(X.TxListActionBox,{network:p,footer:j,symbol:b,iconInfo:null==d?void 0:d.iconInfo,titleInfo:null==d?void 0:d.titleInfo,content:(0,x.jsx)(P,{textAlign:"right",justifyContent:"flex-end",amount:v,symbol:b,decimals:I,direction:c.direction}),subTitle:T,extra:(0,x.jsx)(s.FormatCurrencyTokenOfAccount,{accountId:m,networkId:h,token:null!=(t=null==(n=c.nativeTransfer)?void 0:n.tokenInfo)?t:null==(o=c.tokenTransfer)?void 0:o.tokenInfo,value:v,render:function(e){return(0,x.jsx)(X.TxListActionBoxExtraText,{children:e})}})})}var et="ClipboardListOutline";function tt(e){var t=e.action,n={titleKey:"transaction__contract_interaction"},o={icon:{name:et}},a={T0:$e,T1:Ge,T2:Ge};if(t.type===r.IDecodedTxActionType.NATIVE_TRANSFER||t.type===r.IDecodedTxActionType.TOKEN_TRANSFER){var i=Ye(e);n=i.titleInfo,o=i.iconInfo,a={T0:Je,T1:Qe,T2:Qe}}if(t.type===r.IDecodedTxActionType.TOKEN_APPROVE){var s=Ve(e);n=s.titleInfo,o=s.iconInfo,a={T0:Ke,T1:ze,T2:ze}}if(t.type===r.IDecodedTxActionType.TOKEN_ACTIVATE){var l=Ne(e);n=l.titleInfo,o=l.iconInfo,a={T0:Be,T1:Le,T2:Le}}if(t.type===r.IDecodedTxActionType.INTERNAL_SWAP){var c=Ce(e);n=c.titleInfo,o=c.iconInfo,a={T0:Ae,T1:Me,T2:Me}}if(t.type===r.IDecodedTxActionType.INTERNAL_STAKE){var d=Oe(e);n=d.titleInfo,o=d.iconInfo,a={T0:Se,T1:Te,T2:Te}}if(t.type===r.IDecodedTxActionType.NFT_TRANSFER||t.type===r.IDecodedTxActionType.NFT_MINT||t.type===r.IDecodedTxActionType.NFT_BURN){var u=we(e);n=u.titleInfo,o=u.iconInfo,a={T0:ke,T1:_e,T2:_e}}if(t.type===r.IDecodedTxActionType.NFT_SALE){var f=we(e);n=f.titleInfo,o=f.iconInfo,a={T0:je,T1:Ie,T2:Ie}}t.type===r.IDecodedTxActionType.FUNCTION_CALL&&(n=te(e).titleInfo,a={T0:re,T1:ne,T2:ne});t.type!==r.IDecodedTxActionType.NFT_TRANSFER_BTC&&t.type!==r.IDecodedTxActionType.NFT_INSCRIPTION||(n=he(e).titleInfo,a={T0:ye,T1:ge,T2:ge});if(t.type===r.IDecodedTxActionType.TOKEN_BRC20_DEPLOY||t.type===r.IDecodedTxActionType.TOKEN_BRC20_MINT||t.type===r.IDecodedTxActionType.TOKEN_BRC20_TRANSFER||t.type===r.IDecodedTxActionType.TOKEN_BRC20_INSCRIBE){var p=Q(e);n=p.titleInfo,o=p.iconInfo,a={T0:J,T1:ee,T2:ee}}return{meta:{titleInfo:n,iconInfo:o},props:e,components:a}}},89382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fallbackTextComponent:()=>s,getDisplayedActions:()=>c,getTxStatusInfo:()=>l});var r=n(785505),o=n.n(r),a=n(398514),i=n(552322);function s(e,t){if(e)return o()(e)?(0,i.jsx)(t,{children:e}):e}function l(e){var t="transaction__failed",n="text-critical",r="TxStatusFailureCircleIllus",o="icon-critical",i="surface-critical-default";switch(e.decodedTx.status){case a.IDecodedTxStatus.Pending:t="transaction__pending",r="TxStatusWarningCircleIllus",o="icon-warning",n="text-warning",i="surface-warning-default";break;case a.IDecodedTxStatus.Confirmed:t="transaction__success",r="TxStatusSuccessCircleIllus",o="icon-success",n="text-success",i="surface-success-default";break;case a.IDecodedTxStatus.Dropped:t="transaction__dropped";break;case a.IDecodedTxStatus.Offline:t="form__not_broadcast",n="text-warning"}return{text:t,textColor:n,iconName:r,iconColor:o,iconContainerColor:i}}function c(e){var t=e.decodedTx,n=t.outputActions,r=t.actions;return(n&&n.length?n:r)||[]}},170613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FullTokenAssetsList:()=>et,HandleRebuildAssetsListData:()=>Qe,HandleRefreshAssetsListData:()=>Xe,HomeTokenAssetsList:()=>Je,useAssetsListDataFromRedux:()=>Ye});var r=n(256666),o=n(301842),a=n.n(o),i=n(818149),s=n.n(i),l=n(196234),c=n(202784),d=n(849877),u=n(481047),f=n(340576),p=n(945821),m=n(859071),h=n(929483),g=n(759275),y=n(336782),v=n(785192),b=n(25655),x=n(817620),w=n.n(x),_=n(785505),k=n.n(_),I=n(539144),j=n(472719),O=n(156236),T=n(714950),S=n(670165),P=n(135463),C=n(18861),M=n(10918),A=n(206391),E=n.n(A),R=n(783112),D=n(506885),N=n(219932),L=n(238902),B=n(281577),F=n(552322),U=(0,c.memo)((function(){var e=(0,R.default)();return(0,F.jsxs)(C.default,{flexDirection:"row",w:"full",children:[(0,F.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,children:e.formatMessage({id:"title__assets"})}),(0,F.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"content__price_uppercase"})}),(0,F.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"form__value"})})]})}));U.displayName="OverviewTokenListColumns";var H=function(e){var t,n,r,o=e.showTokenCount,a=e.showRoundTop,i=e.borderColor,s=void 0===i?"border-subdued":i,l=e.tokenEnabled,f=(0,m.useActiveWalletAccount)(),p=f.account,h=f.network,g=f.networkId,y=f.accountId,v=(0,m.useNavigation)(),b=(0,R.default)(),x=(0,m.useAppSelector)((function(e){var t,n;return null==(t=e.overview.overviewStats)||null==(n=t[g])?void 0:n[y]})),w=null==x||null==(t=x.tokens)?void 0:t.totalValue,_=(0,c.useMemo)((function(){var e,t;return new(E())(null!=(e=null==x||null==(t=x.summary)?void 0:t.shareTokens)?e:0).times(100)}),[null==x||null==(n=x.summary)?void 0:n.shareTokens]),k=(0,c.useMemo)((function(){var e,t,n,r,a,i="";o?(e="ChevronRightMini",i=null!=(n=null==x||null==(r=x.tokens)||null==(a=r.totalCounts)?void 0:a.toString())?n:"0"):l&&!(0,d.isAllNetworks)(g)&&(e="PlusMini",t=function(){return v.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.ManageToken,params:{screen:u.ManageTokenModalRoutes.Listing}})});return{extraIcon:e,extraLabel:i,onExtraPress:t}}),[v,g,o,null==x||null==(r=x.tokens)?void 0:r.totalCounts,l]),I=(0,c.useMemo)((function(){return o?function(){v.navigate(u.HomeRoutes.FullTokenListScreen,{accountId:null==p?void 0:p.id,networkId:null==h?void 0:h.id})}:void 0}),[null==p?void 0:p.id,v,null==h?void 0:h.id,o]);return(0,F.jsx)(B.HomeTabAssetsHeader,{icon:"DatabaseOutline",title:b.formatMessage({id:"asset__tokens"}),usdFiatValue:w,shareRate:_,extraIcon:k.extraIcon,extraLabel:k.extraLabel,onExtraPress:k.onExtraPress,showRoundTop:a,borderColor:s,onPress:I,columns:(0,F.jsx)(U,{})})};function W(e){var t=e.networkId,n=e.accountId,r=e.tokenEnabled,o=(0,R.default)(),a=(0,m.useNavigation)(),i=(0,m.useOverviewLoading)({networkId:t,accountId:n}),s=(0,c.useCallback)((function(){p.default.serviceOverview.refreshCurrentAccount({debounceEnabled:!1})}),[]),l=(0,c.useCallback)((function(){return(0,N.showHomeBalanceSettings)({networkId:t})}),[t]),f=(0,c.useCallback)((function(){a.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.ManageToken,params:{screen:u.ManageTokenModalRoutes.Listing}})}),[a]);return(0,F.jsx)(L.HomeTabActionHeader,{title:o.formatMessage({id:"title__assets"}),loading:i,onClickRefresh:s,onClickAdd:(0,d.isAllNetworks)(t)||!r?void 0:f,onClickSettings:l})}var V=function(e){var t,n=e.showInnerHeader,r=e.showTokenCount,o=e.showOuterHeader,a=e.showInnerHeaderRoundTop,i=e.innerHeaderBorderColor,s=(0,m.useActiveWalletAccount)(),l=s.network,d=s.wallet,u=s.accountId,f=s.networkId,p=null!=(t=null==l?void 0:l.settings)?t:{tokenEnabled:!1,activateTokenRequired:!1},h=p.tokenEnabled,g=p.activateTokenRequired,y=(0,c.useMemo)((function(){return((null==d?void 0:d.type)!==D.WALLET_TYPE_WATCHING||!g)&&h}),[g,h,null==d?void 0:d.type]);return(0,F.jsxs)(F.Fragment,{children:[o?(0,F.jsx)(W,{accountId:u,networkId:f,tokenEnabled:y}):null,n&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(H,{borderColor:i,showRoundTop:a,showTokenCount:r,tokenEnabled:y}),(0,F.jsx)(v.default,{})]})]})};V.displayName="AssetsListHeader";const z=(0,c.memo)(V);var K=n(795116),G=n(321668),$=n(435581),Z=n(510374),q=n(163142),X=n(671029),Y=n(744128),Q=n(849423),J=(0,Q.atom)({tokens:[],tokensTotal:0,tokensTotalValue:void 0,tokensTotalValue24h:void 0}),ee=(0,Q.atom)(!1),te=(0,Q.createJotaiContext)(),ne=te.withProvider,re=te.useContextAtom,oe=n(759900),ae=function(e){var t=e.borderBottomRadius,n=void 0===t?0:t,r=e.borderTopRadius,o=void 0===r?0:r,a=(0,I.default)();return(0,F.jsxs)(C.default,{p:4,bg:"surface-default",shadow:void 0,borderWidth:1,borderColor:"border-subdued",borderTopWidth:1,borderBottomWidth:1,borderBottomRadius:n,borderTopRadius:o,w:"100%",flexDirection:"row",alignItems:"center",children:[(0,F.jsx)(oe.default,{shape:"Avatar"}),(0,F.jsxs)(C.default,{ml:"12px",flexDirection:"column",flex:1,children:[(0,F.jsx)(C.default,{flexDirection:"row",alignItems:"center",children:(0,F.jsx)(oe.default,{shape:"Body1"})}),(0,F.jsx)(oe.default,{shape:"Body2"})]}),!a&&(0,F.jsx)(C.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:(0,F.jsx)(oe.default,{shape:"Body2"})}),(0,F.jsx)(C.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(oe.default,{shape:"Body1"}),(0,F.jsx)(oe.default,{shape:"Body2"})]})})]})},ie=function(){var e=(0,R.default)(),t=(0,I.default)(),n=t?"24px":"32px",r=t?12:16,o=t?"12px":"16px";return(0,F.jsxs)(C.default,{p:4,shadow:void 0,borderWidth:1,borderBottomWidth:0,borderColor:"border-subdued",borderTopRadius:12,flexDirection:"column",children:[(0,F.jsxs)(C.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,F.jsx)(C.default,{w:n,h:n,borderRadius:o,bg:"decorative-icon-one",justifyContent:"center",alignItems:"center",mr:t?"8px":"12px",children:(0,F.jsx)($.default,{size:r,color:"icon-on-primary",name:"DatabaseOutline"})}),t?(0,F.jsx)(oe.default,{shape:"Body1"}):(0,F.jsx)(oe.default,{shape:"DisplayLarge"}),(0,F.jsx)(C.default,{ml:"auto",flexDirection:"row",alignItems:"center",children:(0,F.jsx)(oe.default,{shape:"Body1"})})]}),(0,F.jsx)(C.default,{mt:t?"8px":"16px",children:t?(0,F.jsx)(oe.default,{shape:"DisplayLarge"}):(0,F.jsxs)(C.default,{flexDirection:"row",w:"full",children:[(0,F.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,children:e.formatMessage({id:"title__assets"})}),(0,F.jsx)(M.default.Subheading,{ml:"44px",color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"content__price_uppercase"})}),(0,F.jsx)(M.default.Subheading,{color:"text-subdued",flex:1,textAlign:"right",children:e.formatMessage({id:"form__value"})})]})})]})},se=function(e){var t=e.showSkeletonHeader,n=void 0===t||t;return(0,F.jsxs)(C.default,{style:{maxWidth:S.MAX_PAGE_CONTAINER_WIDTH,width:"100%",marginHorizontal:"auto"},children:[n?(0,F.jsx)(ie,{}):null,(0,F.jsx)(ae,{borderTopRadius:n?0:12}),(0,F.jsx)(ae,{}),(0,F.jsx)(ae,{borderBottomRadius:12})]})};se.displayName="AssetsListSkeleton";const le=(0,c.memo)(se);var ce=n(297263),de=n(968594);function ue(){var e=(0,ce.default)(["surface-default","decorative-icon-three","surface-neutral-default","divider","decorative-icon-two","decorative-icon-one"]),t=(0,l.default)(e,6),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],s=t[5];return(0,F.jsxs)(de.default,{width:"260",height:"135",viewBox:"0 0 260 135",fill:"none",children:[(0,F.jsxs)(de.G,{opacity:"0.1",children:[(0,F.jsx)(de.Rect,{x:"30.4615",y:"0.461538",width:"199.077",height:"60",rx:"10.6154",fill:n}),(0,F.jsx)(de.G,{clipPath:"url(#clip0_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"41.0767",y:"15.6895",width:"29.5385",height:"29.5385",rx:"14.7692",fill:r})}),(0,F.jsx)(de.G,{clipPath:"url(#clip1_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"81.6924",y:"16.7617",width:"69.2308",height:"11.0769",rx:"1.84615",fill:o})}),(0,F.jsx)(de.G,{clipPath:"url(#clip2_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"81.6924",y:"37.9902",width:"108",height:"9.23077",rx:"1.84615",fill:o})}),(0,F.jsx)(de.Rect,{x:"30.4615",y:"0.461538",width:"199.077",height:"60",rx:"10.6154",stroke:a,strokeWidth:"0.923077"})]}),(0,F.jsxs)(de.G,{opacity:"0.7",children:[(0,F.jsx)(de.Rect,{x:"20.4231",y:"30.4231",width:"219.154",height:"55",rx:"9.73077",fill:n}),(0,F.jsx)(de.G,{clipPath:"url(#clip3_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"30.1533",y:"44.3867",width:"27.0769",height:"27.0769",rx:"13.5385",fill:i})}),(0,F.jsx)(de.G,{clipPath:"url(#clip4_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"67.3843",y:"45.3604",width:"63.4615",height:"10.1538",rx:"1.69231",fill:o})}),(0,F.jsx)(de.G,{clipPath:"url(#clip5_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"67.3843",y:"64.8242",width:"99",height:"8.46154",rx:"1.69231",fill:o})}),(0,F.jsx)(de.Rect,{x:"20.4231",y:"30.4231",width:"219.154",height:"55",rx:"9.73077",stroke:a,strokeWidth:"0.846154"})]}),(0,F.jsx)(de.Rect,{x:"0.5",y:"69.5",width:"259",height:"65",rx:"11.5",fill:n}),(0,F.jsx)(de.G,{clipPath:"url(#clip6_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"12",y:"86",width:"32",height:"32",rx:"16",fill:s})}),(0,F.jsx)(de.G,{clipPath:"url(#clip7_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"56",y:"87.1543",width:"75",height:"12",rx:"2",fill:o})}),(0,F.jsx)(de.G,{clipPath:"url(#clip8_24966_155338)",children:(0,F.jsx)(de.Rect,{x:"56",y:"110.154",width:"117",height:"10",rx:"2",fill:o})}),(0,F.jsx)(de.Rect,{x:"0.5",y:"69.5",width:"259",height:"65",rx:"11.5",stroke:a}),(0,F.jsxs)(de.Defs,{children:[(0,F.jsx)(de.ClipPath,{id:"clip0_24966_155338",children:(0,F.jsx)(de.Rect,{x:"41.0767",y:"15.6895",width:"29.5385",height:"29.5385",rx:"14.7692",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip1_24966_155338",children:(0,F.jsx)(de.Rect,{x:"81.6924",y:"16.7617",width:"69.2308",height:"11.0769",rx:"1.84615",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip2_24966_155338",children:(0,F.jsx)(de.Rect,{x:"81.6924",y:"37.9902",width:"108",height:"9.23077",rx:"1.84615",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip3_24966_155338",children:(0,F.jsx)(de.Rect,{x:"30.1533",y:"44.3867",width:"27.0769",height:"27.0769",rx:"13.5385",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip4_24966_155338",children:(0,F.jsx)(de.Rect,{x:"67.3843",y:"45.3604",width:"63.4615",height:"10.1538",rx:"1.69231",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip5_24966_155338",children:(0,F.jsx)(de.Rect,{x:"67.3843",y:"64.8242",width:"99",height:"8.46154",rx:"1.69231",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip6_24966_155338",children:(0,F.jsx)(de.Rect,{x:"12",y:"86",width:"32",height:"32",rx:"16",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip7_24966_155338",children:(0,F.jsx)(de.Rect,{x:"56",y:"87.1543",width:"75",height:"12",rx:"2",fill:"white"})}),(0,F.jsx)(de.ClipPath,{id:"clip8_24966_155338",children:(0,F.jsx)(de.Rect,{x:"56",y:"110.154",width:"117",height:"10",rx:"2",fill:"white"})})]})]})}var fe=function(){var e=(0,R.default)(),t=(0,m.useNavigationActions)().openAccountSelector;return(0,F.jsx)(Z.default,{emoji:"\ud83e\udd7a",title:e.formatMessage({id:"empty__no_included_network"}),subTitle:e.formatMessage({id:"empty__no_included_network_desc"}),actionTitle:e.formatMessage({id:"action__switch_account"}),handleAction:function(){t({})},mt:8})};function pe(e){var t,n,r=e.network,o=e.accountId,a=(0,R.default)(),i=(0,m.useNavigation)(),s=(0,Y.useActionForAllNetworks)({accountId:o,networkId:null!=(t=null==r?void 0:r.id)?t:"",action:(0,c.useCallback)((function(e){var t=e.network,n=e.account;i.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.FiatPay,params:{screen:u.FiatPayModalRoutes.SupportTokenListModal,params:{networkId:t.id,accountId:n.id}}})}),[i]),filter:function(e){return!!e.network&&!!e.account}}),l=s.visible,f=s.process;return(0,F.jsxs)(C.default,{flexDirection:"row",justifyContent:"space-between",children:[l?(0,F.jsx)(G.default,{flex:1,alignItems:"flex-start",onPress:f,children:(0,F.jsxs)(C.default,{py:"24px",flexDirection:"column",alignItems:"center",children:[(0,F.jsx)(C.default,{w:"48px",h:"48px",borderRadius:"24px",bg:"surface-neutral-default",mb:"24px",overflow:"hidden",children:(0,F.jsx)(q.LinearGradient,{colors:["#64D36F","#33C641"],style:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},start:{x:0,y:0},end:{x:1,y:1},children:(0,F.jsx)($.default,{name:"PlusOutline",color:"icon-on-primary"})})}),(0,F.jsx)(M.default.DisplayMedium,{mb:"4px",textAlign:"center",children:a.formatMessage({id:"action__buy_crypto"})}),(0,F.jsx)(M.default.Body2,{mb:"4px",color:"text-subdued",textAlign:"center",children:a.formatMessage({id:"action__buy_crypto_desc"})})]})}):null,null!=r&&null!=(n=r.settings)&&n.tokenEnabled&&!(0,d.isAllNetworks)(null==r?void 0:r.id)?(0,F.jsx)(G.default,{ml:"16px",flex:1,alignItems:"flex-start",onPress:function(){i.navigate(u.RootRoutes.Modal,{screen:u.ModalRoutes.ManageToken,params:{screen:u.ManageTokenModalRoutes.Listing}})},children:(0,F.jsxs)(C.default,{py:"24px",flexDirection:"column",alignItems:"center",children:[(0,F.jsx)(K.default,{w:"48px",h:"48px",borderRadius:"24px",bg:"surface-neutral-default",mb:"24px",children:(0,F.jsx)($.default,{name:"ViewGridAddMini"})}),(0,F.jsx)(M.default.DisplayMedium,{mb:"4px",textAlign:"center",children:a.formatMessage({id:"action__add_tokens"})}),(0,F.jsx)(M.default.Body2,{mb:"4px",color:"text-subdued",textAlign:"center",children:a.formatMessage({id:"action__add_tokens_desc"})})]})}):null]})}var me=(0,c.memo)((function(e){var t=e.networkId,n=e.accountId,r=e.showSkeletonHeader,o=(0,R.default)(),a=(0,m.useOverviewLoading)({networkId:t,accountId:n}),i=re(ee),s=(0,l.default)(i,1)[0],c=(0,m.useOverviewPendingTasks)({networkId:null!=t?t:"",accountId:null!=n?n:""}),u=(0,m.useNetwork)({networkId:t}).network;return a||s?!(0,d.isAllNetworks)(null==u?void 0:u.id)||null!=c&&c.updatedAt?(0,F.jsx)(le,{showSkeletonHeader:r}):(0,F.jsx)(C.default,{alignItems:"center",mt:"8",children:(0,F.jsx)(Z.default,{w:"260px",icon:(0,F.jsx)(C.default,{mb:"6",children:(0,F.jsx)(ue,{})}),title:o.formatMessage({id:"empty__creating_data"}),subTitle:o.formatMessage({id:"empty__creating_data_desc"})})}):(0,d.isAllNetworks)(null==u?void 0:u.id)?(0,F.jsx)(fe,{}):(0,F.jsx)(X.LazyDisplayView,{delay:0,defaultView:(0,F.jsx)(le,{showSkeletonHeader:r}),children:(0,F.jsx)(pe,{network:u,accountId:n})})})),he=n(561220),ge=n(737790),ye=n(459740),ve=n(361301),be=n(634795),xe=n(963958),we=n(447325),_e=n(313503),ke=n(534159),Ie=n(439174),je=n(90184),Oe=n(840248),Te=["priceView","balanceView","valueView","hidePriceInfo","borderTopRadius","borderRadius","borderBottomWidth","borderTopWidth","onPress","borderColor","bg"],Se=["hidePriceInfo","borderTopRadius","borderRadius","borderBottomWidth","borderTopWidth","onPress","deepRefreshMode","showTokenBalanceDetail"],Pe=["tokenKey"];function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){var t=e.price;return t===je.CValueLoading?(0,F.jsx)(oe.default,{shape:"Body2"}):(0,F.jsx)(M.default.Body2Strong,{children:(0,F.jsx)(ke.FormatCurrencyNumber,{value:0,convertValue:+(t||0)})})}var Ee=(0,c.memo)(Ae);function Re(e){var t=e.token,n=(0,m.useReduxSingleTokenPriceSimple)({token:t}).price;return(0,F.jsx)(Ee,{price:n})}function De(e){var t=e.token,n=e.balance,r=e.availableBalance,o=e.transferBalance,a=e.showTokenBalanceDetail,i=(0,R.default)(),s=t.networkId,d=t.accountId,u=t.symbol,f=(0,m.useActiveSideAccount)({accountId:d,networkId:s}),h=f.network,g=f.account,y=(0,c.useState)("0"),v=(0,l.default)(y,2),b=v[0],x=v[1],w=(null==t?void 0:t.address)||"main",_=(0,c.useMemo)((function(){return(0,_e.isBRC20Token)(w)}),[w]),k=(0,c.useMemo)((function(){return"main"===w?null==h?void 0:h.nativeDisplayDecimals:null==h?void 0:h.tokenDisplayDecimals}),[w,null==h?void 0:h.nativeDisplayDecimals,null==h?void 0:h.tokenDisplayDecimals]),I=(0,c.useCallback)((function(e){return(0,F.jsx)(M.default.Body2,{color:"text-subdued",children:e})}),[]),j=(0,c.useCallback)((0,be.default)((function*(){if(s&&g&&t&&_){var e,n,r=yield p.default.serviceBRC20.getBRC20RecycleBalance({networkId:s,address:g.address,xpub:null!=(e=g.xpub)?e:"",tokenAddress:null!=(n=t.address)?n:""});x(r)}})),[g,_,s,x,t]);return(0,c.useEffect)((function(){j()}),[j]),(0,Ie.useOnUIEventBus)(we.AppUIEventBusNames.InscriptionRecycleChanged,j),"undefined"===typeof n?(0,F.jsx)(oe.default,{shape:"Body2"}):_&&a?(0,F.jsxs)(ve.default,{children:[(0,F.jsx)(M.default.Body2,{color:"text-subdued",children:`${i.formatMessage({id:"form__available_colon"})} ${null!=r?r:"0"}`}),(0,F.jsx)(M.default.Body2,{color:"text-subdued",children:`${i.formatMessage({id:"form__transferable_colon"})} ${E().max(new(E())(null!=o?o:"0").minus(b),"0").toFixed()}`})]}):(0,F.jsx)(ke.FormatBalance,{balance:E().max(new(E())(null!=n?n:"0").minus(b),"0").toFixed(),suffix:u,formatOptions:{fixed:null!=k?k:4},render:I})}function Ne(e){var t=e.token,n=e.showTokenBalanceDetail,r=(0,m.useReduxSingleTokenBalanceSimple)({token:t}),o=r.balance,a=r.availableBalance,i=r.transferBalance;return(0,F.jsx)(De,{balance:o,availableBalance:a,transferBalance:i,token:t,showTokenBalanceDetail:n})}function Le(e){var t=e.valuesInfo||{value:void 0,price:void 0,price24h:void 0},n=t.value,r=t.price,o=t.price24h,a=(0,c.useMemo)((function(){return(0,Oe.calculateGains)({price:r,basePrice:new(E())(null!=r?r:0).multipliedBy(1-(null!=o?o:0)/100).toNumber()})}),[r,o]),i=a.gainTextBg,s=a.percentageGain,l=a.gainTextColor;return void 0!==n?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(M.default.Body2Strong,{w:"100%",textAlign:"right",children:(0,F.jsx)(ke.FormatCurrencyNumber,{value:0,convertValue:n})}),(0,F.jsx)(C.default,{mt:"4px",bg:i,px:"6px",py:"2px",borderRadius:"6px",justifyContent:"center",alignItems:"center",children:(0,F.jsx)(M.default.CaptionStrong,{color:l,children:s})})]}):(0,F.jsx)(oe.default,{shape:"Body2"})}function Be(e){var t=e.token,n=(0,m.useReduxSingleTokenFiatValuesSimple)({token:t});return(0,F.jsx)(Le,{valuesInfo:n})}function Fe(e){var t=e.priceView,n=e.balanceView,r=e.valueView,o=e.hidePriceInfo,a=e.borderTopRadius,i=e.borderRadius,s=e.borderBottomWidth,l=e.borderTopWidth,d=e.onPress,u=e.borderColor,f=void 0===u?"border-subdued":u,p=e.bg,m=void 0===p?"surface-default":p,h=(0,ye.default)(e,Te),g=(0,I.default)(),y=(0,c.useCallback)((function(){null==d||d(h)}),[d,h]);return h?(0,F.jsxs)(he.default.Item,{p:4,bg:m,shadow:void 0,borderTopRadius:a,borderRadius:i,borderWidth:1,borderColor:f,borderLeftColor:"border-subdued",borderRightColor:"border-subdued",borderBottomColor:"border-subdued",borderTopWidth:l,borderBottomWidth:s,onPress:y,w:"100%",flexDirection:"row",alignItems:"center",children:[(0,F.jsx)(C.default,{flex:1,children:(0,F.jsx)(ge.default,{flex:"1",size:8,showInfo:!0,token:h,showExtra:!1,description:n,infoBoxProps:{flex:1}})}),!g&&!o&&(0,F.jsx)(C.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:t}),(0,F.jsx)(C.default,{flexDirection:"column",flex:1,alignItems:"flex-end",children:r})]}):null}function Ue(e){e.hidePriceInfo,e.borderTopRadius,e.borderRadius,e.borderBottomWidth,e.borderTopWidth,e.onPress;var t=e.deepRefreshMode,n=e.showTokenBalanceDetail,r=(0,ye.default)(e,Se),o=(0,c.useMemo)((function(){return t?(0,F.jsx)(Re,{token:r}):(0,F.jsx)(Ae,{price:r.price})}),[t,r]),a=(0,c.useMemo)((function(){return t?(0,F.jsx)(Be,{token:r}):(0,F.jsx)(Le,{valuesInfo:r})}),[t,r]),i=(0,c.useMemo)((function(){return t?(0,F.jsx)(Ne,{token:r,showTokenBalanceDetail:n}):(0,F.jsx)(De,{balance:r.balance,availableBalance:r.availableBalance,transferBalance:r.transferBalance,token:r,showTokenBalanceDetail:n})}),[t,n,r]);return(0,F.jsx)(Fe,Me(Me({},e),{},{balanceView:i,priceView:o,valueView:a}))}Ue.displayName="TokenCell";var He=(0,c.memo)((0,xe.withDebugRenderTracker)(Ue));function We(e){var t=e.tokenKey,n=(0,ye.default)(e,Pe),r=re(J),o=(0,l.default)(r,1)[0],a=(0,c.useMemo)((function(){var e;return null==(e=o.tokensMap)?void 0:e[t]}),[t,o.tokensMap]);return a?(0,F.jsx)(He,Me(Me({},n),a)):(0,F.jsx)(C.default,{children:(0,F.jsx)(M.default.Body1,{children:t})})}const Ve=He;var ze=n(797516);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=(0,c.memo)((function(e){var t,n=e.showRoundTop,r=e.hidePriceInfo,o=e.ListHeaderComponent,a=e.ListFooterComponent,i=e.contentContainerStyle,s=e.onTokenPress,l=e.limitSize,f=e.flatStyle,p=e.accountId,m=e.networkId,h=e.walletId,g=e.isRenderByCollapsibleTab,y=e.FlatListComponent,x=e.itemsCountForAutoFallbackToPlainList,_=void 0===x?0:x,C=e.accountTokens,M=e.showSkeletonHeader,A=e.showTokenBalanceDetail,E=(0,j.useNavigation)(),R=(0,I.default)(),D=C;(0,P.useShouldHideInscriptions)({accountId:p,networkId:m})&&(D=null==C?void 0:C.filter((function(e){return e.isNative})));var N=null==(t=D)?void 0:t.length,L=(0,ze.useAssetsListLayout)().containerPaddingX,B=(0,c.useCallback)((function(e){s?s({token:e}):E.navigate(u.HomeRoutes.ScreenTokenDetail,{walletId:h,accountId:p,networkId:m,coingeckoId:e.coingeckoId,sendAddress:e.sendAddress,tokenAddress:e.address,price:e.price,price24h:e.price24h,symbol:e.symbol,name:e.name,logoURI:e.logoURI,balance:e.balance,availableBalance:e.availableBalance,transferBalance:e.transferBalance})}),[m,E,s,h,p]),U=(0,c.useCallback)((function(e){var t={accountId:p,networkId:m,hidePriceInfo:r,bg:f?"transparent":"surface-default",borderTopRadius:!f&&n&&0===e.index?"12px":0,borderRadius:f||e.index!==N-1?"0px":"12px",borderTopWidth:!f&&n&&0===e.index?1:0,borderBottomWidth:e.index===N-1?1:0,borderColor:f?"transparent":"border-subdued",onPress:B,showTokenBalanceDetail:A};return k()(e.item)?(0,F.jsx)(We,Ge(Ge({},t),{},{tokenKey:e.item})):(0,F.jsx)(Ve,Ge(Ge(Ge({},t),w()(null==e?void 0:e.item,"source")),{},{deepRefreshMode:!(0,d.isAllNetworks)(m)}))}),[p,N,f,r,m,B,n,A]),H=(0,c.useMemo)((function(){return a?(0,F.jsx)(F.Fragment,{children:a}):null}),[a]),W=(0,c.useMemo)((function(){return N&&null!==o?o||(0,F.jsx)(z,{innerHeaderBorderColor:f?"transparent":"border-subdued",showTokenCount:void 0!==l,showOuterHeader:void 0!==l,showInnerHeader:N>0,showInnerHeaderRoundTop:!f}):null}),[o,N,f,l]),V=(0,c.useMemo)((function(){return{maxWidth:S.MAX_PAGE_CONTAINER_WIDTH,width:"100%",marginHorizontal:"auto",alignSelf:"center"}}),[]),K=(0,c.useMemo)((function(){return[{paddingHorizontal:f?0:L.num,marginTop:24},i]}),[L,i,f]),G=(0,c.useMemo)((function(){return y||(_&&(!N||N<=_)?g?O.Tabs.FlatListPlain:T.FlatListPlain:g?O.Tabs.FlatList:b.default)}),[y,N,g,_]);return(0,F.jsx)(G,{style:V,contentContainerStyle:K,data:D,renderItem:U,ListHeaderComponent:W,ListFooterComponent:H,ItemSeparatorComponent:v.default,ListEmptyComponent:(0,F.jsx)(me,{showSkeletonHeader:M,accountId:p,networkId:m}),keyExtractor:(0,c.useCallback)((function(e,t){return k()(e)?e:e.key}),[]),extraData:R,showsVerticalScrollIndicator:!1})}));function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e){var t=e.accountId,n=e.networkId,r=(0,m.useAppSelector)((function(e){return e.status.isUnlock})),o=(0,h.useIsFocusedAllInOne)({focusDelay:1e3,rootTabName:u.TabRoutes.Home,homeTabName:y.WalletHomeTabEnum.Tokens}),a=o.isFocused,i=o.homeTabFocused,s=o.rootTabFocused,l=p.default.serviceToken,f=(0,c.useRef)(!1),g=(0,c.useMemo)((function(){return!(!t||!n||(0,d.isAllNetworks)(n))&&(!(!r||!a)&&(!!i&&!!s))}),[t,n,r,a,i,s]);return f.current=g,(0,c.useEffect)((function(){f.current||l.stopRefreshAccountTokens()}),[t,n,l]),(0,c.useEffect)((function(){g?l.startRefreshAccountTokensDebounced():l.pauseRefreshAccountTokens()}),[l,g]),null}function Ye(e){var t=e.networkId,n=e.accountId,r=e.limitSize,o=e.debounced,a=void 0===o?0:o,i=(0,m.useAppSelector)((function(e){return e.settings.hideRiskTokens})),s=(0,m.useAppSelector)((function(e){return e.settings.hideSmallBalance})),l=(0,m.useAppSelector)((function(e){return e.settings.putMainTokenOnTop})),c=(0,m.useAppSelector)((function(e){return e.refresher.refreshAccountTokenTs})),d=(0,m.useReduxAccountTokensList)({accountId:n,networkId:t}),u=(0,m.useReduxAccountTokenBalancesMap)({accountId:n,networkId:t}),f=(0,m.useReduxTokenPricesMap)();return(0,g.usePromiseResult)((function(){return p.default.serviceOverview.buildAccountTokens({networkId:t,accountId:n,tokensLimit:r,tokensSort:{native:l,name:"asc",value:"desc",price:"desc"},tokensFilter:{hideRiskTokens:i,hideSmallBalance:s},calculateTokensTotalValue:!0,buildTokensMapKey:!0})}),[n,i,s,r,t,l,c,u,d,f],{debounced:a,watchLoading:!0})}function Qe(e){var t=Ye(e),n=re(J),r=(0,l.default)(n,2),o=r[0],i=r[1],d=re(ee),u=(0,l.default)(d,2)[1];return(0,c.useEffect)((function(){!function(){var e=t.result;e&&(e.tokensKeys&&s()(o.tokensKeys,e.tokensKeys)||i(e))}()}),[o.tokensKeys,t.result,i]),(0,c.useEffect)((function(){a()(t.isLoading)||u(t.isLoading)}),[t.isLoading,u]),null}var Je=(0,c.memo)(ne((function(e){var t=e.walletId,n=e.children,r=e.accountId,o=e.networkId,a=e.limitSize,i=re(J),s=(0,l.default)(i,1)[0].tokens,d=void 0===s?f.freezedEmptyArray:s,u=(0,c.useMemo)((function(){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Qe,{networkId:o,accountId:r,limitSize:a,debounced:600}),(0,F.jsx)(Xe,{accountId:r,networkId:o}),n]})}),[r,n,a,o]);return(0,F.jsx)($e,{walletId:t,accountId:r,networkId:o,limitSize:a,isRenderByCollapsibleTab:!0,accountTokens:d,itemsCountForAutoFallbackToPlainList:15,ListFooterComponent:u})})));Je.displayName="HomeTokenAssetsList";var et=(0,c.memo)(ne((function(e){var t=e.accountId,n=e.networkId,r=e.limitSize,o=re(J),a=(0,l.default)(o,1)[0].tokens,i=void 0===a?f.freezedEmptyArray:a;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Qe,{networkId:n,accountId:t,limitSize:r,debounced:0}),(0,F.jsx)($e,qe(qe({},e),{},{accountTokens:i}))]})})))},797516:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useAssetsListLayout:()=>a});var r=n(384247),o=n(202784);function a(){var e=(0,r.default)().size;return{containerPaddingX:(0,o.useMemo)((function(){return["NORMAL","LARGE"].includes(e)?{num:32,px:"32px"}:{num:16,px:"16px"}}),[e])}}},238902:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomeTabActionHeader:()=>b});var r=n(866904),o=n(470310),a=n(10918),i=n(18861),s=n(433996),l=n(719392),c=n(202784),d=n(783112),u=n(849877),f=n(945821),p=n(534159),m=n(859071),h=n(733950),g=n(92168),y=n(552322),v=(0,c.memo)((function(e){var t=e.refreshing,n=e.onRefresh,r=(0,m.useAppSelector)((function(e){return e.status.homeTabName}));return(0,y.jsx)(i.default,{alignItems:"center",justifyContent:"center",w:"8",h:"8",mr:"3",children:t?(0,y.jsx)(l.default,{size:"sm"},r):(0,y.jsx)(s.default,{onPress:n,size:"sm",name:"ArrowPathMini",type:"plain",ml:"auto"})})}));v.displayName="RefreshButton",(0,c.memo)((function(e){var t=e.onNavigate,n=e.onShowHomeBalanceSettings,r=e.tokenEnabled,l=e.networkId,p=e.accountId,h=(0,d.default)(),g=(0,m.useAccountIsUpdating)({networkId:l,accountId:p}),b=(0,c.useCallback)((function(){f.default.serviceOverview.refreshCurrentAccount({debounceEnabled:!1})}),[]);return(0,y.jsxs)(i.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pb:3,children:[(0,y.jsx)(a.default.Heading,{children:h.formatMessage({id:"title__assets"})}),r&&(0,y.jsxs)(o.default,{alignItems:"center",justifyContent:"flex-end",children:[(0,u.isAllNetworks)(l)?null:(0,y.jsx)(v,{refreshing:g,onRefresh:b}),(0,u.isAllNetworks)(l)?null:(0,y.jsx)(s.default,{onPress:t,size:"sm",name:"PlusMini",type:"plain",ml:"auto",mr:3}),(0,y.jsx)(s.default,{onPress:n,size:"sm",name:"Cog8ToothMini",type:"plain",mr:-2})]})]})})).displayName="OuterHeader",(0,c.memo)((function(e){var t=e.tokenAmount;return(0,y.jsx)(r.default,{typography:{sm:"DisplayLarge",md:"Heading"},children:Number.isNaN(t)||t.isNaN()?" ":(0,y.jsx)(p.FormatCurrencyNumber,{value:0,convertValue:t})})}),(function(e,t){return e.tokenAmount.isEqualTo(t.tokenAmount)})).displayName="TokenBalancesMemo",(0,c.memo)((function(e){var t=e.rate;return t.isNaN()?null:(0,y.jsx)(g.OverviewBadge,{rate:t})}),(function(e,t){return e.rate.isEqualTo(t.rate)})).displayName="RateBadgeMemo";var b=(0,c.memo)((function(e){var t=e.title,n=e.loading,r=e.onClickRefresh,c=e.onClickAdd,d=e.onClickSettings,u=(0,h.useHomeTabName)();return(0,y.jsxs)(i.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",pb:3,children:[(0,y.jsx)(a.default.Heading,{children:t}),(0,y.jsxs)(o.default,{alignItems:"center",justifyContent:"flex-end",children:[r?(0,y.jsx)(i.default,{alignItems:"center",justifyContent:"center",w:"8",h:"8",mr:"3",children:n?(0,y.jsx)(l.default,{size:"sm"},`${u||""}-spinner`):(0,y.jsx)(s.default,{onPress:r,size:"sm",name:"ArrowPathMini",type:"plain",ml:"auto"},`${u||""}-refresh`)},`${u||""}-${t}-refresh-box`):null,c?(0,y.jsx)(s.default,{onPress:c,size:"sm",name:"PlusMini",type:"plain",ml:"auto",mr:3}):null,d?(0,y.jsx)(s.default,{onPress:d,size:"sm",name:"Cog8ToothMini",type:"plain",mr:-2}):null]})]})}))},281577:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomeTabAssetsHeader:()=>p});var r=n(433996),o=n(866904),a=n(435581),i=n(561220),s=n(18861),l=n(539144),c=n(202784),d=n(534159),u=n(92168),f=n(552322);var p=(0,c.memo)((function(e){var t=e.icon,n=e.title,p=e.extraIcon,m=e.extraLabel,h=e.onExtraPress,g=e.showRoundTop,y=e.borderColor,v=void 0===y?"border-subdued":y,b=e.onPress,x=e.usdFiatValue,w=e.shareRate,_=e.columns,k=(0,l.default)(),I=k?"24px":"32px",j=k?12:16,O=k?"12px":"16px",T=b?i.default.Item:s.default,S=(0,c.useMemo)((function(){return x?(0,f.jsx)(d.FormatCurrencyNumber,{value:0,convertValue:x}):" "}),[x]);return(0,f.jsxs)(T,{p:4,shadow:void 0,borderTopRadius:g?"12px":0,borderTopWidth:g?1:0,borderWidth:1,borderBottomWidth:0,borderColor:v,onPress:b,flexDirection:"column",bg:"surface-subdued",children:[(0,f.jsxs)(s.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,f.jsx)(s.default,{w:I,h:I,borderRadius:O,bg:"decorative-icon-one",justifyContent:"center",alignItems:"center",mr:k?"8px":"12px",children:(0,f.jsx)(a.default,{size:j,color:"icon-on-primary",name:t})}),(0,f.jsx)(o.default,{typography:{sm:"Body1Strong",md:"Heading"},children:n}),!k&&(0,f.jsxs)(s.default,{flexDirection:"row",alignItems:"center",children:[(0,f.jsx)(s.default,{mx:"8px",my:"auto",w:"4px",h:"4px",borderRadius:"2px",bg:"text-default"}),(0,f.jsx)(o.default,{typography:{sm:"DisplayLarge",md:"Heading"},children:S})]}),w.isNaN()?null:(0,f.jsx)(u.OverviewBadge,{rate:w}),(0,f.jsx)(s.default,{ml:"auto",flexDirection:"row",alignItems:"center",children:(0,f.jsxs)(f.Fragment,{children:[m?(0,f.jsx)(o.default,{color:"text-subdued",typography:{sm:"Body1Strong",md:"Body2Strong"},children:m}):null,h?(0,f.jsx)(r.default,{size:"sm",borderRadius:17,name:p,bg:"action-secondary-default",onPress:h}):(0,f.jsx)(a.default,{name:p,color:"icon-subdued"})]})})]}),(0,f.jsx)(s.default,{mt:k?"8px":"16px",children:k?(0,f.jsx)(o.default,{typography:{sm:"DisplayLarge",md:"Heading"},children:S}):_})]})}))},221536:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showAmountInputDialog:()=>y});var r=n(256666),o=n(612210),a=n(18861),i=n(103722),s=n(866904),l=n(196234),c=n(202784),d=n(206391),u=n.n(d),f=n(783112),p=n(793525),m=n(552322);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=function(e){var t=e.total,n=e.onConfirm,r=e.onClose,d=(0,f.default)(),p=(0,c.useState)("1"),h=(0,l.default)(p,2),g=h[0],y=h[1];return(0,m.jsx)(o.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__confirm",primaryActionProps:{type:"primary",isDisabled:0===g.length},onPrimaryActionPress:function(){n(g),null==r||r()},onSecondaryActionPress:r},contentProps:{input:(0,m.jsxs)(a.default,{w:"full",mt:"4",children:[(0,m.jsx)(s.default,{typography:"Body2Strong",children:d.formatMessage({id:"form__quantity"})}),(0,m.jsx)(i.default,{w:"full",size:"lg",enableMaxButton:!0,value:g,onChangeText:function(e){(new(u())(e).lte(t)||0===e.length)&&y(e)},onMaxChange:function(){y(t)}}),(0,m.jsx)(s.default,{mt:"8px",typography:"Body2",color:"text-subdued",children:`${d.formatMessage({id:"content__total"})}: ${t}`})]})}})},y=function(e){return(0,p.showDialog)((0,m.jsx)(g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))}},75537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>qe});var r=n(877531),o=n(196234),a=n(468702),i=n(18861),s=n(311631),l=n(539144),c=n(202784),d=n(472719),u=n(231318),f=n(849877),p=n(213208),m=n(945821),h=n(556658),g=n(10918),y=n(321668),v=n(361301),b=n(854787),x=n(470310),w=n(529710),_=n(866904),k=n(433996),I=n(669083),j=n(256666),O=n(634795),T=n(206391),S=n.n(T),P=n(783112),C=n(749888),M=n(626015),A=n(119804),E=n(940915),R=n(534756),D=n(506885),N=n(942013),L=n(447325),B=n(313503),F=n(859071),U=n(74008),H=n(481047),W=n(627009),V=n(793525),z=n(266810),K=n(331639),G=n(561220),$=n(435581),Z=n(552322);function q(e){var t=e.title,n=e.value,r=e.onPress,o=e.icon;return(0,Z.jsxs)(x.default,{space:"12px",children:[(0,Z.jsx)(g.default.Body2Strong,{color:"text-subdued",flex:1,children:t}),(0,Z.jsxs)(G.default,{flexDirection:"row",onPress:r,children:[(0,Z.jsx)(g.default.Body2Strong,{mr:"8px",isTruncated:!0,maxW:"160px",children:n}),o?(0,Z.jsx)($.default,{name:o,size:20}):null]})]})}var X=n(612210);function Y(e){var t=e.onConfirm,n=e.onClose,r=(0,P.default)();return(0,Z.jsx)(X.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__send",primaryActionProps:{type:"destructive"},onPrimaryActionPress:function(){t(),null==n||n()},onSecondaryActionPress:n},contentProps:{iconName:"PaperAirplaneSolid",iconType:"danger",title:r.formatMessage({id:"title__the_inscription_is_listed"}),content:r.formatMessage({id:"content__this_will_unlist_previous_order_in_inscription_market_are_you_sure_to_send_the_listed_inscription"})}})}function Q(e){var t=e.onConfirm,n=e.onClose,r=(0,P.default)(),a=(0,c.useState)(!1),i=(0,o.default)(a,2),s=i[0],l=i[1];return(0,Z.jsx)(X.default,{visible:!0,footerButtonProps:{primaryActionTranslationId:"action__continue",primaryActionProps:{type:"primary",isLoading:s},onPrimaryActionPress:function(){l(!0),t(n)},onSecondaryActionPress:n},contentProps:{iconName:"MinusCircleSolid",iconType:"success",title:r.formatMessage({id:"title__unlist_the_order"}),content:r.formatMessage({id:"content__send_the_listed_inscription_back_to_your_current_account_this_will_unlist_your_previous_order_in_market"})}})}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,j.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t,n=e.asset,r=e.isOwner,a=e.networkId,s=e.accountId,u=e.onRecycleUtxo,p=(0,P.default)(),h=(0,c.useState)(!1),j=(0,o.default)(h,2),T=j[0],G=j[1],$=(0,l.default)(),X=(0,U.default)().format,J=m.default.serviceNFT,te=m.default.serviceInscribe,ne=(0,F.useNetwork)({networkId:null!=(t=null==n?void 0:n.networkId)?t:""}).network,re=(0,c.useMemo)((function(){return s?(0,R.getWalletIdFromAccountId)(s):null}),[s]),oe=(0,F.useAccount)({accountId:null!=s?s:"",networkId:a}).account,ae=(0,F.useWallet)({walletId:re}).wallet,ie=(0,d.useNavigation)(),se=(0,C.default)(),le=(0,c.useState)(n),ce=(0,o.default)(le,2),de=ce[0],ue=ce[1],fe=(null==ae?void 0:ae.type)===D.WALLET_TYPE_WATCHING||!s||!r,pe=(0,c.useMemo)((function(){return de.location.split(":")[2]}),[de.location]),me=(0,c.useCallback)((function(){if(a&&s){var e=function(){var e=(0,O.default)((function*(e){try{var t=yield te.checkValidTaprootAddress({address:e,networkId:a,accountId:s}),n=t.isValidAddress,r=t.isTaprootAddress;if(!n)throw new E.InvalidAddress;if(!r)return{warningMessage:p.formatMessage({id:"content__some_ordinals_wallets_may_not_support_non_taproot_address_check_the_type_before_continue"})}}catch(o){throw new E.InvalidAddress}}));return function(t){return e.apply(this,arguments)}}();ie.navigate(H.RootRoutes.Modal,{screen:H.ModalRoutes.Send,params:{screen:H.SendModalRoutes.PreSendAddress,params:{accountId:s,networkId:a,isNFT:!0,from:"",to:"",amount:"0",nftTokenId:de.inscription_id,validateAddress:function(){var t=(0,O.default)((function*(t,n){return e(n)}));return function(e,n){return t.apply(this,arguments)}}(),nftInscription:{address:de.owner,inscriptionId:de.inscription_id,output:de.output,location:de.location},closeModal:se}}})}}),[s,de.inscription_id,de.location,de.output,de.owner,p,se,ie,a,te]),he=(0,c.useCallback)((function(){a&&s&&(de.listed?(0,V.showDialog)((0,Z.jsx)(Y,{onConfirm:function(){return me()}})):me())}),[s,de.listed,a,me]);(0,c.useEffect)((function(){(0,O.default)((function*(){if(null!=ne&&ne.id){var e=yield J.fetchAsset({chain:ne.id,tokenId:n.inscription_id});if(e){ue(ee(ee({},e),{},{listed:n.listed}));var t=(yield(0,B.parseBRC20Content)({content:e.content,contentType:e.content_type,contentUrl:e.contentUrl})).isBRC20Content;G(t)}}}))()}),[null==ne?void 0:ne.id,n,n.inscription_id,n.listed,J]);var ge=(0,c.useCallback)(function(){var e=(0,O.default)((function*(e){if(a&&oe){var t={from:oe.address,to:oe.address,amount:"0",isNFT:!0,nftTokenId:de.inscription_id,nftInscription:{address:de.owner,inscriptionId:de.inscription_id,output:de.output,location:de.location}},n=yield m.default.engine.buildEncodedTxFromTransfer({networkId:a,accountId:oe.id,transferInfo:t});null==e||e(),ie.navigate(H.RootRoutes.Modal,{screen:H.ModalRoutes.Send,params:{screen:H.SendModalRoutes.SendConfirm,params:ee(ee({},t),{},{networkId:a,accountId:oe.id,encodedTx:n,feeInfoUseFeeInTx:!1,feeInfoEditable:!0,payloadInfo:{type:"Transfer",nftInfo:{asset:de,amount:t.amount,from:oe.address,to:oe.address}},onModalClose:se})}})}}));return function(t){return e.apply(this,arguments)}}(),[oe,de,se,ie,a]),ye=(0,c.useMemo)((function(){return(0,Z.jsx)(K.default,{options:[{id:"action__deoccupy",onPress:function(){var e,t;return(0,V.showDialog)((0,Z.jsx)(z.RecycleDialog,{amount:`${new(S())(de.output_value_sat).shiftedBy(-(null!=(e=null==ne?void 0:ne.decimals)?e:0)).toFixed()} ${null!=(t=null==ne?void 0:ne.symbol)?t:""}`,onConfirm:(0,O.default)((function*(){var e,t,n,r=de.output.split(":"),i=(0,o.default)(r,2),l=i[0],c=i[1],d=parseInt(c,10),h=s;if((0,f.isAllNetworks)(a)&&de.accountAddress){var g=yield m.default.serviceAccount.getAccountByAddress({address:de.accountAddress,networkId:a});h=null==g?void 0:g.id}yield m.default.serviceUtxos.updateRecycle({networkId:null!=(e=null!=(t=de.networkId)?t:a)?e:"",accountId:null!=(n=h)?n:"",utxo:{txid:l,vout:d,address:de.owner,value:String(de.output_value_sat),path:"",height:NaN},recycle:!0}),I.default.show({title:p.formatMessage({id:"msg__inscription_deoccupied"})},{type:"default"}),L.appUIEventBus.emit(L.AppUIEventBusNames.InscriptionRecycleChanged),null==u||u(),ie.goBack()}))}))},icon:"RestoreMini",variant:"desctructive"},(null==de?void 0:de.listed)&&{id:"action__unlist_on_sale_inscription",icon:"MinusCircleMini",onPress:function(){(0,V.showDialog)((0,Z.jsx)(Q,{onConfirm:ge}))}}],children:(0,Z.jsx)(k.default,{iconColor:"icon-subdued",mr:$?0:10,type:"basic",size:$?"sm":"xs",circle:!0,name:"EllipsisVerticalMini"})})}),[s,de.accountAddress,null==de?void 0:de.listed,de.networkId,de.output,de.output_value_sat,de.owner,ge,p,$,ie,null==ne?void 0:ne.decimals,null==ne?void 0:ne.symbol,a,u]);return(0,Z.jsxs)(v.default,{space:"24px",mb:"50px",children:[(0,Z.jsxs)(v.default,{children:[(0,Z.jsxs)(x.default,{alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsxs)(_.default,{typography:{sm:"DisplayLarge",md:"DisplayLarge"},fontWeight:"700",alignItems:"center",children:["Inscription #"," ",(null==de?void 0:de.inscription_number)>0?(0,Z.jsx)(_.default,{children:null==de?void 0:de.inscription_number}):(0,Z.jsx)(w.default,{borderRadius:"10px",width:120,height:"20px"})]}),fe?null:ye]}),(0,Z.jsxs)(x.default,{space:1,children:[T?(0,Z.jsx)(b.default,{type:"default",size:"sm",title:"brc20"}):null,de.listed?(0,Z.jsx)(b.default,{type:"warning",size:"sm",title:p.formatMessage({id:"content__listed__uppercase"})}):null]})]}),r&&(0,Z.jsx)(x.default,{space:"16px",children:(0,Z.jsx)(y.default,{type:"primary",isDisabled:fe,width:"full",size:"lg",leftIconName:"ArrowUpMini",onPress:he,children:p.formatMessage({id:"action__send"})})}),(0,Z.jsxs)(i.default,{children:[(0,Z.jsx)(g.default.Heading,{mb:"16px",children:p.formatMessage({id:"content__details"})}),(0,Z.jsxs)(v.default,{space:"16px",children:[!!de.content_type&&(0,Z.jsx)(q,{title:"ID",value:(0,M.shortenAddress)(de.inscription_id,6),icon:"Square2StackMini",onPress:function(){var e;(0,A.copyToClipboard)(null!=(e=de.inscription_id)?e:""),I.default.show({title:p.formatMessage({id:"msg__copied"})})}}),!!de.owner&&(0,Z.jsx)(q,{title:p.formatMessage({id:"form__ordinal_owner"}),icon:"Square2StackMini",value:(0,M.shortenAddress)(de.owner,6),onPress:function(){var e;(0,A.copyToClipboard)(null!=(e=de.owner)?e:""),I.default.show({title:p.formatMessage({id:"msg__copied"})})}}),!!de.content_type&&(0,Z.jsx)(q,{title:p.formatMessage({id:"form__ordinal_type"}),value:de.content_type}),!!de.output_value_sat&&(0,Z.jsx)(q,{title:p.formatMessage({id:"form__utxo_value"}),value:`${de.output_value_sat} sats`}),!!pe&&(0,Z.jsx)(q,{title:p.formatMessage({id:"form__offset"}),value:pe}),!!de.content_length&&(0,Z.jsx)(q,{title:p.formatMessage({id:"form__ordinal_size"}),value:`${de.content_length} bytes`}),!!de.timestamp&&(0,Z.jsx)(q,{onPress:function(){var e=a===N.OnekeyNetwork.btc?"https://ordinals.com":"https://tbtc-ordinals.onekey.so";(0,W.openUrl)(`${e}/inscription/${de.inscription_id}`)},title:p.formatMessage({id:"form__ordinal_inscription_date"}),icon:"ArrowTopRightOnSquareOutline",value:X(new Date(1e3*Number(de.timestamp)),"MMM d, yyyy, HH:mm")})]})]})]})}var ne=n(795116),re=n(384247),oe=n(586874),ae=n(967989),ie=n(665277);function se(e){var t,n=e.asset,r=(0,oe.default)().themeVariant,o=(0,l.default)(),a=(0,re.default)().screenWidth,s=null==n||null==(t=n.content_type)?void 0:t.includes("image"),c=(0,ie.getBTCListComponent)({data:n,sizeType:"detail"}).Component,d=o?a-32:288;return(0,Z.jsx)(Z.Fragment,{children:p.default.isNativeIOSPad?(0,Z.jsxs)(i.default,{overflow:"hidden",mt:"-16px",mr:"-16px",ml:"-16px",children:[s&&(0,Z.jsx)(ne.default,{position:"absolute",top:0,right:0,bottom:0,left:0,children:(0,Z.jsx)(c,{asset:n,size:680})}),(0,Z.jsx)(ae.default,{tint:"light"===r?"light":"dark",intensity:100,style:{alignItems:"center",padding:24},children:(0,Z.jsx)(c,{asset:n,size:d,showOrigin:!0})})]}):o?(0,Z.jsx)(c,{asset:n,size:d,showOrigin:!0}):(0,Z.jsxs)(i.default,{alignSelf:"stretch",borderLeftRadius:24,mr:"24px",overflow:"hidden",children:[s&&(0,Z.jsx)(ne.default,{position:"absolute",top:0,right:0,bottom:0,left:0,children:(0,Z.jsx)(c,{asset:n,size:680})}),(0,Z.jsx)(ae.default,{tint:"light"===r?"light":"dark",intensity:100,style:{flex:1,alignSelf:"stretch",justifyContent:"center",padding:24},children:(0,Z.jsx)(c,{asset:n,size:d,showOrigin:!0})})]})})}var le=n(759900),ce=n(46486),de=n(790656),ue=n(348834),fe=n(84658),pe=n(975869),me=n(789644),he=n.n(me),ge=n(888719),ye=n(862065),ve=n(941749),be=n(112889),xe=n(292147),we=n(866880);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,j.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=function(){var e=(0,O.default)((function*(e){try{var t=yield he().get(e,{responseType:"arraybuffer",headers:{accept:"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;"}}),n=ue.Buffer.from(t.data,"binary").toString("base64");return`data:${t.headers["content-type"]};base64,${n}`}catch(r){return he().post(`${(0,be.getFiatEndpoint)()}/image/img2base64`,{url:e}).then((function(e){return e.data}))}}));return function(t){return e.apply(this,arguments)}}();var je=function(){var e=(0,O.default)((function*(e,t,n,r,o,a){var i;if(e){xe.default.hardwareSDK.info(`width: ${t}, height: ${n}, originW: ${r}, originH: ${o}`);var s=r>o,l=r===o,c=[];if(a?c.push({resize:{width:s?void 0:t,height:s?n:void 0}}):c.push({resize:{width:t}}),a&&!l)if(s){var d=function(e,t,n,r){var o=Math.ceil(r/t*e);if(xe.default.hardwareSDK.info("image true width: ",o),xe.default.hardwareSDK.info("image should width: ",n),xe.default.hardwareSDK.info("image true height: ",r),o<=n)return null;var a=Math.ceil(Math.ceil(o/2)-Math.ceil(n/2));return xe.default.hardwareSDK.info("originX: ",a),xe.default.hardwareSDK.info(`crop size: height: ${r}, width: ${n}, originX: ${a}, originY: 0`),a}(r,o,t,n);null!==d&&c.push({crop:{height:n,width:t,originX:d,originY:0}})}else{var u=function(e,t,n,r){var o=Math.ceil(n/e*t);if(xe.default.hardwareSDK.info("image true height: ",o),xe.default.hardwareSDK.info("image should height: ",r),xe.default.hardwareSDK.info("image true width: ",n),o<=r)return null;var a=Math.ceil(Math.ceil(o/2)-Math.ceil(r/2));return xe.default.hardwareSDK.info("originY: ",a),xe.default.hardwareSDK.info(`crop size: height: ${r}, width: ${n}, , originX: 0, originY: ${a}`),a}(r,o,t,n);null!==u&&c.push({crop:{height:n,width:t,originX:0,originY:u}})}var f=yield(0,ge.manipulateAsync)(e,c,{compress:.9,format:ye.SaveFormat.JPEG,base64:!0});xe.default.hardwareSDK.info("imageResult ====> : ",f);var p=ue.Buffer.from(null!=(i=f.base64)?i:"","base64"),m=new Uint8Array(p);return ke(ke({},f),{},{arrayBuffer:m})}}));return function(t,n,r,o,a,i){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,O.default)((function*(e,t){var n,r,o,a,i,s=yield(i=e,new Promise((function(e,t){ve.default.getSize(i,(function(t,n){e({width:t,height:n})}),(function(e){return t(e)}))}))),l=s.width,c=s.height;xe.default.hardwareSDK.info("image size: ",{width:l,height:c});var d=yield Ie(e);xe.default.hardwareSDK.info(d);var u=yield je(d,480,800,l,c,!1),f=yield je(d,238,238,l,c,!0);if(null!=u&&u.arrayBuffer||null!=f&&f.arrayBuffer){xe.default.hardwareSDK.info("nft data byte length: ",(0,we.formatBytes)(null!=(n=null==u||null==(r=u.arrayBuffer)?void 0:r.byteLength)?n:0,3)),xe.default.hardwareSDK.info("nft thumbnail byte length: ",(0,we.formatBytes)(null!=(o=null==f||null==(a=f.arrayBuffer)?void 0:a.byteLength)?o:0,3));var p=ke({},t),m=ue.Buffer.from(JSON.stringify(p));m.length>2048&&(xe.default.hardwareSDK.info("nft metadata overload 2kb, will ignore subheader: ",m.length),p.subheader="",m=ue.Buffer.from(JSON.stringify(p)));var h=(0,fe.bytesToHex)(m);return{resType:pe.ResourceType.Nft,suffix:"jpg",dataHex:(0,fe.bytesToHex)(null==u?void 0:u.arrayBuffer),thumbnailDataHex:(0,fe.bytesToHex)(null==f?void 0:f.arrayBuffer),nftMetaData:h}}}));return function(t,n){return e.apply(this,arguments)}}();function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Se=function(e){var t=e.onCollectToTouch,n=(0,c.useMemo)((function(){return[{id:"action__collect_to_touch",onPress:function(){t()},icon:"InboxArrowDownMini"}]}),[t]);return(0,Z.jsx)(K.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,j.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({options:n},e))};var Pe=n(432986),Ce=n(79996),Me=n(150796),Ae=n(221536);function Ee(e){var t=e.wallet,n=e.asset,r=(0,c.useState)(null),a=(0,o.default)(r,2),i=a[0],s=a[1],l=(0,c.useState)(!1),d=(0,o.default)(l,2),u=d[0],f=d[1];return(0,c.useEffect)((function(){(0,O.default)((function*(){var e;if(t&&"hw"===t.type){var r=yield m.default.engine.getHWDeviceByWalletId(t.id),o=["image/gif","image/svg","image/png","image/jpeg","image/jpg"].includes(null!=(e=n.contentType)?e:"");f("touch"===(null==r?void 0:r.deviceType)&&o),s(r)}else f(!1)}))()}),[t,n]),{device:i,showMenu:u}}function Re(e){var t,n,r=e.asset,a=e.isOwner,s=e.networkId,u=e.accountId,f=(0,P.default)(),p=m.default.serviceNFT,b=m.default.serviceHardware,j=(0,d.useNavigation)(),T=(0,c.useMemo)((function(){return u?(0,R.getWalletIdFromAccountId)(u):null}),[u]),M=(0,F.useWallet)({walletId:T}).wallet,E=(0,C.default)(),N=(0,l.default)(),L=(0,c.useState)(r),B=(0,o.default)(L,2),U=B[0],W=B[1],V=(0,c.useMemo)((function(){return(null==M?void 0:M.type)===D.WALLET_TYPE_WATCHING||!u||"erc721"===U.ercType&&U.owner!==r.accountAddress}),[u,U.ercType,U.owner,r.accountAddress,null==M?void 0:M.type]),z=(0,F.useNetwork)({networkId:s}).network,K=(0,c.useState)(!1),G=(0,o.default)(K,2),$=G[0],X=G[1],Y=Ee({wallet:M,asset:U}),Q=Y.device,J=Y.showMenu,ee=(0,c.useRef)(!1);(0,c.useEffect)((function(){return(0,O.default)((function*(){if(s){var e=yield p.fetchAsset({chain:s,contractAddress:r.contractAddress,tokenId:r.tokenId,showAttribute:!0});e&&W(e)}}))(),function(){ee.current=!0}}),[r.contractAddress,r.tokenId,s,p]);var te=U.type===h.NFTAssetType.EVM,ne=(0,c.useState)(),re=(0,o.default)(ne,2),oe=re[0],ae=re[1];(0,c.useEffect)((function(){(0,O.default)((function*(){if(s&&te){var e=yield p.getCollection({chain:s,contractAddress:r.contractAddress});e&&ae(e)}}))()}),[r.contractAddress,s,p,te]);var ie=(0,c.useCallback)((0,O.default)((function*(){var e;if(e=U.nftscanUri&&U.nftscanUri.length>0?U.nftscanUri:(0,de.getContentWithAsset)(U)){var t;X(!0);try{var n,r;t=yield Oe(e,{header:U.name&&U.name.length>0?U.name:`#${U.tokenId}`,subheader:null!=(n=U.description)?n:"",network:null!=(r=null==z?void 0:z.name)?r:"",owner:U.owner}),xe.default.hardwareSDK.info("should upload: ",t)}catch(a){return xe.default.hardwareSDK.info("image operate error: ",a),I.default.show({title:f.formatMessage({id:"msg__image_download_failed"})},{type:"error"}),void X(!1)}if(t&&!ee.current)try{var o;yield b.uploadResource(null!=(o=null==Q?void 0:Q.mac)?o:"",t),I.default.show({title:f.formatMessage({id:"msg__change_saved"})})}catch(a){Pe.deviceUtils.showErrorToast(a)}finally{X(!1)}}})),[U,Q,f,b,z]),se=(0,c.useCallback)(function(){var e=(0,O.default)((function*(e){var t=(null!=r?r:{}).accountAddress;if(s&&t){var n=yield m.default.serviceAccount.getAccountByAddress({networkId:s,address:null!=t?t:""});n&&j.navigate(H.RootRoutes.Modal,{screen:H.ModalRoutes.Send,params:{screen:Me.SendModalRoutes.PreSendAddress,params:{accountId:null==n?void 0:n.id,networkId:s,isNFT:!0,from:"",to:"",amount:e,token:U.contractAddress,nftTokenId:U.tokenId,nftType:U.ercType,closeModal:E}}})}}));return function(t){return e.apply(this,arguments)}}(),[U.contractAddress,U.ercType,U.tokenId,E,j,s,r]);return(0,Z.jsxs)(v.default,{space:"24px",mb:"50px",children:[(0,Z.jsxs)(i.default,{children:[(0,Z.jsxs)(x.default,{alignItems:"stretch",justifyContent:"space-between",children:[(0,Z.jsx)(_.default,{typography:{sm:"DisplayLarge",md:"DisplayLarge"},fontWeight:"700",isTruncated:!0,flex:1,children:U.name&&U.name.length>0?U.name:`#${U.tokenId}`}),J&&(0,Z.jsx)(Se,{onCollectToTouch:ie,children:(0,Z.jsx)(k.default,{name:"EllipsisVerticalOutline",size:N?"sm":"xs",type:"basic",circle:!0,borderWidth:ce.default.hairlineWidth,borderColor:"border-default",h:{base:34,sm:30},ml:3,mr:{base:0,sm:10},isLoading:$,isDisabled:$})})]}),(0,Z.jsxs)(x.default,{space:"8px",mt:"4px",children:[(0,Z.jsx)(_.default,{typography:"Body1",color:"text-subdued",children:f.formatMessage({id:"content__last_sale"})}),(0,Z.jsx)(_.default,{typography:"Body1Strong",color:"text-subdued",children:U.latestTradePrice&&U.latestTradeSymbol&&`${U.latestTradePrice} ${U.latestTradeSymbol}`||"N/A"})]})]}),te&&!!z&&(0,Z.jsxs)(x.default,{px:"16px",py:"12px",rounded:"12px",space:"12px",borderWidth:ce.default.hairlineWidth,alignItems:"center",borderColor:"border-default",bgColor:"action-secondary-default",children:[oe?(0,Z.jsx)(Ce.default,{src:oe.logoUrl,width:"40px",height:"40px"}):(0,Z.jsx)(w.default,{width:"40px",height:"40px",borderRadius:"12px"}),(0,Z.jsxs)(i.default,{flex:1,children:[(0,Z.jsx)(_.default,{typography:"Body1Strong",children:U.collection.contractName}),(0,Z.jsx)(i.default,{mt:"4px",children:oe?(0,Z.jsx)(_.default,{typography:"Body2",color:"text-subdued",children:`${null!=(t=null==oe?void 0:oe.itemsTotal)?t:"-"} Items \u2022 ${f.formatMessage({id:"content__floor"})} ${oe.floorPrice?`${oe.floorPrice} ${oe.priceSymbol}`:"-"}`}):(0,Z.jsx)(le.default,{shape:"Body2"})})]})]}),a&&(0,Z.jsx)(x.default,{space:"16px",children:(0,Z.jsx)(y.default,{type:"primary",isDisabled:V,width:"full",size:"lg",leftIconName:"ArrowUpMini",onPress:function(){r.amount&&new(S())(r.amount).gt(1)?(0,Ae.showAmountInputDialog)({total:r.amount,onConfirm:function(e){se(e)}}):se("1")},children:f.formatMessage({id:"action__send"})})}),!!U.description&&(0,Z.jsx)(g.default.Body2,{color:"text-subdued",children:U.description}),te&&!(null==(n=U.assetAttributes)||!n.length)&&(0,Z.jsxs)(v.default,{space:"16px",children:[(0,Z.jsx)(g.default.Heading,{children:f.formatMessage({id:"content__attributes"})}),(0,Z.jsx)(i.default,{flexDirection:"row",flexWrap:"wrap",mb:"-8px",mr:"-8px",children:U.assetAttributes.map((function(e,t){return(0,Z.jsxs)(i.default,{px:"12px",py:"8px",mr:"8px",mb:"8px",bgColor:"surface-neutral-subdued",borderRadius:"12px",children:[(0,Z.jsxs)(x.default,{justifyContent:"space-between",mb:"4px",children:[(0,Z.jsx)(g.default.Caption,{mr:"12px",numberOfLines:1,color:"text-subdued",children:e.attribute_name}),(0,Z.jsx)(g.default.Caption,{color:"text-success",children:e.percentage})]}),(0,Z.jsx)(g.default.Body2Strong,{children:e.attribute_value})]},`${e.attribute_name}-${t}`)}))})]}),(0,Z.jsxs)(i.default,{children:[(0,Z.jsx)(g.default.Heading,{mb:"16px",children:f.formatMessage({id:"content__details"})}),(0,Z.jsxs)(v.default,{space:"16px",children:[!!U.contractAddress&&(0,Z.jsx)(q,{title:f.formatMessage({id:"transaction__contract_address"}),value:U.contractAddress,icon:"Square2StackMini",onPress:function(){var e;(0,A.copyToClipboard)(null!=(e=U.contractAddress)?e:""),I.default.show({title:f.formatMessage({id:"msg__copied"})})}}),!!U.tokenId&&(0,Z.jsx)(q,{title:"NFT ID",value:U.tokenId,icon:"Square2StackMini",onPress:function(){var e;(0,A.copyToClipboard)(null!=(e=U.tokenId)?e:""),I.default.show({title:f.formatMessage({id:"msg__copied"})})}}),!!U.ercType&&(0,Z.jsx)(q,{title:f.formatMessage({id:"content__nft_standard"}),value:U.ercType}),!!z&&(0,Z.jsx)(q,{title:f.formatMessage({id:"content__blockchain"}),value:z.name})]})]})]})}var De,Ne=n(812895),Le=n(28580),Be=n(502348),Fe=n(298711),Ue=n(449708),He=n(431440);function We(e){return"image/jpeg"===e||"image/gif"===e||"image/png"===e||"image/jpg"===e?De.Image:"image/svg"===e||"image/svg+xml"===e?De.SVG:"video/mp4"===e?De.Video:"audio/wav"===e||"audio/mpeg"===e?De.Audio:"model/gltf-binary"===e||"model/gltf+json"===e?De.UnSupport:void 0}function Ve(e){var t=e.image.source,n=(0,c.useState)(function(e){var t=e.contentType,n=e.contentUri;return null!=n&&n.startsWith("data:image/svg+xml")||null!=n&&n.startsWith("<svg")?De.SVG:t?We(t):void 0}(e)),r=(0,o.default)(n,2),a=r[0],i=r[1],s=(0,c.useCallback)((0,O.default)((function*(){var t=(0,de.getContentWithAsset)(e);if(t){var n,r=yield he().head(t,{timeout:1e4}).then((function(e){return e.headers["content-type"]})).catch((function(){return"404"}));if("404"===r)i(De.UnSupport);else i(null!=(n=We(r))?n:De.UnSupport)}})),[e]);return(0,c.useEffect)((function(){void 0===a&&s()}),[s,a]),(0,c.useMemo)((function(){return{componentType:a,url:t}}),[a,t])}!function(e){e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Audio=2]="Audio",e[e.SVG=3]="SVG",e[e.UnSupport=4]="UnSupport"}(De||(De={}));const ze=function(e){var t=e.asset,n=e.size,r=(0,re.default)().screenWidth,o=(0,l.default)()?r-32:288;t.nftscanUri&&t.nftscanUri.length>0&&(0,Z.jsx)(He.default,{url:t.nftscanUri,asset:t,thumbnail:!1,size:n||o,skeleton:!0,borderRadius:"12px",resizeMode:"cover",shadow:"depth.5"});var a=Ve(t).componentType,i=(0,de.getContentWithAsset)(t);if(i){if(void 0===a)return(0,Z.jsx)(w.default,{size:n||`${o}px`,borderRadius:"12px"});if(a===De.Image)return(0,Z.jsx)(He.default,{url:i,asset:t,thumbnail:!1,size:n||o,skeleton:!0,borderRadius:"12px",resizeMode:"cover",shadow:"depth.5"});if(a===De.Video)return(0,Z.jsx)(Ue.default,{url:i,size:n||o});if(a===De.SVG)return(0,Z.jsx)(Fe.default,{url:i,size:n||o});if(a===De.Audio){var s=(0,de.getHttpImageWithAsset)(t);return(0,Z.jsx)(Le.default,{url:i,size:n||o,poster:s})}}return(0,Z.jsx)(Be.MemoFallbackElement,{contentType:t.contentType,logoUrl:t.collection.logoUrl,size:n||o})};function Ke(e){var t,n,r,o=e.asset,a=e.isOwner,s=(0,oe.default)().themeVariant,d=(0,l.default)(),u=(0,c.useMemo)((function(){return null!=o&&o.amount&&a&&Number(null==o?void 0:o.amount)>1&&"erc1155"===o.ercType?(0,Z.jsx)(b.default,{position:"absolute",right:"8px",bottom:"8px",title:`X ${(0,Ne.convertToMoneyFormat)(o.amount)}`,size:"sm",type:"default"}):null}),[o.amount,o.ercType,a]),f="image/jpeg"===(r=o.contentType)||"image/jpg"===r||"image/png"===r;return o.nftscanUri&&(null==(t=o.nftscanUri)?void 0:t.length)>0&&(f=!0),f=!!(o.nftscanUri&&(null==(n=o.nftscanUri)?void 0:n.length)>0),(0,Z.jsx)(Z.Fragment,{children:p.default.isNativeIOSPad?(0,Z.jsxs)(i.default,{overflow:"hidden",mt:"-16px",mr:"-16px",ml:"-16px",children:[f&&(0,Z.jsx)(ne.default,{position:"absolute",top:0,right:0,bottom:0,left:0,children:(0,Z.jsx)(ze,{asset:o,size:680})}),(0,Z.jsxs)(ae.default,{tint:"light"===s?"light":"dark",intensity:100,style:{alignItems:"center",padding:24},children:[(0,Z.jsx)(ze,{asset:o}),u]})]}):d?(0,Z.jsxs)(i.default,{children:[(0,Z.jsx)(ze,{asset:o}),u]}):(0,Z.jsxs)(i.default,{alignSelf:"stretch",borderLeftRadius:24,mr:"24px",overflow:"hidden",children:[f&&(0,Z.jsx)(ne.default,{position:"absolute",top:0,right:0,bottom:0,left:0,children:(0,Z.jsx)(ze,{asset:o,size:680})}),(0,Z.jsxs)(ae.default,{tint:"light"===s?"light":"dark",intensity:100,style:{flex:1,alignSelf:"stretch",justifyContent:"center",padding:24},children:[(0,Z.jsx)(ze,{asset:o}),u]})]})})}function Ge(e){var t=e.asset,n=e.isOwner,r=e.networkId,a=e.accountId,s=(0,P.default)(),u=m.default.serviceNFT,f=m.default.serviceHardware,p=(0,d.useNavigation)(),h=(0,c.useMemo)((function(){return a?(0,R.getWalletIdFromAccountId)(a):null}),[a]),b=(0,F.useWallet)({walletId:h}).wallet,w=(0,C.default)(),j=(0,l.default)(),T=(0,c.useState)(t),S=(0,o.default)(T,2),M=S[0],E=S[1],L=(null==b?void 0:b.type)===D.WALLET_TYPE_WATCHING||M.owner!==t.accountAddress||!a,B=(0,F.useNetwork)({networkId:r}).network,U=(0,c.useState)(!1),W=(0,o.default)(U,2),V=W[0],z=W[1],K=Ee({wallet:b,asset:M}),G=K.device,$=K.showMenu,X=(0,c.useRef)(!1);(0,c.useEffect)((function(){return(0,O.default)((function*(){if(null!=B&&B.id&&B.id===N.OnekeyNetwork.sol){var e=yield u.fetchAsset({chain:B.id,tokenId:t.tokenAddress});e&&E(e)}}))(),function(){X.current=!0}}),[t.contractAddress,t.tokenAddress,t.tokenId,null==B?void 0:B.id,u]);var Y=(0,c.useCallback)((0,O.default)((function*(){var e;if(e=M.nftscanUri&&M.nftscanUri.length>0?M.nftscanUri:(0,de.getContentWithAsset)(M)){var t;z(!0);try{var n,r;t=yield Oe(e,{header:M.name&&M.name.length>0?M.name:`#${M.tokenId}`,subheader:null!=(n=M.description)?n:"",network:null!=(r=null==B?void 0:B.name)?r:"",owner:M.owner}),xe.default.hardwareSDK.info("should upload: ",t)}catch(a){return xe.default.hardwareSDK.info("image operate error: ",a),I.default.show({title:s.formatMessage({id:"msg__image_download_failed"})},{type:"error"}),void z(!1)}if(t&&!X.current)try{var o;yield f.uploadResource(null!=(o=null==G?void 0:G.mac)?o:"",t),I.default.show({title:s.formatMessage({id:"msg__change_saved"})})}catch(a){Pe.deviceUtils.showErrorToast(a)}finally{z(!1)}}})),[M,G,s,f,B]),Q=(0,c.useCallback)((function(e){a&&r&&p.navigate(H.RootRoutes.Modal,{screen:H.ModalRoutes.Send,params:{screen:Me.SendModalRoutes.PreSendAddress,params:{accountId:a,networkId:r,isNFT:!0,from:"",to:"",amount:e,token:M.tokenAddress,nftTokenId:M.tokenAddress,closeModal:w}}})}),[a,M.tokenAddress,w,p,r]);return(0,Z.jsxs)(v.default,{space:"24px",mb:"50px",children:[(0,Z.jsxs)(i.default,{children:[(0,Z.jsxs)(x.default,{alignItems:"stretch",justifyContent:"space-between",children:[(0,Z.jsx)(_.default,{typography:{sm:"DisplayLarge",md:"DisplayLarge"},fontWeight:"700",isTruncated:!0,flex:"1",children:M.name&&M.name.length>0?M.name:`#${M.tokenId}`}),$&&(0,Z.jsx)(Se,{onCollectToTouch:Y,children:(0,Z.jsx)(k.default,{name:"EllipsisVerticalOutline",size:j?"sm":"xs",type:"basic",circle:!0,borderWidth:ce.default.hairlineWidth,borderColor:"border-default",h:{base:34,sm:30},ml:3,mr:{base:0,sm:10},isLoading:V,isDisabled:V})})]}),(0,Z.jsxs)(x.default,{space:"8px",mt:"4px",children:[(0,Z.jsx)(_.default,{typography:"Body1",color:"text-subdued",children:s.formatMessage({id:"content__last_sale"})}),(0,Z.jsx)(_.default,{typography:"Body1Strong",color:"text-subdued",children:M.latestTradePrice&&M.latestTradeSymbol&&`${M.latestTradePrice} ${M.latestTradeSymbol}`||"N/A"})]})]}),n&&(0,Z.jsx)(x.default,{space:"16px",children:(0,Z.jsx)(y.default,{type:"primary",isDisabled:L,width:"full",size:"lg",leftIconName:"ArrowUpMini",onPress:function(){Q("1")},children:s.formatMessage({id:"action__send"})})}),!!M.description&&(0,Z.jsx)(g.default.Body2,{color:"text-subdued",children:M.description}),(0,Z.jsxs)(i.default,{children:[(0,Z.jsx)(g.default.Heading,{mb:"16px",children:s.formatMessage({id:"content__details"})}),(0,Z.jsxs)(v.default,{space:"16px",children:[!!M.tokenAddress&&(0,Z.jsx)(q,{title:"NFT ID",value:M.tokenAddress,icon:"Square2StackMini",onPress:function(){var e;(0,A.copyToClipboard)(null!=(e=M.tokenAddress)?e:""),I.default.show({title:s.formatMessage({id:"msg__copied"})})}}),!!B&&(0,Z.jsx)(q,{title:s.formatMessage({id:"content__blockchain"}),value:B.name})]})]})]})}function $e(e){var t,n,r,o=e.asset,a=(0,oe.default)().themeVariant,s=(0,l.default)(),c="image/jpeg"===(r=o.contentType)||"image/jpg"===r||"image/png"===r;return o.nftscanUri&&(null==(t=o.nftscanUri)?void 0:t.length)>0&&(c=!0),c=!!(o.nftscanUri&&(null==(n=o.nftscanUri)?void 0:n.length)>0),(0,Z.jsx)(Z.Fragment,{children:p.default.isNativeIOSPad?(0,Z.jsxs)(i.default,{overflow:"hidden",mt:"-16px",mr:"-16px",ml:"-16px",children:[c&&(0,Z.jsx)(ne.default,{position:"absolute",top:0,right:0,bottom:0,left:0,children:(0,Z.jsx)(ze,{asset:o,size:680})}),(0,Z.jsx)(ae.default,{tint:"light"===a?"light":"dark",intensity:100,style:{alignItems:"center",padding:24},children:(0,Z.jsx)(ze,{asset:o})})]}):s?(0,Z.jsx)(ze,{asset:o}):(0,Z.jsxs)(i.default,{alignSelf:"stretch",borderLeftRadius:24,mr:"24px",overflow:"hidden",children:[c&&(0,Z.jsx)(ne.default,{position:"absolute",top:0,right:0,bottom:0,left:0,children:(0,Z.jsx)(ze,{asset:o,size:680})}),(0,Z.jsx)(ae.default,{tint:"light"===a?"light":"dark",intensity:100,style:{flex:1,alignSelf:"stretch",justifyContent:"center",padding:24},children:(0,Z.jsx)(ze,{asset:o})})]})})}function Ze(e){var t=e.isOwner,n=e.asset,r=e.accountId,o=e.networkId,c=e.onRecycleUtxo,d=(0,l.default)(),u=function(e){switch(e.asset.type){case h.NFTAssetType.EVM:return{ImageContent:Ke,DetailContent:Re};case h.NFTAssetType.SOL:return{ImageContent:$e,DetailContent:Ge};case h.NFTAssetType.BTC:return{ImageContent:se,DetailContent:te};default:return{ImageContent:function(){return null},DetailContent:function(){return null}}}}({asset:n}),f=u.ImageContent,m=u.DetailContent,g=(0,s.useSafeAreaInsets)().bottom;return d||p.default.isNativeIOSPad?(0,Z.jsxs)(a.ScrollView,{p:"16px",children:[(0,Z.jsx)(f,{asset:n,isOwner:t,networkId:o}),(0,Z.jsx)(i.default,{mt:"24px",mb:g,children:(0,Z.jsx)(m,{asset:n,isOwner:t,networkId:o,accountId:r,onRecycleUtxo:c})})]}):(0,Z.jsxs)(i.default,{flexDirection:"row",children:[(0,Z.jsx)(f,{asset:n,isOwner:t,networkId:o}),(0,Z.jsx)(a.ScrollView,{h:"640px",p:"24px",children:(0,Z.jsx)(m,{asset:n,isOwner:t,networkId:o,accountId:r,onRecycleUtxo:c})})]})}const qe=function(){var e,t=(0,c.useState)(),n=(0,o.default)(t,2),a=n[0],i=n[1],s=(0,c.useRef)(!1),l=(0,d.useNavigation)(),h=(0,d.useRoute)().params,g=h.asset,y=h.isOwner,v=h.accountId,b=h.networkId,x=h.onRecycleUtxo;return(0,c.useEffect)((function(){var e;(0,f.isAllNetworks)(b)?m.default.serviceAccount.getAccountByAddress({address:null!=(e=g.accountAddress)?e:"",networkId:g.networkId}).then((function(e){e&&i(null==e?void 0:e.id)})):i(v)}),[g,v,b]),(0,Z.jsxs)(r.default,{size:"2xl",height:"640px",maxHeight:"640px",footer:null,headerShown:!1,staticChildrenProps:{flex:1},children:[(0,Z.jsx)(u.default,{position:"absolute",top:p.default.isExtensionUiPopup?"8px":"24px",right:p.default.isExtensionUiPopup?"8px":"24px",zIndex:1,onPress:function(){s.current=!0,null==l.goBack||l.goBack()}}),(0,Z.jsx)(Ze,{asset:g,isOwner:y,networkId:null!=(e=g.networkId)?e:b,accountId:a,onRecycleUtxo:x})]})}},665277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InscriptionContentType:()=>R,getBTCListComponent:()=>ee});var r=n(942013),o=n(256666),a=n(18861),i=n(866904),s=n(459740),l=n(202784),c=(n(213208),n(592323)),d=n(552322),u=["size","asset","showOrigin"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=function(e){var t=e.size,n=e.asset,r=e.showOrigin,o=(0,s.default)(e,u),f="number"===typeof t?`${t}px`:t,m=(0,l.useCallback)((function(e){}),[]),h=(0,l.useCallback)((function(){return r?(0,d.jsx)(c.default,{containerProps:{width:f,height:f},isSpinnerLoading:!0,src:n.contentUrl,onWebViewRef:m,scrolling:"no"}):(0,d.jsx)(i.default,{textAlign:"center",width:f,typography:"Body1Mono",numberOfLines:0,color:"text-subdued",children:n.content_type.toUpperCase().split(";")[0]})}),[n.contentUrl,n.content_type,f,m,r]);return(0,d.jsx)(a.default,p(p({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",size:f},o),{},{children:h()}))};var h=n(550398),g=n(225447),y=["size","asset"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const x=function(e){var t,n=e.size,r=e.asset,o=(0,s.default)(e,y),i="number"===typeof n?`${n}px`:n;return(0,d.jsx)(a.default,b(b({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",size:i},o),{},{children:null!=r&&r.content&&(null==r||null==(t=r.content)?void 0:t.length)>0?(0,d.jsx)(g.default,{size:i,source:{uri:r.content}}):(0,d.jsx)(h.default,{width:i,height:i,resizeMode:"contain",skeleton:!0,src:r.contentUrl})}))};var w=n(15304),_=["size","asset"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const j=function(e){var t=e.size,n=(e.asset,(0,s.default)(e,_)),r="number"===typeof t?`${t}px`:t;return(0,d.jsx)(a.default,I(I({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",size:r},n),{},{children:(0,d.jsx)(w.default,{width:40,height:40})}))};var O=["size","asset"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const P=function(e){var t=e.size,n=e.asset,r=(0,s.default)(e,O),o="number"===typeof t?`${t}px`:t;return(0,d.jsx)(a.default,S(S({size:o,flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",bgColor:"background-default"},r),{},{children:(0,d.jsx)(i.default,{textAlign:"center",width:o,typography:"Body1Mono",numberOfLines:0,color:"text-subdued",children:n.content_type.toUpperCase()})}))};var C=["size","asset"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const E=function(e){var t=e.size,n=e.asset,r=(0,s.default)(e,C),o="number"===typeof t?`${t}px`:t,i=(0,l.useCallback)((function(){var e;return null!=n&&n.content&&(null==n||null==(e=n.content)?void 0:e.length)>0?(0,d.jsx)(g.default,{size:o,source:{uri:n.content}}):(0,d.jsx)("iframe",{title:"iframe-web",src:n.contentUrl,frameBorder:"0",style:{height:"100%",width:"100%",pointerEvents:"none"}})}),[n,o,t]);return(0,d.jsx)(a.default,A(A({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",size:o},r),{},{children:i()}))};var R,D=n(785505),N=n.n(D),L=n(301842),B=n.n(L),F=n(196234),U=n(789644),H=n.n(U),W=n(12017),V=n.n(W),z=["asset"],K=["asset"];function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=e.asset,n=(0,l.useState)(""),o=(0,F.default)(n,2),a=o[0],i=o[1],s=t.contentUrl,c=t.networkId;return(0,l.useEffect)((function(){var e=s&&((null==s?void 0:s.startsWith("http://"))||(null==s?void 0:s.startsWith("https://")));c===r.OnekeyNetwork.tbtc&&e&&s&&H().get(s).then((function(e){var t=e.data;B()(t)||i(N()(t)?t:V()(t))}))}),[s,c]),a}function q(e){var t=e.asset,n=(0,s.default)(e,z);return(0,d.jsx)(a.default,$($({flexDirection:"column",overflow:"hidden",justifyContent:"center",alignItems:"center",bgColor:"background-default",paddingX:"4px"},n),{},{children:(0,d.jsx)(i.default,{numberOfLines:8,width:Number(n.size)-8,typography:"CaptionMono",color:"text-subdued",textAlign:"center",children:t.content})}))}function X(e){var t=e.asset,n=Z({asset:t});return n?(t.content=n,(0,d.jsx)(q,$({},e))):(0,d.jsx)(P,$({},e))}function Y(e){var t=e.asset,n=(0,s.default)(e,K);return(0,d.jsx)(a.default,$($({flexDirection:"column",justifyContent:"center",alignItems:"center"},n),{},{children:(0,d.jsx)(i.default,{numberOfLines:10,width:180,typography:"CaptionMono",children:t.content})}))}function Q(e){var t=e.asset,n=Z({asset:t});return n?(t.content=n,(0,d.jsx)(Y,$({},e))):(0,d.jsx)(P,$({},e))}function J(e){var t=e.contentType,n=e.sizeType,o=e.networkId;return console.log("contentType",t),t.startsWith(R.ImagePNG)||t.startsWith(R.ImageJEPG)||t.startsWith(R.ImageWEBP)||t.startsWith(R.ImageGIF)?x:t.startsWith(R.HTML)?m:t.startsWith(R.ImageSVG)?E:"history"===n?j:t===R.Text?o===r.OnekeyNetwork.tbtc?"list"===n?X:Q:"list"===n?q:Y:P}function ee(e){var t=e.data,n=e.sizeType;return{Component:J({contentType:t.content_type,sizeType:n,networkId:t.networkId})}}!function(e){e.Text="text/plain;charset=utf-8",e.ImagePNG="image/png",e.ImageJEPG="image/jpeg",e.ImageWEBP="image/webp",e.ImageSVG="image/svg+xml",e.ImageGIF="image/gif",e.HTML="text/html"}(R||(R={}))},431440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(18861),o=n(256666),a=n(459740),i=n(790656),s=n(348711),l=n(502348),c=n(552322),d=["url","thumbnail","asset","resizeMode","size","skeleton"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=function(e){var t,n=e.url,o=e.thumbnail,u=void 0===o||o,p=e.asset,m=e.resizeMode,h=e.size,g=e.skeleton,y=void 0!==g&&g,v=(0,a.default)(e,d),b=null!=n?n:p.nftscanUri,x=u?p.image.thumbnail:p.image.source,w=(0,i.getImageWithAsset)(p),_=null!=(t=p.contractTokenId)?t:p.tokenAddress;return w&&_?(0,c.jsx)(r.default,f(f({size:`${h}px`},v),{},{overflow:"hidden",children:(0,c.jsx)(s.default,{alt:void 0,resizeMode:m,width:`${h}px`,height:`${h}px`,url:b,s3Url:x,nftSource:{contractAddress:p.contractAddress,tokenId:_,url:w},skeleton:y,bgColor:"surface-neutral-default",fallbackElement:(0,c.jsx)(l.MemoFallbackElement,f({contentType:p.contentType,logoUrl:p.collection.logoUrl,size:h},v))})})):(0,c.jsx)(l.MemoFallbackElement,f({contentType:p.contentType,logoUrl:p.collection.logoUrl,size:h},v))}},812895:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convertToMoneyFormat:()=>a,navigateToNFTCollection:()=>i,navigateToNFTDetail:()=>s});var r=n(493877),o=n(481047);function a(e){var t=Math.abs(Number(e));for(var n of[{unit:"B",value:1e9},{unit:"M",value:1e6},{unit:"K",value:1e3}]){var r=n.unit,o=n.value;if(t>=o)return`${(t/o).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")}${r}`}return t.toString()}function i(e){var t=e.accountId,n=e.networkId,a=e.collection,i=(0,r.getAppNavigation)();t&&n&&i.navigate(o.RootRoutes.Modal,{screen:o.ModalRoutes.Collectibles,params:{screen:o.CollectiblesModalRoutes.CollectionModal,params:{collectible:a,networkId:n,accountId:t}}})}function s(e){var t=e.accountId,n=e.networkId,a=e.asset,i=(0,r.getAppNavigation)();t&&n&&i.navigate(o.RootRoutes.Modal,{screen:o.ModalRoutes.Collectibles,params:{screen:o.CollectiblesModalRoutes.NFTDetailModal,params:{asset:a,accountId:t,networkId:n,isOwner:!0}}})}},336782:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{WalletHomeTabEnum:()=>r}),function(e){e.Tokens="Tokens",e.Collectibles="Collectibles",e.History="History",e.Tools="Tools"}(r||(r={}))},317279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(634795);function o(){return(o=(0,r.default)((function*(){return(yield n.e(70248).then(n.bind(n,870248))).providers}))).apply(this,arguments)}const a={getModule:function(){return o.apply(this,arguments)}}},438760:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INTERNAL_METHOD_PREFIX:()=>o,PROVIDER_API_METHOD_PREFIX:()=>a,backgroundClass:()=>s,backgroundMethod:()=>c,bindThis:()=>f,permissionRequired:()=>u,providerApiMethod:()=>d});var r=n(402814);var o="INTERNAL_",a="PROVIDER_API_",i=function(e){return!!e&&"[object Function]"==={}.toString.call(e)};function s(){return function(e){return e}}function l(e){var t=e.prefix;return function(e,n,o){return"function"!==typeof o.value&&(0,r.throwCrossError)("@backgroundMethod() / providerApiMethod only available for method or function.",n),e[`${t}${n}`]=o.value,o}}function c(){return l({prefix:o})}function d(){return l({prefix:a})}function u(){return function(e,t,n){var r=n.value;return i(r)&&(n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}),n}}function f(){return function(e,t,n){if(!n||"function"!==typeof n.value)throw new TypeError(`Only methods can be decorated with @bind. <${t}> is not a method!`);return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}}},402814:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DISPATCH_ACTION_BROADCAST_METHOD_NAME:()=>q,ENABLED_DAPP_SCOPE:()=>G,MAX_LOG_LENGTH:()=>z,REPLACE_WHOLE_STATE:()=>X,buildReduxBatchAction:()=>Y,ensureBackgroundObject:()=>F,ensurePromiseObject:()=>N,ensureSerializable:()=>D,fetchData:()=>Q,getNetworkImplFromDappScope:()=>$,isDappScopeMatchNetwork:()=>Z,isSerializable:()=>R,makeTimeoutPromise:()=>H,throwCrossError:()=>E,throwMethodNotFound:()=>L,waitAsync:()=>U,waitForDataLoaded:()=>W,warningIfNotRunInBackground:()=>B});var r=n(545455),o=n.n(r),a=n(301842),i=n.n(a),s=n(161049),l=n.n(s),c=n(634795),d=n(986152),u=n.n(d),f=n(497030),p=n.n(f),m=n(785505),h=n.n(m),g=n(680537),y=n.n(g),v=n(304335),b=n.n(v),x=n(925877),w=n.n(x),_=n(684336),k=n.n(_),I=n(199578),j=n(789644),O=n.n(j),T=n(819126),S=n.n(T),P=n(344714),C=n(112889),M=n(613549),A=(n(221847),n(292147));n(213208);function E(e){throw new Error(e)}function R(e){if(k()(e)||w()(e)||b()(e)||y()(e)||h()(e)||e instanceof Error)return!0;if(!p()(e)&&!u()(e))return!1;for(var t in e)if(!R(e[t]))return!1;return!0}function D(e){return e}function N(e,t){t.serviceName,t.methodName}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];E(`DApp Provider or Background method not support (method=${t.join(".")}), try to add method decorators @backgroundMethod() or @providerApiMethod()`)}function B(e){e.name,e.target}function F(e){return e}function U(e){return new Promise((function(t){setTimeout(t,e)}))}function H(e){var t=e.asyncFunc,n=e.timeout,r=e.timeoutResult;return new Promise((function(e){var o=!1,a=setTimeout((function(){o||(o=!0,e(r))}),n);t().then((function(t){o||(o=!0,clearTimeout(a),e(t))}))}))}function W(e){return V.apply(this,arguments)}function V(){return V=(0,c.default)((function*(e){var t=e.data,n=e.wait,r=void 0===n?600:n,a=e.logName,s=e.timeout,l=void 0===s?0:s,d=!1,f=null,m=[].concat(t);l&&(f=setTimeout((function(){d=!0}),l));for(var h=function*(){var e=!0;if(yield Promise.all(m.map(function(){var t=(0,c.default)((function*(t){var n=yield t();!1!==n?(i()(n)||o()(n)&&(p()(n)||u()(n)))&&(e=!1):e=!1}));return function(e){return t.apply(this,arguments)}}())),e||d)return"break";yield U(r)};;){if("break"===(yield*h()))break}if(clearTimeout(f),d)throw new Error(`waitForDataLoaded: ${null!=a?a:""} timeout`)})),V.apply(this,arguments)}var z=1e3,K={btc:M.IMPL_BTC,ethereum:M.IMPL_EVM,near:M.IMPL_NEAR,conflux:M.IMPL_CFX,solana:M.IMPL_SOL,sollet:M.IMPL_SOL,starcoin:M.IMPL_STC,aptos:M.IMPL_APTOS,martian:M.IMPL_APTOS,tron:M.IMPL_TRON,algo:M.IMPL_ALGO,sui:M.IMPL_SUI,cardano:M.IMPL_ADA,cosmos:M.IMPL_COSMOS,polkadot:M.IMPL_DOT,webln:M.IMPL_LIGHTNING,nostr:void 0,$hardware_sdk:void 0,$private:void 0},G=[I.IInjectedProviderNames.btc,I.IInjectedProviderNames.ethereum,I.IInjectedProviderNames.starcoin,I.IInjectedProviderNames.near,I.IInjectedProviderNames.solana,I.IInjectedProviderNames.aptos,I.IInjectedProviderNames.conflux,I.IInjectedProviderNames.tron,I.IInjectedProviderNames.algo,I.IInjectedProviderNames.sui,I.IInjectedProviderNames.cardano,I.IInjectedProviderNames.cosmos,I.IInjectedProviderNames.polkadot,I.IInjectedProviderNames.webln];function $(e){return K[e]}var Z=function(e,t){return!e||!t||K[e]===t},q="dispatchActionBroadcast",X="REPLACE_WHOLE_STATE";function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t&&t.length){if(t&&t.length>1){return function(e,n){(0,P.batch)((function(){t.forEach((function(t){if(l()(t))throw new Error("backgroundApi.dispatch ERROR:  async action is NOT allowed.");t&&(t.$isDispatchFromBackground=!0),e(t)}))}))}}var r=null==t?void 0:t[0];return r&&(r.$isDispatchFromBackground=!0),r}}function Q(e){return J.apply(this,arguments)}function J(){return J=(0,c.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET",o=(0,C.getFiatEndpoint)(),a=["post","put"].includes(r.toLowerCase()),i=`${o}${e}${a?"":`?${S().stringify(t)}`}`;try{var s={url:i,method:r,data:a?t:void 0};return(yield O().request(s)).data}catch(l){return A.default.http.error(`backgroundApi.fetchData ERROR: request api ${i}`,l),n}})),J.apply(this,arguments)}},426581:e=>{var t=void 0!=={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"web",slug:"web",version:"0.0.1",web:{},description:"Multi-chain support for BTC/ETH/BNB/NEAR/Polygon/Solana/Avalanche/Fantom and others",sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.JEST_WORKER_ID||!1;e.exports={isJest:t,isDev:!1,isProduction:!0,isWeb:!0,isWebEmbed:!1,isDesktop:!1,isExtension:!1,isNative:!1,isExtChrome:false,isExtFirefox:false}},220033:(e,t,n)=>{"use strict";n.r(t),n.d(t,{backupPlatform:()=>o,deleteFile:()=>u,downloadFromCloud:()=>f,isAvailable:()=>a,listFiles:()=>d,loginIfNeeded:()=>i,logoutFromGoogleDrive:()=>l,sync:()=>c,uploadToCloud:()=>m});var r=n(634795);function o(){return{cloudName:"",platform:""}}function a(){return Promise.resolve(!1)}function i(e){return s.apply(this,arguments)}function s(){return(s=(0,r.default)((function*(e){return Promise.resolve(!0)}))).apply(this,arguments)}function l(e){return Promise.resolve(!0)}function c(){return Promise.resolve(!0)}function d(e){return Promise.resolve([])}function u(e){return Promise.resolve(!1)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,r.default)((function*(e){return Promise.resolve("")}))).apply(this,arguments)}function m(e,t){return Promise.resolve()}},670165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CERTIFICATE_URL:()=>d,COVALENT_API_KEY:()=>o,HARDWARE_BRIDGE_DOWNLOAD_URL:()=>c,HARDWARE_SDK_IFRAME_SRC_ONEKEYCN:()=>s,HARDWARE_SDK_IFRAME_SRC_ONEKEYSO:()=>i,HARDWARE_SDK_VERSION:()=>l,JPUSH_KEY:()=>a,MAX_PAGE_CONTAINER_WIDTH:()=>r});var r=1024,o="ckey_26a30671d9c941069612f10ac53",a={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"web",slug:"web",version:"0.0.1",web:{},description:"Multi-chain support for BTC/ETH/BNB/NEAR/Polygon/Solana/Avalanche/Fantom and others",sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.JPUSH_KEY,i="https://jssdk.onekey.so",s={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"web",slug:"web",version:"0.0.1",web:{},description:"Multi-chain support for BTC/ETH/BNB/NEAR/Polygon/Solana/Avalanche/Fantom and others",sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.HARDWARE_SDK_CONNECT_SRC_ONEKEYCN||"https://jssdk.onekeycn.com",l="0.3.39",c="https://onekey.so/download/?client=bridge",d="https://certificate.onekey.so/verify"},771340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FAKE_ALL_NETWORK:()=>r,FAKE_NOSTR_NETWORK:()=>o});var r={id:"all--0",impl:"all",chainId:"0",code:"allnetworks",defaultEnabled:!0,isTestnet:!1,priceConfigs:[],explorers:[],rpcURLs:[],feeMeta:{symbol:"allnetwork",decimals:0,code:"allnetwork"},balance2FeeDecimals:0,decimals:0,status:"LISTED",name:"All Networks",symbol:"All Networks",shortname:"All Networks",shortcode:"allnetworks",extensions:{},clientApi:{},logoURI:"https://common.onekey-asset.com/chain/all.png"},o={id:"nostr--0",impl:"nostr",chainId:"0",code:"nostr",defaultEnabled:!0,isTestnet:!1,priceConfigs:[],explorers:[],rpcURLs:[],feeMeta:{symbol:"nostr",decimals:0,code:"nostr"},balance2FeeDecimals:0,decimals:0,status:"LISTED",name:"Nostr",symbol:"Nostr",shortname:"Nostr",shortcode:"nostr",extensions:{},clientApi:{},logoURI:"https://common.onekey-asset.com/chain/all.png"}},942013:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OnekeyNetwork:()=>r});var r=n(683613).serverPresetNetworks.reduce((function(e,t){return e[t.shortcode]=t.id,e}),{})},683613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OnekeyNetworkUpdatedAt:()=>a,serverPresetNetworks:()=>o});var r=n(771340),o=[{balance2FeeDecimals:6,chainId:"0",code:"ada",decimals:6,id:"ada--0",impl:"ada",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/ada/ada.png",name:"Cardano",rpcURLs:[{url:"https://node.onekey.so/ada"}],shortcode:"ada",shortname:"Cardano",symbol:"ADA",feeMeta:{code:"ada",decimals:6,symbol:"ada"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"cardano",platform:"cardano"}],explorers:[{address:"https://cardanoscan.io/address/{address}",block:"https://cardanoscan.io/block/{block}",name:"https://cardanoscan.io/",transaction:"https://cardanoscan.io/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"4160",code:"algo",decimals:6,extensions:{position:15},id:"algo--4160",impl:"algo",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/algo/algo.png",name:"Algorand",rpcURLs:[{indexer:"https://algosigner.api.purestake.io/mainnet/indexer",url:"https://algosigner.api.purestake.io/mainnet/algod"},{indexer:"https://algosigner.api.purestake.io/mainnet/indexer",url:"https://node.onekey.so/algo"}],shortcode:"algo",shortname:"ALGO",symbol:"ALGO",feeMeta:{code:"algo",decimals:6,symbol:"ALGO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"algorand",platform:"algorand"},{channel:"yahoo",native:"ALGO"}],explorers:[{address:"https://algoexplorer.io/address/{address}",block:"https://algoexplorer.io/block/{block}",name:"https://algoexplorer.io/",transaction:"https://algoexplorer.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"talgo",decimals:6,id:"algo--1",impl:"algo",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/talgo/talgo.png",name:"Algorand Testnet",rpcURLs:[{indexer:"https://algosigner.api.purestake.io/testnet/indexer",url:"https://algosigner.api.purestake.io/testnet/algod"}],shortcode:"talgo",shortname:"TALGO",symbol:"TALGO",feeMeta:{code:"talgo",decimals:6,symbol:"TALGO"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.algoexplorer.io/address/{address}",block:"https://testnet.algoexplorer.io/block/{block}",name:"https://testnet.algoexplorer.io/",transaction:"https://testnet.algoexplorer.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"apt",decimals:8,id:"aptos--1",impl:"aptos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/apt/apt.png",name:"Aptos",rpcURLs:[{url:"https://fullnode.mainnet.aptoslabs.com"},{url:"https://mainnet.aptoslabs.com"},{url:"https://fullnode.mainnet.martianwallet.xyz"},{url:"https://rpc.mainnet.aptos.fernlabs.xyz"},{url:"https://node.onekey.so/apt"}],shortcode:"apt",shortname:"APT",symbol:"APT",feeMeta:{code:"apt",decimals:8,symbol:"APT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"aptos"}],explorers:[{address:"https://explorer.aptoslabs.com/account/{address}/?network=mainnet",block:"https://explorer.aptoslabs.com/txn/{block}/?network=mainnet",name:"https://explorer.aptoslabs.com/?network=mainnet",transaction:"https://explorer.aptoslabs.com/txn/{transaction}/?network=mainnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"2",code:"tapt",decimals:8,id:"aptos--2",impl:"aptos",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tapt/tapt.png",name:"Aptos Testnet",rpcURLs:[{url:"https://testnet.aptoslabs.com"}],shortcode:"tapt",shortname:"TAPT",symbol:"TAPT",feeMeta:{code:"tapt",decimals:8,symbol:"TAPT"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.aptoslabs.com/account/{address}/?network=testnet",block:"https://explorer.aptoslabs.com/txn/{block}/?network=testnet",name:"https://explorer.aptoslabs.com/?network=testnet",transaction:"https://explorer.aptoslabs.com/txn/{transaction}/?network=testnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"bch",decimals:8,id:"bch--0",impl:"bch",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/bch.png",name:"Bitcoin Cash",rpcURLs:[{url:"https://fiat.onekeycn.com/book/bch"},{url:"https://node.onekey.so/bch"}],shortcode:"bch",shortname:"BCH",symbol:"BCH",feeMeta:{code:"bch",decimals:8,symbol:"BCH"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"bitcoin-cash"}],explorers:[{address:"https://bchblockexplorer.com/address/{address}",block:"https://bchblockexplorer.com/block/{block}",name:"https://bchblockexplorer.com/",transaction:"https://bchblockexplorer.com/tx/{transaction}"},{address:"https://blockexplorer.one/bitcoin-cash/mainnet/address/{address}",block:"https://blockexplorer.one/bitcoin-cash/mainnet/blockHash/{block}",name:"https://blockexplorer.one/bitcoin-cash/mainnet",transaction:"https://blockexplorer.one/bitcoin-cash/mainnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"btc",decimals:8,extensions:{position:1,providerOptions:{hardwareCoinName:"btc"}},id:"btc--0",impl:"btc",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/btc/btc.png",name:"Bitcoin",rpcURLs:[{url:"https://node.onekey.so/btc"},{url:"https://1rpc.io/btc"}],shortcode:"btc",shortname:"BTC",symbol:"BTC",feeMeta:{code:"btc",decimals:8,symbol:"BTC"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"bitcoin",platform:"ordinals"}],explorers:[{address:"https://mempool.space/address/{address}",block:"https://mempool.space/block/{block}",name:"https://mempool.space/",transaction:"https://mempool.space/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1029",code:"cfx",decimals:18,extensions:{position:14},id:"cfx--1029",impl:"cfx",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cfx/cfx.png",name:"Conflux",rpcURLs:[{url:"https://main.confluxrpc.com"},{url:"https://node.onekey.so/cfx"}],shortcode:"cfx",shortname:"CFX",symbol:"CFX",feeMeta:{code:"cfx",decimals:18,symbol:"CFX"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"conflux"}],explorers:[{address:"https://confluxscan.io/address/{address}",block:"https://confluxscan.io/block/{block}",name:"https://confluxscan.io/",transaction:"https://confluxscan.io/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"tcfx",decimals:18,id:"cfx--1",impl:"cfx",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tcfx/tcfx.png",name:"Conflux Testnet",rpcURLs:[{url:"https://test.confluxrpc.com"}],shortcode:"tcfx",shortname:"TCFX",symbol:"TCFX",feeMeta:{code:"tcfx",decimals:18,symbol:"TCFX"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.confluxscan.io/address/{address}",block:"https://testnet.confluxscan.io/block/{block}",name:"https://testnet.confluxscan.io/",transaction:"https://testnet.confluxscan.io/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"akashnet-2",code:"akash",decimals:6,extensions:{providerOptions:{addressPrefix:"akash",curve:"secp256k1",gasPriceStep:{min:"0"},mainCoinDenom:"uakt"}},id:"cosmos--akashnet-2",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/akash/akash.png",name:"Akash",rpcURLs:[{url:"https://lcd-akash.keplr.app/"},{url:"https://api.akash.forbole.com"},{url:"https://rest-akash.ecostake.com"},{url:"https://node.onekey.so/akash"}],shortcode:"akash",shortname:"Akash",symbol:"AKT",feeMeta:{code:"akash",decimals:6,symbol:"AKT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"akash-network"},{channel:"yahoo",native:"AKT"}],explorers:[{address:"https://www.mintscan.io/akash/account/{address}",block:"https://www.mintscan.io/akash/blocks/{block}",name:"https://www.mintscan.io/akash/",transaction:"https://www.mintscan.io/akash/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"cosmoshub-4",code:"cosmoshub",decimals:6,extensions:{providerOptions:{addressPrefix:"cosmos",curve:"secp256k1",gasPriceStep:{min:"0"},mainCoinDenom:"uatom"}},id:"cosmos--cosmoshub-4",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cosmos/cosmos.png",name:"Cosmos",rpcURLs:[{url:"https://lcd-cosmoshub.keplr.app"},{url:"https://cosmos-lcd.quickapi.com"},{url:"https://lcd-cosmoshub.blockapsis.com"},{url:"https://node.onekey.so/cosmos"}],shortcode:"cosmoshub",shortname:"Cosmos",symbol:"ATOM",feeMeta:{code:"cosmoshub",decimals:6,symbol:"ATOM"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"cosmos"},{channel:"yahoo",native:"ATOM"}],explorers:[{address:"https://www.mintscan.io/cosmos/account/{address}",block:"https://www.mintscan.io/cosmos/blocks/{block}",name:"https://www.mintscan.io/cosmos/",transaction:"https://www.mintscan.io/cosmos/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"crypto-org-chain-mainnet-1",code:"cryptoorgchain",decimals:8,extensions:{providerOptions:{addressPrefix:"cro",curve:"secp256k1",mainCoinDenom:"basecro",gasPriceStep:{high:"0.04",low:"0.025",normal:"0.03"}}},id:"cosmos--crypto-org-chain-mainnet-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cryptoorg/cryptoorg.png",name:"Crypto.org",rpcURLs:[{url:"https://api-cryptoorgchain-ia.cosmosia.notional.ventures"},{url:"https://rest-cryptoorgchain.ecostake.com/"},{url:"https://lcd-crypto-org.keplr.app/"},{url:"https://rest-cryptoorgchain.ecostake.com"},{url:"https://node.onekey.so/crypto"}],shortcode:"cryptoorgchain",shortname:"Crypto.org",symbol:"CRO",feeMeta:{code:"cryptoorgchain",decimals:8,symbol:"CRO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"crypto-com-chain"},{channel:"yahoo",native:"CRO"}],explorers:[{address:"https://www.mintscan.io/crypto-org/account/{address}",block:"https://www.mintscan.io/crypto-org/blocks/{block}",name:"https://www.mintscan.io/crypto-org/",transaction:"https://www.mintscan.io/crypto-org/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"fetchhub-4",code:"fetch",decimals:18,extensions:{providerOptions:{addressPrefix:"fetch",curve:"secp256k1",gasPriceStep:{high:"0.035",low:"0.025",normal:"0.025"},mainCoinDenom:"afet"}},id:"cosmos--fetchhub-4",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fetch/fetch.png",name:"Fetch.ai",rpcURLs:[{url:"https://lcd-fetchhub.keplr.app"},{url:"https://rest-fetchhub.fetch.ai"},{url:"https://api-fetchhub-ia.cosmosia.notional.ventures"},{url:"https://fetch-api.polkachu.com"},{url:"https://node.onekey.so/fetch"}],shortcode:"fetch",shortname:"Fetch.ai",symbol:"FET",feeMeta:{code:"fetch",decimals:18,symbol:"FET"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"fetch-ai"}],explorers:[{address:"https://www.mintscan.io/fetchai/account/{address}",block:"https://www.mintscan.io/fetchai/blocks/{block}",name:"https://www.mintscan.io/fetchai/",transaction:"https://www.mintscan.io/fetchai/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"juno-1",code:"juno",decimals:6,extensions:{providerOptions:{addressPrefix:"juno",curve:"secp256k1",gasPriceStep:{high:"0.125",low:"0.075",min:"0.075",normal:"0.1"},mainCoinDenom:"ujuno"}},id:"cosmos--juno-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/juno/juno.png",name:"Juno",rpcURLs:[{url:"https://lcd-juno.keplr.app"},{url:"https://lcd-juno.itastakers.com"},{url:"https://api.juno.chaintools.tech"},{url:"https://api.juno.silknodes.io"},{url:"https://node.onekey.so/juno"}],shortcode:"juno",shortname:"Juno",symbol:"JUNO",feeMeta:{code:"juno",decimals:6,symbol:"JUNO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"juno-network"}],explorers:[{address:"https://www.mintscan.io/juno/account/{address}",block:"https://www.mintscan.io/juno/blocks/{block}",name:"https://www.mintscan.io/juno/",transaction:"https://www.mintscan.io/juno/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"osmosis-1",code:"osmosis",decimals:6,extensions:{providerOptions:{addressPrefix:"osmo",curve:"secp256k1",gasPriceStep:{high:"0.04",low:"0.0025",min:"0.0025",normal:"0.025"},mainCoinDenom:"uosmo"}},id:"cosmos--osmosis-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/osmosis/osmosis.png",name:"Osmosis",rpcURLs:[{url:"https://lcd-osmosis.keplr.app/"},{url:"https://lcd-osmosis.blockapsis.com/"},{url:"https://lcd.osmosis.zone"},{url:"https://osmosis-lcd.quickapi.com"},{url:"https://node.onekey.so/osmosis"}],shortcode:"osmosis",shortname:"Osmosis",symbol:"OSMO",feeMeta:{code:"osmosis",decimals:6,symbol:"OSMO"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"osmosis"},{channel:"yahoo",native:"OSMO"}],explorers:[{address:"https://www.mintscan.io/osmosis/account/{address}",block:"https://www.mintscan.io/osmosis/blocks/{block}",name:"https://www.mintscan.io/osmosis/",transaction:"https://www.mintscan.io/osmosis/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"celestia",code:"celestia",decimals:6,extensions:{providerOptions:{addressPrefix:"celestia",curve:"secp256k1",gasPriceStep:{high:"0.1",low:"0.01",min:"0.002",normal:"0.02"},mainCoinDenom:"utia"}},id:"cosmos--celestia",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/celestia/celestia.png",name:"Celestia",rpcURLs:[{url:"https://lcd-celestia.keplr.app/"},{url:"https://public-celestia-lcd.numia.xyz"},{url:"https://celestia-rest.publicnode.com"},{url:"https://api.celestia.nodestake.top"}],shortcode:"celestia",shortname:"Celestia",symbol:"Tia",feeMeta:{code:"tia",decimals:6,symbol:"Tia"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"celestia"}],explorers:[{address:"https://www.mintscan.io/celestia/account/{address}",block:"https://www.mintscan.io/celestia/blocks/{block}",name:"https://www.mintscan.io/celestia/",transaction:"https://www.mintscan.io/celestia/txs/{transaction}"}],status:"LISTED",createdAt:"2023-12-05T00:00:24.951Z",updatedAt:"2023-12-05T00:00:24.951Z"},{balance2FeeDecimals:0,chainId:"phoenix-1",code:"terra",decimals:6,extensions:{providerOptions:{addressPrefix:"terra",curve:"secp256k1",gasPriceStep:{high:"0.15",low:"0.0125",normal:"0.015"},mainCoinDenom:"uluna"}},id:"cosmos--phoenix-1",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/terra2/terra2.png",name:"Terra",rpcURLs:[{url:"https://phoenix-lcd.terra.dev"}],shortcode:"terra",shortname:"Terra",symbol:"LUNA",feeMeta:{code:"luna",decimals:6,symbol:"LUNA"},defaultEnabled:!1,priceConfigs:[{channel:"coingecko",native:"terra-luna-2"}],explorers:[{address:"https://finder.terra.money/mainnet/address/{address}",block:"https://finder.terra.money/mainnet/blocks/{block}",name:"http://finder.terra.money/",transaction:"https://finder.terra.money/mainnet/tx/{transaction}"}],status:"TRASH",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"secret-4",code:"secretnetwork",decimals:6,extensions:{providerOptions:{addressPrefix:"secret",curve:"secp256k1",gasPriceStep:{min:"0.0125",high:"0.25",low:"0.0125",normal:"0.1"},mainCoinDenom:"uscrt"}},id:"cosmos--secret-4",impl:"cosmos",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/secret/secret.png",name:"Secret Network",rpcURLs:[{url:"https://lcd-secret.keplr.app/"},{url:"https://api.scrt.network/"},{url:"https://secret-api.lavenderfive.com/"},{url:"https://api.secret.forbole.com/"},{url:"https://node.onekey.so/secret"}],shortcode:"secretnetwork",shortname:"Secret Network",symbol:"SCRT",feeMeta:{code:"secretnetwork",decimals:6,symbol:"SCRT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"secret"},{channel:"yahoo",native:"SCRT"}],explorers:[{address:"https://www.mintscan.io/secret/account/{address}",block:"https://www.mintscan.io/secret/blocks/{block}",name:"https://www.mintscan.io/secret/",transaction:"https://www.mintscan.io/secret/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"theta-testnet-001",code:"tatom",decimals:6,extensions:{providerOptions:{addressPrefix:"cosmos",curve:"secp256k1",gasPriceStep:{min:"0"},mainCoinDenom:"uatom"}},id:"cosmos--theta-testnet-001",impl:"cosmos",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/cosmos/cosmos.png",name:"Cosmos Testnet",rpcURLs:[{url:"https://rest.sentry-01.theta-testnet.polypore.xyz"},{url:"https://rest.sentry-02.theta-testnet.polypore.xyz"}],shortcode:"tatom",shortname:"TCosmos",symbol:"TATOM",feeMeta:{code:"tatom",decimals:6,symbol:"TATOM"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.theta-testnet.polypore.xyz/accounts/{address}",block:"https://explorer.theta-testnet.polypore.xyz/blocks/{block}",name:"https://explorer.theta-testnet.polypore.xyz/",transaction:"https://explorer.theta-testnet.polypore.xyz/transactions/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"bbn-test-3",code:"babylontestnet",decimals:6,extensions:{providerOptions:{addressPrefix:"bbn",curve:"secp256k1",gasPriceStep:{min:"0.007",high:"0.01",low:"0.007",normal:"0.007"},mainCoinDenom:"ubbn"}},id:"cosmos--bbn-test-3",impl:"cosmos",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/babylontestnet/babylontestnet.png",name:"Babylon Testnet",rpcURLs:[{url:"https://lcd.testnet3.babylonchain.io"}],shortcode:"tbbn",shortname:"TBBN",symbol:"TBBN",feeMeta:{code:"tbbn",decimals:6,symbol:"TBBN"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://babylon.explorers.guru/account/{address}",block:"https://babylon.explorers.guru/block/{block}",name:"https://babylon.explorers.guru/",transaction:"https://babylon.explorers.guru/transaction/{transaction}"}],status:"LISTED",createdAt:"2024-02-28T01:00:00.000Z",updatedAt:"2024-02-28T01:00:00.000Z"},{balance2FeeDecimals:0,chainId:"0",code:"doge",decimals:8,id:"doge--0",impl:"doge",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/doge/doge.png",name:"Dogecoin",rpcURLs:[{url:"https://fiat.onekeycn.com/book/doge"},{url:"https://node.onekey.so/doge"}],shortcode:"doge",shortname:"DOGE",symbol:"DOGE",feeMeta:{code:"doge",decimals:8,symbol:"DOGE"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"dogecoin"}],explorers:[{address:"https://dogeblocks.com/address/{address}",block:"https://dogeblocks.com/block/{block}",name:"https://dogeblocks.com/",transaction:"https://dogeblocks.com/tx/{transaction}"},{address:"https://dogechain.info/address/{address}",block:"https://dogechain.info/block/{block}",name:"https://dogechain.info/",transaction:"https://dogechain.info/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:18,chainId:"astar",code:"astar",decimals:18,extensions:{providerOptions:{addressPrefix:5,addressRegex:"^[a-bV-Z][a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--astar",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/astar/astar.png",name:"Astar",rpcURLs:[{url:"wss://rpc.astar.network"},{url:"wss://1rpc.io/astr"},{url:"https://1rpc.io/astr"},{url:"wss://astar.api.onfinality.io/public-ws"},{url:"https://astar.api.onfinality.io/public"},{url:"wss://astar-rpc.dwellir.com"}],shortcode:"astar",shortname:"ASTR",symbol:"ASTR",feeMeta:{code:"astar",decimals:18,symbol:"18"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"astar"}],explorers:[{address:"https://astar.subscan.io/account/{address}",block:"https://astar.subscan.io/block/{block}",name:"https://astar.subscan.io/",transaction:"https://astar.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:12,chainId:"kusama",code:"ksm",decimals:12,extensions:{providerOptions:{addressPrefix:2,addressRegex:"^[C-HJ][a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--kusama",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/kusama/kusama.png",name:"Kusama",rpcURLs:[{url:"wss://kusama-rpc.polkadot.io"},{url:"wss://1rpc.io/ksm"},{url:"wss://rpc.dotters.network/kusama"},{url:"wss://kusama.api.onfinality.io/public-ws"},{url:"https://kusama-rpc.polkadot.io"},{url:"https://kusama-node.prod.gke.papers.tech"}],shortcode:"ksm",shortname:"KSM",symbol:"KSM",feeMeta:{code:"dot",decimals:12,symbol:"KSM"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"kusama"}],explorers:[{address:"https://kusama.subscan.io/account/{address}",block:"https://kusama.subscan.io/block/{block}",name:"https://kusama.subscan.io/",transaction:"https://kusama.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:10,chainId:"polkadot",code:"dot",decimals:10,extensions:{providerOptions:{addressPrefix:0,addressRegex:"^1[a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--polkadot",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/polkadot/polkadot.png",name:"Polkadot",rpcURLs:[{url:"wss://rpc.polkadot.io"},{url:"wss://1rpc.io/dot"},{url:"wss://rpc.dotters.network/polkadot"},{url:"wss://polkadot.api.onfinality.io/public-ws"},{url:"https://rpc.polkadot.io"}],shortcode:"dot",shortname:"DOT",symbol:"DOT",feeMeta:{code:"dot",decimals:10,symbol:"DOT"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"polkadot"}],explorers:[{address:"https://polkadot.subscan.io/account/{address}",block:"https://polkadot.subscan.io/block/{block}",name:"https://polkadot.subscan.io/",transaction:"https://polkadot.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:12,chainId:"westend",code:"wnd",decimals:12,extensions:{providerOptions:{addressPrefix:42,addressRegex:"^5[a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--westend",impl:"dot",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/polkadot/polkadot.png",name:"Polkadot Westend",rpcURLs:[{url:"wss://westend-rpc.polkadot.io"},{url:"wss://rpc.dotters.network/westend"},{url:"https://westend-rpc.polkadot.io"}],shortcode:"wnd",shortname:"WND",symbol:"WND",feeMeta:{code:"wnd",decimals:12,symbol:"WND"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://westend.subscan.io/account/{address}",block:"https://westend.subscan.io/block/{block}",name:"https://westend.subscan.io/",transaction:"https://westend.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:18,chainId:"manta",code:"dot-manta",decimals:18,extensions:{providerOptions:{addressPrefix:77,addressRegex:"^df[a-cW-Z][a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--manta",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/manta/manta.png",name:"Manta Atlantic",rpcURLs:[{url:"wss://ws.manta.systems"}],shortcode:"manta",shortname:"MANTA",symbol:"MANTA",feeMeta:{code:"manta",decimals:18,symbol:"MANTA"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://manta.subscan.io/account/{address}",block:"https://manta.subscan.io/block/{block}",name:"https://manta.subscan.io/",transaction:"https://manta.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2024-01-20T00:30:24.951Z",updatedAt:"2024-01-20T00:30:24.951Z"},{balance2FeeDecimals:10,chainId:"joystream",code:"dot-joystream",decimals:10,extensions:{providerOptions:{addressPrefix:126,addressRegex:"^j4[R-X][a-km-zA-HJ-NP-Z1-9]+$"}},id:"dot--joystream",impl:"dot",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/joystream/joystream.png",name:"Joystream",rpcURLs:[{url:"wss://rpc.joystream.org"}],shortcode:"joy",shortname:"JOY",symbol:"JOY",feeMeta:{code:"joy",decimals:10,symbol:"JOY"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"joystream"}],explorers:[{address:"https://joystream.subscan.io/account/{address}",block:"https://joystream.subscan.io/block/{block}",name:"https://joystream.subscan.io/",transaction:"https://joystream.subscan.io/extrinsic/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"1",code:"eth",decimals:18,extensions:{defaultStableTokens:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","0x4fabb145d64652a948d72533023f6e7a623c7c53","0x6b175474e89094c44da98b954eedeac495271d0f"],position:3,providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--1",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/eth/eth.png",name:"Ethereum",rpcURLs:[{url:"https://node.onekey.so/eth"},{url:"https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},{url:"https://cloudflare-eth.com"},{url:"https://rpc.ankr.com/eth"},{url:"https://rpc.flashbots.net"},{url:"https://eth-mainnet.alchemyapi.io/v2/QKMdAyFAARxN-dEm_USOu8-u0klcBuTO"},{url:"https://eth-mainnet.gateway.pokt.network/v1/lb/611156b4a585a20035148406"},{url:"https://api.mycryptoapi.com/eth"},{url:"https://eth-mainnet.gateway.pokt.network/v1/5f3453978e354ab992c4da79"},{url:"https://eth.public-rpc.com"},{url:"https://main-light.eth.linkpool.io"},{url:"https://mainnet-eth.compound.finance"},{url:"https://eth626892d.jccdex.cn"},{url:"https://1rpc.io/eth"},{url:"https://onekey-eth.rpc.blxrbdn.com"}],shortcode:"eth",shortname:"ETH",symbol:"ETH",feeMeta:{code:"eth",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"ethereum"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://cn.etherscan.com/address/{address}",block:"https://cn.etherscan.com/block/{block}",name:"https://cn.etherscan.com/",transaction:"https://cn.etherscan.com/tx/{transaction}"},{address:"https://etherscan.io/address/{address}",block:"https://etherscan.io/block/{block}",name:"https://etherscan.io/",transaction:"https://etherscan.io/tx/{transaction}"},{address:"https://www.oklink.com/eth/address/{address}",block:"https://www.oklink.com/eth/block/{block}",name:"https://www.oklink.com/eth/",transaction:"https://www.oklink.com/eth/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"10",code:"optimism",decimals:18,extensions:{defaultStableTokens:["0x94b008aa00579c1307b0ef2c499ad98a8ce58e58","0x7f5c764cbc14f9669b88837ca1490cca17c31607","0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"],position:11,providerOptions:{contract_gaslimit_multiplier:1}},id:"evm--10",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/optimism/optimism.png",name:"Optimism",rpcURLs:[{url:"https://mainnet.optimism.io"},{url:"https://node.onekey.so/optimism"},{url:"https://1rpc.io/op"}],shortcode:"optimism",shortname:"Optimism",symbol:"ETH",feeMeta:{code:"optimism",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"optimistic-ethereum"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://optimistic.etherscan.io/address/{address}",block:"https://optimistic.etherscan.io/tx/{block}",name:"https://optimistic.etherscan.io/",transaction:"https://optimistic.etherscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"100",code:"xdai",decimals:18,extensions:{defaultStableTokens:["0xddafbb505ad214d7b80b1f830fccc89b60fb7a83","0x3f56e0c36d275367b8c502090edf38289b3dea0d"],position:12},id:"evm--100",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/xdai/gno.png",name:"Gnosis Chain",rpcURLs:[{url:"https://rpc.gnosischain.com"},{url:"https://gnosis-mainnet.public.blastapi.io"},{url:"https://rpc.ankr.com/gnosis"},{url:"https://xdai-rpc.gateway.pokt.network"},{url:"https://gnosischain-rpc.gateway.pokt.network"},{url:"https://node.onekey.so/xdai"}],shortcode:"xdai",shortname:"GNO",symbol:"xDAI",feeMeta:{code:"xdai",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"xdai",platform:"xdai"},{channel:"yahoo",native:"DAI1"}],explorers:[{address:"https://gnosisscan.io/address/{address}",block:"https://gnosisscan.io/block/{block}",name:"https://gnosisscan.io/",transaction:"https://gnosisscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"10001",code:"ethw",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0}},id:"evm--10001",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/ethw/ethw.png",name:"EthereumPoW",rpcURLs:[{url:"https://mainnet.ethereumpow.org"},{url:"https://node.onekey.so/ethw"}],shortcode:"ethw",shortname:"ETHW",symbol:"ETHW",feeMeta:{code:"ethw",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum-pow-iou"}],explorers:[{address:"https://www.oklink.com/ethw/address/{address}",block:"https://www.oklink.com/ethw/block/{block}",name:"https://www.oklink.com/ethw/",transaction:"https://www.oklink.com/ethw/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"1030",code:"cfxespace",decimals:18,id:"evm--1030",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cfx/cfx.png",name:"Conflux eSpace",rpcURLs:[{url:"https://evm.confluxrpc.com"},{url:"https://conflux-espace-public.unifra.io"}],shortcode:"cfxespace",shortname:"CFXESPACE",symbol:"CFX",feeMeta:{code:"cfxespace",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://evm.confluxscan.net/address/{address}",block:"https://evm.confluxscan.net/block/{block}",name:"https://evm.confluxscan.net/",transaction:"https://evm.confluxscan.net/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"128",code:"heco",decimals:18,extensions:{defaultStableTokens:["0xa71edc38d189767582c38a3145b5873052c3e47a","0x0298c2b32eae4da002a15f36fdf7615bea3da047"],position:9},id:"evm--128",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/heco/heco.png",name:"Huobi ECO Chain",rpcURLs:[{url:"https://http-mainnet.hecochain.com"},{url:"https://http-mainnet-node.defibox.com"},{url:"https://node.onekey.so/heco"}],shortcode:"heco",shortname:"HECO",symbol:"HT",feeMeta:{code:"heco",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"huobi-token",platform:"huobi-token"}],explorers:[{address:"https://hecoinfo.com/address/{address}",block:"https://hecoinfo.com/block/{block}",name:"https://hecoinfo.com/",transaction:"https://hecoinfo.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"1313161554",code:"aurora",decimals:18,id:"evm--1313161554",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/aurora/aurora.png",name:"Aurora",rpcURLs:[{url:"https://mainnet.aurora.dev"},{url:"https://node.onekey.so/aurora"},{url:"https://1rpc.io/aurora"}],shortcode:"aurora",shortname:"Aurora",symbol:"ETH",feeMeta:{code:"aurora",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"aurora"}],explorers:[{address:"https://aurorascan.dev/address/{address}",block:"https://aurorascan.dev/block/{block}",name:"https://aurorascan.dev/",transaction:"https://aurorascan.dev/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"137",code:"polygon",decimals:18,extensions:{defaultStableTokens:["0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x2791bca1f2de4661ed88a30c99a7a9449aa84174","0x9fb83c0635de2e815fd1c21b3a292277540c2e8d","0x8f3cf7ad23cd3cadbd9735aff958023239c6a063"],position:5,providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--137",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/polygon/polygon.png",name:"Polygon",rpcURLs:[{url:"https://polygon-rpc.com"},{url:"https://rpc-mainnet.matic.network"},{url:"https://rpc-mainnet.maticvigil.com"},{url:"https://rpc-mainnet.matic.quiknode.pro"},{url:"https://matic-mainnet.chainstacklabs.com"},{url:"https://matic-mainnet-full-rpc.bwarelabs.com"},{url:"https://matic-mainnet-archive-rpc.bwarelabs.com"},{url:"https://node.onekey.so/polygon"},{url:"https://1rpc.io/matic"},{url:"https://onekey-polygon.rpc.blxrbdn.com"}],shortcode:"polygon",shortname:"Polygon",symbol:"MATIC",feeMeta:{code:"polygon",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"matic-network",platform:"polygon-pos"},{channel:"yahoo",native:"MATIC"}],explorers:[{address:"https://polygonscan.com/address/{address}",block:"https://polygonscan.com/block/{block}",name:"https://polygonscan.com/",transaction:"https://polygonscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"25",code:"cronos",decimals:18,extensions:{defaultStableTokens:["0x66e428c3f67a68878562e79a0234c1f83c208770","0xc21223249ca28397b4b6541dffaecc539bff0c59","0x6ab6d61428fde76768d7b45d8bfeec19c6ef91a8","0xf2001b145b43032aaf5ee2884e456ccd805f677d","0x2ae35c8e3d4bd57e8898ff7cd2bbff87166ef8cb"]},id:"evm--25",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/cronos/cronos.png",name:"Cronos",rpcURLs:[{url:"https://mmf-rpc.xstaking.sg"},{url:"https://cronosrpc-1.xstaking.sg"},{url:"https://cronosrpc-2.xstaking.sg"},{url:"https://gateway.nebkas.ro/"},{url:"https://rpc.nebkas.ro/"},{url:"https://rpc.vvs.finance"},{url:"https://node.onekey.so/cronos"}],shortcode:"cronos",shortname:"CRO",symbol:"CRO",feeMeta:{code:"cronos",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"crypto-com-chain",platform:"cronos"},{channel:"yahoo",native:"CRO"}],explorers:[{address:"https://cronos.crypto.org/explorer/address/{address}",block:"https://cronos.crypto.org/explorer/block/{block}",name:"https://cronos.crypto.org/explorer/",transaction:"https://cronos.crypto.org/explorer/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"250",code:"fantom",decimals:18,extensions:{defaultStableTokens:["0x049d68029688eabf473097a2fc38ef61633a3c7a","0x04068da6c83afcfa0e13ba15a6696662335d5b75","0x8d11ec38a3eb5e956b052f67da8bdc9bef8abf3e"],position:6},id:"evm--250",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fantom/fantom.png",name:"Fantom",rpcURLs:[{url:"https://rpc.ftm.tools"},{url:"https://rpc.fantom.network"},{url:"https://rpcapi.fantom.network"},{url:"https://rpc2.fantom.network"},{url:"https://rpc3.fantom.network"},{url:"https://rpc.ankr.com/fantom"},{url:"https://node.onekey.so/fantom"},{url:"https://1rpc.io/ftm"}],shortcode:"fantom",shortname:"FTM",symbol:"FTM",feeMeta:{code:"fantom",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"fantom",platform:"fantom"},{channel:"yahoo",native:"FTM"}],explorers:[{address:"https://ftmscan.com/address/{address}",block:"https://ftmscan.com/block/{block}",name:"https://ftmscan.com/",transaction:"https://ftmscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"288",code:"boba",decimals:18,id:"evm--288",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/boba/boba_1.png",name:"Boba Network",rpcURLs:[{url:"https://mainnet.boba.network"},{url:"https://lightning-replica.boba.network"},{url:"https://boba-mainnet.gateway.pokt.network/v1/lb/623ad21b20354900396fed7f"},{url:"https://node.onekey.so/boba"}],shortcode:"boba",shortname:"Boba",symbol:"ETH",feeMeta:{code:"boba",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"boba"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://blockexplorer.boba.network/address/{address}",block:"https://blockexplorer.boba.network/block/{block}",name:"https://blockexplorer.boba.network/",transaction:"https://blockexplorer.boba.network/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"314",code:"fevm",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--314",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fil/fil.png",name:"Filecoin FEVM",rpcURLs:[{url:"https://node.onekey.so/fevm"},{url:"https://rpc.ankr.com/filecoin"},{url:"https://api.node.glif.io"}],shortcode:"fevm",shortname:"FEVM",symbol:"FIL",feeMeta:{code:"fevm",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"filecoin"}],explorers:[{address:"https://filfox.info/en/address/{address}",block:"https://filfox.info/en/block/{block}",name:"https://filfox.info/en/",transaction:"https://filfox.info/en/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"324",code:"zksyncera",decimals:18,id:"evm--324",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/zksyncera/zksyncera.png",name:"zkSync Era Mainnet",rpcURLs:[{url:"https://zksync2-mainnet.zksync.io"},{url:"https://1rpc.io/zksync2-era"}],shortcode:"zksyncera",shortname:"ZKSYNCERA",symbol:"ETH",feeMeta:{code:"zksyncera",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://explorer.zksync.io/address/{address}",block:"https://explorer.zksync.io/block/{block}",name:"https://explorer.zksync.io/",transaction:"https://explorer.zksync.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"42161",code:"arbitrum",decimals:18,extensions:{defaultStableTokens:["0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9","0xff970a61a04b1ca14834a43f5de4533ebddb5cc8","0xda10009cbd5d07dd0cecc66161fc93d7c9000da1"],position:7},id:"evm--42161",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/arbitrum/arbitrum.png",name:"Arbitrum",rpcURLs:[{url:"https://arb1.arbitrum.io/rpc"},{url:"https://rpc.ankr.com/arbitrum"},{url:"https://node.onekey.so/arbitrum"},{url:"https://1rpc.io/arb"}],shortcode:"arbitrum",shortname:"Arbitrum",symbol:"ETH",feeMeta:{code:"arbitrum",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"arbitrum-one"},{channel:"yahoo",native:"ETH"}],explorers:[{address:"https://arbiscan.io/address/{address}",block:"https://arbiscan.io/block/{block}",name:"https://arbiscan.io/",transaction:"https://arbiscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"42220",code:"celo",decimals:18,extensions:{defaultStableTokens:["0xb9c8f0d3254007ee4b98970b94544e473cd610ec"],position:16},id:"evm--42220",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/celo/celo.png",name:"Celo",rpcURLs:[{url:"https://rpc.ankr.com/celo"},{url:"https://forno.celo.org"},{url:"https://node.onekey.so/celo"},{url:"https://1rpc.io/celo"}],shortcode:"celo",shortname:"CELO",symbol:"CELO",feeMeta:{code:"celo",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"celo",platform:"celo"},{channel:"yahoo",native:"CELO"}],explorers:[{address:"https://explorer.celo.org/address/{address}",block:"https://explorer.celo.org/blocks/{block}",name:"https://explorer.celo.org/",transaction:"https://explorer.celo.org/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"43114",code:"avalanche",decimals:18,extensions:{defaultStableTokens:["0xc7198437980c041c805a1edcba50c1ce5db95118","0xb97ef9ef8734c71904d8002f8b6bc66dd9c48a6e","0x19860ccb0a68fd4213ab9d8266f7bbf05a8dde98","0xd586e7f844cea2f87f50152665bcbc2c279d8d70"],position:8},id:"evm--43114",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/avalanche/avalanche.png",name:"Avalanche",rpcURLs:[{url:"https://api.avax.network/ext/bc/C/rpc"},{url:"https://rpc.ankr.com/avalanche"},{url:"https://node.onekey.so/avalanche"},{url:"https://1rpc.io/avax/c"}],shortcode:"avalanche",shortname:"Avalanche",symbol:"AVAX",feeMeta:{code:"avalanche",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"avalanche-2",platform:"avalanche"},{channel:"yahoo",native:"AVAX"}],explorers:[{address:"https://cchain.explorer.avax.network/address/{address}",block:"https://cchain.explorer.avax.network/blocks/{block}",name:"https://cchain.explorer.avax.network/",transaction:"https://cchain.explorer.avax.network/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"513100",code:"etf",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0}},id:"evm--513100",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/etf/etf.png",name:"Ethereum Fair",rpcURLs:[{url:"https://rpc.etherfair.org"},{url:"https://node.onekey.so/etf"}],shortcode:"etf",shortname:"ETHF",symbol:"ETHF",feeMeta:{code:"etf",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereumfair"}],explorers:[{address:"https://explorer.etherfair.org/address/{address}",block:"https://explorer.etherfair.org/block/{block}",name:"https://explorer.etherfair.org",transaction:"https://explorer.etherfair.org/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"56",code:"bsc",decimals:18,extensions:{defaultStableTokens:["0x55d398326f99059ff775485246999027b3197955","0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d","0xe9e7cea3dedca5984780bafc599bd69add087d56","0x1af3f329e8be154074d8769d1ffa4ee058b1dbc3"],position:4},id:"evm--56",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/bsc/bsc.png",name:"BNB Smart Chain",rpcURLs:[{url:"https://bsc-dataseed1.ninicoin.io"},{url:"https://bsc-dataseed2.ninicoin.io"},{url:"https://bsc-dataseed3.ninicoin.io"},{url:"https://bsc-dataseed4.ninicoin.io"},{url:"https://bsc-dataseed.binance.org"},{url:"https://bsc-dataseed1.binance.org"},{url:"https://bsc-dataseed2.binance.org"},{url:"https://bsc-dataseed3.binance.org"},{url:"https://bsc-dataseed4.binance.org"},{url:"https://bsc-dataseed1.defibit.io"},{url:"https://bsc-dataseed2.defibit.io"},{url:"https://bsc-dataseed3.defibit.io"},{url:"https://bsc-dataseed4.defibit.io"},{url:"https://binance.ankr.com"},{url:"https://binance.nodereal.io"},{url:"https://rpc-bsc.bnb48.club/"},{url:"https://bscrpc.com"},{url:"https://node.onekey.so/bsc"},{url:"https://1rpc.io/bnb"},{url:"https://onekey-bnb.rpc.blxrbdn.com"}],shortcode:"bsc",shortname:"BSC",symbol:"BNB",feeMeta:{code:"bsc",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"binancecoin",platform:"binance-smart-chain"},{channel:"yahoo",native:"BNB"}],explorers:[{address:"https://bscscan.com/address/{address}",block:"https://bscscan.com/block/{block}",name:"https://bscscan.com/",transaction:"https://bscscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"61",code:"etc",decimals:18,id:"evm--61",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/etc/etc.png",name:"Ethereum Classic",rpcURLs:[{url:"https://www.ethercluster.com/etc"},{url:"https://node.onekey.so/etc"}],shortcode:"etc",shortname:"ETC",symbol:"ETC",feeMeta:{code:"etc",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ethereum-classic "}],explorers:[{address:"https://blockscout.com/etc/mainnet/address/{address}",block:"https://blockscout.com/etc/mainnet/block/{block}",name:"https://blockscout.com/etc/mainnet/",transaction:"https://blockscout.com/etc/mainnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"66",code:"okt",decimals:18,extensions:{defaultStableTokens:["0x382bb369d343125bfb2117af9c149795c6c65c50","0xc946daf81b08146b1c7a8da2a851ddf2b3eaaf85","0x332730a4f6e03d9c55829435f10360e13cfa41ff"],position:10},id:"evm--66",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/okt/okt.png",name:"OKX Chain",rpcURLs:[{url:"https://exchainrpc.okex.org"},{url:"https://node.onekey.so/okt"}],shortcode:"okt",shortname:"OKC",symbol:"OKT",feeMeta:{code:"okt",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"oec-token",platform:"okex-chain"}],explorers:[{address:"https://www.oklink.com/okexchain/address/{address}",block:"https://www.oklink.com/okexchain/block/{block}",name:"https://www.oklink.com/okexchain/",transaction:"https://www.oklink.com/okexchain/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"73927",code:"mvm",decimals:18,id:"evm--73927",impl:"evm",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/mvn/mvm.png",name:"Mixin Virtual Machine",rpcURLs:[{url:"https://geth.mvm.dev"},{url:"https://node.onekey.so/mvm"}],shortcode:"mvm",shortname:"MVM",symbol:"ETH",feeMeta:{code:"mvm",decimals:9,symbol:"Gwei"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://scan.mvm.dev/address/{address}",block:"https://scan.mvm.dev/block/{block}",name:"https://scan.mvm.dev",transaction:"https://scan.mvm.dev/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"256",code:"theco",decimals:18,id:"evm--256",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/theco/theco.png",name:"Huobi ECO Chain Testnet",rpcURLs:[{url:"https://http-testnet.hecochain.com"}],shortcode:"theco",shortname:"THECO",symbol:"THT",feeMeta:{code:"theco",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.hecoinfo.com/address/{address}",block:"https://testnet.hecoinfo.com/block/{block}",name:"https://testnet.hecoinfo.com/",transaction:"https://testnet.hecoinfo.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"28",code:"tboba",decimals:18,id:"evm--28",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/boba/boba.png",name:"Boba Network Rinkeby Testnet",rpcURLs:[{url:"https://rinkeby.boba.network"}],shortcode:"tboba",shortname:"TBoba",symbol:"ETH",feeMeta:{code:"tboba",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://blockexplorer.rinkeby.boba.network/address/{address}",block:"https://blockexplorer.rinkeby.boba.network/block/{block}",name:"https://blockexplorer.rinkeby.boba.network/",transaction:"https://blockexplorer.rinkeby.boba.network/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"421611",code:"tarbitrum",decimals:18,id:"evm--421611",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tarbitrum/tarbitrum.png",name:"Arbitrum Rinkeby",rpcURLs:[{url:"https://rinkeby.arbitrum.io/rpc"}],shortcode:"tarbitrum",shortname:"TArbitrum",symbol:"TETH",feeMeta:{code:"tarbitrum",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://rinkeby-explorer.arbitrum.io/address/{address}",block:"https://rinkeby-explorer.arbitrum.io/block/{block}",name:"https://rinkeby-explorer.arbitrum.io/",transaction:"https://rinkeby-explorer.arbitrum.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"421613",code:"tarbitrum-goerli",decimals:18,id:"evm--421613",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tarbitrum/tarbitrum.png",name:"Arbitrum Goerli",rpcURLs:[{url:"https://goerli-rollup.arbitrum.io/rpc"},{url:"https://endpoints.omniatech.io/v1/arbitrum/goerli/public"},{url:"https://arbitrum-goerli.public.blastapi.io"}],shortcode:"tarbitrum-goerli",shortname:"TArbitrumGoerli",symbol:"TETH",feeMeta:{code:"tarbitrum-goerli",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://goerli.arbiscan.io/address/{address}",block:"https://goerli.arbiscan.io/block/{block}",name:"https://goerli.arbiscan.io/",transaction:"https://goerli.arbiscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"5",code:"goerli",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--5",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/teth/teth.png",name:"Ethereum G\xf6rli (Goerli) Testnet",rpcURLs:[{url:"https://rpc.ankr.com/eth_goerli"},{url:"https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},{url:"https://eth-goerli.public.blastapi.io"}],shortcode:"goerli",shortname:"G\xf6rli",symbol:"TETH",feeMeta:{code:"goerli",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://goerli.etherscan.io/address/{address}",block:"https://goerli.etherscan.io/block/{block}",name:"https://goerli.etherscan.io/",transaction:"https://goerli.etherscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"534353",code:"tscroll",decimals:18,id:"evm--534353",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tscroll/tscroll.png",name:"Scroll Alpha Testnet",rpcURLs:[{url:"https://alpha-rpc.scroll.io/l2"}],shortcode:"tscroll",shortname:"TSCROLL",symbol:"ETH",feeMeta:{code:"tscroll",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://blockscout.scroll.io/address/{address}",block:"https://blockscout.scroll.io/block/{block}",name:"https://blockscout.scroll.io/",transaction:"https://blockscout.scroll.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"65",code:"tokt",decimals:18,id:"evm--65",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tokt/tokt.png",name:"OKX Chain Testnet",rpcURLs:[{url:"https://exchaintestrpc.okex.org"}],shortcode:"tokt",shortname:"TOKC",symbol:"TOKT",feeMeta:{code:"tokt",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://www.oklink.com/okexchain-test/address/{address}",block:"https://www.oklink.com/okexchain-test/block/{block}",name:"https://www.oklink.com/okexchain-test/",transaction:"https://www.oklink.com/okexchain-test/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"69",code:"toptimism",decimals:18,extensions:{providerOptions:{contract_gaslimit_multiplier:1}},id:"evm--69",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/toptimism/toptimism.png",name:"Optimistic Kovan Testnet",rpcURLs:[{url:"https://kovan.optimism.io"}],shortcode:"toptimism",shortname:"TOptimism",symbol:"TETH",feeMeta:{code:"toptimism",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://kovan-optimistic.etherscan.io/address/{address}",block:"https://kovan-optimistic.etherscan.io/tx/{block}",name:"https://kovan-optimistic.etherscan.io/",transaction:"https://kovan-optimistic.etherscan.io/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"80001",code:"tpolygon",decimals:18,extensions:{providerOptions:{EIP1559Enabled:!0,preferMetamask:!0}},id:"evm--80001",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tpolygon/tpolygon.png",name:"Polygon Mumbai Testnet",rpcURLs:[{url:"https://rpc-mumbai.matic.today"},{url:"https://rpc-mumbai.maticvigil.com"},{url:"https://matic-mumbai.chainstacklabs.com"},{url:"https://matic-testnet-archive-rpc.bwarelabs.com"}],shortcode:"tpolygon",shortname:"TPolygon",symbol:"tMATIC",feeMeta:{code:"tpolygon",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://mumbai.polygonscan.com/address/{address}",block:"https://mumbai.polygonscan.com/block/{block}",name:"https://mumbai.polygonscan.com/",transaction:"https://mumbai.polygonscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"97",code:"tbsc",decimals:18,id:"evm--97",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tbsc/tbsc.png",name:"Binance Smart Chain Testnet",rpcURLs:[{url:"https://data-seed-prebsc-1-s1.binance.org:8545"}],shortcode:"tbsc",shortname:"TBSC",symbol:"TBNB",feeMeta:{code:"tbsc",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet.bscscan.com/address/{address}",block:"https://testnet.bscscan.com/block/{block}",name:"https://testnet.bscscan.com/",transaction:"https://testnet.bscscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"314",code:"fil",decimals:18,id:"fil--314",impl:"fil",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/fil/fil.png",name:"Filecoin",rpcURLs:[{url:"https://node.onekey.so/fil"},{url:"https://api.node.glif.io/rpc/v0"}],shortcode:"fil",shortname:"FIL",symbol:"FIL",feeMeta:{code:"fil",decimals:18,symbol:"FIL"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"filecoin"}],explorers:[{address:"https://filscan.io/address/general?address={address}",block:"https://filscan.io/tipset/chain?hash={block}",name:"https://filscan.io/",transaction:"https://filscan.io/tipset/message-detail?cid={transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"314159",code:"tfil",decimals:18,id:"fil--314159",impl:"fil",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/fil/fil.png",name:"Filecoin Calibration Testnet",rpcURLs:[{url:"https://api.calibration.node.glif.io/rpc/v0"}],shortcode:"tfil",shortname:"TFIL",symbol:"TFIL",feeMeta:{code:"tfil",decimals:18,symbol:"TFIL"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://calibration.filscan.io/address/general?address={address}",block:"https://calibration.filscan.io/tipset/chain?hash={block}",name:"https://calibration.filscan.io/",transaction:"https://calibration.filscan.io/tipset/message-detail?cid={transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"kaspa",code:"kaspa",decimals:8,id:"kaspa--kaspa",impl:"kaspa",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/kaspa/kas.png",name:"Kaspa",rpcURLs:[{url:"https://api.kaspa.org"}],shortcode:"kaspa",shortname:"KAS",symbol:"KAS",feeMeta:{code:"kaspa",decimals:8,symbol:"KAS"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"kaspa"}],explorers:[{address:"https://explorer.kaspa.org/addresses/{address}",block:"https://explorer.kaspa.org/blocks/{block}",name:"https://explorer.kaspa.org",transaction:"https://explorer.kaspa.org/txs/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"ltc",decimals:8,id:"ltc--0",impl:"ltc",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/ltc.png",name:"Litecoin",rpcURLs:[{url:"https://fiat.onekeycn.com/book/ltc"},{url:"https://node.onekey.so/ltc"}],shortcode:"ltc",shortname:"LTC",symbol:"LTC",feeMeta:{code:"ltc",decimals:8,symbol:"LTC"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"litecoin"}],explorers:[{address:"https://litecoinblockexplorer.net/address/{address}",block:"https://litecoinblockexplorer.net/block/{block}",name:"https://litecoinblockexplorer.net/",transaction:"https://litecoinblockexplorer.net/tx/{transaction}"},{address:"https://blockexplorer.one/litecoin/mainnet/address/{address}",block:"https://blockexplorer.one/litecoin/mainnet/blockHash/{block}",name:"https://blockexplorer.one/litecoin/mainnet",transaction:"https://blockexplorer.one/litecoin/mainnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"near",decimals:24,id:"near--0",impl:"near",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/near/near.png",name:"Near",rpcURLs:[{indexer:"https://helper.mainnet.near.org",url:"https://rpc.mainnet.near.org"},{indexer:"https://helper.mainnet.near.org",url:"https://node.onekey.so/near"},{indexer:"https://helper.mainnet.near.org",url:"https://1rpc.io/near"}],shortcode:"near",shortname:"Near",symbol:"NEAR",feeMeta:{code:"near",decimals:24,symbol:"NEAR"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"near"},{channel:"yahoo",native:"NEAR"}],explorers:[{address:"https://explorer.mainnet.near.org/accounts/{address}",block:"https://explorer.mainnet.near.org/blocks/{block}",name:"https://explorer.mainnet.near.org/",transaction:"https://explorer.mainnet.near.org/transactions/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"tnear",decimals:24,id:"near--1",impl:"near",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/near/near.png",name:"Near Testnet",rpcURLs:[{indexer:"https://helper.testnet.near.org",url:"https://rpc.testnet.near.org"}],shortcode:"tnear",shortname:"Near Testnet",symbol:"TNEAR",feeMeta:{code:"tnear",decimals:24,symbol:"TNEAR"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://explorer.testnet.near.org/accounts/{address}",block:"https://explorer.testnet.near.org/blocks/{block}",name:"https://explorer.testnet.near.org/",transaction:"https://explorer.testnet.near.org/transactions/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"101",code:"sol",decimals:9,extensions:{defaultStableTokens:["Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","FR87nWEUxVgerFGhZM8Y4AggKGLnaXswr1Pd8wZ4kZcp","9mWRABuz2x6koTPCWiCPM49WUbcrNqGTHBV9T9k7y1o7"],position:4},id:"sol--101",impl:"sol",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/sol/sol.png",name:"Solana",rpcURLs:[{url:"https://solana-mainnet.phantom.tech/"},{url:"https://solana-api.projectserum.com/"},{url:"https://node.onekey.so/sol"}],shortcode:"sol",shortname:"SOL",symbol:"SOL",feeMeta:{code:"sol",decimals:9,symbol:"SOL"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"solana",platform:"solana"},{channel:"yahoo",native:"SOL1"}],explorers:[{address:"https://explorer.solana.com/address/{address}",block:"https://explorer.solana.com/block/{block}",name:"https://explorer.solana.com/",transaction:"https://explorer.solana.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"103",code:"tsol",decimals:9,id:"sol--103",impl:"sol",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tsol/tsol.png",name:"Solana Devnet",rpcURLs:[{url:"https://api.devnet.solana.com"}],shortcode:"tsol",shortname:"TSOL",symbol:"TSOL",feeMeta:{code:"tsol",decimals:9,symbol:"TSOL"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.solana.com/address/{address}?cluster=devnet",block:"https://explorer.solana.com/block/{block}?cluster=devnet",name:"https://explorer.solana.com/",transaction:"https://explorer.solana.com/tx/{transaction}?cluster=devnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"1",code:"stc",decimals:9,extensions:{position:13},id:"stc--1",impl:"stc",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/stc/stc.png",name:"Starcoin",rpcURLs:[{url:"https://main-seed.starcoin.org"},{url:"https://node.onekey.so/stc"}],shortcode:"stc",shortname:"STC",symbol:"STC",feeMeta:{code:"stc",decimals:9,symbol:"STC"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"starcoin"}],explorers:[{address:"https://stcscan.io/main/address/{address}",block:"https://stcscan.io/main/blocks/height/{block}",name:"https://stcscan.io/",transaction:"https://stcscan.io/main/transactions/detail/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"251",code:"tstc",decimals:9,id:"stc--251",impl:"stc",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tstc/tstc.png",name:"Starcoin barnard",rpcURLs:[{url:"https://barnard-seed.starcoin.org"}],shortcode:"tstc",shortname:"TSTC",symbol:"TSTC",feeMeta:{code:"tstc",decimals:9,symbol:"TSTC"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://stcscan.io/barnard/address/{address}",block:"https://stcscan.io/barnard/blocks/height/{block}",name:"https://stcscan.io/",transaction:"https://stcscan.io/barnard/transactions/detail/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"mainnet",code:"sui",decimals:9,id:"sui--mainnet",impl:"sui",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/sui/sui.png",name:"SUI",rpcURLs:[{url:"https://node.onekey.so/sui"},{url:"https://wallet-rpc.mainnet.sui.io/"},{url:"https://fullnode.mainnet.sui.io"},{url:"https://1rpc.io/sui"}],shortcode:"sui",shortname:"SUI",symbol:"SUI",feeMeta:{code:"sui",decimals:9,symbol:"SUI"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://explorer.sui.io/addresses/{address}/?network=mainnet",block:"https://explorer.sui.io/objects/{block}/?network=mainnet",name:"https://explorer.sui.io?network=mainnet",transaction:"https://explorer.sui.io/transactions/{transaction}/?network=mainnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"8888883",code:"tsui",decimals:9,id:"sui--8888883",impl:"sui",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/sui/sui.png",name:"SUI TestNet",rpcURLs:[{url:"https://wallet-rpc.testnet.sui.io"},{url:"https://fullnode.testnet.sui.io"}],shortcode:"tsui",shortname:"TSUI",symbol:"TSUI",feeMeta:{code:"tsui",decimals:9,symbol:"TSUI"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://explorer.sui.io/addresses/{address}/?network=testnet",block:"https://explorer.sui.io/objects/{block}/?network=testnet",name:"https://explorer.sui.io?network=testnet",transaction:"https://explorer.sui.io/transactions/{transaction}/?network=testnet"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"tbtc",decimals:8,id:"tbtc--0",impl:"tbtc",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/tbtc/tbtc.png",name:"Bitcoin Testnet",rpcURLs:[{url:"https://node.onekey.so/tbtc"}],shortcode:"tbtc",shortname:"TBTC",symbol:"TBTC",feeMeta:{code:"tbtc",decimals:8,symbol:"TBTC"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://mempool.space/testnet/address/{address}",block:"https://mempool.space/testnet/block/{block}",name:"https://mempool.space/testnet/",transaction:"https://mempool.space/testnet/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"sbtc",decimals:8,id:"tbtc--1",impl:"tbtc",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/sbtc/sbtc.png",name:"Bitcoin Signet",rpcURLs:[{url:"https://node.onekey.so/sbtc"}],shortcode:"sbtc",shortname:"SBTC",symbol:"SBTC",feeMeta:{code:"sbtc",decimals:8,symbol:"SBTC"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://mempool.space/signet/address/{address}",block:"https://mempool.space/signet/block/{block}",name:"https://mempool.space/signet/",transaction:"https://mempool.space/signet/tx/{transaction}"}],status:"LISTED",createdAt:"2024-02-28T00:29:24.951Z",updatedAt:"2024-02-28T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0x2b6653dc",clientApi:{tronscan:"https://apilist.tronscanapi.com"},code:"trx",decimals:6,id:"tron--0x2b6653dc",impl:"tron",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/trx/trx.png",name:"Tron",rpcURLs:[{url:"https://tron-mainnet.token.im"},{url:"https://node.onekey.so/trx"}],shortcode:"trx",shortname:"TRX",symbol:"TRX",feeMeta:{code:"trx",decimals:6,symbol:"TRX"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"tron",platform:"tron"}],explorers:[{address:"https://tronscan.org/#/address/{address}",block:"https://tronscan.org/#/block/{block}",name:"https://tronscan.org/",transaction:"https://tronscan.org/#/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0x94a9059e",clientApi:{tronscan:"https://shastapi.tronscan.org"},code:"ttrx",decimals:6,id:"tron--0x94a9059e",impl:"tron",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/ttrx/ttrx.png",name:"Tron Shasta Testnet",rpcURLs:[{url:"https://api.shasta.trongrid.io"}],shortcode:"ttrx",shortname:"TTRX",symbol:"TTRX",feeMeta:{code:"ttrx",decimals:6,symbol:"TTRX"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://shasta.tronscan.org/#/address/{address}",block:"https://shasta.tronscan.org/#/block/{block}",name:"https://shasta.tronscan.org/",transaction:"https://shasta.tronscan.org/#/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:12,chainId:"0",clientApi:{mymonero:"https://node.onekey.so/mymonero"},code:"xmr",decimals:12,id:"xmr--0",impl:"xmr",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/monero.png",name:"Monero",rpcURLs:[{url:"https://node.onekey.so/xmr"}],shortcode:"xmr",shortname:"XMR",symbol:"XMR",feeMeta:{code:"xmr",decimals:12,symbol:"xmr"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"monero"}],explorers:[{address:"https://www.exploremonero.com/",block:"https://www.exploremonero.com/block/{block}",name:"https://www.exploremonero.com/",transaction:"https://www.exploremonero.com/transaction/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:6,chainId:"0",code:"xrp",decimals:6,id:"xrp--0",impl:"xrp",isTestnet:!1,logoURI:"https://common.onekey-asset.com/chain/xrp.png",name:"Ripple",rpcURLs:[{url:"wss://s1.ripple.com"},{url:"wss://s2.ripple.com"},{url:"wss://s-east.ripple.com"},{url:"wss://xrplcluster.com"},{url:"wss://xrpl.ws"}],shortcode:"xrp",shortname:"Ripple",symbol:"XRP",feeMeta:{code:"xrp",decimals:6,symbol:"xrp"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"ripple"}],explorers:[{address:"https://xrpscan.com/account/{address}",block:"https://xrpscan.com/ledger/{block}",name:"https://xrpscan.com/",transaction:"https://xrpscan.com/tx/{transaction}"}],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"lightning",decimals:0,extensions:{position:2},id:"lightning--0",impl:"lightning",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/lnd/lnd.png",name:"Lightning Network",rpcURLs:[{url:"https://node.onekey.so/btc"},{url:"https://1rpc.io/btc"}],shortcode:"lightning",shortname:"Lightning",symbol:"sats",feeMeta:{code:"lightning",decimals:0,symbol:"sats"},defaultEnabled:!0,priceConfigs:[{channel:"coingecko",native:"bitcoin",platform:"ordinals"}],explorers:[],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"tlightning",decimals:0,id:"tlightning--0",impl:"tlightning",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/lnd/lnd.png",name:"Lightning Network Testnet",rpcURLs:[],shortcode:"tlightning",shortname:"LightningTestnet",symbol:"sats",feeMeta:{code:"lightning",decimals:0,symbol:"sats"},defaultEnabled:!1,priceConfigs:[{channel:"coingecko",native:"bitcoin"}],explorers:[],status:"LISTED",createdAt:"2023-05-31T00:29:24.951Z",updatedAt:"2023-05-31T00:29:24.951Z"},{balance2FeeDecimals:9,chainId:"51178",code:"topsideprealpha",decimals:18,id:"evm--51178",impl:"evm",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/topsideprealpha/topsideprealpha.png",name:"Opside Testnet Pre-Alpha Network",rpcURLs:[{url:"https://pre-alpha-us-http-geth.opside.network"}],shortcode:"topsideprealpha",shortname:"TOpsidePreAlpha",symbol:"IDE",feeMeta:{code:"topsideprealpha",decimals:9,symbol:"Gwei"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://pre-alpha.opside.info/address/{address}",block:"https://pre-alpha.opside.info/block/{block}",name:"https://pre-alpha.opside.info/",transaction:"https://pre-alpha.opside.info/tx/{transaction}"}],status:"LISTED",createdAt:"2023-06-14T00:29:24.951Z",updatedAt:"2023-06-14T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"0",code:"nexa",decimals:2,id:"nexa--0",impl:"nexa",isTestnet:!1,logoURI:"https://onekey-asset.com/assets/nexa/nexa.png",name:"Nexa",rpcURLs:[{url:"wss://electrum.nexa.org:20004"}],shortcode:"nexa",shortname:"Nexa",symbol:"NEX",feeMeta:{code:"nexa",decimals:2,symbol:"nexa"},defaultEnabled:!0,priceConfigs:[],explorers:[{address:"https://explorer.nexa.org/address/{address}",block:"https://explorer.nexa.org/block-height/{block}",name:"https://explorer.nexa.org",transaction:"https://explorer.nexa.org/tx/{transaction}"}],status:"LISTED",createdAt:"2023-06-19T00:29:24.951Z",updatedAt:"2023-06-19T00:29:24.951Z"},{balance2FeeDecimals:0,chainId:"testnet",code:"nexatest",decimals:2,id:"nexa--testnet",impl:"nexa",isTestnet:!0,logoURI:"https://onekey-asset.com/assets/nexa/nexa.png",name:"Nexa Testnet",rpcURLs:[{url:"wss://testnet-explorer.nexa.org:30004/nexa_ws"}],shortcode:"nexatest",shortname:"NexaTest",symbol:"TNEX",feeMeta:{code:"nexatest",decimals:2,symbol:"NEXATEST"},defaultEnabled:!1,priceConfigs:[],explorers:[{address:"https://testnet-explorer.nexa.org/address/{address}",block:"https://testnet-explorer.nexa.org/block-height/{block}",name:"https://testnet-explorer.nexa.org",transaction:"https://testnet-explorer.nexa.org/tx/{transaction}"}],status:"LISTED",createdAt:"2023-06-19T00:29:24.951Z",updatedAt:"2023-06-19T00:29:24.951Z"},{chainId:"59144",code:"linea",id:"evm--59144",logoURI:"https://onekey-asset.com/assets/linea/linea.png",name:"Linea",rpcURLs:[{url:"https://rpc.linea.build"},{url:"https://linea.blockpi.network/v1/rpc/public"}],shortcode:"linea",shortname:"Linea",feeMeta:{code:"Linea",decimals:9,symbol:"Gwei"},explorers:[{address:"https://lineascan.build/address/{address}",block:"https://lineascan.build/block/{block}",name:"https://lineascan.build/",transaction:"https://lineascan.build/tx/{transaction}"}],priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"ethereum"}],symbol:"ETH",decimals:18,balance2FeeDecimals:9,impl:"evm",isTestnet:!1,defaultEnabled:!0,status:"LISTED",createdAt:"2023-08-10T00:29:24.951Z",updatedAt:"2023-08-10T00:29:24.951Z"},{chainId:"8453",code:"base",id:"evm--8453",logoURI:"https://onekey-asset.com/assets/base/base.png",name:"Base",rpcURLs:[{url:"https://mainnet.base.org"},{url:"https://base.meowrpc.com"},{url:"https://1rpc.io/base"},{url:"https://base.blockpi.network/v1/rpc/public"}],shortcode:"base",shortname:"Base",feeMeta:{code:"base",decimals:9,symbol:"Gwei"},explorers:[{address:"https://basescan.org/address/{address}",block:"https://basescan.org/block/{block}",name:"https://basescan.org/",transaction:"https://basescan.org/tx/{transaction}"}],priceConfigs:[{channel:"coingecko",native:"ethereum",platform:"ethereum"}],symbol:"ETH",decimals:18,balance2FeeDecimals:9,impl:"evm",isTestnet:!1,defaultEnabled:!0,status:"LISTED",createdAt:"2023-08-10T00:29:24.951Z",updatedAt:"2023-08-10T00:29:24.951Z"},{chainId:"5000",code:"mantle",id:"evm--5000",logoURI:"https://onekey-asset.com/assets/mantle/mantle.png",name:"Mantle",rpcURLs:[{url:"https://rpc.mantle.xyz"},{url:"https://mantle-mainnet.public.blastapi.io"},{url:"https://mantle.publicnode.com"}],shortcode:"mantle",shortname:"Mantle",feeMeta:{code:"mantle",decimals:9,symbol:"Gwei"},symbol:"MNT",priceConfigs:[{channel:"coingecko",native:"mantle"}],explorers:[{address:"https://explorer.mantle.xyz/address/{address}",block:"https://explorer.mantle.xyz/block/{block}",name:"https://explorer.mantle.xyz/",transaction:"https://explorer.mantle.xyz/tx/{transaction}"}],decimals:18,balance2FeeDecimals:9,impl:"evm",isTestnet:!1,defaultEnabled:!0,status:"LISTED",createdAt:"2023-08-10T00:29:24.951Z",updatedAt:"2023-08-10T00:29:24.951Z"}];o.unshift(r.FAKE_ALL_NETWORK),o.push(r.FAKE_NOSTR_NETWORK);var a=1685492989977},340576:(e,t,n)=>{"use strict";n.r(t),n.d(t,{freezedEmptyArray:()=>o,freezedEmptyObject:()=>r});var r=Object.freeze({}),o=Object.freeze([])},798909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ERC20PermitABI:()=>r});var r=[{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},922073:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LIDO_NFT_ABI:()=>o,stETHABI:()=>r});var r=[{constant:!1,inputs:[{name:"_referral",type:"address"}],name:"submit",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"}],o=[{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getWithdrawalRequests",outputs:[{internalType:"uint256[]",name:"requestsIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_requestIds",type:"uint256[]"}],name:"getWithdrawalStatus",outputs:[{components:[{internalType:"uint256",name:"amountOfStETH",type:"uint256"},{internalType:"uint256",name:"amountOfShares",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isFinalized",type:"bool"},{internalType:"bool",name:"isClaimed",type:"bool"}],internalType:"struct WithdrawalQueueBase.WithdrawalRequestStatus[]",name:"statuses",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_amounts",type:"uint256[]"},{internalType:"address",name:"_owner",type:"address"},{components:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct WithdrawalQueue.PermitInput",name:"_permit",type:"tuple"}],name:"requestWithdrawalsWithPermit",outputs:[{internalType:"uint256[]",name:"requestIds",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getLastCheckpointIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_requestIds",type:"uint256[]"},{internalType:"uint256",name:"_firstIndex",type:"uint256"},{internalType:"uint256",name:"_lastIndex",type:"uint256"}],name:"findCheckpointHints",outputs:[{internalType:"uint256[]",name:"hintIds",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"_requestIds",type:"uint256[]"},{internalType:"uint256[]",name:"_hints",type:"uint256[]"}],name:"claimWithdrawals",outputs:[],stateMutability:"nonpayable",type:"function"}]},548036:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StMaticABI:()=>r,poLidoNFTABI:()=>o,stakeManagerABI:()=>a});var r=[{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_referral",type:"address"}],name:"submit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_referral",type:"address"}],name:"requestWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"stakeManager",outputs:[{internalType:"contract IStakeManager",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],name:"poLidoNFT",outputs:[{internalType:"contract IPoLidoNFT",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getMaticFromTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getToken2WithdrawRequests",outputs:[{components:[{internalType:"uint256",name:"amount2WithdrawFromStMATIC",type:"uint256"},{internalType:"uint256",name:"validatorNonce",type:"uint256"},{internalType:"uint256",name:"requestTime",type:"uint256"},{internalType:"address",name:"validatorAddress",type:"address"}],internalType:"struct IStMATIC.RequestWithdraw[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amountInMatic",type:"uint256"}],name:"convertMaticToStMatic",outputs:[{internalType:"uint256",name:"amountInStMatic",type:"uint256"},{internalType:"uint256",name:"totalStMaticSupply",type:"uint256"},{internalType:"uint256",name:"totalPooledMatic",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amountInStMatic",type:"uint256"}],name:"convertStMaticToMatic",outputs:[{internalType:"uint256",name:"amountInMatic",type:"uint256"},{internalType:"uint256",name:"totalStMaticAmount",type:"uint256"},{internalType:"uint256",name:"totalPooledMatic",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"claimTokens",outputs:[],stateMutability:"nonpayable",type:"function"}],o=[{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getOwnedTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"}],a=[{constant:!0,inputs:[],name:"epoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},986903:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WETH9_ABI:()=>r});var r=[{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"}]},92267:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={breakpointCovalentTx:function(e){e.txHash}}},380164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=!1},799075:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CoreSDKLoader:()=>y,HardwareSDK:()=>r,generateConnectSrc:()=>h,getHardwareSDKInstance:()=>g});var r,o,a=n(256666),i=n(634795),s=n(670165),l=n(292147),c=n(213208),d=n(396564),u=n(330526),f=function(){var e=(0,i.default)((function*(){return(yield n.e(85426).then(n.t.bind(n,385426,23))).default.HardwareWebSdk}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.default)((function*(){return(yield n.e(85426).then(n.t.bind(n,385426,23))).default.HardwareSDKLowLevel}));return function(){return e.apply(this,arguments)}}();function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(e){var t=`${s.HARDWARE_SDK_IFRAME_SRC_ONEKEYSO}/${s.HARDWARE_SDK_VERSION}/`;return e===u.EOnekeyDomain.ONEKEY_CN&&(t=`${s.HARDWARE_SDK_IFRAME_SRC_ONEKEYCN}/${s.HARDWARE_SDK_VERSION}/`),t},g=(0,d.memoizee)(function(){var e=(0,i.default)((function*(e){return new Promise(function(){var t=(0,i.default)((function*(t,n){if(r)t(r);else{var i={debug:!1,fetchConfig:!0};r=yield f();var s,d=h(e.hardwareConnectSrc);i.connectSrc=d,o=yield p(),c.default.isExtensionBackgroundServiceWorker||null==(s=o)||s.addHardwareGlobalEventListener((function(e){r.emit(e.event,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})),i.preRelease=e.isPreRelease;try{yield r.init(i,o),l.default.hardwareSDK.info("HardwareSDK initialized success"),t(r)}catch(u){n(u)}}}));return function(e,n){return t.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),{promise:!0,max:1}),y=function(){var e=(0,i.default)((function*(){return Promise.resolve().then(n.bind(n,329503))}));return function(){return e.apply(this,arguments)}}()},613549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ACCOUNT_DERIVATION_DB_MIGRATION_VERSION:()=>he,AUTO_SWITCH_DEFAULT_RPC_AT_VERSION:()=>pe,CHAINS_DISPLAYED_IN_DEV:()=>ve,COINTYPE_ADA:()=>H,COINTYPE_ALGO:()=>h,COINTYPE_ALLNETWORKS:()=>se,COINTYPE_APTOS:()=>P,COINTYPE_BCH:()=>D,COINTYPE_BTC:()=>k,COINTYPE_CFX:()=>w,COINTYPE_COSMOS:()=>F,COINTYPE_DOGE:()=>M,COINTYPE_DOT:()=>$,COINTYPE_ETC:()=>u,COINTYPE_ETH:()=>d,COINTYPE_FIL:()=>K,COINTYPE_KASPA:()=>Y,COINTYPE_LIGHTNING:()=>te,COINTYPE_LIGHTNING_TESTNET:()=>re,COINTYPE_LTC:()=>E,COINTYPE_NEAR:()=>y,COINTYPE_NEXA:()=>J,COINTYPE_NOSTR:()=>ae,COINTYPE_SOL:()=>p,COINTYPE_STC:()=>b,COINTYPE_SUI:()=>V,COINTYPE_TBTC:()=>j,COINTYPE_TRON:()=>T,COINTYPE_XMR:()=>q,COINTYPE_XRP:()=>L,FIX_BTC_PUB_DB_MIGRATION_VERSION:()=>ye,FIX_COSMOS_TEMPLATE_DB_MIGRATION_VERSION:()=>ge,HISTORY_CONSTS:()=>ce,IMPL_ADA:()=>U,IMPL_ALGO:()=>m,IMPL_ALLNETWORKS:()=>ie,IMPL_APTOS:()=>S,IMPL_BCH:()=>R,IMPL_BTC:()=>_,IMPL_CFX:()=>x,IMPL_COSMOS:()=>B,IMPL_DOGE:()=>C,IMPL_DOT:()=>G,IMPL_EVM:()=>c,IMPL_FIL:()=>z,IMPL_KASPA:()=>X,IMPL_LIGHTNING:()=>ee,IMPL_LIGHTNING_TESTNET:()=>ne,IMPL_LTC:()=>A,IMPL_NEAR:()=>g,IMPL_NEXA:()=>Q,IMPL_NOSTR:()=>oe,IMPL_SOL:()=>f,IMPL_STC:()=>v,IMPL_SUI:()=>W,IMPL_TBTC:()=>I,IMPL_TRON:()=>O,IMPL_XMR:()=>Z,IMPL_XRP:()=>N,INDEX_PLACEHOLDER:()=>l,PRICE_EXPIRED_TIME:()=>me,SEPERATOR:()=>s,SocketEvents:()=>o,UNIQUE_TOKEN_SYMBOLS:()=>be,enabledAccountDynamicNetworkIds:()=>de,getSupportedFakeNetworks:()=>fe,getSupportedImpls:()=>ue,isBTCNetwork:()=>ke,isLightningNetwork:()=>xe,isLightningNetworkByImpl:()=>we,isLightningNetworkByNetworkId:()=>_e});var r,o,a=n(776553),i=n(942013),s="--",l="$$INDEX$$",c="evm",d="60",u="61",f="sol",p="501",m="algo",h="283",g="near",y="397",v="stc",b="101010",x="cfx",w="503",_="btc",k="0",I="tbtc",j="1",O="tron",T="195",S="aptos",P="637",C="doge",M="3",A="ltc",E="2",R="bch",D="145",N="xrp",L="144",B="cosmos",F="118",U="ada",H="1815",W="sui",V="784",z="fil",K="461",G="dot",$="354",Z="xmr",q="128",X="kaspa",Y="111111",Q="nexa",J="29223",ee="lightning",te="81297820149147",ne="tlightning",re="81297820149140",oe="nostr",ae="1237",ie="all",se="0000",le=(new Set([c,g,x,_,I,f,v,O,S,C,A,R,m,N,B,U,W,z,G,Z,X,Q,ee,ne,ie]),new Set([c,g,x,_,I,f,v,O,S,C,A,R,m,N,B,U,W,z,G,Z,X,ee,ne,Q,ie])),ce={GET_LOCAL_LIMIT:100,FETCH_ON_CHAIN_LIMIT:50,DISPLAY_TX_LIMIT:50,REFRESH_DROPPED_TX_IN:3e5,SET_IS_FINAL_EXPIRED_IN:864e5,PENDING_QUEUE_MAX_LENGTH:10};!function(e){e.Notification="notification"}(o||(o={}));var de=[i.OnekeyNetwork.eth,i.OnekeyNetwork.polygon,i.OnekeyNetwork.arbitrum,i.OnekeyNetwork.optimism];function ue(){return le}function fe(){return new Set([oe])}var pe="3.21.0",me=(0,a.getTimeDurationMs)({minute:15}),he="4.0.0",ge="4.2.0",ye="4.14.0",ve=[],be=((r={})[c]=["USDC","USDT"],r),xe=function(e){return e===te||e===re},we=function(e){return e===ee||e===ne},_e=function(e){return e===i.OnekeyNetwork.lightning||e===i.OnekeyNetwork.tlightning},ke=function(e){return e===i.OnekeyNetwork.btc||e===i.OnekeyNetwork.tbtc}},814817:(e,t,n)=>{"use strict";n.r(t),n.d(t,{filterPassphraseWallet:()=>y,fixAddressCase:()=>c,handleDisplayPassphraseWallet:()=>v,isExternalAccount:()=>u,isExternalWallet:()=>h,isHardwareWallet:()=>p,isHdWallet:()=>f,isImportedWallet:()=>m,isPassphraseWallet:()=>g,isWatchingAccount:()=>d,toBigIntHex:()=>s.toBigIntHex});var r=n(453982),o=n.n(r),a=n(506885),i=n(932330),s=n(665417),l=n(613549);function c(e){var t=e.impl,n=e.address;return l.IMPL_EVM===t?o()(n):n}function d(e){var t=e.accountId;return!(!t||!t.startsWith(`${a.WALLET_TYPE_WATCHING}-`))}function u(e){var t=e.accountId;return!(!t||!t.startsWith(`${a.WALLET_TYPE_EXTERNAL}-`))}function f(e){var t=e.walletId;return!(!t||!t.startsWith(`${a.WALLET_TYPE_HD}-`))}function p(e){var t=e.walletId;return!(!t||!t.startsWith(`${a.WALLET_TYPE_HW}-`))}function m(e){var t=e.walletId;return!(!t||!t.startsWith(`${a.WALLET_TYPE_IMPORTED}`))}function h(e){var t=e.walletId;return!(!t||t!==a.WALLET_TYPE_EXTERNAL)}function g(e){return!!e.passphraseState}var y=function(e,t,n){var r;return!g(e)||(!!t||null!=(r=null==n?void 0:n.includes(e.id))&&r)};function v(e){if(!n.g.$backgroundApiProxy)throw new Error("[engine] and [shared] is not allowed calling [kit-bg]. Please pass a callback to dbApi.addHWWallet()");(0,n.g.$backgroundApiProxy.dispatch)((0,i.addDisplayPassphraseWallet)(e))}},221847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HardwareError:()=>p,IncorrectPassword:()=>d,InvalidMnemonic:()=>u,NotAutoPrintError:()=>f,NotImplementedError:()=>c});var r=n(887371),o=n(545754),a=n(411987),i=n(695058),s=n(730364);function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var c=function(e){(0,o.default)(n,e);var t=l(n);function n(){return t.apply(this,arguments)}return(0,r.default)(n)}((0,s.default)(Error)),d=function(e){(0,o.default)(n,e);var t=l(n);function n(){return t.apply(this,arguments)}return(0,r.default)(n)}((0,s.default)(Error)),u=function(e){(0,o.default)(n,e);var t=l(n);function n(){return t.apply(this,arguments)}return(0,r.default)(n)}((0,s.default)(Error)),f=function(e){(0,o.default)(n,e);var t=l(n);function n(){return t.apply(this,arguments)}return(0,r.default)(n)}((0,s.default)(Error)),p=function(e){(0,o.default)(n,e);var t=l(n);function n(e){var n;return(n=t.call(this,e.error)).payload=e,n}return(0,r.default)(n)}((0,s.default)(Error))},942349:(e,t,n)=>{"use strict";n.r(t),n.d(t,{JsonPRCResponseError:()=>u,ResponseError:()=>d});var r=n(256666),o=n(887371),a=n(545754),i=n(411987),s=n(695058);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var d=function(e){(0,a.default)(n,e);var t=c(n);function n(e,n){var o;return o=t.call(this,e),n&&(o.response="jsonrpc"in n?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n):n),o}return(0,o.default)(n)}((0,n(730364).default)(Error)),u=function(e){(0,a.default)(n,e);var t=c(n);function n(e,n,r){var o;return(o=t.call(this,e,n)).error=r,o}return(0,o.default)(n)}(d)},35116:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppEventBusNames:()=>o,appEventBus:()=>r});var r,o,a=n(28524),i=n(213208);!function(e){e.AccountNameChanged="AccountNameChanged",e.NetworkChanged="NetworkChanged",e.AccountChanged="AccountChanged",e.CurrencyChanged="CurrencyChanged",e.BackupRequired="BackupRequired",e.NotificationStatusChanged="NotificationStatusChanged",e.StoreInitedFromPersistor="StoreInitedFromPersistor",e.Unlocked="Unlocked",e.HttpServerRequest="HttpServerRequest"}(o||(o={})),r=i.isExtensionUi?new Proxy({},{get:function(){throw new Error("[appEventBus] is NOT allowed in UI process currently. use [appUIEventBus] instead")}}):new a.CrossEventEmitter},447325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppUIEventBusNames:()=>o,appUIEventBus:()=>r});var r,o,a=n(28524),i=n(213208);!function(e){e.SwapCompleted="SwapCompleted",e.SwapError="SwapError",e.SwapAddTransaction="SwapAddTransaction",e.LimitOrderCompleted="LimitOrderCompleted",e.LimitOrderError="LimitOrderError",e.RemoveAccount="RemoveAccount",e.RemoveWallet="RemoveWallet",e.Unlocked="Unlocked",e.StoreInitedFromPersistor="StoreInitedFromPersistor",e.AccountChanged="AccountChanged",e.SwapRefresh="SwapRefresh",e.EnsureChainWebEmbed="EnsureChainWebEmbed",e.ChainWebEmbedDisabled="ChainWebEmbedDisabled",e.Migrate="Migrate",e.RevokeRefresh="RevokeRefresh",e.HardwareCancel="HardwareCancel",e.InscriptionRecycleChanged="InscriptionRecycleChanged"}(o||(o={})),r=i.isExtensionBackground?new Proxy({},{get:function(){throw new Error("[appUIEventBus] is NOT allowed in Extension Background process currently. use [appEventBus] instead.")}}):new a.CrossEventEmitter},986514:(e,t,n)=>{"use strict";n.r(t),n.d(t,{defaultHapticStatus:()=>o,doHapticsWhenEnabled:()=>i,enableHaptics:()=>a,supportedHaptics:()=>r});var r=!1,o=!1,a=function(){},i=a},292147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LoggerNames:()=>P,default:()=>W,getDebugLoggerSettings:()=>D,getLogZipPath:()=>H,loadDebugLoggerSettings:()=>L,logger:()=>C,saveDebugLoggerSettings:()=>F});var r,o=n(301842),a=n.n(o),i=n(634795),s=n(256666),l=n(986152),c=n.n(l),d=n(968079),u=n(374322),f=n(720587),p=n(150489),m=n(209899),h=(n(990468),n(988955)),g=n(623688),y=n(213208),v=n(465146),b=n(36085);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _;function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){if(e instanceof Error){var t=(0,b.toPlainErrorObject)(e);return delete t.stack,t}return e}));return u.stringify.apply(void 0,(0,d.default)(r))}var I=0,j=`${(null==h.default?void 0:h.default.CachesDirectoryPath)||"OneKey"}/logs`,O=`${(null==h.default?void 0:h.default.CachesDirectoryPath)||"OneKey"}/log_zip`,T=function(){var e=(0,i.default)((function*(){h.default&&((yield h.default.exists(O))&&(yield h.default.unlink(O)))}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.default)((function*(){h.default&&(yield h.default.mkdir(O))}));return function(){return e.apply(this,arguments)}}();var P,C=m.logger.createLogger({async:!0,asyncFunc:f.default.runAfterInteractions,stringifyFunc:k,dateFormat:"iso",transport:[m.consoleTransport],transportOptions:{consoleFunc:function e(t,r){var o=null!=r&&r.rawMsg&&c()(r.rawMsg)?r.rawMsg.join(""):"";if(o!==_){if(I>0){var a=`---[${I}]`;I=0,e(a,w(w({},r),{},{msg:a,rawMsg:[a]}))}_=o;var i,s;r.level,r.rawMsg,r.extension;null==(i=n.g.$backgroundApiProxy)||null==(s=i.serviceApp)||null==s.addLogger||s.addLogger(`${t}\r\n`)}else I+=1}}});!function(e){e.onBoarding="onBoarding",e.hardwareSDK="hardwareSDK",e.http="http",e.websocket="websocket",e.jsBridge="jsBridge",e.webview="webview",e.desktopInjected="desktopInjected",e.ethereum="ethereum",e.dappApprove="dappApprove",e.extContentScripts="extContentScripts",e.extInjected="extInjected",e.backgroundApi="backgroundApi",e.walletConnect="walletConnect",e.deepLink="deepLink",e.accountSelector="accountSelector",e.engine="engine",e.sendTx="sendTx",e.navigation="navigation",e.redux="redux",e.common="common",e.cloudBackup="cloudBackup",e.swap="swap",e.providerApi="providerApi",e.notification="notification",e.autoUpdate="autoUpdate",e.migrate="migrate",e.onekeyLite="onekeyLite",e.native="native",e.staking="staking",e.allNetworks="allNetworks"}(P||(P={}));var M=function(e){return C.extend(e)},A=((r={stringifyLog:k})[P.hardwareSDK]=M(P.hardwareSDK),r[P.onBoarding]=M(P.onBoarding),r[P.redux]=M(P.redux),r[P.navigation]=M(P.navigation),r[P.http]=M(P.http),r[P.websocket]=M(P.websocket),r[P.jsBridge]=M(P.jsBridge),r[P.webview]=M(P.webview),r[P.desktopInjected]=M(P.desktopInjected),r[P.ethereum]=M(P.ethereum),r[P.dappApprove]=M(P.dappApprove),r[P.extContentScripts]=M(P.extContentScripts),r[P.extInjected]=M(P.extInjected),r[P.backgroundApi]=M(P.backgroundApi),r[P.walletConnect]=M(P.walletConnect),r[P.deepLink]=M(P.deepLink),r[P.accountSelector]=M(P.accountSelector),r[P.engine]=M(P.engine),r[P.sendTx]=M(P.sendTx),r[P.common]=M(P.common),r[P.cloudBackup]=M(P.cloudBackup),r[P.swap]=M(P.swap),r[P.providerApi]=M(P.providerApi),r[P.notification]=M(P.notification),r[P.autoUpdate]=M(P.autoUpdate),r[P.migrate]=M(P.migrate),r[P.onekeyLite]=M(P.onekeyLite),r[P.native]=M(P.native),r[P.staking]=M(P.staking),r[P.allNetworks]=M(P.allNetworks),r);var E="$$ONEKEY_DEBUG_LOGGER",R=!0;function D(){return N.apply(this,arguments)}function N(){return(N=(0,i.default)((function*(){return R?window.localStorage.getItem(E):v.default.getItem(E)}))).apply(this,arguments)}function L(){return B.apply(this,arguments)}function B(){return(B=(0,i.default)((function*(){var e=yield D();a()(e)?P.common:e.split(",").filter(Boolean),Object.keys(P).forEach((function(e){C.enable(e)}))}))).apply(this,arguments)}function F(){return U.apply(this,arguments)}function U(){return(U=(0,i.default)((function*(){var e=(C._enabledExtensions||[]).join(",");R?window.localStorage.setItem(E,e):yield v.default.setItem(E,e)}))).apply(this,arguments)}var H=function(){var e=(0,i.default)((function*(e){try{if(A.common.info(`Device: ${(0,p.getModel)()} ${(0,p.getDeviceId)()}`,`System: ${(0,p.getSystemName)()} ${(0,p.getSystemVersion)()}`,`Version Hash: ${{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"web",slug:"web",version:"0.0.1",web:{},description:"Multi-chain support for BTC/ETH/BNB/NEAR/Polygon/Solana/Avalanche/Fantom and others",sdkVersion:"49.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.COMMITHASH||""}`,`Build Number: ${(0,p.getBuildNumber)()} ${(0,p.getIncrementalSync)()}`,`Memory: ${(0,p.getUsedMemorySync)()}/${(0,p.getTotalMemorySync)()}`),!h.default)return;yield T(),yield S();var t=`${O}/${e}`;if(yield(0,g.zip)(j,`${O}/${e}`),!(yield h.default.exists(t)))throw new Error("zip log path is not exist");return y.default.isNativeAndroid?`file://${t}`:t}catch(n){if(!h.default)return;return(yield h.default.readDir(j)).filter((function(e){return e.name.endsWith(".log")})).map((function(e){return w(w({},e),{},{time:new Date(e.mtime||e.ctime||"").getTime()})})).sort((function(e,t){return t.time-e.time}))[0].path}}));return function(t){return e.apply(this,arguments)}}();const W=A},563089:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(763115).default},897959:(e,t,n)=>{var r=n(405634);n.g.crypto&&(n.g.crypto.randomBytes=n.g.crypto.randomBytes||r.randomBytes,r.getRandomValues=r.getRandomValues||n.g.crypto.getRandomValues),r.$$isOneKeyShim=!0,n.g.crypto.$$isOneKeyShim=!0,e.exports=r},988955:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},531675:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearLogFolder:()=>h,getMeasureTime:()=>O,getUsedBatterySinceStartup:()=>P,markBatteryLevel:()=>S,markFPTime:()=>I,markJsBundleLoadedTime:()=>k,startLogging:()=>M,startRecordingMetrics:()=>E,stopLogging:()=>A,stopRecordingMetrics:()=>R,subscribeToMetrics:()=>j,uploadMetricsInfo:()=>D});var r=n(256666),o=n(634795),a=n(807661),i=n(338725),s=n(209899),l=n(988955),c=n(623688),d=`${(null==l.default?void 0:l.default.TemporaryDirectoryPath)||""}metrix`,u="metrix.zip",f=`${(null==l.default?void 0:l.default.TemporaryDirectoryPath)||""}metrix_zip`,p=`${f}/${u}`,m=function(){var e=(0,o.default)((function*(){l.default&&(yield l.default.mkdir(d),yield l.default.mkdir(f))}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.default)((function*(){l.default&&(yield l.default.unlink(d),yield l.default.unlink(f))}));return function(){return e.apply(this,arguments)}}(),g=s.logger.createLogger({transport:s.fileAsyncTransport,dateFormat:"iso",transportOptions:{async:!0,FS:l.default,filePath:d,fileName:"metrix.log"}}),y=function(){var e=(0,o.default)((function*(e,t,n,r){if(!(yield null==l.default?void 0:l.default.exists(d)))throw new Error("metrics log is not exist");if(yield(0,c.zip)(d,p),!(yield null==l.default?void 0:l.default.exists(p)))throw new Error("zip log path is not exist");var o=yield null==l.default?void 0:l.default.uploadFiles({toUrl:e,files:[{name:"metrix",filename:u,filepath:p,filetype:"application/zip"}],method:"POST",headers:{Accept:"application/json"},fields:{unitTestName:t,password:n,extra:r}}).promise,a={success:!1,message:""};try{(a=JSON.parse((null==o?void 0:o.body)||"")).success&&(yield h())}catch(i){console.log(i)}return a}));return function(t,n,r,o){return e.apply(this,arguments)}}();function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x,w={jsBundleLoadedTime:-1,jsBundleLoadedTimeAt:"",fpTime:-1,fpTimeAt:"",batteryUsed:0},_=function(){return(new Date).toISOString()},k=function(){w.jsBundleLoadedTime=(0,i.getTimeSinceStartup)(),w.jsBundleLoadedTimeAt=_()},I=function(){w.fpTime=(0,i.getTimeSinceStartup)(),w.fpTimeAt=_()},j=function(e){return(0,i.onUpdate)(e)},O=function(){return w},T=-1,S=function(){var e=(0,o.default)((function*(){var e=yield(0,a.getBatteryLevelAsync)();T=e}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,o.default)((function*(){var e=yield(0,a.getBatteryLevelAsync)();return T-e}));return function(){return e.apply(this,arguments)}}(),C=!1,M=function(){C||(C=!0,m(),x=(0,i.onUpdate)((function(e){g.info(JSON.stringify(e))})))},A=function(){C&&x&&(C=!1,x())},E=function(){(0,i.start)(),M()},R=function(){(0,i.stop)(),A()},D=function(){var e=(0,o.default)((function*(e,t,n){return y("https://perf.onekeytest.com/api/logs/upload",e,t,JSON.stringify(b(b({},w),n)))}));return function(t,n,r){return e.apply(this,arguments)}}()},623688:(e,t,n)=>{"use strict";n.r(t),n.d(t,{zip:()=>r});var r=function(){return Promise.resolve("")}},862983:(e,t,n)=>{"use strict";n.r(t),n.d(t,{checkPushNotificationPermission:()=>s,hasPermission:()=>i,initJpush:()=>l});var r,o=n(634795),a=(n(427003),n(517119));!function(e){e[e.NOT_DETERMINED=0]="NOT_DETERMINED",e[e.DENIED=1]="DENIED",e[e.AUTHORIZED=2]="AUTHORIZED",e[e.PROVISIONAL=3]="PROVISIONAL",e[e.EPHEMERAL=4]="EPHEMERAL"}(r||(r={}));n(670165),n(292147),n(213208);var i=function(e){var t;return e.granted||(null==(t=e.ios)?void 0:t.status)===r.PROVISIONAL},s=function(){var e=(0,o.default)((function*(){var e=yield(0,a.getPermissionsAsync)();return i(e)}));return function(){return e.apply(this,arguments)}}(),l=function(){}},221899:(e,t,n)=>{"use strict";n.r(t),n.d(t,{startTrace:()=>o,stopTrace:()=>a});var r=function(e){},o=r,a=r},345584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ETimelinePerfNames:()=>r,default:()=>a});var r,o=n(887371);!function(e){e.createHDWallet="createHDWallet",e.removeWallet="removeWallet",e.postWalletRemoved="postWalletRemoved"}(r||(r={}));const a=new(function(){function e(){this.timelineData={}}var t=e.prototype;return t.getTimelineData=function(){return this.timelineData},t.clear=function(e){this.timelineData[e]=[]},t.mark=function(e){var t=e.name,r=e.title,o=e.payload,a=this.timelineData[t]||[],i=a[a.length-1],s=n.g.performance.now(),l=(new Date).toLocaleString();a.push({lag:parseInt(String(i?s-i.elapsed:0),10),title:r,time:l,elapsed:Math.round(s),payload:o}),a=a.slice(-100),this.timelineData[t]=a},(0,o.default)(e)}())},213208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{canGetClipboard:()=>oe,default:()=>le,isAppleStoreEnv:()=>ie,isExtensionBackground:()=>Y,isExtensionBackgroundHtml:()=>q,isExtensionBackgroundServiceWorker:()=>X,isExtensionUi:()=>J,isExtensionUiExpandTab:()=>te,isExtensionUiPopup:()=>ee,isExtensionUiStandaloneWindow:()=>ne,isManifestV3:()=>re,supportAutoUpdate:()=>ae});var r,o,a,i,s,l,c,d,u,f,p,m,h,g,y,v=n(190769),b=n(426581),x=b.isJest,w=b.isDev,_=b.isProduction,k=b.isWeb,I=b.isWebEmbed,j=b.isDesktop,O=b.isExtension,T=b.isNative,S=b.isExtChrome,P=b.isExtFirefox,C=j&&"darwin"===(null==(r=window)||null==(o=r.desktopApi)?void 0:o.platform),M=C&&"arm64"===(null==(a=window)||null==(i=a.desktopApi)?void 0:i.arch),A=j&&"win32"===(null==(s=window)||null==(l=s.desktopApi)?void 0:l.platform),E=A&&!1,R=j&&"linux"===(null==(c=window)||null==(d=c.desktopApi)?void 0:d.platform),D=R&&"snap"===(null==(u=window)||null==(f=u.desktopApi)?void 0:f.channel),N=T&&"ios"===v.default.OS,L=N&&_,B=T&&"ios"===v.default.OS&&!v.default.isPad&&!v.default.isTV,F=T&&"ios"===v.default.OS&&v.default.isPad,U=F&&_,H=T&&"android"===v.default.OS,W=H&&!1,V=H&&!1,z=j&&(null==(p=window)||null==(m=p.desktopApi)?void 0:m.isMas),K="undefined"!==typeof window&&!T,G="undefined"!==typeof InstallTrigger,$=function(){if(!K)return!1;var e=window.chrome,t=window.navigator,n=t?t.vendor:"",r="undefined"!==typeof window.opr,o=!!t&&t.userAgent.indexOf("Edg")>-1;return!!/CriOS/.exec(t?t.userAgent:"")||null!==e&&"undefined"!==typeof e&&"Google Inc."===n&&!r&&!o}(),Z=function(){if(!K)return!1;var e=window.chrome,t=window.navigator,n=!!t&&t.userAgent.indexOf("Edg")>-1;return!(!e||!0!==n)}(),q=O&&K&&window.location.pathname.startsWith("/background.html"),X=O&&!K&&Boolean(n.g.serviceWorker)&&n.g.serviceWorker instanceof ServiceWorker,Y=q||X,Q=O&&K&&window.location.pathname.startsWith("/offscreen.html"),J=O&&K&&window.location.pathname.startsWith("/ui-"),ee=J&&window.location.pathname.startsWith("/ui-popup.html"),te=J&&window.location.pathname.startsWith("/ui-expand-tab.html"),ne=J&&window.location.pathname.startsWith("/ui-standalone-window.html"),re=O&&3===(null==(h=chrome)||null==(g=h.runtime)||null==g.getManifest||null==(y=g.getManifest())?void 0:y.manifest_version),oe=!k&&!O,ae=j&&!(z||D||E),ie=z||L||U,se={isNewRouteMode:!0,version:"4.22.0",buildNumber:"2024031487",isJest:x,isMultipleHistoryTxActionsSim:!1,isDev:w,isProduction:_,isWeb:k,isWebEmbed:I,isDesktop:j,isExtension:O,isNative:T,isDesktopMac:C,isDesktopWin:A,isDesktopWinMsStore:E,isDesktopMacArm64:M,isDesktopLinux:R,isDesktopLinuxSnap:D,isMas:z,isExtFirefox:P,isExtChrome:S,isNativeIOS:N,isNativeIOSStore:L,isNativeIOSPhone:B,isNativeIOSPad:F,isNativeIOSPadStore:U,isNativeAndroid:H,isNativeAndroidGooglePlay:W,isNativeAndroidHuawei:V,symbol:k?"web":I?"webEmbed":j?"desktop":O?"ext":T?"native":void 0,distributionChannel:S?"ext-chrome":P?"ext-firefox":M?"desktop-mac-arm64":C?"desktop-mac":E?"desktop-win-ms-store":A?"desktop-win":D?"desktop-linux-snap":R?"desktop-linux":U?"native-ios-pad-store":F?"native-ios-pad":L?"native-ios-store":N?"native-ios":W?"native-android-google":V?"native-android-huawei":H?"native-android":void 0,isManifestV3:re,isExtensionBackground:Y,isExtensionBackgroundHtml:q,isExtensionBackgroundServiceWorker:X,isExtensionOffscreen:Q,isExtensionUi:J,isExtensionUiPopup:ee,isExtensionUiExpandTab:te,isExtensionUiStandaloneWindow:ne,isExtFirefoxUiPopup:P&&ee,isRuntimeBrowser:K,isRuntimeFirefox:G,isRuntimeChrome:$,isRuntimeEdge:Z,canGetClipboard:oe,supportAutoUpdate:ae,isAppleStoreEnv:ie};w&&(n.g.$$platformEnv=se);const le=se},908097:(e,t,n)=>{"use strict";n.r(t);n(737304);var r=n(571696),o=n.n(r),a=n(897959),i=n.g.crypto;o().ok(null==i?void 0:i.$$isOneKeyShim,"global crypto is not polyfilled"),o().ok(null==a?void 0:a.$$isOneKeyShim,"crypto is not polyfilled"),o().equal(i.getRandomValues,a.getRandomValues,"getRandomValues is not matched"),o().equal(i.randomBytes,a.randomBytes,"randomBytes is not matched");var s=n(496279),l=n.n(s),c=n(785505),d=n.n(c),u=n(301842),f=n.n(u),p=n(887371),m=n(545754),h=n(411987),g=n(695058),y=n(789644),v=n.n(y),b=n(2540);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.default)(e);if(t){var o=(0,g.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.default)(this,n)}}var w=function(e){(0,m.default)(n,e);var t=x(n);function n(e){var n;return(n=t.call(this)).requestLibName=b.RequestLibNames.axios,n.axiosConfig=e,n}var r=n.prototype;return r.setDefaultRetry=function(e){},r.setDefaultTimeout=function(e){f()(this.axiosConfig.timeout)&&(this.axiosConfig.timeout=e)},r.setHeader=function(e,t){this.axiosConfig.headers=this.axiosConfig.headers||{},this.axiosConfig.headers[e]=t},(0,p.default)(n)}(b.RequestInterceptorBase);function _(e){var t=e.originRequest;return function(e,n){try{var r=e;if(d()(r)&&(f()(n)&&(n={}),r=n),r){var o,a=new w(r),i=(null==(o=r)?void 0:o.url)||(d()(e)?e:"")||"";i.startsWith("http://")||i.startsWith("https://")||!this.defaults.baseURL||(i=this.defaults.baseURL),a.interceptRequest({url:i})}}catch(s){console.error("axios InterceptRequest ERROR",s)}return t.call(this,e,n)}}var k=n(701689),I=n(163473),j=n(100139),O=n.n(j);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.default)(e);if(t){var o=(0,g.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.default)(this,n)}}var S=function(e){(0,m.default)(n,e);var t=T(n);function n(e){var n;return(n=t.call(this)).requestLibName=b.RequestLibNames.superagent,n.superagentRequest=e,n}var r=n.prototype;return r.setDefaultRetry=function(e){f()(this.superagentRequest._maxRetries)&&this.superagentRequest.retry(e)},r.setDefaultTimeout=function(e){f()(this.superagentRequest._timeout)&&this.superagentRequest.timeout(e)},r.setHeader=function(e,t){this.superagentRequest.set(e,t)},(0,p.default)(n)}(b.RequestInterceptorBase),P=O().Request,C=function(e){(0,m.default)(n,e);var t=T(n);function n(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this].concat(n))}var r=n.prototype;return r.send=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=(0,I.default)((0,g.default)(n.prototype),"send",this)).call.apply(e,[this].concat(r))},r._end=function(){var e,t=new S(this),r=this.url;r=d()(r)?r:"",t.interceptRequest({url:r});for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=(0,I.default)((0,g.default)(n.prototype),"_end",this)).call.apply(e,[this].concat(a))},(0,p.default)(n)}(P);var M=n(892012);v().requestOrigin=v().request,v().request=_({originRequest:v().requestOrigin}),v().Axios.prototype.requestOrigin=v().Axios.prototype.request,v().Axios.prototype.request=_({originRequest:v().Axios.prototype.requestOrigin}),O().RequestOrigin=P,O().Request=C,(0,k.normalizeCrossFetch)({fetch:l()}),M.default.interceptTimerWithDisable()},737304:()=>{console.log("polyfillsPlatform do nothing")},471453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OPENAPI_URL_MAINNET:()=>f,OPENAPI_URL_TESTNET:()=>p,checkIsUnListOrderPsbt:()=>I,formatPsbtHex:()=>y,getInputsToSignFromPsbt:()=>w,getNetworkName:()=>g,httpPost:()=>v,mapInscriptionToNFTBTCAssetModel:()=>x,toPsbtNetwork:()=>h,toXOnly:()=>m});var r,o=n(634795),a=n(376314),i=n(636393),s=n(556658),l=n(398514),c=n(613549);!function(e){e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET"}(r||(r={}));var d=[{value:r.MAINNET,label:"LIVENET",name:"livenet",validNames:[0,"livenet","mainnet"]},{value:r.TESTNET,label:"TESTNET",name:"testnet",validNames:["testnet"]}],u=n(348834).Buffer,f="https://unisat.io/wallet-api-v4",p="https://unisat.io/testnet/wallet-api-v4";function m(e){return 32===e.length?e:e.slice(1,33)}function h(e){return e.isTestnet?a.networks.testnet:a.networks.bitcoin}function g(e){if(e&&(0,c.isBTCNetwork)(e.id))return e.isTestnet?Promise.resolve(d[r.TESTNET].name):Promise.resolve(d[r.MAINNET].name)}function y(e){var t="";try{/^[0-9a-fA-F]+$/.test(e)?(a.Psbt.fromHex(e),t=e):t=a.Psbt.fromBase64(e).toHex()}catch(n){throw new Error("invalid psbt")}return t}function v(e){return b.apply(this,arguments)}function b(){return(b=(0,o.default)((function*(e){var t=e.isTestnet,n=e.route,r=e.params,o=t?p:f+n,a=new Headers;a.append("X-Client","UniSat Wallet"),a.append("X-Version","1.0.0"),a.append("x-channel","store"),a.append("x-udid",i.default.v4().toString()),a.append("Content-Type","application/json;charset=utf-8");var s=yield fetch(new Request(o),{method:"POST",headers:a,mode:"cors",cache:"default",body:JSON.stringify(r)}),l=yield s.json();if("0"===l.status)throw new Error(l.message);return l}))).apply(this,arguments)}function x(e){return{inscription_id:e.inscriptionId,inscription_number:e.inscriptionNumber,tx_hash:"",content:"",content_length:e.contentLength,content_type:e.contentType,timestamp:e.timestamp.toString(),output:e.output,owner:e.address,output_value_sat:e.outputValue,genesis_transaction_hash:e.genesisTransaction,location:e.location,contentUrl:e.content,type:s.NFTAssetType.BTC}}function w(e){var t=e.psbt,n=e.psbtNetwork,r=e.account,o=[];return t.data.inputs.forEach((function(e,i){var s=null;if(e.witnessUtxo)s=e.witnessUtxo.script,e.witnessUtxo.value;else if(e.nonWitnessUtxo){var l=a.Transaction.fromBuffer(e.nonWitnessUtxo).outs[t.txInputs[i].index];s=l.script,l.value}var c=e.finalScriptSig||e.finalScriptWitness;if(s&&!c){var d,f=a.address.fromOutputScript(s,n);if(r.address===f)o.push({index:i,publicKey:r.pubKey,address:f,sighashTypes:e.sighashType?[e.sighashType]:void 0}),null!=(d=r.template)&&d.startsWith("m/86'/")&&!e.tapInternalKey&&(e.tapInternalKey=m(u.from(r.pubKey,"hex")))}})),o}function _(e,t){var n,r,o,a,i,s;return e.type===l.IDecodedTxActionType.NFT_TRANSFER_BTC&&(null==(n=e.inscriptionInfo)||!n.send||"unknown"===(null==(r=e.inscriptionInfo)?void 0:r.send)||(null==(o=e.inscriptionInfo)?void 0:o.send)===t)&&(null==(a=e.inscriptionInfo)||!a.receive||"unknown"===(null==(i=e.inscriptionInfo)?void 0:i.receive)||(null==(s=e.inscriptionInfo)?void 0:s.receive)===t)}function k(e,t){var n,r,o,a,i;return e.type===l.IDecodedTxActionType.TOKEN_BRC20_TRANSFER&&(null==(n=e.brc20Info)||!n.sender||"unknown"===e.brc20Info.sender||(null==(r=e.brc20Info)?void 0:r.sender)===t)&&(null==(o=e.brc20Info)||!o.receiver||"unknown"===(null==(a=e.brc20Info)?void 0:a.receiver)||(null==(i=e.brc20Info)?void 0:i.receiver)===t)}function I(e,t){return!(!e||!t)&&(1===(null==e?void 0:e.length)?k(e[0],t)||_(e[0],t):(null==e?void 0:e.length)>=2&&(k(e[0],t)&&k(e[1],t)||_(e[0],t)&&_(e[1],t)))}},85397:(e,t,n)=>{"use strict";n.r(t),n.d(t,{JsonRPCRequest:()=>h});var r=n(256666),o=n(196234),a=n(634795),i=n(887371),s=n(496279),l=n.n(s),c=n(126438),d=n(992431),u=n(942349);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){return{jsonrpc:"2.0",id:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,method:e,params:t}}var h=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;this.url=e,this.timeout=n,this.headers={"Content-Type":"application/json"},t&&Object.assign(this.headers,t)}var t=e.prototype;return t.getIsRpcBatchDisabled=function(){var e=(0,a.default)((function*(e){return!!(yield d.default.setting.getRpcBatchFallbackWhitelistHosts()).find((function(t){return e.includes(t.url)}))}));return function(t){return e.apply(this,arguments)}}(),e.parseRPCResponse=function(e){if("object"!==typeof e)throw new u.ResponseError("Invalid JSON RPC response, typeof response should be an object",e);if(e.error){var t="Error JSON PRC response",n=e.error;throw null!=n&&n.message&&"string"===typeof(null==n?void 0:n.message)&&(t=`Error JSON PRC response: ${null==n?void 0:n.message}`),new u.JsonPRCResponseError(t,e)}if(!("result"in e))throw new u.ResponseError("Invalid JSON RPC response, result not found",e);return Promise.resolve(e.result)},t.call=function(){var t=(0,a.default)((function*(t,n,r,o){var a=(0,c.default)(o||this.timeout),i=yield l()(this.url,{headers:this.assembleHeaders(r),method:"POST",body:JSON.stringify(m(t,n)),signal:a});if(!i.ok)throw new u.ResponseError(`Wrong response<${i.status}>`,i);var s=yield i.json();return e.parseRPCResponse(s)}));return function(e,n,r,o){return t.apply(this,arguments)}}(),t.batchCall=function(){var t=(0,a.default)((function*(t,n,r){var i=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=[];if(!(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])||!(yield this.getIsRpcBatchDisabled(this.url))){var f=t.map((function(e,t){var n=(0,o.default)(e,2);return m(n[0],n[1],t)})),p=yield l()(this.url,{headers:this.assembleHeaders(n),method:"POST",body:JSON.stringify(f),signal:(0,c.default)(r||this.timeout)});if(!p.ok)throw new u.ResponseError(`Wrong response<${p.status}>`,p);if(d=yield p.json(),!Array.isArray(d))throw new u.ResponseError("Invalid JSON Batch RPC response, response should be an array",p);if(t.length!==d.length)throw new u.ResponseError(`Invalid JSON Batch RPC response, batch with ${t.length} calls, but got ${d.length} responses`,p)}else d=yield Promise.all(t.map(function(){var e=(0,a.default)((function*(e){try{return{result:yield i.call(e[0],e[1],n,r)}}catch(t){}}));return function(t){return e.apply(this,arguments)}}()));return Promise.all(d.sort((function(e,t){return e.id-t.id})).map((function(t){return e.parseRPCResponse(t).catch((function(e){if(!(e instanceof u.JsonPRCResponseError&&s))throw e}))})))}));return function(e,n,r){return t.apply(this,arguments)}}(),t.assembleHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(p({},this.headers),e)},(0,i.default)(e)}()},725141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RestfulRequest:()=>p});var r=n(256666),o=n(634795),a=n(887371),i=n(348834),s=n(496279),l=n.n(s),c=n(126438),d=n(942349);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;this.baseUrl=e.endsWith("/")?e.slice(0,-1):e,this.timeout=n,this.headers={},t&&Object.assign(this.headers,t)}e.handleResponse=function(e){if(!e.ok)throw new d.ResponseError(`Wrong response<${e.status}>`,e);return Promise.resolve(e)};var t=e.prototype;return t.createAbortSignal=function(e){var t=e.timeout;return(0,c.default)(t||this.timeout)},t.get=function(){var t=(0,o.default)((function*(t,n,r,o){r=this.assembleHeaders(r);var a=this.buildUrl(t);"object"===typeof n&&(a.search=new URLSearchParams(n).toString());var i=yield l()(a.toString(),{headers:r,signal:this.createAbortSignal({timeout:o})});return e.handleResponse(i)}));return function(e,n,r,o){return t.apply(this,arguments)}}(),t.post=function(){var t=(0,o.default)((function*(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;o=this.assembleHeaders(o),r&&(o["Content-Type"]="application/json");var s=this.buildUrl(t),c="application/x-binary"===o["Content-Type"]?i.Buffer.from(n,"hex"):"object"===typeof n?r?JSON.stringify(n):new URLSearchParams(n).toString():n,d=yield l()(s.toString(),{method:"POST",headers:o,body:c,signal:this.createAbortSignal({timeout:a})});return e.handleResponse(d)}));return function(e,n){return t.apply(this,arguments)}}(),t.buildUrl=function(e){e=e.startsWith("/")?e:`/${e}`;var t=`${this.baseUrl}${e}`;return new URL(t)},t.assembleHeaders=function(e){return e=e||{},f(f({},this.headers),e)},(0,a.default)(e)}()},2540:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RequestInterceptorBase:()=>s,RequestLibNames:()=>r});var r,o=n(887371),a=n(636393),i=n(213208);!function(e){e.axios="axios",e.fetch="fetch",e.superagent="superagent"}(r||(r={}));var s=function(){function e(){}var t=e.prototype;return t.normalizeHeaderKey=function(e){var t;return null!=(t=null==e?void 0:e.toLowerCase())?t:e},t.interceptRequest=function(e){var t=e.url;if(t&&function(e){var t=e.url;for(var n of["onekey.so","onekeycn.com","onekeytest.com","localhost","127.0.0.1","192.168"])if(t.includes(n))return!0;return!1}({url:t})){var n=a.default.v4();this.setHeader(this.normalizeHeaderKey("X-Request-By"),JSON.stringify({agent:`OneKey/${this.requestLibName}`,isNativeIOS:i.default.isNativeIOS,isNativeAndroid:i.default.isNativeAndroid,isDesktop:!1,isExtChrome:!1,isExtFirefox:!1,version:i.default.version,buildNumber:i.default.buildNumber,requestId:n})),this.setHeader(this.normalizeHeaderKey("x-onekey-request-id"),n),this.setHeader(this.normalizeHeaderKey("traceparent"),function(e){return`00-${e.replace(/-/g,"")}-08e5841cdcbc1c47-01`}(n))}this.setDefaultTimeout(6e4),this.setDefaultRetry(0)},(0,o.default)(e)}()},701689:(e,t,n)=>{"use strict";n.r(t),n.d(t,{normalizeCrossFetch:()=>h});var r=n(196234),o=n(301842),a=n.n(o),i=n(785505),s=n.n(i),l=n(887371),c=n(545754),d=n(411987),u=n(695058),f=(n(213208),n(2540));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var m=function(e){(0,c.default)(n,e);var t=p(n);function n(e){var n;return(n=t.call(this)).requestLibName=f.RequestLibNames.fetch,n.options=e,n}var r=n.prototype;return r.setDefaultRetry=function(e){},r.setDefaultTimeout=function(e){this.options.signal},r.setHeader=function(e,t){this.options.headers=this.options.headers||{},this.options.headers[e]=t},(0,l.default)(n)}(f.RequestInterceptorBase);function h(e){var t=e.fetch;if(t&&t.isNormalizedByOneKey)return t;var o=t,i=function(e,t){a()(t)&&(t={});var n=e;if(n&&n.headers&&n.headers.entries){var i=Array.from(n.headers.entries());t.headers=t.headers||{};var l=t.headers;i.forEach((function(e){var t=(0,r.default)(e,2),n=t[0],o=t[1];!n||n in l||(null==n?void 0:n.toLowerCase())in l||(null==n?void 0:n.toUpperCase())in l||(l[n]=o)}))}var c=new m(t),d=function(e){return s()(e)?e:e instanceof URL?e.href:e.url}(e);c.interceptRequest({url:d});for(var u=arguments.length,f=new Array(u>2?u-2:0),p=2;p<u;p++)f[p-2]=arguments[p];return o.call.apply(o,[this,e,t].concat(f)).then((function(e){return e.clone()}))};return i.isNormalizedByOneKey=!0,n.g.fetch&&!n.g.fetch.isNormalizedByOneKey&&(n.g.fetch=i),i}},947100:(e,t,n)=>{"use strict";n.r(t),n.d(t,{processMigration:()=>i});var r=n(634795),o=n(197699),a=n.n(o);function i(e){return s.apply(this,arguments)}function s(){return(s=(0,r.default)((function*(e){var t=e.dbMigrationVersion,n=e.checkVersion,r=e.doMigration;return t&&a().valid(t)&&a().gte(t,n)?{skip:!0}:(yield r(),{skip:!1})}))).apply(this,arguments)}},677346:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{RestoreResult:()=>r}),function(e){e.SUCCESS="success",e.WRONG_PASSWORD="wrong_password",e.UNKNOWN_ERROR="unknown_error"}(r||(r={}))},900527:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{ExplorerShortcutEvents:()=>r,getDisplayKeysMap:()=>a,getShortcutsMap:()=>o}),function(e){e.NewTab="NewTab",e.NewTabAndFocus="NewTabAndFocus",e.JumpToNextTab="JumpToNextTab",e.GobackHistory="GobackHistory",e.GoForwardHistory="GoForwardHistory",e.CloseTab="CloseTab",e.CloseTabOnWinOrLinux="CloseTabOnWinOrLinux"}(r||(r={}));var o=function(e){var t;return(t={})[r.NewTab]={keys:"CmdOrCtrl+N",desc:"New Tab"},t[r.NewTabAndFocus]={keys:"CmdOrCtrl+T",desc:"New Tab"},t[r.JumpToNextTab]={keys:e?"Cmd+Alt+Right":"Ctrl+Tab",desc:"New Tab"},t[r.GobackHistory]={keys:"Alt+Left",desc:"New Tab"},t[r.GoForwardHistory]={keys:"Alt+Right",desc:"New Tab"},t[r.CloseTab]={keys:"CmdOrCtrl+W",desc:"Close Tab"},t[r.CloseTabOnWinOrLinux]={keys:e?null:"Ctrl+F4",desc:"Close Tab"},t},a=function(e){return{CmdOrCtrl:e?"\u2318":"Ctrl",Alt:e?"\u2325":"Alt",Shift:e?"\u21e7":"Shift",Left:"\u2190",Right:"\u2192",Up:"\u2191",Down:"\u2193"}}},825756:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppSettingKey:()=>r,appSetting:()=>o,buildAppStorageFactory:()=>a});var r,o=new(n(67982).MMKV)({id:"onekey-app-setting"});!function(e){e.rrt="rrt",e.perf_switch="perf_switch"}(r||(r={}));var a=function(e){var t=e;return t.setSetting=o.set.bind(o),t.getSettingString=o.getString.bind(o),t.getSettingNumber=o.getNumber.bind(o),t.getSettingBoolean=o.getBoolean.bind(o),t.deleteSetting=o.delete.bind(o),t.clearSetting=o.clearAll.bind(o),t.getAllKeysOfSetting=o.getAllKeys.bind(o),t}},465146:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m,mockStorage:()=>p});var r=n(825756),o=n(887371);const a=function(){function e(){}var t=e.prototype;return t.setSetting=function(){},t.getSettingString=function(){return""},t.getSettingNumber=function(){return 0},t.getSettingBoolean=function(){return!1},t.deleteSetting=function(){},t.clearSetting=function(){},t.getAllKeysOfSetting=function(){return[]},t.getItem=function(){return Promise.resolve(null)},t.setItem=function(){return Promise.resolve(void 0)},t.removeItem=function(){return Promise.resolve(void 0)},t.clear=function(e){return Promise.resolve(void 0)},t.getAllKeys=function(e){return Promise.resolve([])},t.mergeItem=function(e,t,n){return Promise.resolve(void 0)},t.multiGet=function(e,t){return Promise.resolve([])},t.multiMerge=function(e,t){return Promise.resolve(void 0)},t.multiRemove=function(){return Promise.resolve(void 0)},t.multiSet=function(e,t){return Promise.resolve(void 0)},t.flushGetRequests=function(){return Promise.resolve(void 0)},(0,o.default)(e)}();var i=n(196234),s=n(634795),l=n(4810),c=n(675486),d=n.n(c);d().config({name:"OneKeyStorage"});var u="$$ONEKEY_MIGRATED_TO_INDEXED_DB";var f=new(function(){function e(){this.mutex=new l.Semaphore(1),this.isMigrated=!1,this.migrateFromLocalStorage()}var t=e.prototype;return t.migrateFromLocalStorage=function(){var e=(0,s.default)((function*(){var e=this;return this.mutex.runExclusive((0,s.default)((function*(){if(e.isMigrated)return e.isMigrated=!0,!0;if("undefined"!==typeof window&&window.localStorage){if(yield d().ready(),console.log("appStorage/webStorage --- migrateFromLocalStorage >>>> ",d().driver(),d().LOCALSTORAGE),d().driver()===d().LOCALSTORAGE)return e.isMigrated=!0,!0;if(window.localStorage.getItem(u))return e.isMigrated=!0,!0;if(yield d().getItem("persist:ONEKEY_WALLET"))return e.isMigrated=!0,!0;if(d().driver()===d().LOCALSTORAGE)return e.isMigrated=!0,!0;var t=Object.entries(window.localStorage).map((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1];return d().setItem(n,r)}));yield Promise.all(t),window.localStorage.setItem(u,Date.now().toString(10))}return e.isMigrated=!0,!0})))}));return function(){return e.apply(this,arguments)}}(),t.clear=function(){var e=(0,s.default)((function*(e){return yield this.migrateFromLocalStorage(),yield d().clear(),Promise.resolve(void 0)}));return function(t){return e.apply(this,arguments)}}(),t.getAllKeys=function(){var e=(0,s.default)((function*(e){return yield this.migrateFromLocalStorage(),d().keys()}));return function(t){return e.apply(this,arguments)}}(),t.getItem=function(){var e=(0,s.default)((function*(e,t){var n;return yield this.migrateFromLocalStorage(),null!=(n=yield d().getItem(e,t))?n:null}));return function(t,n){return e.apply(this,arguments)}}(),t.setItem=function(){var e=(0,s.default)((function*(e,t,n){return yield this.migrateFromLocalStorage(),yield d().setItem(e,t,n),Promise.resolve(void 0)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.removeItem=function(){var e=(0,s.default)((function*(e,t){return yield this.migrateFromLocalStorage(),yield d().removeItem(e,t),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.flushGetRequests=function(){var e=(0,s.default)((function*(){yield this.migrateFromLocalStorage()}));return function(){return e.apply(this,arguments)}}(),t.mergeItem=function(){var e=(0,s.default)((function*(e,t,n){return yield this.migrateFromLocalStorage(),this.setItem(e,t,n)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.multiGet=function(){var e=(0,s.default)((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map(function(){var e=(0,s.default)((function*(e){var t=yield n.getItem(e,void 0);return[e,null!=t?t:null]}));return function(t){return e.apply(this,arguments)}}());return Promise.all(r)}));return function(t,n){return e.apply(this,arguments)}}(),t.multiMerge=function(){var e=(0,s.default)((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map((function(e){return n.mergeItem(e[0],e[1],void 0)}));return yield Promise.all(r),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.multiRemove=function(){var e=(0,s.default)((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map((function(e){return n.removeItem(e,void 0)}));return yield Promise.all(r),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.multiSet=function(){var e=(0,s.default)((function*(e,t){var n=this;yield this.migrateFromLocalStorage();var r=e.map((function(e){return n.setItem(e[0],e[1],void 0)}));return yield Promise.all(r),Promise.resolve(void 0)}));return function(t,n){return e.apply(this,arguments)}}(),(0,o.default)(e)}()),p=new a;const m=(0,r.buildAppStorageFactory)(f)},490628:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assert:()=>o.a,check:()=>a,checkIsDefined:()=>i,checkIsUndefined:()=>s});var r=n(571696),o=n.n(r),a=function(e,t){if(!e)throw t=(t=t||"Invalid statement")instanceof Error?t:new Error(t)},i=function(e,t){return a("undefined"!==typeof e,t||"Expect defined but actually undefined"),e},s=function(e,t){a("undefined"===typeof e,t||`Expect undefined but actually ${e}`)}},269482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(785505),o=n.n(r),a=n(348834),i=n(84658);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";return o()(e)?a.Buffer.from(e,t):e instanceof Uint8Array?a.Buffer.from(e):e}const l={toBuffer:s,bytesToHex:function(e){return o()(e)?e:(0,i.bytesToHex)(s(e))},hexToBytes:i.hexToBytes,textToHex:function(e){return s(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8")||"utf8").toString("hex")},hexToText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return s(e,"hex").toString(t||"utf8")},utf8ToBytes:i.utf8ToBytes,bytesToUtf8:function(e){return s(e).toString("utf8")}}},396564:(e,t,n)=>{"use strict";n.r(t),n.d(t,{memoizee:()=>d});var r=n(256666),o=n(785695),a=n.n(o),i=n(223556),s=n.n(i);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n=(null!=t?t:{}).normalizer;return n||(n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a()(t)}),s()(e,c(c({},t),{},{normalizer:n}))}},624491:(e,t,n)=>{"use strict";n.r(t),n.d(t,{colors:()=>a,defaultAvatar:()=>i,emojiList:()=>r,randomAvatar:()=>l});var r=["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83e\udd23","\ud83d\ude02","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude07","\ud83e\udd70","\ud83d\ude0d","\ud83e\udd29","\ud83d\ude18","\ud83d\ude17","\u263a\ufe0f","\ud83d\ude1a","\ud83d\ude19","\ud83e\udd72","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1c","\ud83e\udd2a","\ud83d\ude1d","\ud83e\udd11","\ud83e\udd17","\ud83e\udd2d","\ud83e\udd2b","\ud83e\udd14","\ud83e\udd10","\ud83e\udd28","\ud83d\ude10","\ud83d\ude11","\ud83d\ude36","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude44","\ud83d\ude2c","\ud83e\udd25","\ud83d\ude0c","\ud83d\ude14","\ud83d\ude2a","\ud83e\udd24","\ud83d\ude34","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd22","\ud83e\udd2e","\ud83e\udd27","\ud83e\udd75","\ud83e\udd76","\ud83e\udd74","\ud83d\ude35","\ud83e\udd2f","\ud83e\udd20","\ud83e\udd73","\ud83e\udd78","\ud83d\ude0e","\ud83e\udd13","\ud83e\uddd0","\ud83d\ude15","\ud83d\ude1f","\ud83d\ude41","\u2639\ufe0f","\ud83d\ude2e","\ud83d\ude2f","\ud83d\ude32","\ud83d\ude33","\ud83e\udd7a","\ud83d\ude26","\ud83d\ude27","\ud83d\ude28","\ud83d\ude30","\ud83d\ude25","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude31","\ud83d\ude16","\ud83d\ude23","\ud83d\ude1e","\ud83d\ude13","\ud83d\ude29","\ud83d\ude2b","\ud83e\udd71","\ud83d\ude24","\ud83d\ude21","\ud83d\ude20","\ud83e\udd2c","\ud83d\ude08","\ud83d\udc7f","\ud83d\udc80","\u2620\ufe0f","\ud83d\udca9","\ud83e\udd21","\ud83d\udc79","\ud83d\udc7a","\ud83d\udc7b","\ud83d\udc7d","\ud83d\udc7e","\ud83e\udd16","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude40","\ud83d\ude3f","\ud83d\ude3e","\ud83d\udc8b","\ud83d\udc4b","\ud83e\udd1a","\ud83d\udd90\ufe0f","\u270b","\ud83d\udd96","\ud83d\udc4c","\ud83e\udd0c","\ud83e\udd0f","\u270c\ufe0f","\ud83e\udd1e","\ud83e\udd1f","\ud83e\udd18","\ud83e\udd19","\ud83d\udc48","\ud83d\udc49","\ud83d\udc46","\ud83d\udd95","\ud83d\udc47","\u261d\ufe0f","\ud83d\udc4d","\ud83d\udc4e","\u270a","\ud83d\udc4a","\ud83e\udd1b","\ud83e\udd1c","\ud83d\udc4f","\ud83d\ude4c","\ud83d\udc50","\ud83e\udd32","\ud83e\udd1d","\ud83d\ude4f","\u270d\ufe0f","\ud83d\udc85","\ud83e\udd33","\ud83d\udcaa","\ud83e\uddbe","\ud83e\uddbf","\ud83e\uddb5","\ud83e\uddb6","\ud83d\udc42","\ud83e\uddbb","\ud83d\udc43","\ud83e\udde0","\ud83e\udec0","\ud83e\udec1","\ud83e\uddb7","\ud83e\uddb4","\ud83d\udc40","\ud83d\udc41\ufe0f","\ud83d\udc45","\ud83d\udc44","\ud83d\udc76","\ud83e\uddd2","\ud83d\udc66","\ud83d\udc67","\ud83e\uddd1","\ud83d\udc71","\ud83d\udc68","\ud83e\uddd4","\ud83d\udc68\u200d\ud83e\uddb0","\ud83d\udc68\u200d\ud83e\uddb1","\ud83d\udc68\u200d\ud83e\uddb3","\ud83d\udc68\u200d\ud83e\uddb2","\ud83d\udc69","\ud83d\udc69\u200d\ud83e\uddb0","\ud83e\uddd1\u200d\ud83e\uddb0","\ud83d\udc69\u200d\ud83e\uddb1","\ud83e\uddd1\u200d\ud83e\uddb1","\ud83d\udc69\u200d\ud83e\uddb3","\ud83e\uddd1\u200d\ud83e\uddb3","\ud83d\udc69\u200d\ud83e\uddb2","\ud83e\uddd1\u200d\ud83e\uddb2","\ud83d\udc71\u200d\u2640\ufe0f","\ud83d\udc71\u200d\u2642\ufe0f","\ud83e\uddd3","\ud83d\udc74","\ud83d\udc75","\ud83d\ude4d","\ud83d\ude4d\u200d\u2642\ufe0f","\ud83d\ude4d\u200d\u2640\ufe0f","\ud83d\ude4e","\ud83d\ude4e\u200d\u2642\ufe0f","\ud83d\ude4e\u200d\u2640\ufe0f","\ud83d\ude45","\ud83d\ude45\u200d\u2642\ufe0f","\ud83d\ude45\u200d\u2640\ufe0f","\ud83d\ude46","\ud83d\ude46\u200d\u2642\ufe0f","\ud83d\ude46\u200d\u2640\ufe0f","\ud83d\udc81","\ud83d\udc81\u200d\u2642\ufe0f","\ud83d\udc81\u200d\u2640\ufe0f","\ud83d\ude4b","\ud83d\ude4b\u200d\u2642\ufe0f","\ud83d\ude4b\u200d\u2640\ufe0f","\ud83e\uddcf","\ud83e\uddcf\u200d\u2642\ufe0f","\ud83e\uddcf\u200d\u2640\ufe0f","\ud83d\ude47","\ud83d\ude47\u200d\u2642\ufe0f","\ud83d\ude47\u200d\u2640\ufe0f","\ud83e\udd26","\ud83e\udd26\u200d\u2642\ufe0f","\ud83e\udd26\u200d\u2640\ufe0f","\ud83e\udd37","\ud83e\udd37\u200d\u2642\ufe0f","\ud83e\udd37\u200d\u2640\ufe0f","\ud83e\uddd1\u200d\u2695\ufe0f","\ud83d\udc68\u200d\u2695\ufe0f","\ud83d\udc69\u200d\u2695\ufe0f","\ud83e\uddd1\u200d\ud83c\udf93","\ud83d\udc68\u200d\ud83c\udf93","\ud83d\udc69\u200d\ud83c\udf93","\ud83e\uddd1\u200d\ud83c\udfeb","\ud83d\udc68\u200d\ud83c\udfeb","\ud83d\udc69\u200d\ud83c\udfeb","\ud83e\uddd1\u200d\u2696\ufe0f","\ud83d\udc68\u200d\u2696\ufe0f","\ud83d\udc69\u200d\u2696\ufe0f","\ud83e\uddd1\u200d\ud83c\udf3e","\ud83d\udc68\u200d\ud83c\udf3e","\ud83d\udc69\u200d\ud83c\udf3e","\ud83e\uddd1\u200d\ud83c\udf73","\ud83d\udc68\u200d\ud83c\udf73","\ud83d\udc69\u200d\ud83c\udf73","\ud83e\uddd1\u200d\ud83d\udd27","\ud83d\udc68\u200d\ud83d\udd27","\ud83d\udc69\u200d\ud83d\udd27","\ud83e\uddd1\u200d\ud83c\udfed","\ud83d\udc68\u200d\ud83c\udfed","\ud83d\udc69\u200d\ud83c\udfed","\ud83e\uddd1\u200d\ud83d\udcbc","\ud83d\udc68\u200d\ud83d\udcbc","\ud83d\udc69\u200d\ud83d\udcbc","\ud83e\uddd1\u200d\ud83d\udd2c","\ud83d\udc68\u200d\ud83d\udd2c","\ud83d\udc69\u200d\ud83d\udd2c","\ud83e\uddd1\u200d\ud83d\udcbb","\ud83d\udc68\u200d\ud83d\udcbb","\ud83d\udc69\u200d\ud83d\udcbb","\ud83e\uddd1\u200d\ud83c\udfa4","\ud83d\udc68\u200d\ud83c\udfa4","\ud83d\udc69\u200d\ud83c\udfa4","\ud83e\uddd1\u200d\ud83c\udfa8","\ud83d\udc68\u200d\ud83c\udfa8","\ud83d\udc69\u200d\ud83c\udfa8","\ud83e\uddd1\u200d\u2708\ufe0f","\ud83d\udc68\u200d\u2708\ufe0f","\ud83d\udc69\u200d\u2708\ufe0f","\ud83e\uddd1\u200d\ud83d\ude80","\ud83d\udc68\u200d\ud83d\ude80","\ud83d\udc69\u200d\ud83d\ude80","\ud83d\udc68\ud83c\udffd\u200d\ud83d\ude80","\ud83e\uddd1\u200d\ud83d\ude92","\ud83d\udc68\u200d\ud83d\ude92","\ud83d\udc69\u200d\ud83d\ude92","\ud83d\udc6e","\ud83d\udc6e\u200d\u2642\ufe0f","\ud83d\udc6e\u200d\u2640\ufe0f","\ud83d\udd75\ufe0f","\ud83d\udd75\ufe0f\u200d\u2642\ufe0f","\ud83d\udd75\ufe0f\u200d\u2640\ufe0f","\ud83d\udc82","\ud83d\udc82\u200d\u2642\ufe0f","\ud83d\udc82\u200d\u2640\ufe0f","\ud83e\udd77","\ud83d\udc77","\ud83d\udc77\u200d\u2642\ufe0f","\ud83d\udc77\u200d\u2640\ufe0f","\ud83e\udd34","\ud83d\udc78","\ud83d\udc73","\ud83d\udc73\u200d\u2642\ufe0f","\ud83d\udc73\u200d\u2640\ufe0f","\ud83d\udc72","\ud83e\uddd5","\ud83e\udd35","\ud83e\udd35\u200d\u2642\ufe0f","\ud83e\udd35\u200d\u2640\ufe0f","\ud83d\udc70","\ud83d\udc70\u200d\u2642\ufe0f","\ud83d\udc70\u200d\u2640\ufe0f","\ud83e\udd30","\ud83e\udd31","\ud83d\udc69\u200d\ud83c\udf7c","\ud83d\udc68\u200d\ud83c\udf7c","\ud83e\uddd1\u200d\ud83c\udf7c","\ud83d\udc7c","\ud83c\udf85","\ud83e\udd36","\ud83e\uddd1\u200d\ud83c\udf84","\ud83e\uddb8","\ud83e\uddb8\u200d\u2642\ufe0f","\ud83e\uddb8\u200d\u2640\ufe0f","\ud83e\uddb9","\ud83e\uddb9\u200d\u2642\ufe0f","\ud83e\uddb9\u200d\u2640\ufe0f","\ud83e\uddd9","\ud83e\uddd9\u200d\u2642\ufe0f","\ud83e\uddd9\ud83c\udffc\u200d\u2642\ufe0f","\ud83e\uddd9\u200d\u2640\ufe0f","\ud83e\uddda","\ud83e\uddda\u200d\u2642\ufe0f","\ud83e\uddda\u200d\u2640\ufe0f","\ud83e\udddb","\ud83e\udddb\u200d\u2642\ufe0f","\ud83e\udddb\u200d\u2640\ufe0f","\ud83e\udddc","\ud83e\udddc\u200d\u2642\ufe0f","\ud83e\udddc\u200d\u2640\ufe0f","\ud83e\udddd","\ud83e\udddd\u200d\u2642\ufe0f","\ud83e\udddd\u200d\u2640\ufe0f","\ud83e\uddde","\ud83e\uddde\u200d\u2642\ufe0f","\ud83e\uddde\u200d\u2640\ufe0f","\ud83e\udddf","\ud83e\udddf\u200d\u2642\ufe0f","\ud83e\udddf\u200d\u2640\ufe0f","\ud83d\udc86","\ud83d\udc86\u200d\u2642\ufe0f","\ud83d\udc86\u200d\u2640\ufe0f","\ud83d\udc87","\ud83d\udc87\u200d\u2642\ufe0f","\ud83d\udc87\u200d\u2640\ufe0f","\ud83d\udeb6","\ud83d\udeb6\u200d\u2642\ufe0f","\ud83d\udeb6\u200d\u2640\ufe0f","\ud83e\uddcd","\ud83e\uddcd\u200d\u2642\ufe0f","\ud83e\uddcd\u200d\u2640\ufe0f","\ud83e\uddce","\ud83e\uddce\u200d\u2642\ufe0f","\ud83e\uddce\u200d\u2640\ufe0f","\ud83e\uddd1\u200d\ud83e\uddaf","\ud83d\udc68\u200d\ud83e\uddaf","\ud83d\udc69\u200d\ud83e\uddaf","\ud83e\uddd1\u200d\ud83e\uddbc","\ud83d\udc68\u200d\ud83e\uddbc","\ud83d\udc69\u200d\ud83e\uddbc","\ud83e\uddd1\u200d\ud83e\uddbd","\ud83d\udc68\u200d\ud83e\uddbd","\ud83d\udc69\u200d\ud83e\uddbd","\ud83c\udfc3","\ud83c\udfc3\u200d\u2642\ufe0f","\ud83c\udfc3\u200d\u2640\ufe0f","\ud83d\udc83","\ud83d\udd7a","\ud83d\udd74\ufe0f","\ud83d\udc6f","\ud83d\udc6f\u200d\u2642\ufe0f","\ud83d\udc6f\u200d\u2640\ufe0f","\ud83e\uddd6","\ud83e\uddd6\u200d\u2642\ufe0f","\ud83e\uddd6\u200d\u2640\ufe0f","\ud83e\uddd8","\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1","\ud83d\udc6d","\ud83d\udc6b","\ud83d\udc6c","\ud83d\udc8f","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68","\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69","\ud83d\udc91","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc68","\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68","\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc69","\ud83d\udc6a","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc67","\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc67","\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66","\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc67","\ud83d\udde3\ufe0f","\ud83d\udc64","\ud83d\udc65","\ud83e\udec2","\ud83d\udc63","\ud83e\uddf3","\ud83c\udf02","\u2602\ufe0f","\ud83c\udf83","\ud83e\uddf5","\ud83e\uddf6","\ud83d\udc53","\ud83d\udd76\ufe0f","\ud83e\udd7d","\ud83e\udd7c","\ud83e\uddba","\ud83d\udc54","\ud83d\udc55","\ud83d\udc56","\ud83e\udde3","\ud83e\udde4","\ud83e\udde5","\ud83e\udde6","\ud83d\udc57","\ud83d\udc58","\ud83e\udd7b","\ud83e\ude71","\ud83e\ude72","\ud83e\ude73","\ud83d\udc59","\ud83d\udc5a","\ud83d\udc5b","\ud83d\udc5c","\ud83d\udc5d","\ud83c\udf92","\ud83e\ude74","\ud83d\udc5e","\ud83d\udc5f","\ud83e\udd7e","\ud83e\udd7f","\ud83d\udc60","\ud83d\udc61","\ud83e\ude70","\ud83d\udc62","\ud83d\udc51","\ud83d\udc52","\ud83c\udfa9","\ud83c\udf93","\ud83e\udde2","\ud83e\ude96","\u26d1\ufe0f","\ud83d\udc84","\ud83d\udc8d","\ud83d\udcbc","\ud83e\ude78","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udca5","\ud83d\udcab","\ud83d\udca6","\ud83d\udca8","\ud83d\udc35","\ud83d\udc12","\ud83e\udd8d","\ud83e\udda7","\ud83d\udc36","\ud83d\udc15","\ud83e\uddae","\ud83d\udc15\u200d\ud83e\uddba","\ud83d\udc29","\ud83d\udc3a","\ud83e\udd8a","\ud83e\udd9d","\ud83d\udc31","\ud83d\udc08","\ud83d\udc08\u200d\u2b1b","\ud83e\udd81","\ud83d\udc2f","\ud83d\udc05","\ud83d\udc06","\ud83d\udc34","\ud83d\udc0e","\ud83e\udd84","\ud83e\udd93","\ud83e\udd8c","\ud83e\uddac","\ud83d\udc2e","\ud83d\udc02","\ud83d\udc03","\ud83d\udc04","\ud83d\udc37","\ud83d\udc16","\ud83d\udc17","\ud83d\udc3d","\ud83d\udc0f","\ud83d\udc11","\ud83d\udc10","\ud83d\udc2a","\ud83d\udc2b","\ud83e\udd99","\ud83e\udd92","\ud83d\udc18","\ud83e\udda3","\ud83e\udd8f","\ud83e\udd9b","\ud83d\udc2d","\ud83d\udc01","\ud83d\udc00","\ud83d\udc39","\ud83d\udc30","\ud83d\udc07","\ud83d\udc3f\ufe0f","\ud83e\uddab","\ud83e\udd94","\ud83e\udd87","\ud83d\udc3b","\ud83d\udc3b\u200d\u2744\ufe0f","\ud83d\udc28","\ud83d\udc3c","\ud83e\udda5","\ud83e\udda6","\ud83e\udda8","\ud83e\udd98","\ud83e\udda1","\ud83d\udc3e","\ud83e\udd83","\ud83d\udc14","\ud83d\udc13","\ud83d\udc23","\ud83d\udc24","\ud83d\udc25","\ud83d\udc26","\ud83d\udc27","\ud83d\udd4a\ufe0f","\ud83e\udd85","\ud83e\udd86","\ud83e\udda2","\ud83e\udd89","\ud83e\udda4","\ud83e\udeb6","\ud83e\udda9","\ud83e\udd9a","\ud83e\udd9c","\ud83d\udc38","\ud83d\udc0a","\ud83d\udc22","\ud83e\udd8e","\ud83d\udc0d","\ud83d\udc32","\ud83d\udc09","\ud83e\udd95","\ud83e\udd96","\ud83d\udc33","\ud83d\udc0b","\ud83d\udc2c","\ud83e\uddad","\ud83d\udc1f","\ud83d\udc20","\ud83d\udc21","\ud83e\udd88","\ud83d\udc19","\ud83d\udc1a","\ud83d\udc0c","\ud83e\udd8b","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83e\udeb2","\ud83d\udc1e","\ud83e\udd97","\ud83e\udeb3","\ud83d\udd77\ufe0f","\ud83d\udd78\ufe0f","\ud83e\udd82","\ud83e\udd9f","\ud83e\udeb0","\ud83e\udeb1","\ud83e\udda0","\ud83d\udc90","\ud83c\udf38","\ud83d\udcae","\ud83c\udff5\ufe0f","\ud83c\udf39","\ud83e\udd40","\ud83c\udf3a","\ud83c\udf3b","\ud83c\udf3c","\ud83c\udf37","\ud83c\udf31","\ud83e\udeb4","\ud83c\udf32","\ud83c\udf33","\ud83c\udf34","\ud83c\udf35","\ud83c\udf3e","\ud83c\udf3f","\u2618\ufe0f","\ud83c\udf40","\ud83c\udf41","\ud83c\udf42","\ud83c\udf43","\ud83c\udf44","\ud83c\udf30","\ud83e\udd80","\ud83e\udd9e","\ud83e\udd90","\ud83e\udd91","\ud83c\udf0d","\ud83c\udf0e","\ud83c\udf0f","\ud83c\udf10","\ud83e\udea8","\ud83c\udf11","\ud83c\udf12","\ud83c\udf13","\ud83c\udf14","\ud83c\udf15","\ud83c\udf16","\ud83c\udf17","\ud83c\udf18","\ud83c\udf19","\ud83c\udf1a","\ud83c\udf1b","\ud83c\udf1c","\u2600\ufe0f","\ud83c\udf1d","\ud83c\udf1e","\u2b50","\ud83c\udf1f","\ud83c\udf20","\u2601\ufe0f","\u26c5","\u26c8\ufe0f","\ud83c\udf24\ufe0f","\ud83c\udf25\ufe0f","\ud83c\udf26\ufe0f","\ud83c\udf27\ufe0f","\ud83c\udf28\ufe0f","\ud83c\udf29\ufe0f","\ud83c\udf2a\ufe0f","\ud83c\udf2b\ufe0f","\ud83c\udf2c\ufe0f","\ud83c\udf08","\u2602\ufe0f","\u2614","\u26a1","\u2744\ufe0f","\u2603\ufe0f","\u26c4","\u2604\ufe0f","\ud83d\udd25","\ud83d\udca7","\ud83c\udf0a","\ud83c\udf84","\u2728","\ud83c\udf8b","\ud83c\udf8d","\ud83c\udf47","\ud83c\udf48","\ud83c\udf49","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf4d","\ud83e\udd6d","\ud83c\udf4e","\ud83c\udf4f","\ud83c\udf50","\ud83c\udf51","\ud83c\udf52","\ud83c\udf53","\ud83e\uded0","\ud83e\udd5d","\ud83c\udf45","\ud83e\uded2","\ud83e\udd65","\ud83e\udd51","\ud83c\udf46","\ud83e\udd54","\ud83e\udd55","\ud83c\udf3d","\ud83c\udf36\ufe0f","\ud83e\uded1","\ud83e\udd52","\ud83e\udd6c","\ud83e\udd66","\ud83e\uddc4","\ud83e\uddc5","\ud83c\udf44","\ud83e\udd5c","\ud83c\udf30","\ud83c\udf5e","\ud83e\udd50","\ud83e\udd56","\ud83e\uded3","\ud83e\udd68","\ud83e\udd6f","\ud83e\udd5e","\ud83e\uddc7","\ud83e\uddc0","\ud83c\udf56","\ud83c\udf57","\ud83e\udd69","\ud83e\udd53","\ud83c\udf54","\ud83c\udf5f","\ud83c\udf55","\ud83c\udf2d","\ud83e\udd6a","\ud83c\udf2e","\ud83c\udf2f","\ud83e\uded4","\ud83e\udd59","\ud83e\uddc6","\ud83e\udd5a","\ud83c\udf73","\ud83e\udd58","\ud83c\udf72","\ud83e\uded5","\ud83e\udd63","\ud83e\udd57","\ud83c\udf7f","\ud83e\uddc8","\ud83e\uddc2","\ud83e\udd6b","\ud83c\udf71","\ud83c\udf58","\ud83c\udf59","\ud83c\udf5a","\ud83c\udf5b","\ud83c\udf5c","\ud83c\udf5d","\ud83c\udf60","\ud83c\udf62","\ud83c\udf63","\ud83c\udf64","\ud83c\udf65","\ud83e\udd6e","\ud83c\udf61","\ud83e\udd5f","\ud83e\udd60","\ud83e\udd61","\ud83e\uddaa","\ud83c\udf66","\ud83c\udf67","\ud83c\udf68","\ud83c\udf69","\ud83c\udf6a","\ud83c\udf82","\ud83c\udf70","\ud83e\uddc1","\ud83e\udd67","\ud83c\udf6b","\ud83c\udf6c","\ud83c\udf6d","\ud83c\udf6e","\ud83c\udf6f","\ud83c\udf7c","\ud83e\udd5b","\u2615","\ud83e\uded6","\ud83c\udf75","\ud83c\udf76","\ud83c\udf7e","\ud83c\udf77","\ud83c\udf78","\ud83c\udf79","\ud83c\udf7a","\ud83c\udf7b","\ud83e\udd42","\ud83e\udd43","\ud83e\udd64","\ud83e\uddcb","\ud83e\uddc3","\ud83e\uddc9","\ud83e\uddca","\ud83e\udd62","\ud83c\udf7d\ufe0f","\ud83c\udf74","\ud83e\udd44","\ud83d\udd74\ufe0f","\ud83e\uddd7","\ud83e\uddd7\u200d\u2642\ufe0f","\ud83e\uddd7\u200d\u2640\ufe0f","\ud83e\udd3a","\ud83c\udfc7","\u26f7\ufe0f","\ud83c\udfc2","\ud83c\udfcc\ufe0f","\ud83c\udfcc\ufe0f\u200d\u2642\ufe0f","\ud83c\udfcc\ufe0f\u200d\u2640\ufe0f","\ud83c\udfc4","\ud83c\udfc4\u200d\u2642\ufe0f","\ud83c\udfc4\u200d\u2640\ufe0f","\ud83d\udea3","\ud83d\udea3\u200d\u2642\ufe0f","\ud83d\udea3\u200d\u2640\ufe0f","\ud83c\udfca","\ud83c\udfca\u200d\u2642\ufe0f","\ud83c\udfca\u200d\u2640\ufe0f","\u26f9\ufe0f","\u26f9\ufe0f\u200d\u2642\ufe0f","\u26f9\ufe0f\u200d\u2640\ufe0f","\ud83c\udfcb\ufe0f","\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f","\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f","\ud83d\udeb4","\ud83d\udeb4\u200d\u2642\ufe0f","\ud83d\udeb4\u200d\u2640\ufe0f","\ud83d\udeb5","\ud83d\udeb5\u200d\u2642\ufe0f","\ud83d\udeb5\u200d\u2640\ufe0f","\ud83e\udd38","\ud83e\udd38\u200d\u2642\ufe0f","\ud83e\udd38\u200d\u2640\ufe0f","\ud83e\udd3c","\ud83e\udd3c\u200d\u2642\ufe0f","\ud83e\udd3c\u200d\u2640\ufe0f","\ud83e\udd3d","\ud83e\udd3d\u200d\u2642\ufe0f","\ud83e\udd3d\u200d\u2640\ufe0f","\ud83e\udd3e","\ud83e\udd3e\u200d\u2642\ufe0f","\ud83e\udd3e\u200d\u2640\ufe0f","\ud83e\udd39","\ud83e\udd39\u200d\u2642\ufe0f","\ud83e\udd39\u200d\u2640\ufe0f","\ud83e\uddd8","\ud83e\uddd8\u200d\u2642\ufe0f","\ud83e\uddd8\u200d\u2640\ufe0f","\ud83c\udfaa","\ud83d\udef9","\ud83d\udefc","\ud83d\udef6","\ud83c\udf97\ufe0f","\ud83c\udf9f\ufe0f","\ud83c\udfab","\ud83c\udf96\ufe0f","\ud83c\udfc6","\ud83c\udfc5","\u26bd","\u26be","\ud83e\udd4e","\ud83c\udfc0","\ud83c\udfd0","\ud83c\udfc8","\ud83c\udfc9","\ud83c\udfbe","\ud83e\udd4f","\ud83c\udfb3","\ud83c\udfcf","\ud83c\udfd1","\ud83c\udfd2","\ud83e\udd4d","\ud83c\udfd3","\ud83c\udff8","\ud83e\udd4a","\ud83e\udd4b","\ud83e\udd45","\u26f3","\u26f8\ufe0f","\ud83c\udfa3","\ud83c\udfbd","\ud83c\udfbf","\ud83d\udef7","\ud83e\udd4c","\ud83c\udfaf","\ud83c\udfb1","\ud83c\udfae","\ud83c\udfb0","\ud83c\udfb2","\ud83e\udde9","\u265f\ufe0f","\ud83c\udfad","\ud83c\udfa8","\ud83e\uddf5","\ud83e\uddf6","\ud83c\udfbc","\ud83c\udfa4","\ud83c\udfa7","\ud83c\udfb7","\ud83e\ude97","\ud83c\udfb8","\ud83c\udfb9","\ud83c\udfba","\ud83c\udfbb","\ud83e\udd41","\ud83e\ude98","\ud83c\udfac","\ud83c\udff9","\ud83d\udea3","\ud83d\uddfe","\ud83c\udfd4\ufe0f","\u26f0\ufe0f","\ud83c\udf0b","\ud83d\uddfb","\ud83c\udfd5\ufe0f","\ud83c\udfd6\ufe0f","\ud83c\udfdc\ufe0f","\ud83c\udfdd\ufe0f","\ud83c\udfde\ufe0f","\ud83c\udfdf\ufe0f","\ud83c\udfdb\ufe0f","\ud83c\udfd7\ufe0f","\ud83d\uded6","\ud83c\udfd8\ufe0f","\ud83c\udfda\ufe0f","\ud83c\udfe0","\ud83c\udfe1","\ud83c\udfe2","\ud83c\udfe3","\ud83c\udfe4","\ud83c\udfe5","\ud83c\udfe6","\ud83c\udfe8","\ud83c\udfe9","\ud83c\udfea","\ud83c\udfeb","\ud83c\udfec","\ud83c\udfed","\ud83c\udfef","\ud83c\udff0","\ud83d\udc92","\ud83d\uddfc","\ud83d\uddfd","\u26ea","\ud83d\udd4c","\ud83d\uded5","\ud83d\udd4d","\u26e9\ufe0f","\ud83d\udd4b","\u26f2","\u26fa","\ud83c\udf01","\ud83c\udf03","\ud83c\udfd9\ufe0f","\ud83c\udf04","\ud83c\udf05","\ud83c\udf06","\ud83c\udf07","\ud83c\udf09","\ud83c\udfa0","\ud83c\udfa1","\ud83c\udfa2","\ud83d\ude82","\ud83d\ude83","\ud83d\ude84","\ud83d\ude85","\ud83d\ude86","\ud83d\ude87","\ud83d\ude88","\ud83d\ude89","\ud83d\ude8a","\ud83d\ude9d","\ud83d\ude9e","\ud83d\ude8b","\ud83d\ude8c","\ud83d\ude8d","\ud83d\ude8e","\ud83d\ude90","\ud83d\ude91","\ud83d\ude92","\ud83d\ude93","\ud83d\ude94","\ud83d\ude95","\ud83d\ude96","\ud83d\ude97","\ud83d\ude98","\ud83d\ude99","\ud83d\udefb","\ud83d\ude9a","\ud83d\ude9b","\ud83d\ude9c","\ud83c\udfce\ufe0f","\ud83c\udfcd\ufe0f","\ud83d\udef5","\ud83d\udefa","\ud83d\udeb2","\ud83d\udef4","\ud83d\ude8f","\ud83d\udee3\ufe0f","\ud83d\udee4\ufe0f","\u26fd","\ud83d\udea8","\ud83d\udea5","\ud83d\udea6","\ud83d\udea7","\u2693","\u26f5","\ud83d\udea4","\ud83d\udef3\ufe0f","\u26f4\ufe0f","\ud83d\udee5\ufe0f","\ud83d\udea2","\u2708\ufe0f","\ud83d\udee9\ufe0f","\ud83d\udeeb","\ud83d\udeec","\ud83e\ude82","\ud83d\udcba","\ud83d\ude81","\ud83d\ude9f","\ud83d\udea0","\ud83d\udea1","\ud83d\udef0\ufe0f","\ud83d\ude80","\ud83d\udef8","\ud83e\ude90","\ud83c\udf20","\ud83c\udf0c","\u26f1\ufe0f","\ud83c\udf86","\ud83c\udf87","\ud83c\udf91","\ud83d\udcb4","\ud83d\udcb5","\ud83d\udcb6","\ud83d\udcb7","\ud83d\uddff","\ud83d\udec2","\ud83d\udec3","\ud83d\udec4","\ud83d\udec5","\ud83d\udc8c","\ud83d\udd73\ufe0f","\ud83d\udca3","\ud83d\udec0","\ud83d\udecc","\ud83d\udd2a","\ud83c\udffa","\ud83d\uddfa\ufe0f","\ud83e\udded","\ud83e\uddf1","\ud83d\udc88","\ud83e\uddbd","\ud83e\uddbc","\ud83d\udee2\ufe0f","\ud83d\udece\ufe0f","\ud83e\uddf3","\u231b","\u23f3","\u231a","\u23f0","\u23f1\ufe0f","\u23f2\ufe0f","\ud83d\udd70\ufe0f","\ud83c\udf21\ufe0f","\u26f1\ufe0f","\ud83e\udde8","\ud83c\udf88","\ud83c\udf89","\ud83c\udf8a","\ud83c\udf8e","\ud83c\udf8f","\ud83c\udf90","\ud83e\udde7","\ud83c\udf80","\ud83c\udf81","\ud83e\udd3f","\ud83e\ude80","\ud83e\ude81","\ud83d\udd2e","\ud83e\ude84","\ud83e\uddff","\ud83d\udd79\ufe0f","\ud83e\uddf8","\ud83e\ude85","\ud83e\ude86","\ud83d\uddbc\ufe0f","\ud83e\uddf5","\ud83e\udea1","\ud83e\uddf6","\ud83e\udea2","\ud83d\udecd\ufe0f","\ud83d\udcff","\ud83d\udc8e","\ud83d\udcef","\ud83c\udf99\ufe0f","\ud83c\udf9a\ufe0f","\ud83c\udf9b\ufe0f","\ud83d\udcfb","\ud83e\ude95","\ud83d\udcf1","\ud83d\udcf2","\u260e\ufe0f","\ud83d\udcde","\ud83d\udcdf","\ud83d\udce0","\ud83d\udd0b","\ud83d\udd0c","\ud83d\udcbb","\ud83d\udda5\ufe0f","\ud83d\udda8\ufe0f","\u2328\ufe0f","\ud83d\uddb1\ufe0f","\ud83d\uddb2\ufe0f","\ud83d\udcbd","\ud83d\udcbe","\ud83d\udcbf","\ud83d\udcc0","\ud83e\uddee","\ud83c\udfa5","\ud83c\udf9e\ufe0f","\ud83d\udcfd\ufe0f","\ud83d\udcfa","\ud83d\udcf7","\ud83d\udcf8","\ud83d\udcf9","\ud83d\udcfc","\ud83d\udd0d","\ud83d\udd0e","\ud83d\udd6f\ufe0f","\ud83d\udca1","\ud83d\udd26","\ud83c\udfee","\ud83e\ude94","\ud83d\udcd4","\ud83d\udcd5","\ud83d\udcd6","\ud83d\udcd7","\ud83d\udcd8","\ud83d\udcd9","\ud83d\udcda","\ud83d\udcd3","\ud83d\udcd2","\ud83d\udcc3","\ud83d\udcdc","\ud83d\udcc4","\ud83d\udcf0","\ud83d\uddde\ufe0f","\ud83d\udcd1","\ud83d\udd16","\ud83c\udff7\ufe0f","\ud83d\udcb0","\ud83e\ude99","\ud83d\udcb4","\ud83d\udcb5","\ud83d\udcb6","\ud83d\udcb7","\ud83d\udcb8","\ud83d\udcb3","\ud83e\uddfe","\u2709\ufe0f","\ud83d\udce7","\ud83d\udce8","\ud83d\udce9","\ud83d\udce4","\ud83d\udce5","\ud83d\udce6","\ud83d\udceb","\ud83d\udcea","\ud83d\udcec","\ud83d\udced","\ud83d\udcee","\ud83d\uddf3\ufe0f","\u270f\ufe0f","\u2712\ufe0f","\ud83d\udd8b\ufe0f","\ud83d\udd8a\ufe0f","\ud83d\udd8c\ufe0f","\ud83d\udd8d\ufe0f","\ud83d\udcdd","\ud83d\udcc1","\ud83d\udcc2","\ud83d\uddc2\ufe0f","\ud83d\udcc5","\ud83d\udcc6","\ud83d\uddd2\ufe0f","\ud83d\uddd3\ufe0f","\ud83d\udcc7","\ud83d\udcc8","\ud83d\udcc9","\ud83d\udcca","\ud83d\udccb","\ud83d\udccc","\ud83d\udccd","\ud83d\udcce","\ud83d\udd87\ufe0f","\ud83d\udccf","\ud83d\udcd0","\u2702\ufe0f","\ud83d\uddc3\ufe0f","\ud83d\uddc4\ufe0f","\ud83d\uddd1\ufe0f","\ud83d\udd12","\ud83d\udd13","\ud83d\udd0f","\ud83d\udd10","\ud83d\udd11","\ud83d\udddd\ufe0f","\ud83d\udd28","\ud83e\ude93","\u26cf\ufe0f","\u2692\ufe0f","\ud83d\udee0\ufe0f","\ud83d\udde1\ufe0f","\u2694\ufe0f","\ud83d\udd2b","\ud83e\ude83","\ud83d\udee1\ufe0f","\ud83e\ude9a","\ud83d\udd27","\ud83e\ude9b","\ud83d\udd29","\u2699\ufe0f","\ud83d\udddc\ufe0f","\u2696\ufe0f","\ud83e\uddaf","\ud83d\udd17","\u26d3\ufe0f","\ud83e\ude9d","\ud83e\uddf0","\ud83e\uddf2","\ud83e\ude9c","\u2697\ufe0f","\ud83e\uddea","\ud83e\uddeb","\ud83e\uddec","\ud83d\udd2c","\ud83d\udd2d","\ud83d\udce1","\ud83d\udc89","\ud83e\ude78","\ud83d\udc8a","\ud83e\ude79","\ud83e\ude7a","\ud83d\udeaa","\ud83e\ude9e","\ud83e\ude9f","\ud83d\udecf\ufe0f","\ud83d\udecb\ufe0f","\ud83e\ude91","\ud83d\udebd","\ud83e\udea0","\ud83d\udebf","\ud83d\udec1","\ud83e\udea4","\ud83e\ude92","\ud83e\uddf4","\ud83e\uddf7","\ud83e\uddf9","\ud83e\uddfa","\ud83e\uddfb","\ud83e\udea3","\ud83e\uddfc","\ud83e\udea5","\ud83e\uddfd","\ud83e\uddef","\ud83d\uded2","\ud83d\udeac","\u26b0\ufe0f","\ud83e\udea6","\u26b1\ufe0f","\ud83d\uddff","\ud83e\udea7","\ud83d\udeb0","\ud83d\udc98","\ud83d\udc9d","\ud83d\udc96","\ud83d\udc97","\ud83d\udc93","\ud83d\udc9e","\ud83d\udc95","\ud83d\udc9f","\u2763\ufe0f","\ud83d\udc94","\u2764\ufe0f","\ud83e\udde1","\ud83d\udc9b","\ud83d\udc9a","\ud83d\udc99","\ud83d\udc9c","\ud83e\udd0e","\ud83d\udda4","\ud83e\udd0d","\ud83d\udcaf","\ud83d\udca2","\ud83d\udcac","\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f","\ud83d\udde8\ufe0f","\ud83d\uddef\ufe0f","\ud83d\udcad","\ud83d\udca4","\ud83d\udcae","\u2668\ufe0f","\ud83d\udc88","\ud83d\uded1","\ud83d\udd5b","\ud83d\udd67","\ud83d\udd50","\ud83d\udd5c","\ud83d\udd51","\ud83d\udd5d","\ud83d\udd52","\ud83d\udd5e","\ud83d\udd53","\ud83d\udd5f","\ud83d\udd54","\ud83d\udd60","\ud83d\udd55","\ud83d\udd61","\ud83d\udd56","\ud83d\udd62","\ud83d\udd57","\ud83d\udd63","\ud83d\udd58","\ud83d\udd64","\ud83d\udd59","\ud83d\udd65","\ud83d\udd5a","\ud83d\udd66","\ud83c\udf00","\u2660\ufe0f","\u2665\ufe0f","\u2666\ufe0f","\u2663\ufe0f","\ud83c\udccf","\ud83c\udc04","\ud83c\udfb4","\ud83d\udd07","\ud83d\udd08","\ud83d\udd09","\ud83d\udd0a","\ud83d\udce2","\ud83d\udce3","\ud83d\udcef","\ud83d\udd14","\ud83d\udd15","\ud83c\udfb5","\ud83c\udfb6","\ud83d\udcb9","\ud83d\uded7","\ud83c\udfe7","\ud83d\udeae","\ud83d\udeb0","\u267f","\ud83d\udeb9","\ud83d\udeba","\ud83d\udebb","\ud83d\udebc","\ud83d\udebe","\u26a0\ufe0f","\ud83d\udeb8","\u26d4","\ud83d\udeab","\ud83d\udeb3","\ud83d\udead","\ud83d\udeaf","\ud83d\udeb1","\ud83d\udeb7","\ud83d\udcf5","\ud83d\udd1e","\u2622\ufe0f","\u2623\ufe0f","\u2b06\ufe0f","\u2197\ufe0f","\u27a1\ufe0f","\u2198\ufe0f","\u2b07\ufe0f","\u2199\ufe0f","\u2b05\ufe0f","\u2196\ufe0f","\u2195\ufe0f","\u2194\ufe0f","\u21a9\ufe0f","\u21aa\ufe0f","\u2934\ufe0f","\u2935\ufe0f","\ud83d\udd03","\ud83d\udd04","\ud83d\udd19","\ud83d\udd1a","\ud83d\udd1b","\ud83d\udd1c","\ud83d\udd1d","\ud83d\uded0","\u269b\ufe0f","\ud83d\udd49\ufe0f","\u2721\ufe0f","\u2638\ufe0f","\u262f\ufe0f","\u271d\ufe0f","\u2626\ufe0f","\u262a\ufe0f","\u262e\ufe0f","\ud83d\udd4e","\ud83d\udd2f","\u2648","\u2649","\u264a","\u264b","\u264c","\u264d","\u264e","\u264f","\u2650","\u2651","\u2652","\u2653","\u26ce","\ud83d\udd00","\ud83d\udd01","\ud83d\udd02","\u25b6\ufe0f","\u23e9","\u23ed\ufe0f","\u23ef\ufe0f","\u25c0\ufe0f","\u23ea","\u23ee\ufe0f","\ud83d\udd3c","\u23eb","\ud83d\udd3d","\u23ec","\u23f8\ufe0f","\u23f9\ufe0f","\u23fa\ufe0f","\u23cf\ufe0f","\ud83c\udfa6","\ud83d\udd05","\ud83d\udd06","\ud83d\udcf6","\ud83d\udcf3","\ud83d\udcf4","\u2640\ufe0f","\u2642\ufe0f","\u2716\ufe0f","\u2795","\u2796","\u2797","\u267e\ufe0f","\u203c\ufe0f","\u2049\ufe0f","\u2753","\u2754","\u2755","\u2757","\u3030\ufe0f","\ud83d\udcb1","\ud83d\udcb2","\u2695\ufe0f","\u267b\ufe0f","\u269c\ufe0f","\ud83d\udd31","\ud83d\udcdb","\ud83d\udd30","\u2b55","\u2705","\u2611\ufe0f","\u2714\ufe0f","\u274c","\u274e","\u27b0","\u27bf","\u303d\ufe0f","\u2733\ufe0f","\u2734\ufe0f","\u2747\ufe0f","\xa9\ufe0f","\xae\ufe0f","\u2122\ufe0f","#\ufe0f\u20e3","*\ufe0f\u20e3","0\ufe0f\u20e3","1\ufe0f\u20e3","2\ufe0f\u20e3","3\ufe0f\u20e3","4\ufe0f\u20e3","5\ufe0f\u20e3","6\ufe0f\u20e3","7\ufe0f\u20e3","8\ufe0f\u20e3","9\ufe0f\u20e3","\ud83d\udd1f","\ud83d\udd20","\ud83d\udd21","\ud83d\udd22","\ud83d\udd23","\ud83d\udd24","\ud83c\udd70\ufe0f","\ud83c\udd8e","\ud83c\udd71\ufe0f","\ud83c\udd91","\ud83c\udd92","\ud83c\udd93","\u2139\ufe0f","\ud83c\udd94","\u24c2\ufe0f","\ud83c\udd95","\ud83c\udd96","\ud83c\udd7e\ufe0f","\ud83c\udd97","\ud83c\udd7f\ufe0f","\ud83c\udd98","\ud83c\udd99","\ud83c\udd9a","\ud83c\ude01","\ud83c\ude02\ufe0f","\ud83c\ude37\ufe0f","\ud83c\ude36","\ud83c\ude2f","\ud83c\ude50","\ud83c\ude39","\ud83c\ude1a","\ud83c\ude32","\ud83c\ude51","\ud83c\ude38","\ud83c\ude34","\ud83c\ude33","\u3297\ufe0f","\u3299\ufe0f","\ud83c\ude3a","\ud83c\ude35","\ud83d\udd34","\ud83d\udfe0","\ud83d\udfe1","\ud83d\udfe2","\ud83d\udd35","\ud83d\udfe3","\ud83d\udfe4","\u26ab","\u26aa","\ud83d\udfe5","\ud83d\udfe7","\ud83d\udfe8","\ud83d\udfe9","\ud83d\udfe6","\ud83d\udfea","\ud83d\udfeb","\u2b1b","\u2b1c","\u25fc\ufe0f","\u25fb\ufe0f","\u25fe","\u25fd","\u25aa\ufe0f","\u25ab\ufe0f","\ud83d\udd36","\ud83d\udd37","\ud83d\udd38","\ud83d\udd39","\ud83d\udd3a","\ud83d\udd3b","\ud83d\udca0","\ud83d\udd18","\ud83d\udd33","\ud83d\udd32","\ud83c\udfc1","\ud83d\udea9","\ud83c\udf8c","\ud83c\udff4","\ud83c\udff3\ufe0f","\ud83c\udff3\ufe0f\u200d\ud83c\udf08","\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff4\u200d\u2620\ufe0f","\ud83c\udde6\ud83c\udde8","\ud83c\udde6\ud83c\udde9","\ud83c\udde6\ud83c\uddea","\ud83c\udde6\ud83c\uddeb","\ud83c\udde6\ud83c\uddec","\ud83c\udde6\ud83c\uddee","\ud83c\udde6\ud83c\uddf1","\ud83c\udde6\ud83c\uddf2","\ud83c\udde6\ud83c\uddf4","\ud83c\udde6\ud83c\uddf6","\ud83c\udde6\ud83c\uddf7","\ud83c\udde6\ud83c\uddf8","\ud83c\udde6\ud83c\uddf9","\ud83c\udde6\ud83c\uddfa","\ud83c\udde6\ud83c\uddfc","\ud83c\udde6\ud83c\uddfd","\ud83c\udde6\ud83c\uddff","\ud83c\udde7\ud83c\udde6","\ud83c\udde7\ud83c\udde7","\ud83c\udde7\ud83c\udde9","\ud83c\udde7\ud83c\uddea","\ud83c\udde7\ud83c\uddeb","\ud83c\udde7\ud83c\uddec","\ud83c\udde7\ud83c\udded","\ud83c\udde7\ud83c\uddee","\ud83c\udde7\ud83c\uddef","\ud83c\udde7\ud83c\uddf1","\ud83c\udde7\ud83c\uddf2","\ud83c\udde7\ud83c\uddf3","\ud83c\udde7\ud83c\uddf4","\ud83c\udde7\ud83c\uddf6","\ud83c\udde7\ud83c\uddf7","\ud83c\udde7\ud83c\uddf8","\ud83c\udde7\ud83c\uddf9","\ud83c\udde7\ud83c\uddfb","\ud83c\udde7\ud83c\uddfc","\ud83c\udde7\ud83c\uddfe","\ud83c\udde7\ud83c\uddff","\ud83c\udde8\ud83c\udde6","\ud83c\udde8\ud83c\udde8","\ud83c\udde8\ud83c\udde9","\ud83c\udde8\ud83c\uddeb","\ud83c\udde8\ud83c\uddec","\ud83c\udde8\ud83c\udded","\ud83c\udde8\ud83c\uddee","\ud83c\udde8\ud83c\uddf0","\ud83c\udde8\ud83c\uddf1","\ud83c\udde8\ud83c\uddf2","\ud83c\udde8\ud83c\uddf3","\ud83c\udde8\ud83c\uddf4","\ud83c\udde8\ud83c\uddf5","\ud83c\udde8\ud83c\uddf7","\ud83c\udde8\ud83c\uddfa","\ud83c\udde8\ud83c\uddfb","\ud83c\udde8\ud83c\uddfc","\ud83c\udde8\ud83c\uddfd","\ud83c\udde8\ud83c\uddfe","\ud83c\udde8\ud83c\uddff","\ud83c\udde9\ud83c\uddea","\ud83c\udde9\ud83c\uddec","\ud83c\udde9\ud83c\uddef","\ud83c\udde9\ud83c\uddf0","\ud83c\udde9\ud83c\uddf2","\ud83c\udde9\ud83c\uddf4","\ud83c\udde9\ud83c\uddff","\ud83c\uddea\ud83c\udde6","\ud83c\uddea\ud83c\udde8","\ud83c\uddea\ud83c\uddea","\ud83c\uddea\ud83c\uddec","\ud83c\uddea\ud83c\udded","\ud83c\uddea\ud83c\uddf7","\ud83c\uddea\ud83c\uddf8","\ud83c\uddea\ud83c\uddf9","\ud83c\uddea\ud83c\uddfa","\ud83c\uddeb\ud83c\uddee","\ud83c\uddeb\ud83c\uddef","\ud83c\uddeb\ud83c\uddf0","\ud83c\uddeb\ud83c\uddf2","\ud83c\uddeb\ud83c\uddf4","\ud83c\uddeb\ud83c\uddf7","\ud83c\uddec\ud83c\udde6","\ud83c\uddec\ud83c\udde7","\ud83c\uddec\ud83c\udde9","\ud83c\uddec\ud83c\uddea","\ud83c\uddec\ud83c\uddeb","\ud83c\uddec\ud83c\uddec","\ud83c\uddec\ud83c\udded","\ud83c\uddec\ud83c\uddee","\ud83c\uddec\ud83c\uddf1","\ud83c\uddec\ud83c\uddf2","\ud83c\uddec\ud83c\uddf3","\ud83c\uddec\ud83c\uddf5","\ud83c\uddec\ud83c\uddf6","\ud83c\uddec\ud83c\uddf7","\ud83c\uddec\ud83c\uddf8","\ud83c\uddec\ud83c\uddf9","\ud83c\uddec\ud83c\uddfa","\ud83c\uddec\ud83c\uddfc","\ud83c\uddec\ud83c\uddfe","\ud83c\udded\ud83c\uddf0","\ud83c\udded\ud83c\uddf2","\ud83c\udded\ud83c\uddf3","\ud83c\udded\ud83c\uddf7","\ud83c\udded\ud83c\uddf9","\ud83c\udded\ud83c\uddfa","\ud83c\uddee\ud83c\udde8","\ud83c\uddee\ud83c\udde9","\ud83c\uddee\ud83c\uddea","\ud83c\uddee\ud83c\uddf1","\ud83c\uddee\ud83c\uddf2","\ud83c\uddee\ud83c\uddf3","\ud83c\uddee\ud83c\uddf4","\ud83c\uddee\ud83c\uddf6","\ud83c\uddee\ud83c\uddf7","\ud83c\uddee\ud83c\uddf8","\ud83c\uddee\ud83c\uddf9","\ud83c\uddef\ud83c\uddea","\ud83c\uddef\ud83c\uddf2","\ud83c\uddef\ud83c\uddf4","\ud83c\uddef\ud83c\uddf5","\ud83c\uddf0\ud83c\uddea","\ud83c\uddf0\ud83c\uddec","\ud83c\uddf0\ud83c\udded","\ud83c\uddf0\ud83c\uddee","\ud83c\uddf0\ud83c\uddf2","\ud83c\uddf0\ud83c\uddf3","\ud83c\uddf0\ud83c\uddf5","\ud83c\uddf0\ud83c\uddf7","\ud83c\uddf0\ud83c\uddfc","\ud83c\uddf0\ud83c\uddfe","\ud83c\uddf0\ud83c\uddff","\ud83c\uddf1\ud83c\udde6","\ud83c\uddf1\ud83c\udde7","\ud83c\uddf1\ud83c\udde8","\ud83c\uddf1\ud83c\uddee","\ud83c\uddf1\ud83c\uddf0","\ud83c\uddf1\ud83c\uddf7","\ud83c\uddf1\ud83c\uddf8","\ud83c\uddf1\ud83c\uddf9","\ud83c\uddf1\ud83c\uddfa","\ud83c\uddf1\ud83c\uddfb","\ud83c\uddf1\ud83c\uddfe","\ud83c\uddf2\ud83c\udde6","\ud83c\uddf2\ud83c\udde8","\ud83c\uddf2\ud83c\udde9","\ud83c\uddf2\ud83c\uddea","\ud83c\uddf2\ud83c\uddeb","\ud83c\uddf2\ud83c\uddec","\ud83c\uddf2\ud83c\udded","\ud83c\uddf2\ud83c\uddf0","\ud83c\uddf2\ud83c\uddf1","\ud83c\uddf2\ud83c\uddf2","\ud83c\uddf2\ud83c\uddf3","\ud83c\uddf2\ud83c\uddf4","\ud83c\uddf2\ud83c\uddf5","\ud83c\uddf2\ud83c\uddf6","\ud83c\uddf2\ud83c\uddf7","\ud83c\uddf2\ud83c\uddf8","\ud83c\uddf2\ud83c\uddf9","\ud83c\uddf2\ud83c\uddfa","\ud83c\uddf2\ud83c\uddfb","\ud83c\uddf2\ud83c\uddfc","\ud83c\uddf2\ud83c\uddfd","\ud83c\uddf2\ud83c\uddfe","\ud83c\uddf2\ud83c\uddff","\ud83c\uddf3\ud83c\udde6","\ud83c\uddf3\ud83c\udde8","\ud83c\uddf3\ud83c\uddea","\ud83c\uddf3\ud83c\uddeb","\ud83c\uddf3\ud83c\uddec","\ud83c\uddf3\ud83c\uddee","\ud83c\uddf3\ud83c\uddf1","\ud83c\uddf3\ud83c\uddf4","\ud83c\uddf3\ud83c\uddf5","\ud83c\uddf3\ud83c\uddf7","\ud83c\uddf3\ud83c\uddfa","\ud83c\uddf3\ud83c\uddff","\ud83c\uddf4\ud83c\uddf2","\ud83c\uddf5\ud83c\udde6","\ud83c\uddf5\ud83c\uddea","\ud83c\uddf5\ud83c\uddeb","\ud83c\uddf5\ud83c\uddec","\ud83c\uddf5\ud83c\udded","\ud83c\uddf5\ud83c\uddf0","\ud83c\uddf5\ud83c\uddf1","\ud83c\uddf5\ud83c\uddf2","\ud83c\uddf5\ud83c\uddf3","\ud83c\uddf5\ud83c\uddf7","\ud83c\uddf5\ud83c\uddf8","\ud83c\uddf5\ud83c\uddf9","\ud83c\uddf5\ud83c\uddfc","\ud83c\uddf5\ud83c\uddfe","\ud83c\uddf6\ud83c\udde6","\ud83c\uddf7\ud83c\uddea","\ud83c\uddf7\ud83c\uddf4","\ud83c\uddf7\ud83c\uddf8","\ud83c\uddf7\ud83c\uddfa","\ud83c\uddf7\ud83c\uddfc","\ud83c\uddf8\ud83c\udde6","\ud83c\uddf8\ud83c\udde7","\ud83c\uddf8\ud83c\udde8","\ud83c\uddf8\ud83c\udde9","\ud83c\uddf8\ud83c\uddea","\ud83c\uddf8\ud83c\uddec","\ud83c\uddf8\ud83c\udded","\ud83c\uddf8\ud83c\uddee","\ud83c\uddf8\ud83c\uddef","\ud83c\uddf8\ud83c\uddf0","\ud83c\uddf8\ud83c\uddf1","\ud83c\uddf8\ud83c\uddf2","\ud83c\uddf8\ud83c\uddf3","\ud83c\uddf8\ud83c\uddf4","\ud83c\uddf8\ud83c\uddf7","\ud83c\uddf8\ud83c\uddf8","\ud83c\uddf8\ud83c\uddf9","\ud83c\uddf8\ud83c\uddfb","\ud83c\uddf8\ud83c\uddfd","\ud83c\uddf8\ud83c\uddfe","\ud83c\uddf8\ud83c\uddff","\ud83c\uddf9\ud83c\udde6","\ud83c\uddf9\ud83c\udde8","\ud83c\uddf9\ud83c\udde9","\ud83c\uddf9\ud83c\uddeb","\ud83c\uddf9\ud83c\uddec","\ud83c\uddf9\ud83c\udded","\ud83c\uddf9\ud83c\uddef","\ud83c\uddf9\ud83c\uddf0","\ud83c\uddf9\ud83c\uddf1","\ud83c\uddf9\ud83c\uddf2","\ud83c\uddf9\ud83c\uddf3","\ud83c\uddf9\ud83c\uddf4","\ud83c\uddf9\ud83c\uddf7","\ud83c\uddf9\ud83c\uddf9","\ud83c\uddf9\ud83c\uddfb","\ud83c\uddf9\ud83c\uddff","\ud83c\uddfa\ud83c\udde6","\ud83c\uddfa\ud83c\uddec","\ud83c\uddfa\ud83c\uddf2","\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\ud83c\uddf8","\ud83c\uddfa\ud83c\uddfe","\ud83c\uddfa\ud83c\uddff","\ud83c\uddfb\ud83c\udde6","\ud83c\uddfb\ud83c\udde8","\ud83c\uddfb\ud83c\uddea","\ud83c\uddfb\ud83c\uddec","\ud83c\uddfb\ud83c\uddee","\ud83c\uddfb\ud83c\uddf3","\ud83c\uddfb\ud83c\uddfa","\ud83c\uddfc\ud83c\uddeb","\ud83c\uddfc\ud83c\uddf8","\ud83c\uddfd\ud83c\uddf0","\ud83c\uddfe\ud83c\uddea","\ud83c\uddfe\ud83c\uddf9","\ud83c\uddff\ud83c\udde6","\ud83c\uddff\ud83c\uddf2","\ud83c\uddff\ud83c\uddfc","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f","\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f"],o=["\ud83d\udc2f","\ud83e\udd81","\ud83d\udc36","\ud83d\udc3c","\ud83d\udc35","\ud83e\udd8a","\ud83d\udc2d","\ud83d\udc3b","\ud83d\udc39","\ud83d\udc28","\ud83d\udc37","\ud83d\udc2e","\ud83d\udc30","\ud83d\udc38","\ud83d\udc31","\ud83d\udc14","\ud83d\udc27","\ud83d\udc23","\ud83e\udd84","\ud83d\udc3a","\ud83d\udc34","\ud83d\udc33","\ud83e\udd8b","\ud83d\udc19","\ud83e\udd96","\ud83e\udd91","\ud83d\udc21","\ud83d\udc20","\ud83d\udc2c","\ud83d\udc32","\ud83e\udd11","\ud83e\udd20","\ud83d\ude0e","\ud83e\udd29","\ud83e\udd2f","\ud83d\ude0b","\ud83d\ude1b","\ud83e\udd2a","\ud83d\ude00","\ud83d\ude37","\ud83d\udca9","\ud83d\udc7d","\ud83e\udd16","\ud83d\udc7b","\ud83e\uddb8\u200d\u2640\ufe0f","\ud83e\uddb8\u200d\u2642\ufe0f","\ud83e\uddb8","\ud83e\uddd9\ud83c\udffc\u200d\u2642\ufe0f","\ud83d\udc69\u200d\ud83d\ude80","\ud83d\udc68\ud83c\udffd\u200d\ud83d\ude80","\ud83d\udc68\u200d\ud83d\ude80","\ud83c\udf08"],a=["surface-neutral-default","#E49090","#E3B167","#91BC76","#67BEA9","#55A9D9","#AB7DCF","#DF9BD0"],i={emoji:"\ud83e\udd11",bgColor:"#55A9D9"};function s(e){return Math.floor(Math.random()*e)}function l(){return{emoji:o[s(o.length)],bgColor:a[s(a.length)]}}},36085:(e,t,n)=>{"use strict";n.r(t),n.d(t,{safeConsoleLogError:()=>a,toPlainErrorObject:()=>o});var r=n(213208);function o(e){return{name:e.name,message:e.message,code:e.code,data:e.data,className:e.className,info:e.info,key:e.key,stack:r.default.isNativeAndroid?"Access error.stack failed in Android hermes engine: unable to serialize, circular reference is too complex to analyze":e.stack}}function a(e){r.default.isNativeAndroid&&delete e.stack,console.error(e)}},288811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getValidUnsignedMessage:()=>_,sanitizeMessage:()=>w,validateSignMessageData:()=>p,validateTypedSignMessageDataV1:()=>m,validateTypedSignMessageDataV3V4:()=>h});var r=n(968079),o=n(196234),a=n(206391),i=n.n(a),s=n(368445),l=n(147144),c=n(900663),d=n(940915),u=n(572801);function f(e,t){if(!e||"string"!==typeof e||!function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowNonPrefixed,n=void 0===t||t?(0,l.addHexPrefix)(e):e;return!!(0,l.isHexString)(n)&&(0,l.isValidAddress)(n)}(e))throw new Error(`Invalid "${t}" address: ${String(e)} must be a valid string.`)}function p(e){var t,n,r=e.payload,a=void 0===r?[]:r;if(e.type===u.ETHMessageTypes.PERSONAL_SIGN){var i=a,s=(0,o.default)(i,2);t=s[0],n=s[1]}else if(e.type===u.ETHMessageTypes.ETH_SIGN){var l=a,c=(0,o.default)(l,2);n=c[0],t=c[1]}if(f(n,"from"),!t||"string"!==typeof t)throw new d.OneKeyError(`Invalid message: ${String(t)} must be a valid string.`)}function m(e){var t=e.payload,n=void 0===t?[]:t,r=(0,o.default)(n,2),a=r[0];if(f(r[1],"from"),!a||!Array.isArray(a))throw new d.OneKeyError(`Invalid message: ${String(a)} must be a valid array.`);try{(0,s.typedSignatureHash)(a)}catch(i){throw new Error("Expected EIP712 typed data.")}}function h(e,t){var n,r=e.payload,a=void 0===r?[]:r,l=(0,o.default)(a,2),u=l[0],p=l[1];if(f(u,"from"),!p||Array.isArray(p)||"object"!==typeof p&&"string"!==typeof p)throw new Error("Invalid message: Must be a valid string or object.");if("object"===typeof p)n=p;else try{n=JSON.parse(p)}catch(y){throw new Error("Message data must be passed as a valid JSON string.")}if((0,c.validate)(n,s.TYPED_MESSAGE_SCHEMA).errors.length>0)throw new d.OneKeyError("Message Data must conform to EIP-712 schema.");if(!t)throw new d.OneKeyError("Current chainId cannot be null or undefined.");var m=n.domain.chainId;if(m){var h=new(i())(t),g=new(i())(m);if(h.isNaN())throw new d.OneKeyError(`Cannot sign messages for chainId "${g.toFixed()}", because OneKey is switching networks.`);if(!h.isEqualTo(g))throw new d.OneKeyError(`Provided chainId "${g.toFixed()}" must match the active chainId "${h.toFixed()}"`)}}var g=function(){var e=Array.from(new Array(32)).map((function(e,t){return"int"+8*(t+1)})),t=Array.from(new Array(32)).map((function(e,t){return"uint"+8*(t+1)})),n=Array.from(new Array(32)).map((function(e,t){return`bytes${t+1}`})),o=Array.from(new Array(32)).map((function(e,t){return"fixed"+8*(t+1)})),a=Array.from(new Array(32)).map((function(e,t){return"ufixed"+8*(t+1)})),i=Array.from(new Array(80)).map((function(e,t){return o.map((function(e){return`${e}x${t+1}`}))})),s=Array.from(new Array(80)).map((function(e,t){return a.map((function(e){return`${e}x${t+1}`}))}));return[].concat(["bool","address","string","bytes","int","uint","fixed","ufixed"],(0,r.default)(e),(0,r.default)(t),(0,r.default)(n),(0,r.default)(i.flat()),(0,r.default)(s.flat()))}(),y=function(e){return e.replace(/\[[0-9\[]*\]*/g,"")},v=function(e){return e.replace(/\[[0-9\[]*\]/,"")},b=function(e){return null!==e.match(/\[[0-9\[]*\]*/)},x=function(e){return g.includes(e)};function w(e,t,n){if(!n)throw new Error("Invalid types definition");var r=t&&b(t);if(r)return e.map((function(e){return w(e,v(t),n)}));if(x(t))return e;var o=r?y(t):t,a=n[o];if(!a)throw new Error("Invalid primary type definition");var i={};return Object.keys(e).forEach((function(t){var r=Object.values(a).find((function(e){return e.name===t}));r&&(i[t]=w(e[t],r.type,n))})),i}function _(e){try{var t=e.type,n=e.message;if(t===u.ETHMessageTypes.TYPED_DATA_V3||t===u.ETHMessageTypes.TYPED_DATA_V4){var r,o=w((r="object"===typeof n?n:JSON.parse(n)).message,r.primaryType,r.types);r.message=o,e.message=JSON.stringify(r)}return e}catch(a){return e}}},665417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromBigIntHex:()=>s,toBigIntHex:()=>i});var r=n(206391),o=n.n(r),a=n(490628),i=function(e){var t=e.integerValue().toString(16);return t=`0x${t}`},s=function(e){return(0,a.check)(e&&e.startsWith("0x"),`Invalid hex string. value: ${e}`),new(o())(e).integerValue()}},255890:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createAnyPromise:()=>o,createDelayPromise:()=>r});var r=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))},o=function(e){return Promise.all(e.map((function(e){return e.then((function(e){return Promise.reject(e)}),(function(e){return Promise.resolve(e)}))}))).then((function(e){return Promise.reject(e)}),(function(e){return Promise.resolve(e)}))}},961500:(e,t,n)=>{"use strict";function r(e,t){return(null==e?void 0:e.toUpperCase())===(null==t?void 0:t.toUpperCase())}n.r(t),n.d(t,{equalsIgnoreCase:()=>r})},892012:(e,t,n)=>{"use strict";function r(e,t){var r=n.g[e];n.g[e]=function(o,a){return r((function(){if(!n.g[t])return o();console.error(`${e} is disabled`)}),a)}}n.r(t),n.d(t,{default:()=>o});const o={interceptTimerWithDisable:function(){try{r("setTimeout","$$onekeyDisabledSetTimeout")}catch(e){console.error(e)}try{r("setInterval","$$onekeyDisabledSetInterval")}catch(e){console.error(e)}},enableSetTimeout:function(){n.g.$$onekeyDisabledSetTimeout=void 0},disableSetTimeout:function(){n.g.$$onekeyDisabledSetTimeout=!0},enableSetInterval:function(){n.g.$$onekeyDisabledSetInterval=void 0},disableSetInterval:function(){n.g.$$onekeyDisabledSetInterval=!0}}},313503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createBRC20TransferText:()=>c,isBRC20Token:()=>a,parseBRC20Content:()=>s,parseTextProps:()=>i});var r=n(634795),o=n(63450);function a(e){return(null==e?void 0:e.startsWith("brc20"))||(null==e?void 0:e.startsWith("brc-20"))}function i(e){try{return JSON.parse(e)}catch(t){console.log("parse InscriptionText error = ",t)}}function s(e){return l.apply(this,arguments)}function l(){return(l=(0,r.default)((function*(e){var t=e.content,n=e.contentType,r=e.contentUrl,o=t;if("text/plain;charset=utf-8"===n){var a;if(!o&&r){var s=yield fetch(r);o=yield s.text()}var l=i(null!=(a=o)?a:"");if("brc-20"===(null==l?void 0:l.p))return{isBRC20Content:!0,brc20Content:l}}return{isBRC20Content:!1,brc20Content:null}}))).apply(this,arguments)}function c(e,t){return JSON.stringify({p:o.BRCTokenType.BRC20,op:o.BRC20TokenOperation.Transfer,tick:t,amt:e})}},257958:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={getHostNameFromUrl:function(e){var t=e.url;try{return new URL(t).hostname||""}catch(n){console.error(n)}return""}}},330526:(e,t,n)=>{"use strict";var r,o;n.r(t),n.d(t,{ENetworkStatus:()=>r,EOnekeyDomain:()=>o}),function(e){e.TRASH="TRASH",e.LISTED="LISTED"}(r||(r={})),function(e){e.ONEKEY_SO="onekey.so",e.ONEKEY_CN="onekeycn.com"}(o||(o={}))},360612:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={}}}]);