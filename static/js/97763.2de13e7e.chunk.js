"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[97763,38344,40155],{873638:(e,t,r)=>{r.r(t),r.d(t,{captureRef:()=>C,captureScreen:()=>S,default:()=>A,ensureModuleIsLoaded:()=>k,releaseCapture:()=>P});var n=r(887371),o=r(580753),a=r(545754),l=r(411987),i=r(695058),s=r(256666),u=r(202784),c=r(824931),d=r(341290),f=r(190769),p=r(320713),h=r(552322);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=d.default.RNViewShot,g=new Promise((function(){}));b||console.warn("react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.");var j=["png","jpg"].concat("android"===f.default.OS?["webm","raw"]:[]),v=["tmpfile","base64","data-uri"].concat("android"===f.default.OS?["zip-base64"]:[]),w={format:"png",quality:1,result:"tmpfile",snapshotContentContainer:!1,handleGLSurfaceViewOnAndroid:!1};function O(e){var t=m(m({},w),e),r=[];return"width"in t&&("number"!==typeof t.width||t.width<=0)&&(r.push("option width should be a positive number"),delete t.width),"height"in t&&("number"!==typeof t.height||t.height<=0)&&(r.push("option height should be a positive number"),delete t.height),("number"!==typeof t.quality||t.quality<0||t.quality>1)&&(r.push("option quality should be a number between 0.0 and 1.0"),t.quality=w.quality),"boolean"!==typeof t.snapshotContentContainer&&r.push("option snapshotContentContainer should be a boolean"),"boolean"!==typeof t.handleGLSurfaceViewOnAndroid&&r.push("option handleGLSurfaceViewOnAndroid should be a boolean"),-1===j.indexOf(t.format)&&(t.format=w.format,r.push("option format '"+t.format+"' is not in valid formats: "+j.join(" | "))),-1===v.indexOf(t.result)&&(t.result=w.result,r.push("option result '"+t.result+"' is not in valid formats: "+v.join(" | "))),{options:t,errors:r}}function k(){if(!b)throw new Error("react-native-view-shot: NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.")}function C(e,t){if(k(),e&&"object"===typeof e&&"current"in e&&e.current&&!(e=e.current))return Promise.reject(new Error("ref.current is null"));if("number"!==typeof e){var r=(0,p.default)(e);if(!r)return Promise.reject(new Error("findNodeHandle failed to resolve view="+String(e)));e=r}var n=O(t),o=n.options;n.errors;return b.captureRef(e,o)}function P(e){"string"!==typeof e||b.releaseCapture(e)}function S(e){k();var t=O(e),r=t.options;t.errors;return b.captureScreen(r)}var A=function(e){(0,a.default)(r,e);var t=x(r);function r(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).firstLayoutPromise=new Promise((function(t){e.resolveFirstLayout=t})),e.capture=function(){return e.firstLayoutPromise.then((function(){var t=(0,o.default)(e).root;return t?C(t,e.props.options):g})).then((function(t){return e.onCapture(t),t}),(function(t){throw e.onCaptureFailure(t),t}))},e.onCapture=function(t){if(e.root){e.lastCapturedURI&&setTimeout(P,500,e.lastCapturedURI),e.lastCapturedURI=t;var r=e.props.onCapture;r&&r(t)}},e.onCaptureFailure=function(t){if(e.root){var r=e.props.onCaptureFailure;r&&r(t)}},e.syncCaptureLoop=function(t){if(cancelAnimationFrame(e._raf),"continuous"===t){var r="-";e._raf=requestAnimationFrame((function t(){e._raf=requestAnimationFrame(t),r!==e.lastCapturedURI&&(r=e.lastCapturedURI,e.capture())}))}},e.onRef=function(t){e.root=t},e.onLayout=function(t){var r=e.props.onLayout;e.resolveFirstLayout(t.nativeEvent.layout),r&&r(t)},e}var l=r.prototype;return l.componentDidMount=function(){"mount"===this.props.captureMode?this.capture():this.syncCaptureLoop(this.props.captureMode)},l.componentDidUpdate=function(e){void 0!==this.props.captureMode&&this.props.captureMode!==e.captureMode&&this.syncCaptureLoop(this.props.captureMode),"update"===this.props.captureMode&&this.capture()},l.componentWillUnmount=function(){this.syncCaptureLoop(null)},l.render=function(){var e=this.props.children;return(0,h.jsx)(c.default,{ref:this.onRef,collapsable:!1,onLayout:this.onLayout,style:this.props.style,children:e})},(0,n.default)(r)}(u.Component);A.captureRef=C,A.releaseCapture=P},238344:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(256666),o=r(968594),a=r(552322);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const s=function(e){return(0,a.jsxs)(o.default,i(i({viewBox:"0 0 82 25",fill:"none",accessibilityRole:"image"},e),{},{children:[(0,a.jsx)(o.Path,{d:"M32.835 18.409c-.967 0-1.855-.23-2.665-.69a5.133 5.133 0 0 1-1.924-1.906c-.473-.82-.71-1.745-.71-2.775 0-1.02.237-1.935.71-2.745a5.1 5.1 0 0 1 1.925-1.92c.809-.46 1.697-.69 2.664-.69.977 0 1.865.23 2.664.69.809.46 1.445 1.1 1.91 1.92.473.81.71 1.725.71 2.745 0 1.03-.237 1.955-.71 2.775a5.025 5.025 0 0 1-1.91 1.905c-.81.46-1.697.69-2.664.69Zm0-1.876c.621 0 1.169-.14 1.643-.42.473-.29.843-.7 1.11-1.23.266-.53.4-1.145.4-1.845s-.134-1.31-.4-1.83a2.866 2.866 0 0 0-1.11-1.216c-.474-.28-1.022-.42-1.643-.42-.622 0-1.175.14-1.658.42-.474.28-.844.685-1.11 1.216-.267.52-.4 1.13-.4 1.83 0 .7.133 1.315.4 1.845.266.53.636.94 1.11 1.23.483.28 1.036.42 1.658.42ZM43.464 9.872c.977 0 1.767.315 2.368.946.602.62.903 1.49.903 2.61v4.875h-2.072v-4.59c0-.66-.163-1.165-.488-1.515-.326-.36-.77-.54-1.332-.54-.573 0-1.027.18-1.362.54-.326.35-.489.855-.489 1.515v4.59H38.92v-8.31h2.072v1.035c.277-.36.627-.64 1.051-.84a3.22 3.22 0 0 1 1.421-.316ZM55.736 13.968c0 .3-.02.57-.059.81h-5.994c.049.6.256 1.07.621 1.41.365.34.814.51 1.347.51.77 0 1.318-.335 1.643-1.005h2.235c-.237.8-.69 1.46-1.362 1.98-.67.51-1.495.766-2.471.766-.79 0-1.5-.175-2.132-.526a3.84 3.84 0 0 1-1.465-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.622-.35 1.337-.526 2.147-.526.78 0 1.475.17 2.087.51.621.34 1.1.826 1.435 1.456.346.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.202-.97-.577-1.29-.375-.33-.834-.495-1.377-.495-.513 0-.947.16-1.302.48-.345.31-.558.745-.637 1.305h3.893ZM62.636 18.303l-3.759-4.665v4.665h-2.072V7.833h2.072v4.695l3.76-4.696h2.5l-4.262 5.19 4.381 5.281h-2.62Z",fill:"#000"}),(0,a.jsx)(o.Path,{d:"M72.614 13.968c0 .3-.02.57-.06.81H66.56c.05.6.257 1.07.622 1.41.365.34.814.51 1.347.51.77 0 1.317-.335 1.643-1.005h2.234c-.236.8-.69 1.46-1.361 1.98-.671.51-1.495.766-2.472.766-.79 0-1.5-.175-2.131-.526a3.84 3.84 0 0 1-1.466-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.623-.35 1.338-.526 2.147-.526.78 0 1.475.17 2.087.51.622.34 1.1.826 1.436 1.456.345.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.203-.97-.578-1.29-.375-.33-.834-.495-1.376-.495-.513 0-.947.16-1.303.48-.345.31-.557.745-.636 1.305h3.893ZM81.23 9.992l-5.076 12.242h-2.205l1.776-4.14-3.286-8.102h2.324l2.116 5.806 2.146-5.806h2.206Z",fill:"#000"}),(0,a.jsx)(o.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.801 24.755c8.147 0 11.801-3.678 11.801-11.88 0-8.2-3.654-11.878-11.8-11.878C3.653.997 0 4.675 0 12.876c0 8.2 3.654 11.879 11.801 11.879ZM9.584 6.036h3.283v5.446h-2.035V7.79H9.008l.576-1.753Zm2.217 13.684c2.068 0 3.744-1.687 3.744-3.769 0-2.081-1.676-3.769-3.744-3.769-2.068 0-3.744 1.688-3.744 3.77 0 2.08 1.676 3.768 3.744 3.768Zm0-1.71c1.13 0 2.044-.922 2.044-2.059a2.051 2.051 0 0 0-2.044-2.058 2.051 2.051 0 0 0-2.044 2.058c0 1.137.915 2.058 2.044 2.058Z",fill:"#000"})]}))}},40155:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(256666),o=r(968594),a=r(552322);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const s=function(e){return(0,a.jsxs)(o.default,i(i({viewBox:"0 0 82 25",fill:"none",accessibilityRole:"image"},e),{},{children:[(0,a.jsx)(o.Path,{d:"M32.835 18.409c-.967 0-1.855-.23-2.665-.69a5.133 5.133 0 0 1-1.924-1.906c-.473-.82-.71-1.745-.71-2.775 0-1.02.237-1.935.71-2.745a5.1 5.1 0 0 1 1.925-1.92c.809-.46 1.697-.69 2.664-.69.977 0 1.865.23 2.664.69.809.46 1.445 1.1 1.91 1.92.473.81.71 1.725.71 2.745 0 1.03-.237 1.955-.71 2.775a5.025 5.025 0 0 1-1.91 1.905c-.81.46-1.697.69-2.664.69Zm0-1.876c.621 0 1.169-.14 1.643-.42.473-.29.843-.7 1.11-1.23.266-.53.4-1.145.4-1.845s-.134-1.31-.4-1.83a2.866 2.866 0 0 0-1.11-1.216c-.474-.28-1.022-.42-1.643-.42-.622 0-1.175.14-1.658.42-.474.28-.844.685-1.11 1.216-.267.52-.4 1.13-.4 1.83 0 .7.133 1.315.4 1.845.266.53.636.94 1.11 1.23.483.28 1.036.42 1.658.42ZM43.464 9.872c.977 0 1.767.315 2.368.946.602.62.903 1.49.903 2.61v4.875h-2.072v-4.59c0-.66-.163-1.165-.488-1.515-.326-.36-.77-.54-1.332-.54-.573 0-1.027.18-1.362.54-.326.35-.489.855-.489 1.515v4.59H38.92v-8.31h2.072v1.035c.277-.36.627-.64 1.051-.84a3.22 3.22 0 0 1 1.421-.316ZM55.736 13.968c0 .3-.02.57-.059.81h-5.994c.049.6.256 1.07.621 1.41.365.34.814.51 1.347.51.77 0 1.318-.335 1.643-1.005h2.235c-.237.8-.69 1.46-1.362 1.98-.67.51-1.495.766-2.471.766-.79 0-1.5-.175-2.132-.526a3.84 3.84 0 0 1-1.465-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.622-.35 1.337-.526 2.147-.526.78 0 1.475.17 2.087.51.621.34 1.1.826 1.435 1.456.346.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.202-.97-.577-1.29-.375-.33-.834-.495-1.377-.495-.513 0-.947.16-1.302.48-.345.31-.558.745-.637 1.305h3.893ZM62.636 18.303l-3.759-4.665v4.665h-2.072V7.833h2.072v4.695l3.76-4.696h2.5l-4.262 5.19 4.381 5.281h-2.62Z",fill:"#FFF"}),(0,a.jsx)(o.Path,{d:"M72.614 13.968c0 .3-.02.57-.06.81H66.56c.05.6.257 1.07.622 1.41.365.34.814.51 1.347.51.77 0 1.317-.335 1.643-1.005h2.234c-.236.8-.69 1.46-1.361 1.98-.671.51-1.495.766-2.472.766-.79 0-1.5-.175-2.131-.526a3.84 3.84 0 0 1-1.466-1.515c-.345-.65-.518-1.4-.518-2.25 0-.86.173-1.615.518-2.265a3.64 3.64 0 0 1 1.45-1.5c.623-.35 1.338-.526 2.147-.526.78 0 1.475.17 2.087.51.622.34 1.1.826 1.436 1.456.345.62.518 1.335.518 2.145Zm-2.146-.6c-.01-.54-.203-.97-.578-1.29-.375-.33-.834-.495-1.376-.495-.513 0-.947.16-1.303.48-.345.31-.557.745-.636 1.305h3.893ZM81.23 9.992l-5.076 12.242h-2.205l1.776-4.14-3.286-8.102h2.324l2.116 5.806 2.146-5.806h2.206Z",fill:"#FFF"}),(0,a.jsx)(o.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.801 24.755c8.147 0 11.801-3.678 11.801-11.88 0-8.2-3.654-11.878-11.8-11.878C3.653.997 0 4.675 0 12.876c0 8.2 3.654 11.879 11.801 11.879ZM9.584 6.036h3.283v5.446h-2.035V7.79H9.008l.576-1.753Zm2.217 13.684c2.068 0 3.744-1.687 3.744-3.769 0-2.081-1.676-3.769-3.744-3.769-2.068 0-3.744 1.688-3.744 3.77 0 2.08 1.676 3.768 3.744 3.768Zm0-1.71c1.13 0 2.044-.922 2.044-2.059a2.051 2.051 0 0 0-2.044-2.058 2.051 2.051 0 0 0-2.044 2.058c0 1.137.915 2.058 2.044 2.058Z",fill:"#FFF"})]}))}},749866:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Be});var n=r(539144),o=r(877531),a=r(785192),l=r(170766),i=r(18861),s=r(561220),u=r(435581),c=r(759900),d=r(529710),f=r(550398),p=r(866904),h=r(634795),x=r(196234),y=r(202784),m=r(472719),b=r(206391),g=r(361301),j=r(470310),v=r(783112),w=r(942013),O=r(945821),k=r(859071),C=r(146144),P=r(552322);const S=function(){var e=(0,v.default)(),t=(0,y.useState)(w.OnekeyNetwork.eth),r=(0,x.default)(t,2),n=r[0],S=r[1],A=O.default.serviceNFT,M=(0,m.useNavigation)(),N=(0,y.useState)(""),I=(0,x.default)(N,2),_=I[0],R=I[1],D=(0,y.useState)(""),B=(0,x.default)(D,2),E=B[0],L=B[1],T=(0,k.useDebounce)(_,500),F=(0,k.useDebounce)(E,500),W=(0,y.useRef)(),Z=(0,y.useState)(),H=(0,x.default)(Z,2),z=H[0],V=H[1],U=(0,y.useState)(),Q=(0,x.default)(U,2),Y=Q[0],K=Q[1],G=(0,y.useMemo)((function(){if(z&&Object.keys(z.networks).includes(n)){var e=z.networks[n].handlingFee;if(e)return Number(e.replace("%",""))}return 0}),[n,z]),q=(0,y.useMemo)((function(){var e;return Y&&null!=(e=Y.royalty)?e:0}),[Y]),X=(0,y.useCallback)((function(){M.navigate(C.NFTMarketRoutes.MarketPlaceScreen,{selectMarket:z,onSelect:V})}),[M,z]),J=(0,y.useCallback)(function(){var e=(0,h.default)((function*(e,t){return yield A.getCollection({chain:e,contractAddress:t})}));return function(t,r){return e.apply(this,arguments)}}(),[A]),$=(0,y.useCallback)((function(){M.navigate(C.NFTMarketRoutes.SearchModal,{ethOnly:!0,onSelectCollection:function(e){var t=e.networkId,r=e.contractAddress,n=e.collection;M.goBack(),S(t),n?K(n):J(t,r).then((function(e){K(e)}))}})}),[J,M]),ee=(0,y.useState)(0),te=(0,x.default)(ee,2),re=te[0],ne=te[1];(0,y.useEffect)((function(){(0,h.default)((function*(){if(null!=Y&&Y.contractAddress){var e=yield A.getCollectionTransactions({chain:n,contractAddress:null==Y?void 0:Y.contractAddress,limit:1,showAsset:!1,eventTypes:"Sale"});if(null!=e&&e.content&&(null==e?void 0:e.content.length)>0){var t,r=e.content[0];ne(null!=(t=r.gasFee)?t:0)}}}))()}),[n,null==Y?void 0:Y.contractAddress,A]),(0,y.useEffect)((function(){(0,h.default)((function*(){var e=yield A.getMarketPlaces({chain:w.OnekeyNetwork.eth});e&&(W.current=e,V(e[0]))}))()}),[A]);var oe=(0,y.useMemo)((function(){var e=new b.BigNumber(0),t=new b.BigNumber(T),r=new b.BigNumber(F),n=new b.BigNumber(re);if(t.isNaN()||r.isNaN())return 0;var o=new b.BigNumber(G/100).multipliedBy(r),a=new b.BigNumber(q).multipliedBy(r);return(e=r.minus(o).minus(a).minus(t).minus(n).decimalPlaces(6)).isNaN()?0:e.toNumber()}),[T,q,re,G,F]),ae="text-default";return oe>0?ae="text-success":oe<0&&(ae="text-critical"),(0,P.jsxs)(o.default,{size:"xs",header:e.formatMessage({id:"modal__calculator"}),footer:null,children:[(0,P.jsxs)(g.default,{space:8,children:[(0,P.jsxs)(g.default,{space:"12px",children:[(0,P.jsx)(p.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__platform"})}),(0,P.jsx)(i.default,{m:-2,children:(0,P.jsxs)(s.default,{p:2,borderRadius:"12px",flexDirection:"row",alignItems:"center",onPress:X,_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[(0,P.jsx)(j.default,{space:"12px",alignItems:"center",flex:1,children:z?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(f.default,{width:"40px",height:"40px",borderRadius:"20px",src:z.logoUrl},z.logoUrl),(0,P.jsx)(p.default,{typography:"Body1Strong",children:z.name})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.default,{width:"40px",height:"40px",borderRadius:"20px"}),(0,P.jsx)(c.default,{shape:"Body1"})]})}),(0,P.jsx)(u.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})]})})]}),(0,P.jsxs)(g.default,{space:"12px",children:[(0,P.jsx)(p.default,{typography:"Subheading",color:"text-subdued",children:e.formatMessage({id:"form__project"})}),(0,P.jsx)(i.default,{m:-2,children:(0,P.jsxs)(s.default,{p:2,borderRadius:"12px",flexDirection:"row",alignItems:"center",onPress:$,_hover:{bgColor:"surface-hovered"},_pressed:{bgColor:"surface-pressed"},children:[(0,P.jsx)(j.default,{space:"12px",alignItems:"center",flex:1,children:Y?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(f.default,{width:"40px",height:"40px",borderRadius:"20px",src:Y.logoUrl},Y.logoUrl),(0,P.jsxs)(i.default,{flex:1,children:[(0,P.jsx)(p.default,{typography:"Body1Strong",children:Y.name}),(0,P.jsxs)(p.default,{typography:"Body2",mt:"4px",color:"text-subdued",children:[e.formatMessage({id:"content__floor"})," ",Y.floorPrice," ETH"]})]})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.default,{borderStyle:"dashed",justifyContent:"center",alignItems:"center",size:"40px",borderRadius:"12px",bgColor:"surface-neutral-subdued",borderWidth:"2px",borderColor:"border-default",children:(0,P.jsx)(u.default,{name:"CursorArrowRaysMini",size:20,color:"decorative-icon-one"})}),(0,P.jsx)(p.default,{typography:"Body1Strong",children:e.formatMessage({id:"action__select_a_project"})})]})}),(0,P.jsx)(u.default,{name:"ChevronRightMini",size:20,color:"icon-subdued"})]})})]}),(0,P.jsxs)(g.default,{space:"12px",children:[(0,P.jsxs)(p.default,{typography:"Subheading",color:"text-subdued",children:[e.formatMessage({id:"content__price"})," (ETH)"]}),(0,P.jsxs)(j.default,{space:"12px",children:[(0,P.jsx)(l.default,{flex:1,size:"xl",placeholder:e.formatMessage({id:"Market__buy"}),value:_,onChangeText:function(e){1===new b.BigNumber(e).comparedTo(1e3)&&""!==e||R(e)},type:"number",keyboardType:"decimal-pad"}),(0,P.jsx)(l.default,{flex:1,size:"xl",placeholder:e.formatMessage({id:"action__sell"}),value:E,onChangeText:function(e){1===new b.BigNumber(e).comparedTo(1e3)&&""!==e||L(e)},type:"number",keyboardType:"number-pad"})]})]})]}),(0,P.jsx)(a.default,{my:"24px"}),(0,P.jsxs)(g.default,{space:"8px",children:[(0,P.jsxs)(j.default,{space:"8px",justifyContent:"space-between",children:[(0,P.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__platform_fee"})}),(0,P.jsx)(p.default,{typography:"Body2",children:`${G}%`})]}),(0,P.jsxs)(j.default,{space:"8px",justifyContent:"space-between",children:[(0,P.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__creator_fee"})}),(0,P.jsx)(p.default,{typography:"Body2",children:100*q+"%"})]}),(0,P.jsxs)(j.default,{space:"8px",justifyContent:"space-between",children:[(0,P.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__gas_fee"})}),(0,P.jsxs)(p.default,{typography:"Body2",children:[`${new b.BigNumber(re).decimalPlaces(3).toString()} ETH`," "]})]}),(0,P.jsxs)(j.default,{space:"8px",justifyContent:"space-between",alignItems:"baseline",children:[(0,P.jsx)(p.default,{typography:"Body2Strong",color:"text-subdued",children:e.formatMessage({id:"content__profit"})}),(0,P.jsx)(p.default,{typography:"Display2XLarge",color:ae,children:`${oe} ETH`})]})]})]})};var A=r(107867);const M=function(){var e=(0,m.useNavigation)(),t=(0,v.default)(),r=(0,m.useRoute)().params,n=r.selectMarket,a=r.onSelect,l=O.default.serviceNFT,i=(0,y.useState)([]),s=(0,x.default)(i,2),u=s[0],c=s[1];(0,y.useEffect)((function(){(0,h.default)((function*(){var e=yield l.getMarketPlaces({chain:w.OnekeyNetwork.eth});e&&c(e)}))()}),[l]);var d=(0,y.useCallback)((function(t){var r=t.item;return(0,P.jsxs)(A.default,{onPress:function(){null==a||a(r),e.goBack()},children:[(0,P.jsx)(A.default.Column,{children:(0,P.jsx)(f.default,{width:"40px",height:"40px",borderRadius:"20px",src:r.logoUrl})}),(0,P.jsx)(A.default.Column,{flex:1,text:{label:r.name}}),(null==n?void 0:n.name)===r.name?(0,P.jsx)(A.default.Column,{icon:{name:"CheckCircleSolid",color:"interactive-default"}}):null]})}),[e,a,null==n?void 0:n.name]);return(0,P.jsx)(o.default,{size:"xs",height:"560px",header:t.formatMessage({id:"form__platform"}),footer:null,flatListProps:{height:"420px",data:u,renderItem:d,keyExtractor:function(e){return e.name}}})};var N=r(643222),I=r(468702),_=r(311631),R=r(505240),D=r(795116),B=r(719392),E=r(510374),L=r(592923),T=r(553197),F=r(46486),W=r(231318),Z=r(749888),H=r(213208),z=r(328012),V=r(256666),U=r(737790);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,V.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=[w.OnekeyNetwork.eth,w.OnekeyNetwork.bsc,w.OnekeyNetwork.optimism,w.OnekeyNetwork.polygon,w.OnekeyNetwork.arbitrum,w.OnekeyNetwork.avalanche];const G=function(e){var t=e.tiggerProps,r=e.selectedNetwork,o=e.triggerSize,a=e.onChange,l=(0,v.default)(),s=(0,n.default)(),c=(0,k.useManageNetworks)(void 0).enabledNetworks,d=(0,y.useMemo)((function(){return c?c.filter((function(e){return K.includes(e.id)})).map((function(e){return{title:e.shortName,label:e.name,value:e,tokenProps:{token:{logoURI:null==e?void 0:e.logoURI,name:null==e?void 0:e.name}}}})):[]}),[c]);return(0,P.jsx)(i.default,{children:(0,P.jsx)(z.default,{title:l.formatMessage({id:"network__network"}),dropdownPosition:"right",dropdownProps:s?{}:{minW:"240px"},headerShown:!1,options:d,isTriggerPlain:!0,activatable:!0,footer:null,onChange:a,renderTrigger:function(e){var n=e.isHovered,a=e.isPressed;return(0,P.jsx)(i.default,Y(Y({m:"-8px"},t),{},{children:(0,P.jsxs)(j.default,{alignItems:"center",p:"8px",bgColor:a?"surface-pressed":n?"surface-hovered":"transparent",borderRadius:"xl",children:[(0,P.jsx)(U.default,{size:"lg"===o?"24px":"20px",token:{logoURI:null==r?void 0:r.logoURI}}),!s&&(0,P.jsx)(p.default,{ml:"8px",typography:"Body2Strong",children:null==r?void 0:r.name}),(0,P.jsx)(i.default,{ml:"4px",children:(0,P.jsx)(u.default,{size:20,name:"ChevronDownMini",color:"icon-subdued"})})]})}))}})})};var q=r(79996),X=r(482212),J=r(459740),$=r(950123),ee=["isTab","numberOfData"];function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,V.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=function(){return(0,P.jsx)(i.default,{h:"4px"})};const oe=function(e){e.isTab;var t=e.numberOfData,r=(0,J.default)(e,ee),o=(0,n.default)(),a=new Array(t).fill(0),l=(0,y.useMemo)((function(){return o?{ItemSeparatorComponent:ne}:{showDivider:!0}}),[o]);return(0,P.jsx)(R.default,re(re({data:a,renderItem:function(){return(0,P.jsxs)(A.default,{children:[(0,P.jsx)(A.default.Column,{children:(0,P.jsx)(d.default,{width:o?"56px":"40px",height:o?"56px":"40px",borderRadius:"12px"})}),(0,P.jsx)(A.default.Column,{flex:1,text:{label:(0,P.jsx)(c.default,{shape:"Body1"}),description:(0,P.jsx)(c.default,{shape:"Body2"})}}),(0,P.jsx)(A.default.Column,{children:(0,P.jsx)(i.default,{pb:{base:"24px",md:0},children:(0,P.jsx)(c.default,{shape:"Body1"})})})]})},keyExtractor:function(e,t){return`${t}`}},l),r))};var ae=["onSelectCollection","selectNetwork","listData"];function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,V.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const se=function(e){var t=e.onSelectCollection,r=e.selectNetwork,n=e.listData,o=(0,J.default)(e,ae),a=(0,v.default)(),l=r,s=(0,y.useCallback)((function(e){var n,o,s,u,c,d,f=e.item,h=e.index,x=null!=(n=f.volume_change)?n:"-";return null!=f&&null!=(o=f.volume_change)&&o.startsWith("-")?(c="surface-critical-subdued",d="text-critical"):null!=f&&null!=(s=f.volume_change)&&s.startsWith("0.00%")?d="text-subdued":(c="surface-success-subdued",d="text-success"),(0,P.jsxs)(A.default,{onPress:function(){t&&t({contractAddress:f.contract_address,networkId:null==l?void 0:l.id,title:f.contract_name})},children:[(0,P.jsx)(A.default.Column,{children:(0,P.jsx)(q.default,{src:f.logo_url,width:"56px",height:"56px",verified:f.openseaVerified})}),(0,P.jsx)(A.default.Column,{text:{label:`${h+1}`,labelProps:{pb:"24px",typography:"Body1Mono"}}}),(0,P.jsx)(A.default.Column,{flex:1,text:{label:f.contract_name,labelProps:{isTruncated:!0},description:(0,$.PriceString)({prefix:a.formatMessage({id:"content__floor"}),price:f.floor_price,networkId:null==l?void 0:l.id}),descriptionProps:{numberOfLines:1}}}),(0,P.jsx)(A.default.Column,{alignItems:"flex-end",text:{label:(0,$.PriceString)({price:new b.BigNumber(null!=(u=f.volume)?u:"0").decimalPlaces(2).toString(),networkId:null==r?void 0:r.id}),labelProps:{textAlign:"right",numberOfLines:1},description:(0,P.jsx)(i.default,{borderRadius:"6px",bgColor:c,paddingX:"6px",paddingY:"2px",children:(0,P.jsx)(p.default,{typography:"CaptionStrong",color:d,textAlign:"right",numberOfLines:1,children:x})})}})]})}),[a,null==l?void 0:l.id,r,t]),u=(0,y.useCallback)((function(){return(0,P.jsx)(i.default,{h:"4px"})}),[]),c=(0,y.useCallback)((function(){return(0,P.jsx)(i.default,{height:"20px"})}),[]);return void 0===n||0===(null==n?void 0:n.length)?(0,P.jsx)(oe,{isTab:!1,numberOfData:10,ListHeaderComponent:o.ListHeaderComponent}):(0,P.jsx)(T.View,{style:{flex:1},from:{opacity:.5},animate:{opacity:1},children:(0,P.jsx)(R.default,ie({data:n,renderItem:s,keyExtractor:function(e,t){return`${e.contract_address}${t}`},ItemSeparatorComponent:u,ListFooterComponent:c},o))})};var ue=function(e){var t=e.keyword,r=e.setKeyword,n=e.selectNetwork,o=e.onSelectNetWork,a=(0,v.default)(),l=(0,m.useRoute)().params.ethOnly,s=(0,Z.default)();return(0,P.jsxs)(j.default,{alignItems:"center",borderBottomWidth:F.default.hairlineWidth,borderBottomColor:"border-subdued",pl:{base:"4px",md:"12px"},pr:{base:"16px",md:"24px"},h:"57px",children:[(0,P.jsx)(L.default,{autoFocus:!0,flex:1,w:"auto",bgColor:"transparent",borderWidth:0,focusOutlineColor:"transparent",placeholder:`${a.formatMessage({id:"form__nft_search_placeholder"})}...`,value:t,onClear:function(){r("")},onChangeText:function(e){r(e)}}),(0,P.jsx)(i.default,{h:"20px",borderLeftWidth:F.default.hairlineWidth,borderLeftColor:"border-subdued",mr:"12px"}),(0,P.jsxs)(j.default,{space:"16px",alignItems:"center",children:[!1===!!l&&(0,P.jsx)(G,{selectedNetwork:n,onChange:function(e){o(e)}}),!H.default.isNativeIOS&&(0,P.jsx)(W.default,{onPress:s})]})]})},ce=function(e){var t=e.selectNetwork,r=O.default.serviceNFT,n=(0,v.default)(),o=(0,m.useRoute)().params.onSelectCollection,a=(0,y.useState)([]),l=(0,x.default)(a,2),i=l[0],s=l[1];return(0,y.useEffect)((function(){(0,h.default)((function*(){var e=yield r.getMarketRanking({chain:null==t?void 0:t.id,time:"1d"});e&&s(e.slice(0,10))}))()}),[null==t?void 0:t.id,r]),(0,P.jsx)(se,{onSelectCollection:o,selectNetwork:t,headerProps:{title:n.formatMessage({id:"content__ranking"}),actions:[{label:n.formatMessage({id:"content__int_day_volume"},{0:1}),onPress:function(){}}]},listData:i})},de=function(e){var t=e.isLoading,r=e.listData,n=e.selectNetwork,o=(0,v.default)(),a=(0,m.useRoute)().params.onSelectCollection,l=(0,y.useCallback)((function(e){var t,r,l=e.item,s=null!=(t=null==l?void 0:l.itemsTotal)?t:0,u=null!=l&&l.floorPrice?`${null==l?void 0:l.floorPrice} ${null!=(r=l.priceSymbol)?r:""}`:void 0;return(0,P.jsxs)(A.default,{onPress:function(){a({networkId:n.id,contractAddress:l.contractAddress})},children:[(0,P.jsx)(A.default.Column,{children:(0,P.jsx)(q.default,{src:l.logoUrl,width:"56px",height:"56px",verified:l.openseaVerified})}),(0,P.jsx)(A.default.Column,{flex:1,text:{label:l.name,labelProps:{numberOfLines:1},description:(0,P.jsxs)(j.default,{space:"8px",alignItems:"center",children:[(0,P.jsx)(p.default,{typography:"Body2",color:"text-subdued",children:o.formatMessage({id:"content__int_items"},{0:s||"\u2013"})}),(0,P.jsx)(i.default,{bgColor:"text-subdued",size:"4px",rounded:"full"}),(0,P.jsxs)(p.default,{typography:"Body2",color:"text-subdued",children:[o.formatMessage({id:"content__floor"})," ",u||"\u2013"]})]})}})]})}),[o,a,n.id]),s=(0,y.useCallback)((function(){return(0,P.jsx)(E.default,{title:o.formatMessage({id:"content__no_results"}),emoji:"\ud83d\udd0d"})}),[o]),u=(0,y.useCallback)((function(){return(0,P.jsx)(i.default,{h:"4px"})}),[]);return(0,P.jsx)(P.Fragment,{children:t?(0,P.jsx)(D.default,{flex:1,children:(0,P.jsx)(B.default,{size:"lg"})}):(0,P.jsx)(T.View,{from:{opacity:0},animate:{opacity:1},children:(0,P.jsx)(R.default,{headerProps:{title:o.formatMessage({id:"content__collection"})},ListEmptyComponent:s,data:r,renderItem:l,ItemSeparatorComponent:u})})})};const fe=function(){var e=(0,X.useDefaultNetWork)(),t=(0,_.useSafeAreaInsets)().bottom,r=(0,y.useState)(e),n=(0,x.default)(r,2),a=n[0],l=n[1],i=(0,y.useState)(""),s=(0,x.default)(i,2),u=s[0],c=s[1],d=(0,k.useDebounce)(u,500),f=function(e,t){var r=(0,y.useState)(!1),n=(0,x.default)(r,2),o=n[0],a=n[1],l=(0,y.useState)([]),i=(0,x.default)(l,2),s=i[0],u=i[1],c=O.default.serviceNFT;return(0,y.useEffect)((function(){function r(){return(r=(0,h.default)((function*(){if(0!==e.length){a(!0),u([]);try{var r=yield c.searchCollections({chain:t,name:e});u(r||[])}finally{a(!1)}}else u([])}))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[e,t,c]),{loading:o,result:s}}(d,null==a?void 0:a.id),p=f.loading,m=f.result,b=p||u!==d;return(0,P.jsxs)(o.default,{size:"sm",footer:null,height:"640px",headerShown:!1,staticChildrenProps:{flex:1,overflow:"hidden"},children:[(0,P.jsx)(ue,{keyword:u,setKeyword:c,selectNetwork:a,onSelectNetWork:l}),(0,P.jsx)(N.default,{flex:1,children:(0,P.jsx)(I.ScrollView,{flex:1,p:{base:"16px",md:"24px"},contentContainerStyle:{flex:1,paddingBottom:t},children:d.length>0?(0,P.jsx)(de,{isLoading:b,selectNetwork:a,listData:m}):(0,P.jsx)(ce,{selectNetwork:a})})})]})};var pe=r(453028),he=r(231846),xe=r(586874),ye=r(190769),me=r(873638),be=r(238344),ge=r(40155),je=r(74008),ve=r(480058),we=r(225447),Oe=r(967989);const ke=r.p+"static/media/pnl_share_blur_bg.bf8885a9ed63b32bc504.png";var Ce=r(431440),Pe=["datas"];function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){(0,V.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Me=function(e){var t,r,n=e.data,o=e.scale,a=e.opacity,l=(0,je.default)().formatDistanceStrict,s=(0,xe.default)().themeVariant,u="";n&&(u=n.tokenId?`#${n.tokenId}`:"\u2013","0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85"===(null==(t=n.contractAddress)?void 0:t.toLowerCase())&&(u=null==(r=n.asset)?void 0:r.name));return(0,P.jsx)(i.default,{width:"358px",shadow:"depth.1",opacity:a||1,style:{transform:[{scale:o}]},children:n?(0,P.jsxs)(i.default,{borderRadius:"12px",overflow:"hidden",borderWidth:F.default.hairlineWidth,borderColor:"border-default",children:[(null==n?void 0:n.asset)&&(0,P.jsx)(D.default,{position:"absolute",top:0,right:0,bottom:0,left:0,bgColor:"background-default",children:(0,P.jsx)(Ce.default,{asset:null==n?void 0:n.asset,size:378,opacity:50})}),(0,P.jsxs)(Oe.default,{tint:"light"===s?"light":"dark",intensity:100,style:{flexDirection:"row",paddingHorizontal:16,paddingVertical:12},children:[(0,P.jsxs)(j.default,{alignItems:"center",space:3,flex:1,children:[(null==n?void 0:n.asset)&&(0,P.jsx)(Ce.default,{asset:null==n?void 0:n.asset,size:40,borderRadius:"12px"}),(0,P.jsxs)(g.default,{flex:1,space:1,children:[(0,P.jsx)(p.default,{isTruncated:!0,typography:"Body1Strong",children:n.contractName}),(0,P.jsx)(p.default,{isTruncated:!0,typography:"Body2",color:"text-subdued",children:u})]})]}),(0,P.jsxs)(g.default,{space:1,children:[(0,P.jsx)(p.default,{typography:"Body1Strong",textAlign:"right",color:n.profit>0?"text-success":"text-critical",children:(0,$.PriceString)({price:new b.BigNumber(n.profit).decimalPlaces(3).toString(),symbol:n.exit.tradeSymbol})}),(0,P.jsx)(p.default,{typography:"Body2",textAlign:"right",color:"text-subdued",children:l(n.exit.timestamp,n.entry.timestamp)})]})]})]}):(0,P.jsx)(i.default,{borderRadius:"12px",overflow:"hidden",height:"72px",borderWidth:F.default.hairlineWidth,borderColor:"border-default",bgColor:"surface-neutral-subdued"})})},Ne=function(e){var t=e.datas,r=(0,J.default)(e,Pe),n=(0,y.useState)(0),o=(0,x.default)(n,2),a=o[0],l=o[1];return(0,P.jsxs)(ve.default,Ae(Ae({justifyContent:"center",alignItems:"center",onLayout:function(e){a!==e.nativeEvent.layout.width&&l(e.nativeEvent.layout.width)}},r),{},{children:[(0,P.jsx)(we.default,{zIndex:0,source:ke,width:300,height:300}),a>0&&(0,P.jsx)(i.default,{zIndex:1,mt:"-40px",style:{transform:[{translateY:-21}]},children:(0,P.jsx)(Me,{data:t[2],scale:a/358*.81,opacity:70})}),a>0&&(0,P.jsx)(i.default,{zIndex:2,children:(0,P.jsx)(Me,{data:t[1],scale:a/358*.9,opacity:80})}),a>0&&(0,P.jsx)(i.default,{zIndex:3,mt:"48px",style:{transform:[{translateY:26}]},children:(0,P.jsx)(Me,{data:t[0],scale:a/358,opacity:90})})]}))},Ie=function(){var e=(0,h.default)((function*(){return null}));return function(){return e.apply(this,arguments)}}();const _e=function(){var e=(0,y.useRef)(null),t=(0,m.useRoute)().params,r=t.data,n=t.network,a=t.nameOrAddress,l=r.content,s=r.win,u=r.lose,c=r.totalProfit,d=r.totalWinProfit,f=r.totalLoseProfit,g=l[0].exit.timestamp,j=l[l.length-1].exit.timestamp,w=(0,v.default)(),O=(0,xe.default)().themeVariant,k=(0,y.useCallback)((0,h.default)((function*(){var t,r=yield null==(t=e.current)||null==t.capture?void 0:t.capture();if(r){var n=yield Ie(),o=ye.default.select({ios:{activityItemSources:[{placeholderItem:{type:"url",content:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJwAAACcCAMAAAC9ZjJ/AAAAllBMVEUAAAAAuBIAtxAAuBMAtxIAuRIAtxMAuRIAtxIAtxIAuBIAuBMAuBEAsxAAtxIAtxIAuBIAuRIAuBIAuBL///8AtRIAtxIAsxKA2ojf9uG/7cRg0WsgvzCg5Kbv+/BAyk2v6LUQvSFw13pAxk0wxT/P8dMQuiEQtyHv+vBw1HpQzFyQ3Zcwwj6Q4JiQ35fP8tOQ35iP35ce/Hr/AAAAE3RSTlMA3yC/QO9gsJCAz1AwENCgn39wIDfjZgAABGxJREFUeNrtnNlS4zAQReV4zcYALcmWF7ITwjDb///c2BCQwImdcTt2ZyqH5SGVh1NXaklxSs3qmE68wB9ZLrSJZfvBvcNwOHe2C+fDHjrNzVw4O9btoImaDR1he+zf8CzoEMsjmdqH3pidxtSHHjht7o0RZXDusQ2gN+5YNYMb6JHRoNLNgl6xKuwmCLdz2w1c6B13QnNM37Oj63bE7gaIMGIl7oAMQWmnB0KMaU64N9wpM/kGpPCZwRiI4TANqUEtsIlWwxse3eAALMLB6VlnA0Hs/RoHJHEornHvDKmWQ4HLchwgSjGuQyDKkGqtvtcrUMWd0p1yABN2D2TxWABkCZgPOBQvE0Er+NhinfFDcgLaYITdH7LDchJawGKAQ51RzkXKzfgZ5QApl1GWU4flQgpyM044uYyynOJ0h3Uda+glJ4UQYYEIySX3aielKKCXnEYSTE5DOTm4JncyV7mmXOWacrFy16WkimtyTbnKNeVi5xxpOdLDepX7BxKDF2pyIEUocsL8P9atfTmQbwDkf+1A92uIduUW61nyPFsvAEnrcovlXPE9v+ZJCghalpvF/AvZDHDg5bRamTiVgAQvl8b8CH8WOD283OyBH0WlgAAvt+RVPD0jskPLRbyGBGGHlFvyWl4Qdii5Na/nKRXQALRcqvgJxIhTAEIu4594yHbP6ctqN8d/KYGXSz+r7bZhKF5JI/VpYB97kIu5wfdtYSYl5D+53hwRHVKuXA1Rnpo+xUkpok/RCWgARi776gYGUvxGRIeXM7atLCwfzEWMKFis3MzcQvPcKoe9wVqHkvthDqqQ1eOeNIgOIxcbuYSyJtusYzk95WId3LG3bMJu5YwlLhRwEL3YqVDAyeDlUmNCHYvlJ/+gRzk4TERBTki6cjsh61abp27lwNwfZN1qszEKuh68nKotxYX2jztOzjgUrQQcIjFWm47llrX7uuIfPHe8Q6y5ZiWrg+PbjuXMYNSBg3hqHKnmYddyEddsHmXVJ7Mk7PjIBIsH0y6VJTfEzoqWkxE3UIk09JamOE+6ltPRab3F/vWl4iYq7EGu/KQknmdZpvgX0rDbj4Z6Ia4nauSGl1soXkt8wqBi5DCPctQW4YaSq7dTiAmHlpPVdvEW4YaWA/n4s6oWcG7AXEAhRaKOxLbCugH6Spo8rKeSXE0ACouNAI0QSfzlIeeqUJOAw8Zdc9HpPa6i+UblbLLdavuamgQkfjsXhGSuJ0S4Z/+QE03APMCi4yvQYmju2QTaQxa/7eGwKYE+IEegfhGS9BVSsjchHZZDdNJZjNEd11tG+FL1gH6TAZrReZfQ2IJiZ4siOKqtLV6DozrrxszAB1LcMgNiZ5Oi4xbZ/kIeoXaC5eNIiREQ4ebSWrwRsTPdTCYEStYdUG0WCWBNLrOVZW7Xa83eVLj1fWgPqLUS1rhjdgKDb9AD/pSdxrjz8Gzn/2gTXeDZgACdWv3c6yA+F9E6fXjO/Fw7N8Ph3Ae+bbVrZY38wJvU1udfiwGx6zsgLxcAAAAASUVORK5CYII="},item:{default:{type:"url",content:`file://${r}`}},linkMetadata:{title:"Share"}}],failOnCancel:!0},default:{url:`file://${r}`,title:"Share",filename:"onekey_share.png",failOnCancel:!0}});if(!n)return;yield n.open(o).catch((function(){console.log("something wrong")}))}})),[]),C=(0,y.useState)(0),S=(0,x.default)(C,2),A=S[0],M=S[1],N=(0,je.default)().format,I=`${N(new Date(j),"yyyy/MM/dd")} - ${N(new Date(g),"yyyy/MM/dd")}`,_=(0,y.useMemo)((function(){return 0===A?c:1===A?d:2===A?f:void 0}),[A]),R=(0,y.useMemo)((function(){var e="0";return _&&(e=new b.BigNumber(_).decimalPlaces(3).toString(),e=`${_.toNumber()>=0?"+":""}${e}`),e=(0,$.PriceString)({price:e,networkId:n.id})}),[n.id,_]),D=(0,y.useMemo)((function(){return 0===A?l.slice(0,3):1===A?l.filter((function(e){return e.profit>0})).slice(0,3):2===A?l.filter((function(e){return e.profit<0})).slice(0,3):[]}),[l,A]),B=(0,y.useCallback)((function(){setTimeout(k,100)}),[k]);return(0,P.jsx)(o.default,{header:w.formatMessage({id:"action__share"}),hidePrimaryAction:!0,primaryActionTranslationId:"action__share",hideSecondaryAction:!0,onPrimaryActionPress:B,children:(0,P.jsxs)(i.default,{w:"full",h:"full",position:"relative",children:[0===s||0===u?null:(0,P.jsx)(i.default,{mb:"24px",children:(0,P.jsx)(he.default,{selectedIndex:A,onChange:M,values:["All",w.formatMessage({id:"content__winning_flips"}),w.formatMessage({id:"content__losing_flips"})]})}),(0,P.jsxs)(i.default,{alignItems:"center",shadow:"depth.5",children:[(0,P.jsx)(me.default,{ref:e,style:{width:"100%",maxWidth:400},children:(0,P.jsxs)(i.default,{borderWidth:F.default.hairlineWidth,borderRadius:"24px",borderColor:"border-default",bg:"background-default",shadow:"depth.5",overflow:"hidden",children:[(0,P.jsxs)(i.default,{p:6,borderBottomWidth:F.default.hairlineWidth,borderColor:"border-default",children:[(0,P.jsxs)(i.default,{flexDirection:"row",justifyContent:"space-between",mb:"36px",children:[(0,P.jsx)(p.default,{typography:"CaptionStrong",color:"text-subdued",children:a}),(0,P.jsx)(p.default,{typography:"Caption",color:"text-subdued",children:I})]}),(0,P.jsx)(Ne,{datas:D,width:"full",height:"102px"},A),(0,P.jsx)(p.default,{mt:"40px",typography:"Body1",color:"text-subdued",children:w.formatMessage({id:"content__profit"})}),_&&(0,P.jsx)(p.default,{typography:"Display2XLarge",color:_.toNumber()>0?"text-success":"text-critical",numberOfLines:1,children:R}),(0,P.jsxs)(i.default,{flexDirection:"row",mt:"8px",children:[2!==A?(0,P.jsxs)(i.default,{flexDirection:"row",mr:"24px",alignItems:"center",children:[(0,P.jsx)(p.default,{mr:"6px",typography:"Body1Strong",color:"text-success",children:s}),(0,P.jsx)(p.default,{typography:"Body1",color:"text-subdued",children:w.formatMessage({id:"content__winning_flips"})})]}):null,1!==A?(0,P.jsxs)(i.default,{flexDirection:"row",alignItems:"center",children:[(0,P.jsx)(p.default,{mr:"6px",typography:"Body1Strong",color:"text-critical",children:u}),(0,P.jsx)(p.default,{typography:"Body1",color:"text-subdued",children:w.formatMessage({id:"content__losing_flips"})})]}):null]})]}),(0,P.jsxs)(i.default,{px:6,py:5,flexDirection:"row",alignItems:"center",justifyContent:"space-between",bgColor:"surface-subdued",children:[(0,P.jsxs)(i.default,{children:["light"===O?(0,P.jsx)(be.default,{width:82,height:25}):(0,P.jsx)(ge.default,{width:82,height:25}),(0,P.jsx)(p.default,{typography:"Body2",mt:"2",color:"text-subdued",children:w.formatMessage({id:"content__all_in_one_crypto_wallet"})})]}),(0,P.jsx)(i.default,{bg:"white",p:1,borderRadius:"6px",borderWidth:F.default.hairlineWidth,borderColor:"border-default",shadow:"depth.1",children:(0,P.jsx)(pe.default,{value:"https://onekey.so/download",size:48,logoSize:0,logoMargin:0,logoBackgroundColor:"white"})})]})]})}),(0,P.jsx)(i.default,{position:"absolute",top:"0",left:"0",w:"full",h:"full"})]})]})})};var Re=(0,r(324665).default)(),De=[{name:C.NFTMarketRoutes.SearchModal,component:fe},{name:C.NFTMarketRoutes.ShareNFTPNLModal,component:_e},{name:C.NFTMarketRoutes.CalculatorModal,component:S},{name:C.NFTMarketRoutes.MarketPlaceScreen,component:M}];const Be=function(){var e=(0,n.default)();return(0,P.jsx)(Re.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:De.map((function(e){return(0,P.jsx)(Re.Screen,{name:e.name,component:e.component},e.name)}))})}},482212:(e,t,r)=>{r.r(t),r.d(t,{useDefaultNetWork:()=>i});var n=r(202784),o=r(942013),a=r(747225),l=o.OnekeyNetwork.eth;function i(){var e=(0,a.useNetworks)();return(0,n.useMemo)((function(){return e.find((function(e){return e.id===l}))}),[e])}},146144:(e,t,r)=>{var n;r.r(t),r.d(t,{NFTMarketRoutes:()=>n}),function(e){e.SearchModal="SearchModal",e.ShareNFTPNLModal="ShareNFTPNLModal",e.CalculatorModal="CalculatorModal",e.MarketPlaceScreen="MarketPlaceScreen"}(n||(n={}))},950123:(e,t,r)=>{r.r(t),r.d(t,{PriceString:()=>p,default:()=>h,floorPriceSymbolMap:()=>f});var n,o=r(256666),a=r(866904),l=r(459740),i=r(942013),s=r(552322),u=["prefix","price","networkId","symbol"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=((n={})[i.OnekeyNetwork.eth]="ETH",n[i.OnekeyNetwork.optimism]="ETH",n[i.OnekeyNetwork.bsc]="BNB",n[i.OnekeyNetwork.polygon]="MATIC",n[i.OnekeyNetwork.arbitrum]="ETH",n[i.OnekeyNetwork.sol]="SOL",n[i.OnekeyNetwork.avalanche]="AVAX",n);function p(e){var t=e.prefix,r=e.price,n=e.networkId,o=e.symbol,a=null!=o?o:f[null!=n?n:""],l="\u2013";return r&&null!==r&&(l=`${r} ${null!=a?a:""}`),t?`${t} ${l}`:`${l}`}const h=function(e){var t=e.prefix,r=void 0===t?"":t,n=e.price,o=e.networkId,i=e.symbol,c=(0,l.default)(e,u);return(0,s.jsx)(a.default,d(d({},c),{},{children:p({prefix:r,price:n,networkId:o,symbol:i})}))}}}]);