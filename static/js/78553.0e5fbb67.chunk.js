/*! For license information please see 78553.0e5fbb67.chunk.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[78553],{881393:(e,t,r)=>{"use strict";r.r(t),r.d(t,{bcs:()=>G,crypto_hash:()=>jt,encoding:()=>ir,onchain_events:()=>Wn,providers:()=>In,serde:()=>xn,starcoin_types:()=>St,types:()=>q,utils:()=>kn,version:()=>br});var n=r(266534),i=r(967640),o=r(587017),s=r(621686),a=r(883669),u=r(348833),c=r.n(u),l=r(261278),h=r.n(l),f=r(365279),d=r.n(f),p=r(273756),m=r.n(p),v=r(674898),g=r.n(v),w=r(78011),y=r(276635),_=r(910528),b=r(580221),z=r(287581),M=(r(758254),r(335126),r(402282),r(184545)),k=r.n(M);r(937133);const x=k();var P=r(348834).Buffer;function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,r){return t&&E(e.prototype,t),r&&E(e,r),e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}var O={SINGLE:0,MULTI:1};function R(e){var t=e.address+"::"+e.module+"::"+e.name;if(e.type_params&&e.type_params.length>0){t=(t=t.concat("<")).concat(V(e.type_params[0]));for(var r,n=U(e.type_params.slice(1));!(r=n()).done;){var i=r.value;t=t.concat(",").concat(V(i))}t=t.concat(">")}return t}function V(e){if("string"===typeof e)return e.toLowerCase();if("object"===typeof e){if(void 0!==e.Vector)return"vector<"+V(e.Vector)+">";if(void 0!==e.Struct)return R(e.Struct)}}var L="Executed",j="OutOfGas",C="MiscellaneousError";function H(e){return"string"!==typeof e?e.address+"::"+e.module+"::"+e.functionName:e}function F(e){if("string"!==typeof e)return e;var t=e.split("::",3);if(3!==t.length)throw new Error("cannot parse "+e+" into FunctionId");return{address:t[0],module:t[1],functionName:t[2]}}var q={__proto__:null,accountType:O,formatStructTag:R,formatTypeTag:V,TransactionVMStatus_Executed:L,TransactionVMStatus_OutOfGas:j,TransactionVMStatus_MiscellaneousError:C,formatFunctionId:H,parseFunctionId:F},D=function(){function e(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}var t=e.prototype;return t.read=function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},t.deserializeStr=function(){var t=this.deserializeBytes();return e.textDecoder.decode(t)},t.deserializeBytes=function(){var e=this.deserializeLen();if(e<0)throw new Error("Length of a bytes array can't be negative");return new Uint8Array(this.read(e))},t.deserializeBool=function(){return 1==new Uint8Array(this.read(1))[0]},t.deserializeUnit=function(){return null},t.deserializeU8=function(){return new DataView(this.read(1)).getUint8(0)},t.deserializeU16=function(){return new DataView(this.read(2)).getUint16(0,!0)},t.deserializeU32=function(){return new DataView(this.read(4)).getUint32(0,!0)},t.deserializeU64=function(){var t=this.deserializeU32(),r=this.deserializeU32();return BigInt(r)<<e.BIG_32|BigInt(t)},t.deserializeU128=function(){var t=this.deserializeU64(),r=this.deserializeU64();return BigInt(r)<<e.BIG_64|BigInt(t)},t.deserializeI8=function(){return new DataView(this.read(1)).getInt8(0)},t.deserializeI16=function(){return new DataView(this.read(2)).getInt16(0,!0)},t.deserializeI32=function(){return new DataView(this.read(4)).getInt32(0,!0)},t.deserializeI64=function(){var t=this.deserializeI32(),r=this.deserializeI32();return BigInt(r)<<e.BIG_32|BigInt(t)},t.deserializeI128=function(){var t=this.deserializeI64(),r=this.deserializeI64();return BigInt(r)<<e.BIG_64|BigInt(t)},t.deserializeOptionTag=function(){return this.deserializeBool()},t.getBufferOffset=function(){return this.offset},t.deserializeChar=function(){throw new Error("Method deserializeChar not implemented.")},t.deserializeF32=function(){return new DataView(this.read(4)).getFloat32(0,!0)},t.deserializeF64=function(){return new DataView(this.read(8)).getFloat64(0,!0)},e}();D.BIG_32=BigInt(32),D.BIG_64=BigInt(64),D.textDecoder=new TextDecoder;var K=function(e){function t(t){return e.call(this,t)||this}A(t,e);var r=t.prototype;return r.deserializeUleb128AsU32=function(){for(var e=0,r=0;r<32;r+=7){var n=this.deserializeU8(),i=127&n;if((e|=i<<r)<0||e>t.MAX_UINT_32)throw new Error("Overflow while parsing uleb128-encoded uint32 value");if(i==n){if(r>0&&0==i)throw new Error("Invalid uleb128 number (unexpected zero digit)");return e}}throw new Error("Overflow while parsing uleb128-encoded uint32 value")},r.deserializeLen=function(){return this.deserializeUleb128AsU32()},r.deserializeVariantIndex=function(){return this.deserializeUleb128AsU32()},r.checkThatKeySlicesAreIncreasing=function(e,t){},t}(D);K.MAX_UINT_32=Math.pow(2,32)-1;var W=function(){function e(){this.buffer=new ArrayBuffer(64),this.offset=0}var t=e.prototype;return t.ensureBufferWillHandleSize=function(e){for(;this.buffer.byteLength<this.offset+e;){var t=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}},t.serialize=function(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length},t.serializeStr=function(t){this.serializeBytes(e.textEncoder.encode(t))},t.serializeBytes=function(e){this.serializeLen(e.length),this.serialize(e)},t.serializeBool=function(e){var t=e?1:0;this.serialize(new Uint8Array([t]))},t.serializeUnit=function(e){},t.serializeWithFunction=function(e,t,r){this.ensureBufferWillHandleSize(t);var n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t},t.serializeU8=function(e){this.serialize(new Uint8Array([e]))},t.serializeU16=function(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)},t.serializeU32=function(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)},t.serializeU64=function(t){var r=BigInt(t)&e.BIG_32Fs,n=BigInt(t)>>e.BIG_32;this.serializeU32(Number(r)),this.serializeU32(Number(n))},t.serializeU128=function(t){var r=BigInt(t)&e.BIG_64Fs,n=BigInt(t)>>e.BIG_64;this.serializeU64(r),this.serializeU64(n)},t.serializeI8=function(e){this.ensureBufferWillHandleSize(1),new DataView(this.buffer,this.offset).setInt8(0,e),this.offset+=1},t.serializeI16=function(e){this.ensureBufferWillHandleSize(2),new DataView(this.buffer,this.offset).setInt16(0,e,!0),this.offset+=2},t.serializeI32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setInt32(0,e,!0),this.offset+=4},t.serializeI64=function(t){var r=BigInt(t)&e.BIG_32Fs,n=BigInt(t)>>e.BIG_32;this.serializeI32(Number(r)),this.serializeI32(Number(n))},t.serializeI128=function(t){var r=BigInt(t)&e.BIG_64Fs,n=BigInt(t)>>e.BIG_64;this.serializeI64(r),this.serializeI64(n)},t.serializeOptionTag=function(e){this.serializeBool(e)},t.getBufferOffset=function(){return this.offset},t.getBytes=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},t.serializeChar=function(e){throw new Error("Method serializeChar not implemented.")},t.serializeF32=function(e){this.ensureBufferWillHandleSize(4),new DataView(this.buffer,this.offset).setFloat32(0,e,!0),this.offset+=4},t.serializeF64=function(e){this.ensureBufferWillHandleSize(8),new DataView(this.buffer,this.offset).setFloat64(0,e,!0),this.offset+=8},e}();W.BIG_32=BigInt(32),W.BIG_64=BigInt(64),W.BIG_32Fs=BigInt("4294967295"),W.BIG_64Fs=BigInt("18446744073709551615"),W.textEncoder=new TextEncoder;var Z=function(e){function t(){return e.call(this)||this}A(t,e);var r=t.prototype;return r.serializeU32AsUleb128=function(e){for(var t=[];e>>>7!=0;)t.push(127&e|128),e>>>=7;t.push(e),this.serialize(new Uint8Array(t))},r.serializeLen=function(e){this.serializeU32AsUleb128(e)},r.serializeVariantIndex=function(e){this.serializeU32AsUleb128(e)},r.sortMapEntries=function(e){},t}(W),G={__proto__:null,BcsDeserializer:K,BcsSerializer:Z};function J(e){return("00000000000000000000000000000000"+(e>>>0).toString(2)).slice(-32)}function X(e){return Number.parseInt(Number.parseInt(e,2).toString(10),10)}function $(e){var t=J(e).match(/.{1,8}/g);return Uint8Array.from(t.map((function(e){return X(e)})))}function Q(e){var t=[];return e.forEach((function(e){return t.push(J(e).slice(-8))})),X(t.join(""))}function Y(e,t){if(t>31||t<0)throw new Error("mask: invalid idx at "+t+", should be between 0 and 31");return e|1<<32-t-1}function ee(e,t){if(t>31||t<0)throw new Error("mask: invalid idx at "+t+", should be between 0 and 31");return(e>>32-t-1)%2!==0}var te={__proto__:null,dec2bin:J,bin2dec:X,dec2uint8array:$,uint8array2dec:Q,setBit:Y,isSetBit:ee},re="Key or signature material deserializes, but is otherwise not valid",ne="Key, threshold or signature material does not have the expected size",ie="BitVec errors in accountable multi-sig schemes",oe=function(){function e(e,t){this.field0=e,this.field1=t}return e.prototype.serialize=function(e){this.field0.serialize(e),this.field1.serialize(e)},e.deserialize=function(t){return new e(se.deserialize(t),me.deserialize(t))},e}(),se=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){Pt.serializeArray16U8Array(this.value,e)},e.deserialize=function(t){return new e(Pt.deserializeArray16U8Array(t))},e}();se.LENGTH=16;var ae=function(){function e(e,t,r,n,i,o,s){this.authentication_key=e,this.withdrawal_capability=t,this.key_rotation_capability=r,this.withdraw_events=n,this.deposit_events=i,this.accept_token_events=o,this.sequence_number=s}return e.prototype.serialize=function(e){Pt.serializeVectorU8(this.authentication_key,e),Pt.serializeOptionWithdrawCapabilityResource(this.withdrawal_capability,e),Pt.serializeOptionKeyRotationCapabilityResource(this.key_rotation_capability,e),this.withdraw_events.serialize(e),this.deposit_events.serialize(e),this.accept_token_events.serialize(e),e.serializeU64(this.sequence_number)},e.deserialize=function(t){return new e(Pt.deserializeVectorU8(t),Pt.deserializeOptionWithdrawCapabilityResource(t),Pt.deserializeOptionKeyRotationCapabilityResource(t),ke.deserialize(t),ke.deserialize(t),ke.deserialize(t),t.deserializeU64())},e}(),ue=function(){function e(e,t){this.name=e,this.type_tag=t}return e.prototype.serialize=function(e){e.serializeStr(this.name),this.type_tag.serialize(e)},e.deserialize=function(t){return new e(t.deserializeStr(),ht.deserialize(t))},e}(),ce=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),le=function(){function e(e,t,r,n,i,o,s,a){this.parent_hash=e,this.timestamp=t,this.author=r,this.author_auth_key=n,this.uncles=i,this.number=o,this.chain_id=s,this.parent_gas_used=a}return e.prototype.serialize=function(e){this.parent_hash.serialize(e),e.serializeU64(this.timestamp),this.author.serialize(e),Pt.serializeOptionAuthenticationKey(this.author_auth_key,e),e.serializeU64(this.uncles),e.serializeU64(this.number),this.chain_id.serialize(e),e.serializeU64(this.parent_gas_used)},e.deserialize=function(t){return new e(Pe.deserialize(t),t.deserializeU64(),se.deserialize(t),Pt.deserializeOptionAuthenticationKey(t),t.deserializeU64(),t.deserializeU64(),he.deserialize(t),t.deserializeU64())},e}(),he=function(){function e(e){this.id=e}return e.prototype.serialize=function(e){e.serializeU8(this.id)},e.deserialize=function(t){return new e(t.deserializeU8())},e}(),fe=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();if(0===t)return de.load(e);throw new Error("Unknown variant index for ContractEvent: "+t)},e}(),de=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},t.load=function(e){return new t(pe.deserialize(e))},t}(fe),pe=function(){function e(e,t,r,n){this.key=e,this.sequence_number=t,this.type_tag=r,this.event_data=n}return e.prototype.serialize=function(e){this.key.serialize(e),e.serializeU64(this.sequence_number),this.type_tag.serialize(e),e.serializeBytes(this.event_data)},e.deserialize=function(t){return new e(xe.deserialize(t),t.deserializeU64(),ht.deserialize(t),t.deserializeBytes())},e}(),me=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return ve.load(e);case 1:return ge.load(e);default:throw new Error("Unknown variant index for DataPath: "+t)}},e}(),ve=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},t.load=function(e){return new t(Ee.deserialize(e))},t}(me),ge=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},t.load=function(e){return new t(Ke.deserialize(e))},t}(me),we=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return ye.load(e);case 1:return _e.load(e);default:throw new Error("Unknown variant index for DataType: "+t)}},e}(),ye=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0)},t.load=function(e){return new t},t}(we),_e=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1)},t.load=function(e){return new t},t}(we),be=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),ze=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),Me=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),ke=function(){function e(e,t){this.count=e,this.key=t}return e.prototype.serialize=function(e){e.serializeU64(this.count),this.key.serialize(e)},e.deserialize=function(t){return new e(t.deserializeU64(),xe.deserialize(t))},e}(),xe=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),Pe=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),Ee=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeStr(this.value)},e.deserialize=function(t){return new e(t.deserializeStr())},e}(),Te=function(){function e(e){this.account_address=e}return e.prototype.serialize=function(e){this.account_address.serialize(e)},e.deserialize=function(t){return new e(se.deserialize(t))},e}(),Ne=function(){function e(e){this.code=e}return e.prototype.serialize=function(e){e.serializeBytes(this.code)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),Ae=function(){function e(e,t){this.address=e,this.name=t}return e.prototype.serialize=function(e){this.address.serialize(e),this.name.serialize(e)},e.deserialize=function(t){return new e(se.deserialize(t),Ee.deserialize(t))},e}(),Se=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){e.serializeBytes(this.value)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),Ie=function(){function e(e,t){this.public_keys=e,this.threshold=t;var r=e.length;if(0===t||r<t)throw new Error(re);if(r>32)throw new Error(ne)}var t=e.prototype;return t.serialize=function(e){e.serializeBytes(this.value())},e.deserialize=function(t){for(var r=t.deserializeBytes(),n=[],i=(r.length-1)/32,o=0;o<i;o++){var s=32*o,a=s+32;n.push(new ze(r.slice(s,a)))}return new e(n,new DataView(r.slice(-1).buffer,0).getUint8(0))},t.value=function(){var e=[];this.public_keys.forEach((function(t){e.push(t.value)}));var t=new Uint8Array(1);return t[0]=this.threshold,(0,i.concat)([].concat(e,t))},e}(),Be=function(){function e(e,t){this.signatures=e,this.bitmap=t}e.build=function(t){var r=t.length;if(0===r||r>32)throw new Error(re);var n=t.sort((function(e,t){return e[1]>t[1]?1:-1})),i=[],o=0;return n.forEach((function(e,t){if(console.log(e,t),e[1]>=32)throw new Error(ie+": Signature index is out of range");if(ee(o,e[1]))throw new Error(ie+": Duplicate signature index");i.push(e[0]),o=Y(o,e[1])})),new e(i,o)};var t=e.prototype;return t.serialize=function(e){e.serializeBytes(this.value())},e.deserialize=function(t){for(var r=t.deserializeBytes(),n=[],i=(r.length-4)/64,o=0;o<i;o++){var s=64*o,a=s+64;n.push(new Me(r.slice(s,a)))}return new e(n,Q(r.slice(-4)))},t.value=function(){var e=[];this.signatures.forEach((function(t){e.push(t.value)}));var t=$(this.bitmap);return(0,i.concat)([].concat(e,t))},e}(),Ue=function(){function e(e,t){this.signature=e,this.threshold=t}var t=e.prototype;return t.signatures=function(){var e=this.signature.signatures,t=this.signature.bitmap,r=[],n=0;return e.forEach((function(e,i){for(;!ee(t,n);)n+=1;r.push([e,n]),n+=1})),r},e.merge=function(t){if(0===t.length)throw new Error("MultiEd25519SignatureShard shards is empty");var r=t[0].threshold,n=[];return t.forEach((function(e){if(e.threshold!==r)throw new Error("MultiEd25519SignatureShard shards threshold not same");n.push.apply(n,e.signatures())})),new e(Be.build(n),r)},t.is_enough=function(){return this.signature.signatures.length>=this.threshold},e}(),Oe=function(){function e(e,t,r){this.public_keys=e,this.threshold=t,this.private_keys=r;var n=e.length,i=Object.keys(r).length;if(0===t||0===i||n<t)throw new Error(re);if(i>32||n>32)throw new Error(ne)}var t=e.prototype;return t.serialize=function(e){var t=this;e.serializeU8(this.public_keys.length),e.serializeU8(this.threshold),e.serializeU8(this.len()),this.public_keys.forEach((function(t){t.serialize(e)})),Object.keys(this.private_keys).forEach((function(r){e.serializeU8(Number.parseInt(r,10)),t.private_keys[r].serialize(e)}))},e.deserialize=function(t){for(var r=t.deserializeU8(),n=t.deserializeU8(),i=t.deserializeU8(),o=[],s=0;s<r;s++)o.push(ze.deserialize(t));for(var a=0;a<i;a++){var u=t.deserializeU8(),c=be.deserialize(t);o[u]=c}return new e(o,n,[])},t.publicKey=function(){return new Ie(this.public_keys,this.threshold)},t.privateKeys=function(){return Object.values(this.private_keys)},t.privateKey=function(){var e=new Uint8Array(3);e[0]=this.public_keys.length,e[1]=this.threshold,e[2]=this.len();var t=[];this.public_keys.forEach((function(e){t.push(e.value)}));var r=[];return Object.values(this.private_keys).forEach((function(e){r.push(e.value)})),(0,i.concat)([e].concat(t,r))},t.len=function(){return Object.values(this.private_keys).length},t.isEmpty=function(){return 0===this.len()},e}(),Re=function(){function e(e,t,r){this.package_address=e,this.modules=t,this.init_script=r}return e.prototype.serialize=function(e){this.package_address.serialize(e),Pt.serializeVectorModule(this.modules,e),Pt.serializeOptionScriptFunction(this.init_script,e)},e.deserialize=function(t){return new e(se.deserialize(t),Pt.deserializeVectorModule(t),Pt.deserializeOptionScriptFunction(t))},e}(),Ve=function(){function e(e,t,r,n,i,o,s,a){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.gas_token_code=o,this.expiration_timestamp_secs=s,this.chain_id=a}return e.prototype.serialize=function(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeStr(this.gas_token_code),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)},e.deserialize=function(t){return new e(se.deserialize(t),t.deserializeU64(),ot.deserialize(t),t.deserializeU64(),t.deserializeU64(),t.deserializeStr(),t.deserializeU64(),he.deserialize(t))},e}(),Le=function(){function e(e,t,r){this.code=e,this.ty_args=t,this.args=r}return e.prototype.serialize=function(e){e.serializeBytes(this.code),Pt.serializeVectorTypeTag(this.ty_args,e),Pt.serializeVectorBytes(this.args,e)},e.deserialize=function(t){return new e(t.deserializeBytes(),Pt.deserializeVectorTypeTag(t),Pt.deserializeVectorBytes(t))},e}(),je=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return Ce.load(e);case 1:return He.load(e);default:throw new Error("Unknown variant index for ScriptABI: "+t)}},e}(),Ce=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},t.load=function(e){return new t(ct.deserialize(e))},t}(je),He=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},t.load=function(e){return new t(qe.deserialize(e))},t}(je),Fe=function(){function e(e,t,r,n){this.module=e,this.func=t,this.ty_args=r,this.args=n}return e.prototype.serialize=function(e){this.module.serialize(e),this.func.serialize(e),Pt.serializeVectorTypeTag(this.ty_args,e),Pt.serializeVectorBytes(this.args,e)},e.deserialize=function(t){return new e(Ae.deserialize(t),Ee.deserialize(t),Pt.deserializeVectorTypeTag(t),Pt.deserializeVectorBytes(t))},e}(),qe=function(){function e(e,t,r,n,i){this.name=e,this.module_name=t,this.doc=r,this.ty_args=n,this.args=i}return e.prototype.serialize=function(e){e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Pt.serializeVectorTypeArgumentAbi(this.ty_args,e),Pt.serializeVectorArgumentAbi(this.args,e)},e.deserialize=function(t){return new e(t.deserializeStr(),Ae.deserialize(t),t.deserializeStr(),Pt.deserializeVectorTypeArgumentAbi(t),Pt.deserializeVectorArgumentAbi(t))},e}(),De=function(){function e(e,t){this.raw_txn=e,this.authenticator=t}return e.prototype.serialize=function(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)},e.deserialize=function(t){return new e(Ve.deserialize(t),rt.deserialize(t))},e.ed25519=function(t,r,n){return new e(t,new nt(r,n))},e.multi_ed25519=function(t,r,n){return new e(t,new it(r,n))},e}(),Ke=function(){function e(e,t,r,n){this.address=e,this.module=t,this.name=r,this.type_params=n}return e.prototype.serialize=function(e){this.address.serialize(e),this.module.serialize(e),this.name.serialize(e),Pt.serializeVectorTypeTag(this.type_params,e)},e.deserialize=function(t){return new e(se.deserialize(t),Ee.deserialize(t),Ee.deserialize(t),Pt.deserializeVectorTypeTag(t))},e}(),We=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return Ze.load(e);case 1:return Ge.load(e);default:throw new Error("Unknown variant index for Transaction: "+t)}},e}(),Ze=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},t.load=function(e){return new t(De.deserialize(e))},t}(We),Ge=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},t.load=function(e){return new t(le.deserialize(e))},t}(We),Je=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return Xe.load(e);case 1:return $e.load(e);case 2:return Qe.load(e);case 3:return Ye.load(e);case 4:return et.load(e);case 5:return tt.load(e);default:throw new Error("Unknown variant index for TransactionArgument: "+t)}},e}(),Xe=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0),e.serializeU8(this.value)},t.load=function(e){return new t(e.deserializeU8())},t}(Je),$e=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeU64(this.value)},t.load=function(e){return new t(e.deserializeU64())},t}(Je),Qe=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(2),e.serializeU128(this.value)},t.load=function(e){return new t(e.deserializeU128())},t}(Je),Ye=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(3),this.value.serialize(e)},t.load=function(e){return new t(se.deserialize(e))},t}(Je),et=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(4),e.serializeBytes(this.value)},t.load=function(e){return new t(e.deserializeBytes())},t}(Je),tt=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(5),e.serializeBool(this.value)},t.load=function(e){return new t(e.deserializeBool())},t}(Je),rt=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return nt.load(e);case 1:return it.load(e);default:throw new Error("Unknown variant index for TransactionAuthenticator: "+t)}},e}(),nt=function(e){function t(t,r){var n;return(n=e.call(this)||this).public_key=t,n.signature=r,n}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0),this.public_key.serialize(e),this.signature.serialize(e)},t.load=function(e){return new t(ze.deserialize(e),Me.deserialize(e))},t}(rt),it=function(e){function t(t,r){var n;return(n=e.call(this)||this).public_key=t,n.signature=r,n}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1),this.public_key.serialize(e),this.signature.serialize(e)},t.load=function(e){return new t(Ie.deserialize(e),Be.deserialize(e))},t}(rt),ot=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return st.load(e);case 1:return at.load(e);case 2:return ut.load(e);default:throw new Error("Unknown variant index for TransactionPayload: "+t)}},e}(),st=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0),this.value.serialize(e)},t.load=function(e){return new t(Le.deserialize(e))},t}(ot),at=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1),this.value.serialize(e)},t.load=function(e){return new t(Re.deserialize(e))},t}(ot),ut=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(2),this.value.serialize(e)},t.load=function(e){return new t(Fe.deserialize(e))},t}(ot),ct=function(){function e(e,t,r,n,i){this.name=e,this.doc=t,this.code=r,this.ty_args=n,this.args=i}return e.prototype.serialize=function(e){e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Pt.serializeVectorTypeArgumentAbi(this.ty_args,e),Pt.serializeVectorArgumentAbi(this.args,e)},e.deserialize=function(t){return new e(t.deserializeStr(),t.deserializeStr(),t.deserializeBytes(),Pt.deserializeVectorTypeArgumentAbi(t),Pt.deserializeVectorArgumentAbi(t))},e}(),lt=function(){function e(e){this.name=e}return e.prototype.serialize=function(e){e.serializeStr(this.name)},e.deserialize=function(t){return new e(t.deserializeStr())},e}(),ht=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return ft.load(e);case 1:return dt.load(e);case 2:return pt.load(e);case 3:return mt.load(e);case 4:return vt.load(e);case 5:return gt.load(e);case 6:return wt.load(e);case 7:return yt.load(e);default:throw new Error("Unknown variant index for TypeTag: "+t)}},e}(),ft=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0)},t.load=function(e){return new t},t}(ht),dt=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1)},t.load=function(e){return new t},t}(ht),pt=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(2)},t.load=function(e){return new t},t}(ht),mt=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(3)},t.load=function(e){return new t},t}(ht),vt=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(4)},t.load=function(e){return new t},t}(ht),gt=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(5)},t.load=function(e){return new t},t}(ht),wt=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(6),this.value.serialize(e)},t.load=function(e){return new t(ht.deserialize(e))},t}(ht),yt=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(7),this.value.serialize(e)},t.load=function(e){return new t(Ke.deserialize(e))},t}(ht),_t=function(){function e(e){this.account_address=e}return e.prototype.serialize=function(e){this.account_address.serialize(e)},e.deserialize=function(t){return new e(se.deserialize(t))},e}(),bt=function(){function e(){}return e.deserialize=function(e){var t=e.deserializeVariantIndex();switch(t){case 0:return zt.load(e);case 1:return Mt.load(e);default:throw new Error("Unknown variant index for WriteOp: "+t)}},e}(),zt=function(e){function t(){return e.call(this)||this}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(0)},t.load=function(e){return new t},t}(bt),Mt=function(e){function t(t){var r;return(r=e.call(this)||this).value=t,r}return A(t,e),t.prototype.serialize=function(e){e.serializeVariantIndex(1),e.serializeBytes(this.value)},t.load=function(e){return new t(e.deserializeBytes())},t}(bt),kt=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){this.value.serialize(e)},e.deserialize=function(t){return new e(xt.deserialize(t))},e}(),xt=function(){function e(e){this.write_set=e}return e.prototype.serialize=function(e){Pt.serializeVectorTuple2AccessPathWriteOp(this.write_set,e)},e.deserialize=function(t){return new e(Pt.deserializeVectorTuple2AccessPathWriteOp(t))},e}(),Pt=function(){function e(){}return e.serializeArray16U8Array=function(e,t){e.forEach((function(e){t.serializeU8(e[0])}))},e.deserializeArray16U8Array=function(e){for(var t=[],r=0;r<16;r++)t.push([e.deserializeU8()]);return t},e.serializeOptionAuthenticationKey=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},e.deserializeOptionAuthenticationKey=function(e){return e.deserializeOptionTag()?ce.deserialize(e):null},e.serializeOptionKeyRotationCapabilityResource=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},e.deserializeOptionKeyRotationCapabilityResource=function(e){return e.deserializeOptionTag()?Te.deserialize(e):null},e.serializeOptionScriptFunction=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},e.deserializeOptionScriptFunction=function(e){return e.deserializeOptionTag()?Fe.deserialize(e):null},e.serializeOptionWithdrawCapabilityResource=function(e,t){e?(t.serializeOptionTag(!0),e.serialize(t)):t.serializeOptionTag(!1)},e.deserializeOptionWithdrawCapabilityResource=function(e){return e.deserializeOptionTag()?_t.deserialize(e):null},e.serializeTuple2AccessPathWriteOp=function(e,t){e[0].serialize(t),e[1].serialize(t)},e.deserializeTuple2AccessPathWriteOp=function(e){return[oe.deserialize(e),bt.deserialize(e)]},e.serializeVectorArgumentAbi=function(e,t){t.serializeLen(e.length),e.forEach((function(e){e.serialize(t)}))},e.deserializeVectorArgumentAbi=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(ue.deserialize(e));return r},e.serializeVectorModule=function(e,t){t.serializeLen(e.length),e.forEach((function(e){e.serialize(t)}))},e.deserializeVectorModule=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(Ne.deserialize(e));return r},e.serializeVectorTypeArgumentAbi=function(e,t){t.serializeLen(e.length),e.forEach((function(e){e.serialize(t)}))},e.deserializeVectorTypeArgumentAbi=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(lt.deserialize(e));return r},e.serializeVectorTypeTag=function(e,t){t.serializeLen(e.length),e.forEach((function(e){e.serialize(t)}))},e.deserializeVectorTypeTag=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(ht.deserialize(e));return r},e.serializeVectorBytes=function(e,t){t.serializeLen(e.length),e.forEach((function(e){t.serializeBytes(e)}))},e.deserializeVectorBytes=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(e.deserializeBytes());return r},e.serializeVectorTuple2AccessPathWriteOp=function(t,r){r.serializeLen(t.length),t.forEach((function(t){e.serializeTuple2AccessPathWriteOp(t,r)}))},e.deserializeVectorTuple2AccessPathWriteOp=function(t){for(var r=t.deserializeLen(),n=[],i=0;i<r;i++)n.push(e.deserializeTuple2AccessPathWriteOp(t));return n},e.serializeVectorU8=function(e,t){t.serializeLen(e.length),e.forEach((function(e){t.serializeU8(e)}))},e.deserializeVectorU8=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(e.deserializeU8());return r},e}(),Et=function(){function e(e){this.value=e}var t=e.prototype;return t.serialize=function(e){e.serializeBytes(this.value)},t.hex=function(){return P.from(this.value).toString("hex")},e}(),Tt=function(){function e(e,t){this.accountAddress=e,this.authKey=t}return e.prototype.encode=function(){var e=new Z;this.accountAddress.serialize(e);var t=P.concat([P.from(e.getBytes()),P.from(this.authKey.value)]),r=n.bech32.toWords(t),i=[Number("1")].concat(r);return n.bech32.encode("stc",i)},e.decode=function(t){var r=n.bech32.decode(t).words.slice(1),i=P.from(n.bech32.fromWords(r)),o=i.slice(0,se.LENGTH),s=i.slice(se.LENGTH);return new e(se.deserialize(new K(o)),new Et(s))},e}(),Nt=function(){function e(e){this.message=e}return e.prototype.serialize=function(e){e.serializeBytes(this.message)},e.deserialize=function(t){return new e(t.deserializeBytes())},e}(),At=function(){function e(e,t,r,n){this.account=e,this.message=t,this.authenticator=r,this.chain_id=n}return e.prototype.serialize=function(e){this.account.serialize(e),this.message.serialize(e),this.authenticator.serialize(e),this.chain_id.serialize(e)},e.deserialize=function(t){return new e(se.deserialize(t),Nt.deserialize(t),rt.deserialize(t),he.deserialize(t))},e}(),St={__proto__:null,AccessPath:oe,AccountAddress:se,AccountResource:ae,ArgumentABI:ue,AuthenticationKey:ce,BlockMetadata:le,ChainId:he,ContractEvent:fe,ContractEventVariantV0:de,ContractEventV0:pe,DataPath:me,DataPathVariantCode:ve,DataPathVariantResource:ge,DataType:we,DataTypeVariantCODE:ye,DataTypeVariantRESOURCE:_e,Ed25519PrivateKey:be,Ed25519PublicKey:ze,Ed25519Signature:Me,EventHandle:ke,EventKey:xe,HashValue:Pe,Identifier:Ee,KeyRotationCapabilityResource:Te,Module:Ne,ModuleId:Ae,MultiEd25519PrivateKey:Se,MultiEd25519PublicKey:Ie,MultiEd25519Signature:Be,MultiEd25519SignatureShard:Ue,MultiEd25519KeyShard:Oe,Package:Re,RawUserTransaction:Ve,Script:Le,ScriptABI:je,ScriptABIVariantTransactionScript:Ce,ScriptABIVariantScriptFunction:He,ScriptFunction:Fe,ScriptFunctionABI:qe,SignedUserTransaction:De,StructTag:Ke,Transaction:We,TransactionVariantUserTransaction:Ze,TransactionVariantBlockMetadata:Ge,TransactionArgument:Je,TransactionArgumentVariantU8:Xe,TransactionArgumentVariantU64:$e,TransactionArgumentVariantU128:Qe,TransactionArgumentVariantAddress:Ye,TransactionArgumentVariantU8Vector:et,TransactionArgumentVariantBool:tt,TransactionAuthenticator:rt,TransactionAuthenticatorVariantEd25519:nt,TransactionAuthenticatorVariantMultiEd25519:it,TransactionPayload:ot,TransactionPayloadVariantScript:st,TransactionPayloadVariantPackage:at,TransactionPayloadVariantScriptFunction:ut,TransactionScriptABI:ct,TypeArgumentABI:lt,TypeTag:ht,TypeTagVariantBool:ft,TypeTagVariantU8:dt,TypeTagVariantU64:pt,TypeTagVariantU128:mt,TypeTagVariantAddress:vt,TypeTagVariantSigner:gt,TypeTagVariantVector:wt,TypeTagVariantStruct:yt,WithdrawCapabilityResource:_t,WriteOp:bt,WriteOpVariantDeletion:zt,WriteOpVariantValue:Mt,WriteSet:kt,WriteSetMut:xt,Helpers:Pt,AuthKey:Et,ReceiptIdentifier:Tt,SigningMessage:Nt,SignedMessage:At},It=r(577834).Buffer,Bt=r(883669).sha3_256,Ut=function(){function e(e){if(e){var t=new Uint8Array(It.from("STARCOIN::"+e)),r=Bt.create();r.update(t),this.salt=new Uint8Array(r.arrayBuffer())}}var t=e.prototype;return t.crypto_hash=function(e){var t=Bt.create();return this.salt&&t.update(this.salt),t.update((0,i.arrayify)(e)),(0,o.addHexPrefix)(t.hex())},t.get_salt=function(){return this.salt},e}();function Ot(e){return new Ut(e)}function Rt(){return Ot("SignedUserTransaction")}function Vt(){return Ot("RawUserTransaction")}function Lt(){return Ot("SigningMessage")}var jt={__proto__:null,createHash:Ot,createUserTransactionHasher:Rt,createRawUserTransactionHasher:Vt,createSigningMessageHasher:Lt};function Ct(e){return"0x"+P.from(new Uint8Array(e)).toString("hex")}function Ht(e,t){e.startsWith("0x")&&(e=e.substring(2)),t?e.length<t&&(e=Ft(e,t)):e.length%2!=0&&(e="0"+e);var r=P.from(e,"hex");return new Uint8Array(r)}function Ft(e,t,r){return new Array(t-e.length+1).join(r||"0")+e}var qt={__proto__:null,toHexString:Ct,fromHexString:Ht,padLeft:Ft,padRight:function(e,t,r){return e+new Array(t-e.length+1).join(r||"0")}},Dt=function(e){try{return Promise.resolve((0,s.getPublicKey)((0,o.stripHexPrefix)(e))).then(i.hexlify)}catch(t){return Promise.reject(t)}};function Kt(e,t){var r=new K((0,i.arrayify)(t));return e.deserialize(r)}function Wt(e){var t=new Z;return e.serialize(t),Ct(t.getBytes())}function Zt(e){var t,r=(0,i.arrayify)(e),n=function(){var e=new K(r);return De.deserialize(e)}();if(n.authenticator instanceof nt){t={Ed25519:{public_key:(0,i.hexlify)(n.authenticator.public_key.value),signature:(0,i.hexlify)(n.authenticator.signature.value)}}}else{var o=n.authenticator;t={MultiEd25519:{public_key:(0,i.hexlify)(o.public_key.value()),signature:(0,i.hexlify)(o.signature.value())}}}var s=n.raw_txn,a=function(){var e=new Z;return s.payload.serialize(e),(0,i.hexlify)(e.getBytes())}();return{transaction_hash:Rt().crypto_hash(r),raw_txn:{sender:Xt(s.sender),sequence_number:s.sequence_number,payload:a,max_gas_amount:s.max_gas_amount,gas_unit_price:s.gas_unit_price,gas_token_code:s.gas_token_code,expiration_timestamp_secs:s.expiration_timestamp_secs,chain_id:s.chain_id.id},authenticator:t}}function Gt(e){var t=new K((0,i.arrayify)((0,o.addHexPrefix)(e)));return at.load(t)}function Jt(e){var t=Ht(e,32);return se.deserialize(new K(t))}function Xt(e){return Ct(e.value.map((function(e){return e[0]})))}function $t(e){if("Bool"===e)return new ft;if("U8"===e)return new dt;if("U128"===e)return new mt;if("U64"===e)return new pt;if("Address"===e)return new vt;if("Signer"===e)return new gt;if("Vector"in e)return new wt($t(e.Vector));if("Struct"in e)return new yt(Qt(e.Struct));throw new Error("invalid type tag: "+e)}function Qt(e){return new Ke(Jt(e.address),new Ee(e.module),new Ee(e.name),e.type_params?e.type_params.map((function(e){return $t(e)})):[])}function Yt(e){return{module:e.module.value,name:e.name.value,type_params:e.type_params.map((function(e){return er(e)})),address:Xt(e.address)}}function er(e){if(e instanceof vt)return"Address";if(e instanceof ft)return"Bool";if(e instanceof dt)return"U8";if(e instanceof pt)return"U64";if(e instanceof mt)return"U128";if(e instanceof gt)return"Signer";if(e instanceof yt)return{Struct:Yt(e.value)};if(e instanceof wt)return{Vector:er(e.value)};throw new TypeError("invalid bcs type tag: "+e)}function tr(e,t){void 0===t&&(t=O.SINGLE);var r=a.sha3_256.create();r.update(Ht(e)),r.update(Ht((0,i.hexlify)(t)));var n=r.hex();return(0,o.addHexPrefix)(n)}function rr(e,t){void 0===t&&(t=O.SINGLE);var r=a.sha3_256.create();r.update(Ht(e)),r.update(Ht((0,i.hexlify)(t)));var n=r.hex(),s=n.slice(n.length/2);return(0,o.addHexPrefix)(s)}function nr(e,t){void 0===t&&(t="");var r=Jt(e),n=new Et(P.from(t,"hex"));return new Tt(r,n).encode()}var ir={__proto__:null,privateKeyToPublicKey:Dt,bcsDecode:Kt,bcsEncode:Wt,decodeSignedUserTransaction:Zt,decodeTransactionPayload:function(e){var t=(0,i.arrayify)(e),r=new K(t),n=ot.deserialize(r);if(n instanceof st){var o=n.value;return{Script:{code:Ct(o.code),ty_args:o.ty_args.map((function(e){return er(e)})),args:o.args.map((function(e){return(0,i.hexlify)(e)}))}}}if(n instanceof ut){var s=n.value;return{ScriptFunction:{func:{address:Xt(s.module.address),module:s.module.name.value,functionName:s.func.value},ty_args:s.ty_args.map((function(e){return er(e)})),args:s.args.map((function(e){return(0,i.hexlify)(e)}))}}}if(n instanceof at){var a=n.value;return{Package:{package_address:Xt(a.package_address),modules:a.modules.map((function(e){return{code:Ct(e.code)}})),init_script:null===a.init_script?void 0:{func:{address:Xt(a.init_script.module.address),module:a.init_script.module.name.value,functionName:a.init_script.func.value},args:a.init_script.args.map((function(e){return(0,i.hexlify)(e)})),ty_args:a.init_script.ty_args.map((function(e){return er(e)}))}}}}throw new TypeError("cannot decode bcs data "+n)},packageHexToTransactionPayload:Gt,packageHexToTransactionPayloadHex:function(e){return Wt(Gt(e))},addressToSCS:Jt,addressFromSCS:Xt,typeTagToSCS:$t,structTagToSCS:Qt,structTagFromSCS:Yt,typeTagFromSCS:er,publicKeyToAuthKey:tr,publicKeyToAddress:rr,encodeReceiptIdentifier:nr,decodeReceiptIdentifier:function(e){var t=Tt.decode(e);return{accountAddress:(0,o.stripHexPrefix)(Xt(t.accountAddress)),authKey:t.authKey.hex()}},publicKeyToReceiptIdentifier:function(e){var t=rr(e),r=tr(e);return nr((0,o.stripHexPrefix)(t),(0,o.stripHexPrefix)(r))},stringToBytes:function(e){var t,r,n=new Array;t=e.length;for(var i=0;i<t;i++)(r=e.charCodeAt(i))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n},bytesToString:function(e){if("string"===typeof e)return e;for(var t="",r=0;r<e.length;r++){var n=e[r].toString(2),i=n.match(/^1+?(?=0)/);if(i&&8==n.length){for(var o=i[0].length,s=e[r].toString(2).slice(7-o),a=1;a<o;a++)s+=e[a+r].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),r+=o-1}else t+=String.fromCharCode(e[r])}return t}};var or={__proto__:null,decodeTransactionScriptABI:function(e){var t=new K(e),r=ct.deserialize(t);return{args:r.args.map((function(e){return{name:e.name,type_tag:er(e.type_tag)}})),code:r.code,doc:r.doc,name:r.name,ty_args:r.ty_args.map((function(e){return{name:e.name}}))}}},sr=function(e){try{return Promise.resolve(Dt(e)).then((function(t){var r=rr(t),n=tr(t),i=nr((0,o.stripHexPrefix)(r),(0,o.stripHexPrefix)(n));return{privateKey:e,publicKey:t,address:r,authKey:n,receiptIdentifier:i}}))}catch(t){return Promise.reject(t)}};function ar(){var e=s.utils.randomPrivateKey(),t=P.from(e).toString("hex");return(0,o.addHexPrefix)(t)}function ur(e){return(0,i.hexlify)(e.privateKey())}function cr(e){var t=e.publicKey();return(0,i.hexlify)(t.value())}function lr(e){return rr(cr(e),O.MULTI)}function hr(e){var t=lr(e);return nr((0,o.stripHexPrefix)(t))}var fr={__proto__:null,showAccount:sr,generateAccount:function(){try{var e=ar(),t=sr(e);return Promise.resolve(t)}catch(r){return Promise.reject(r)}},generatePrivateKey:ar,getMultiEd25519AccountPrivateKey:ur,getMultiEd25519AccountPublicKey:cr,getMultiEd25519AccountAddress:lr,getMultiEd25519AccountReceiptIdentifier:hr,showMultiEd25519Account:function(e){var t=ur(e),r=cr(e),n=lr(e),i=hr(e);return{privateKey:t,publicKey:r,address:n,authKey:tr(r,O.MULTI),receiptIdentifier:i}},decodeMultiEd25519AccountPrivateKey:function(e){for(var t,r=(0,i.arrayify)(e),n=r.slice(0,1)[0],o=r.slice(1,2)[0],s=r.slice(2,3)[0],a=[],u=[],c=3,l=0;l<n;l+=1){t=c+32;var h=r.slice(c,t);a.push((0,i.hexlify)(h)),c=t}for(var f=0;f<s;f+=1){t=c+32;var d=r.slice(c,t);u.push((0,i.hexlify)(d)),c=t}return{privateKeys:u,publicKeys:a,threshold:o}}};var dr={__proto__:null,InvalidNumberOfMoveArgs:function(e,t){return new Error("Invalid number of arguments to Move function. given: "+e+", expected: "+t)},InvalidNumberOfRPCParams:function(e,t,r){return new Error('Invalid number of input parameters to RPC method "'+e+'" given: '+t+", expected: "+r)},InvalidConnection:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node "+e+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")}},pr=function(){function e(e){this.cur_idx=0,this.toks=e}var t=e.prototype;return t.next_tok=function(){var e=this.toks[this.cur_idx++];if(void 0===e)throw new Error("out of token, this should not happen");return e},t.peek=function(){return this.toks[this.cur_idx]},t.consume_tok=function(e){var t=this.next_tok();if(t!=e)throw new Error("expected tok: "+e+", got: "+t)},t.parse_comma_list=function(e,t,r){var n=[];if(this.peek()!==t)for(;n.push(e(this)),this.peek()!==t&&(this.consume_tok("Comma"),this.peek()!==t||!r););return n},t.parseTypeTag=function(){var e=this.next_tok();if("U8Type"===e)return"U8";if("U64Type"===e)return"U64";if("U128Type"===e)return"U128";if("BoolType"===e)return"Bool";if("AddressType"===e)return"Address";if("VectorType"===e){this.consume_tok("Lt");var t=this.parseTypeTag();return this.consume_tok("Gt"),{Vector:t}}if(void 0!==e.Address){var r=e.Address;this.consume_tok("ColonColon");var n=this.next_tok();if(void 0===n.Name)throw new Error("expected name, got: "+n);var i=n.Name;this.consume_tok("ColonColon");var o=this.next_tok();if(void 0===o.Name)throw new Error("expected name, got: "+n);var s=o.Name,a=[];return"Lt"===this.peek()&&(this.consume_tok("Lt"),a=this.parse_comma_list((function(e){return e.parseTypeTag()}),"Gt",!0),this.consume_tok("Gt")),{Struct:{address:r,module:i,name:s,type_params:a}}}throw new Error("unexpected token "+e+", expected type tag")},e}();function mr(e){switch(e){case"u8":return"U8Type";case"u64":return"U64Type";case"u128":return"U128Type";case"bool":return"BoolType";case"address":return"AddressType";case"vector":return"VectorType";case"true":return"True";case"false":return"False";default:return{Name:e}}}function vr(e){if(0!==e.length){var t=e[0];if("<"===t)return["Lt",1];if(">"===t)return["Gt",1];if(","===t)return["Comma",1];if(":"===t){if(":"===e[1])return["ColonColon",2];throw new Error("unrecognized token")}if("0"===t&&["x","X"].includes(e[1])){if(c()(e[2])){for(var r="0x",n=2;n<e.length&&c()(e[n]);n++)r=r.concat(e[n]);return[{Address:r},r.length]}throw new Error("unrecognized token")}if(h()(t))return function(e){for(var t="",r=0;r<e.length;){var n=e[r++];if(h()(n))t=t.concat(n);else{if(!m()(n))break;for(var i=n;r<e.length;){var o=e[r++];if(!d()(o))break;i=i.concat(o)}var s=t.length+i.length;switch(i){case"u8":return[{U8:t},s];case"u64":return[{U64:t},s];case"u128":return[{U128:t},s];default:throw new Error("invalid suffix")}}}return[{U64:t},t.length]}(e);if("b"===t&&'"'===e[1]){for(var i="",o=2;;){if(o>=e.length)throw new Error("unrecognized token");var s=e[o++];if('"'===s)break;if(!gr(s))throw new Error("unrecognized token");i=i.concat(s)}return[{Bytes:i},i.length+3]}if("x"===t&&'"'===e[1]){for(var a="",u=2;;){if(u>=e.length)throw new Error("unrecognized token");var l=e[u++];if('"'===l)break;if(!c()(l))throw new Error("unrecognized token");a=a.concat(l)}return[{Bytes:a},a.length+3]}if(m()(t)||["-","_"].includes(t)){for(var f="",p=0;p<e.length&&(d()(e[p])||["-","_"].includes(e[p]));p++)f=f.concat(e[p]);return[mr(f),f.length]}if(g()(t)){for(var v="",w=0;w<e.length&&g()(e[w]);w++)v=v.concat(e[w]);return[{WhiteSpace:v},v.length]}throw new Error("unrecognized token")}}function gr(e){return("string"===typeof e?e.charCodeAt(0):e)<=127}function wr(e,t){var r=function(e){for(var t=[];;){var r=vr(e);if(void 0===r)break;var n=r[0],i=r[1];t.push(n),e=e.substring(i)}return t}(e).filter((function(e){return void 0===e.WhiteSpace}));r.push("EOF");var n=new pr(r),i=t(n);return n.consume_tok("EOF"),i}function yr(e){return wr(e,(function(e){return e.parseTypeTag()}))}var _r={__proto__:null,parseTypeTags:function(e){return wr(e,(function(e){return e.parse_comma_list((function(e){return e.parseTypeTag()}),"EOF",!0)}))},parseTypeTag:yr},br=r(65048).version,zr=new w.Logger(br);function Mr(e,t){e&&"object"===typeof e||zr.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(r){t[r]||zr.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}var kr={__proto__:null,checkProperties:Mr},xr=function(e,t,r,n){try{var s=(0,i.arrayify)((0,o.addHexPrefix)(r)),a=Jt(rr(r)),u=Er((0,i.arrayify)((0,o.addHexPrefix)(n)),s),c=new he(t),l=Wt(new At(a,e,u,c)),h=(0,i.hexlify)(l);return Promise.resolve(h)}catch(f){return Promise.reject(f)}},Pr=function(e,t){try{var r=new Uint8Array(P.from(e,"utf8")),n=Tr(new Nt(r));return Promise.resolve((0,s.getPublicKey)((0,o.stripHexPrefix)(t))).then((function(e){var r=(0,i.hexlify)(e);return Promise.resolve((0,s.sign)(n,(0,o.stripHexPrefix)(t))).then((function(e){var t=(0,i.hexlify)(e);return Promise.resolve({publicKey:r,signature:t})}))}))}catch(a){return Promise.reject(a)}};function Er(e,t){var r=new ze(t),n=new Me(e);return new nt(r,n)}function Tr(e){return function(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}(Lt().get_salt(),function(){var t=new Z;return e.serialize(t),t.getBytes()}())}function Nr(e){var t=(0,i.arrayify)(e);return function(){var e=new K(t);return At.deserialize(e)}()}var Ar={__proto__:null,recoverSignedMessageAddress:function(e){try{var t,r=function(e){return Promise.resolve(t)},n=Nr(e),o=function(){if(n.authenticator instanceof nt){var e=n.authenticator.signature.value,r=Tr(n.message),o=n.authenticator.public_key.value;return t=rr((0,i.hexlify)(o)),Promise.resolve((0,s.verify)(e,r,o)).then((function(e){if(!e)throw new Error("Failed verify signature and message");var t=function(e,t){var r=rr((0,i.hexlify)(e));if(r===Xt(t))return!0;return!1}(o,n.account);if(!t)throw new Error("Failed: address are not match")}))}}();return Promise.resolve(o&&o.then?o.then(r):r())}catch(a){return Promise.reject(a)}},encodeSignedMessage:function(e,t,r){try{var n=new Uint8Array(P.from(e,"utf8")),o=new Nt(n);return Promise.resolve(Pr(e,(0,i.hexlify)(t))).then((function(e){var t=e.publicKey,n=e.signature;return Promise.resolve(xr(o,r,t,n)).then(Promise.resolve)}))}catch(s){return Promise.reject(s)}},generateSignedMessage:xr,signMessage:Pr,encodeTransactionAuthenticatorEd25519:Er,getEd25519SignMsgBytes:Tr,decodeSignedMessage:Nr},Sr=new w.Logger(br);var Ir={test:{chainId:255,name:"test",_defaultProvider:function e(t){var r=function(e,r){return e.JsonRpcProvider?new e.JsonRpcProvider(r.jsonrpc,t):null};return r.renetwork=function(t){return e(t)},r}("test")},dev:{chainId:254,name:"dev"},barnard:{chainId:251,name:"barnard"},halley:{chainId:3,name:"halley"},proxima:{chainId:2,name:"proxima"},main:{chainId:1,name:"main"}};function Br(e){if(null==e)return null;if("number"===typeof e){for(var t in Ir){var r=Ir[t];if(r.chainId==e)return{name:r.name,chainId:r.chainId,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){var n=Ir[e];return null==n?null:{name:n.name,chainId:n.chainId,_defaultProvider:n._defaultProvider||null}}var i=Ir[e.name];if(!i)return"number"!==typeof e.chainId&&Sr.throwArgumentError("invalid network chainId","network",e),e;e.chainId!==i.chainId&&Sr.throwArgumentError("network chainId mismatch","network",e);var o,s=e._defaultProvider||null;return null==s&&i._defaultProvider&&(s=(o=i._defaultProvider)&&"function"===typeof o.renetwork?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,_defaultProvider:s}}var Ur=new w.Logger("abstract-provider/5.0.5"),Or=function(){function e(){Ur.checkAbstract(this instanceof e?this.constructor:void 0,e),(0,b.defineReadOnly)(this,"_isProvider",!0)}var t=e.prototype;return t.getBalance=function(e,t,r){try{return void 0===t&&(t="0x1::STC::STC"),Promise.resolve(this.getResource(e,"0x1::Account::Balance<"+t+">",r)).then((function(e){if(void 0!==e)return e.token.value}))}catch(n){return Promise.reject(n)}},t.getBalances=function(e,t){try{return Promise.resolve(this.getResources(e,t)).then((function(e){if(void 0!==e){var t={};for(var r in e){var n=yr(r);if("object"===typeof n&&void 0!==n.Struct){var i=n.Struct;if("Account"===i.module&&"Balance"===i.name)t[R(i.type_params[0].Struct)]=e[r].token.value}}return t}}))}catch(r){return Promise.reject(r)}},t.getSequenceNumber=function(e,t){try{return Promise.resolve(this.getResource(e,"0x1::Account::Account",t)).then((function(e){if(void 0!==e)return e.sequence_number}))}catch(r){return Promise.reject(r)}},t.addListener=function(e,t){return this.on(e,t)},t.removeListener=function(e,t){return this.off(e,t)},e.isProvider=function(e){return!(!e||!e._isProvider)},e}(),Rr=new w.Logger(br);function Vr(e){return e.value.reduce((function(e,t){var r,n=t[0],i=t[1];return N({},e,((r={})[n]=Lr(i),r))}),{})}function Lr(e){if("Bool"in e)return e.Bool;if("U8"in e)return e.U8;if("U64"in e)return jr.bigint(e.U64);if("U128"in e)return jr.bigint(e.U128);if("Address"in e)return e.Address;if("Bytes"in e)return(0,i.hexValue)(e.Bytes);if("Vector"in e)return e.Vector.map((function(e){return Lr(e)}));if("Struct"in e)return e.Struct.value.reduce((function(e,t){var r,n=t[0],i=t[1];return N({},e,((r={})[n]=Lr(i),r))}),{});throw new Error("invalid annotated move value, "+JSON.stringify(e))}var jr=function(){function e(){Rr.checkNew(this instanceof e?this.constructor:void 0,e),this.formats=this.getDefaultFormats()}var t=e.prototype;return t.getDefaultFormats=function(){var t={},r=this.address.bind(this),n=(this.bigNumber.bind(this),this.blockTag.bind(this)),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.u64.bind(this),c=(e.bigint.bind(this),this.u8.bind(this)),l=this.u256.bind(this);t.rawTransaction={sender:r,sequence_number:u,payload:i,max_gas_amount:u,gas_unit_price:u,gas_token_code:function(e){return e},expiration_timestamp_secs:u,chain_id:c},t.signedUserTransaction={transaction_hash:o,raw_txn:this.rawUserTransaction.bind(this),authenticator:this.transactionAuthenticator.bind(this)},t.blockMetadata={parent_hash:o,timestamp:u,author:r,author_auth_key:s,uncles:u,number:u,chain_id:c,parent_gas_used:u};var h={block_hash:e.allowNull(o),block_number:e.allowNull(u),transaction_hash:e.allowNull(o),transaction_index:e.allowNull(a)};return t.transaction=N({block_metadata:e.allowNull(this.blockMetadata.bind(this),null),user_transaction:e.allowNull(this.signedUserTransaction.bind(this),null)},h),t.blockBody={Full:e.allowNull(e.arrayOf(this.signedUserTransaction.bind(this))),Hashes:e.allowNull(e.arrayOf(o))},t.blockHeader={block_hash:o,parent_hash:o,timestamp:u,number:u,author:r,author_auth_key:e.allowNull(s,null),txn_accumulator_root:o,block_accumulator_root:o,state_root:o,gas_used:u,difficulty:l,nonce:u,body_hash:o,chain_id:c},t.blockWithTransactions={header:function(r){return e.check(t.blockHeader,r)},body:function(e){return e}},t.block={header:function(r){return e.check(t.blockHeader,r)},body:function(r){return e.check(t.blockBody,r)},confirmations:a},t.transactionInfo=N({state_root_hash:o,event_root_hash:o,gas_used:u,status:this.transactionVmStatus.bind(this),txn_events:e.allowNull(e.arrayOf(this.transactionEvent.bind(this)),null)},h),t.transactionEvent=N({data:s,type_tags:this.typeTag.bind(this),event_key:s,event_seq_number:u},h),t.transactionOutput={gas_used:u,status:this.transactionVmStatus.bind(this),events:e.allowNull(e.arrayOf(this.transactionEvent.bind(this))),write_set:e.allowNull(e.arrayOf(this.transactionWriteAction.bind(this)))},t.blockWithTransactions=(0,b.shallowCopy)(t.block),t.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),t.eventFilter={from_block:e.allowNull(n),to_block:e.allowNull(n),event_keys:e.arrayOf(s),limit:e.allowNull(a)},t},t.typeTag=function(e){return e},t.moveValue=function(e){return Lr(e)},t.moveStruct=function(e){return Vr(e)},t.transactionAuthenticator=function(e){return e},t.rawUserTransaction=function(t){return e.check(this.formats.rawTransaction,t)},t.signedUserTransaction=function(t){return e.check(this.formats.signedUserTransaction,t)},t.blockMetadata=function(t){return e.check(this.formats.blockMetadata,t)},t.transactionOutput=function(t){return e.check(this.formats.transactionOutput,t)},t.transactionWriteAction=function(e){return e},t.transactionEvent=function(t){return e.check(this.formats.transactionEvent,t)},t.transactionVmStatus=function(e){if("string"===typeof e){if([L,j,C].includes(e))return e;throw new Error("invalid txn vm_status: "+e)}if("object"===typeof e){if(e.MoveAbort)return{MoveAbort:{location:e.MoveAbort.location,abort_code:this.u64(e.MoveAbort.abort_code)}};if(e.ExecutionFailure)return e;if(e.Discard)return{Discard:{status_code:this.u64(e.Discard.status_code)}};throw new Error("invalid txn vm_status: "+JSON.stringify(e))}throw new TypeError("invalid txn vm_status type "+e)},t.number=function(e){return"0x"===e?0:_.BigNumber.from(e).toNumber()},t.u8=function(e){if("string"===typeof e)return Number.parseInt(e,10);if("number"===typeof e)return e;throw new Error("invalid u8: "+e)},t.u64=function(t){return e.bigint(t)},t.u128=function(t){return e.bigint(t)},t.u256=function(e){if("string"===typeof e)return e;if("number"===typeof e)return e.toString();throw new Error("invalid bigint: "+e)},e.bigint=function(e){if("string"===typeof e){var t=BigInt(e);return t>Number.MAX_SAFE_INTEGER?t:Number.parseInt(e)}if("number"===typeof e)return e;throw new TypeError("invalid bigint: "+e)},t.bigNumber=function(e){return _.BigNumber.from(e)},t.boolean=function(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)},t.hex=function(e,t){return"string"===typeof e&&(t||"0x"===e.slice(0,2)||(e="0x"+e),(0,i.isHexString)(e))?e.toLowerCase():Rr.throwArgumentError("invalid hex","value",e)},t.data=function(e,t){var r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r},t.address=function(e){"string"!==typeof e&&Rr.throwArgumentError("invalid address","address",e);var t=this.hex(e,!0);return 16!==(0,i.hexDataLength)(t)?Rr.throwArgumentError("invalid address","value",e):(0,o.addHexPrefix)(e)},t.blockTag=function(e){if("earliest"===e)return 0;if("number"===typeof e)return e;throw new Error("invalid blockTag")},t.hash=function(e,t){var r=this.hex(e,t);return 32!==(0,i.hexDataLength)(r)?Rr.throwArgumentError("invalid hash","value",e):r},t._block=function(t){var r=e.check(this.formats.block,t),n=r.body.Full?r.body.Full:r.body.Hashes;return{header:r.header,transactions:n,confirmations:r.confirmations}},t.blockWithTxnHashes=function(e){var t=this._block(e),r=t.header,n=t.transactions,i=t.confirmations;return{header:r,transactions:n.map((function(e){return e.transaction_hash})),confirmations:i}},t.blockWithTransactions=function(e){var t=this._block(e);return{header:t.header,transactions:t.transactions,confirmations:t.confirmations}},t.transactionResponse=function(e){return e},t.userTransactionData=function(e){return Zt(e)},t.transactionInfo=function(t){return e.check(this.formats.transactionInfo,t)},t.topics=function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.topics(e)})):void 0!=e?this.hash(e,!0):null},t.filter=function(t){return e.check(this.formats.eventFilter,t)},e.check=function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(o){throw o.checkKey=n,o.checkValue=t[n],o}return r},e.allowNull=function(e,t){return function(r){return void 0==r?t:e(r)}},e.allowFalsish=function(e,t){return function(r){return r?e(r):t}},e.arrayOf=function(e){return function(t){if(!Array.isArray(t))throw new TypeError("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}},e}();function Cr(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}var Hr=new w.Logger(br);function Fr(e){return void 0===e||0===e.length?"*":e.join("|")}function qr(e){if("string"===typeof e){if(e=e.toLowerCase(),32===(0,i.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:"+Fr(e);if("object"===typeof e)return"filter:"+Fr(e.event_keys)}throw new Error("invalid event - "+e)}function Dr(){return(new Date).getTime()}var Kr,Wr={pending:"pending",block:"block",network:"network",poll:"poll",filter:"filter",tx:"tx"},Zr=[Wr.pending,Wr.block,Wr.network,Wr.poll],Gr=function(){function e(e,t,r){(0,b.defineReadOnly)(this,"tag",e),(0,b.defineReadOnly)(this,"listener",t),(0,b.defineReadOnly)(this,"once",r)}return e.prototype.pollable=function(){return this.tag.indexOf(":")>=0||Zr.indexOf(this.tag)>=0},T(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=""===(t=e[1])||"*"===t?[]:t.split("|"),n={};return r.length>0&&(n.event_keys=r),n}}]),e}(),Jr={getChainInfo:"getChainInfo",getNodeInfo:"getNodeInfo",sendTransaction:"sendTransaction",getBlock:"getBlock",getTransactionByHash:"getTransactionByHash",getTransactionInfo:"getTransactionInfo",getEventsOfTransaction:"getEventsOfTransaction",getEvents:"getEvents",call:"call",callV2:"callV2",getCode:"getCode",getResource:"getResource",getAccountState:"getAccountState",getGasPrice:"getGasPrice",dryRun:"dryRun",dryRunRaw:"dryRunRaw"},Xr=1,$r=function(e){function t(r){var n;if(Hr.checkNew(this instanceof t?this.constructor:void 0,Or),(n=e.call(this)||this)._events=[],n._emitted={block:-2},n.formatter=(this instanceof t?this.constructor:void 0).getFormatter(),(0,b.defineReadOnly)(I(n),"anyNetwork","any"===r),n.anyNetwork&&(r=n.detectNetwork()),r instanceof Promise)n._networkPromise=r,r.catch((function(e){})),n._ready().catch((function(e){}));else{var i=Br(r);i?((0,b.defineReadOnly)(I(n),"_network",i),n.emit("network",i,null)):Hr.throwArgumentError("invalid network","network",r)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._pollingInterval=4e3,n._fastQueryDate=0,n}A(t,e);var r=t.prototype;return r._ready=function(){try{var e=this,t=function(){return e._network},r=function(){if(null==e._network){var t=function(){function t(){r||Hr.throwError("no network detected",w.Logger.errors.UNKNOWN_ERROR,{}),null==e._network&&(e.anyNetwork?e._network=r:(0,b.defineReadOnly)(e,"_network",r),e.emit("network",r,null))}var n=function(){if(null==r)return Promise.resolve(e.detectNetwork()).then((function(e){r=e}))}();return n&&n.then?n.then(t):t()},r=null,n=function(){if(e._networkPromise){var t=Cr((function(){return Promise.resolve(e._networkPromise).then((function(e){r=e}))}),(function(){}));if(t&&t.then)return t.then((function(){}))}}();return n&&n.then?n.then(t):t()}}();return Promise.resolve(r&&r.then?r.then(t):t())}catch(n){return Promise.reject(n)}},t.getFormatter=function(){return null==Kr&&(Kr=new jr),Kr},r._getInternalBlockNumber=function(e){try{var t=this;return Promise.resolve(t._ready()).then((function(){var r;function n(e){if(r)return e;var n=Dr(),i=(0,b.resolveProperties)({blockNumber:t.perform(Jr.getChainInfo,{}).then((function(e){return e.head.number}),(function(e){return e})),networkError:t.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var r=e.blockNumber,o=e.networkError;if(o)throw t._internalBlockNumber===i&&(t._internalBlockNumber=null),o;var s=Dr();return(r=_.BigNumber.from(r).toNumber())<t._maxInternalBlockNumber&&(r=t._maxInternalBlockNumber),t._maxInternalBlockNumber=r,t._setFastBlockNumber(r),{blockNumber:r,reqTime:n,respTime:s}}));return t._internalBlockNumber=i,Promise.resolve(i).then((function(e){return e.blockNumber}))}var i=t._internalBlockNumber,o=function(){if(e>0&&t._internalBlockNumber)return Promise.resolve(i).then((function(t){if(Dr()-t.respTime<=e)return r=1,t.blockNumber}))}();return o&&o.then?o.then(n):n(o)}))}catch(r){return Promise.reject(r)}},r.poll=function(){try{var e=this,t=Xr++,r=[];return Promise.resolve(e._getInternalBlockNumber(100+e.pollingInterval/2)).then((function(n){if(e._setFastBlockNumber(n),e.emit("poll",t,n),n!==e._lastBlockNumber){if(-2===e._emitted.block&&(e._emitted.block=n-1),Math.abs(e._emitted.block-n)>1e3)Hr.warn("network block skew detected; skipping block events"),e.emit("error",Hr.makeError("network block skew detected",w.Logger.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:e._emitted.block})),e.emit(Wr.block,n);else for(var i=e._emitted.block+1;i<=n;i++)e.emit(Wr.block,i);return e._emitted.block!==n&&(e._emitted.block=n,Object.keys(e._emitted).forEach((function(t){if(t!==Wr.block){var r=e._emitted[t];"pending"!==r&&n-r>12&&delete e._emitted[t]}}))),-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1),e._events.forEach((function(t){switch(t.type){case Wr.tx:var i=t.hash,o=e.getTransactionInfo(i).then((function(t){return t&&null!=t.block_number?(e._emitted["t:"+i]=t.block_number,e.emit(i,t),null):null})).catch((function(t){e.emit("error",t)}));r.push(o);break;case Wr.filter:var s=t.filter;s.from_block=e._lastBlockNumber+1,s.to_block=n;var a=e.getTransactionEvents(s).then((function(t){0!==t.length&&t.forEach((function(t){e._emitted["b:"+t.block_hash]=t.block_number,e._emitted["t:"+t.transaction_hash]=t.block_number,e.emit(s,t)}))})).catch((function(t){e.emit("error",t)}));r.push(a)}})),e._lastBlockNumber=n,Promise.all(r).then((function(){e.emit("didPoll",t)})),null}e.emit("didPoll",t)}))}catch(n){return Promise.reject(n)}},r.getNetwork=function(){try{var e=this;return Promise.resolve(e._ready()).then((function(t){return Promise.resolve(e.detectNetwork()).then((function(r){var n,i=function(){if(t.chainId!==r.chainId){var i=function(i){if(n)return i;var o=Hr.makeError("underlying network changed",w.Logger.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r});throw e.emit("error",o),o},o=function(){if(e.anyNetwork)return e._network=r,e._lastBlockNumber=-2,e._fastBlockNumber=null,e._fastBlockNumberPromise=null,e._fastQueryDate=0,e._emitted.block=-2,e._maxInternalBlockNumber=-1024,e._internalBlockNumber=null,e.emit("network",r,t),Promise.resolve((i=0,new Promise((function(e){setTimeout(e,i)})))).then((function(){return n=1,e._network}));var i}();return o&&o.then?o.then(i):i(o)}}();return i&&i.then?i.then((function(e){return n?e:t})):n?i:t}))}))}catch(t){return Promise.reject(t)}},r._getFastBlockNumber=function(){var e=this,t=Dr();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber}))),this._fastBlockNumberPromise},r._setFastBlockNumber=function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Dr(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))},r.waitForTransaction=function(e,t,r){try{var n=this;return null==t&&(t=1),Promise.resolve(n.getTransactionInfo(e)).then((function(i){return(i?i.confirmations:0)>=t?Promise.resolve(i):new Promise((function(i,o){var s=null,a=!1,u=function r(o){o.confirmations<t||(s&&clearTimeout(s),a||(a=!0,n.removeListener(e,r),i(o)))};n.on(e,u),"number"===typeof r&&r>0&&(s=setTimeout((function(){a||(s=null,a=!0,n.removeListener(e,u),o(Hr.makeError("timeout exceeded",w.Logger.errors.TIMEOUT,{timeout:r})))}),r)).unref&&s.unref()}))}))}catch(i){return Promise.reject(i)}},r.getBlockNumber=function(){try{return Promise.resolve(this._getInternalBlockNumber(0))}catch(e){return Promise.reject(e)}},r.getGasPrice=function(){try{var e=this;return Promise.resolve(e.getNetwork()).then((function(){return Promise.resolve(e.perform(Jr.getGasPrice,{})).then((function(t){return e.formatter.u64(t)}))}))}catch(t){return Promise.reject(t)}},r.getCode=function(e,r){try{var n=this;return Promise.resolve(n.getNetwork()).then((function(){var o=t.getModuleId;return Promise.resolve(e).then((function(e){return Promise.resolve((0,b.resolveProperties)({moduleId:o.call(t,e),blockTag:r})).then((function(e){return Promise.resolve(n.perform(Jr.getCode,e)).then((function(e){if(e)return(0,i.hexlify)(e)}))}))}))}))}catch(o){return Promise.reject(o)}},r.getResource=function(e,t,r){try{var n=this;return Promise.resolve(n.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({address:e,structTag:t,blockTag:r})).then((function(e){return Promise.resolve(n.perform(Jr.getResource,e)).then((function(e){if(e)return n.formatter.moveStruct(e)}))}))}))}catch(i){return Promise.reject(i)}},r.getResources=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({address:e,blockTag:t})).then((function(e){return Promise.resolve(r.perform(Jr.getAccountState,e)).then((function(e){if(e)return Object.entries(e.resources).reduce((function(e,t){var n,i=t[0],o=t[1];return N({},e,((n={})[i]=r.formatter.moveStruct(o),n))}),{})}))}))}))}catch(n){return Promise.reject(n)}},r._wrapTransaction=function(e,t){var r=this;if(null!=t&&32!==(0,i.hexDataLength)(t))throw new Error("invalid response - sendTransaction");var n=e;return null!=t&&e.transaction_hash!==t&&Hr.throwError("Transaction hash mismatch from Provider.sendTransaction.",w.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.transaction_hash,returnedHash:t}),n.wait=function(t){try{return 0!==t&&(r._emitted["t:"+e.transaction_hash]="pending"),Promise.resolve(r.waitForTransaction(e.transaction_hash,t)).then((function(i){return null==i&&0===t?null:(r._emitted["t:"+e.transaction_hash]=i.block_number,n.block_hash=i.block_hash,n.block_number=i.block_number,n.confirmations=t,"Executed"!==i.status&&Hr.throwError("transaction failed",w.Logger.errors.CALL_EXCEPTION,{transactionHash:e.transaction_hash,transaction:e,receipt:i}),i)}))}catch(i){return Promise.reject(i)}},n},r.sendTransaction=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(e).then((function(e){var r=t.formatter.userTransactionData(e);return Cr((function(){return Promise.resolve(t.perform(Jr.sendTransaction,{signedTransaction:e})).then((function(){return t._wrapTransaction(r)}))}),(function(e){throw e.transaction=r,e.transactionHash=r.transaction_hash,e}))}))}))}catch(r){return Promise.reject(r)}},t.getModuleId=function(e){return"string"===typeof e?e:e.address+"::"+e.name},r._getFilter=function(e){try{var t=this;return Promise.resolve(e).then((function(e){var r=t.formatter,n=r.filter;return Promise.resolve((0,b.resolveProperties)(e)).then((function(e){return n.call(r,e)}))}))}catch(r){return Promise.reject(r)}},r.call=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({request:e})).then((function(e){return e.request.function_id=H(e.request.function_id),Promise.resolve(r.perform(Jr.call,e)).then((function(e){return e.map((function(e){return r.formatter.moveValue(e)}))}))}))}))}catch(n){return Promise.reject(n)}},r.callV2=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({request:e})).then((function(e){return e.request.function_id=H(e.request.function_id),Promise.resolve(r.perform(Jr.callV2,e)).then((function(e){return e.map((function(e){return e}))}))}))}))}catch(n){return Promise.reject(n)}},r.dryRun=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({transaction:e})).then((function(e){return Promise.resolve(t.perform(Jr.dryRun,e)).then((function(e){return t.formatter.transactionOutput(e)}))}))}))}catch(r){return Promise.reject(r)}},r.dryRunRaw=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){var n={rawUserTransactionHex:e,publicKeyHex:t};return Promise.resolve(r.perform(Jr.dryRunRaw,n)).then((function(e){return r.formatter.transactionOutput(e)}))}))}catch(n){return Promise.reject(n)}},r._getBlock=function(e,t){try{var r=this;return Promise.resolve(r.getNetwork()).then((function(){return Promise.resolve(e).then((function(n){function o(){return(0,z.poll)((function(){try{return Promise.resolve(r.perform(Jr.getBlock,a)).then((function(e){var n;function i(t){return n?t:r.formatter.blockWithTxnHashes(e)}if(null==e)return null!=a.blockHash&&null==r._emitted["b:"+a.blockHash]||null!=a.blockNumber&&s>r._emitted.block?null:void 0;var o=function(){if(t)return Promise.resolve(r._getInternalBlockNumber(100+2*r.pollingInterval)).then((function(t){var i=t-e.header.number+1;return i<=0&&(i=1),e.confirmations=i,n=1,r.formatter.blockWithTransactions(e)}))}();return o&&o.then?o.then(i):i(o)}))}catch(e){return Promise.reject(e)}}),{oncePoll:r})}e=n;var s=-128,a={includeTransactions:!!t},u=function(){if((0,i.isHexString)(e,32))a.blockHash=e;else{var t=Cr((function(){return Promise.resolve(r._getBlockTag(e)).then((function(e){a.blockNumber=e,s=a.blockNumber}))}),(function(){Hr.throwArgumentError("invalid block hash or block number","blockHashOrBlockNumber",e)}));if(t&&t.then)return t.then((function(){}))}}();return u&&u.then?u.then(o):o()}))}))}catch(n){return Promise.reject(n)}},r.getBlock=function(e){return this._getBlock(e,!0)},r.getTransaction=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(e).then((function(r){e=r;var n={transactionHash:t.formatter.hash(e,!0)};return(0,z.poll)((function(){try{return Promise.resolve(t.perform(Jr.getTransactionByHash,n)).then((function(r){function n(){return t._wrapTransaction(i)}if(null==r)return null==t._emitted["t:"+e]?null:void 0;var i=t.formatter.transactionResponse(r),o=function(){if(void 0===i.block_number)i.confirmations=0;else{var e=function(){if(void 0===i.confirmations)return Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then((function(e){var t=e-i.block_number+1;t<=0&&(t=1),i.confirmations=t}))}();if(e&&e.then)return e.then((function(){}))}}();return o&&o.then?o.then(n):n()}))}catch(r){return Promise.reject(r)}}),{oncePoll:t})}))}))}catch(r){return Promise.reject(r)}},r.getTransactionInfo=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(e).then((function(r){e=r;var n={transactionHash:t.formatter.hash(e,!0)};return(0,z.poll)((function(){try{return Promise.resolve(t.perform(Jr.getTransactionInfo,n)).then((function(r){if(null===r)return null===t._emitted["t:"+e]?null:void 0;if(null!==r.block_hash){var n=t.formatter.transactionInfo(r),i=function(){if(null===n.block_number)n.confirmations=0;else{var e=function(){if(!n.confirmations)return Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then((function(e){var t=e-n.block_number+1;t<=0&&(t=1),n.confirmations=t}))}();if(e&&e.then)return e.then((function(){}))}}();return i&&i.then?i.then((function(){return n})):n}}))}catch(r){return Promise.reject(r)}}),{oncePoll:t})}))}))}catch(r){return Promise.reject(r)}},r.getEventsOfTransaction=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve(e).then((function(r){e=r;var n={transactionHash:t.formatter.hash(e,!0)};return Promise.resolve(t.perform(Jr.getEventsOfTransaction,n)).then((function(e){return jr.arrayOf(t.formatter.transactionEvent.bind(t.formatter))(e)}))}))}))}catch(r){return Promise.reject(r)}},r.getTransactionEvents=function(e){try{var t=this;return Promise.resolve(t.getNetwork()).then((function(){return Promise.resolve((0,b.resolveProperties)({filter:e})).then((function(e){return Promise.resolve(t.perform(Jr.getEvents,e)).then((function(e){return jr.arrayOf(t.formatter.transactionEvent.bind(t.formatter))(e)}))}))}))}catch(r){return Promise.reject(r)}},r._getBlockTag=function(e){try{var t=this;return Promise.resolve(e).then((function(r){return(e=r)<0?(e%1&&Hr.throwArgumentError("invalid BlockTag","blockTag",e),Promise.resolve(t._getInternalBlockNumber(100+2*t.pollingInterval)).then((function(t){return(t+=e)<0&&(t=0),t}))):e}))}catch(r){return Promise.reject(r)}},r._startEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},r._stopEvent=function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0},r._addEventListener=function(e,t,r){var n=new Gr(qr(e),t,r);return this._events.push(n),this._startEvent(n),this},r.on=function(e,t){return this._addEventListener(e,t,!1)},r.once=function(e,t){return this._addEventListener(e,t,!0)},r.emit=function(e){var t=arguments,r=this,n=!1,i=[],o=qr(e);return this._events=this._events.filter((function(e){return e.tag!==o||(setTimeout((function(){e.listener.apply(r,[].slice.call(t,1))}),0),n=!0,!e.once||(i.push(e),!1))})),i.forEach((function(e){r._stopEvent(e)})),n},r.listenerCount=function(e){if(!e)return this._events.length;var t=qr(e);return this._events.filter((function(e){return e.tag===t})).length},r.listeners=function(e){if(null==e)return this._events.map((function(e){return e.listener}));var t=qr(e);return this._events.filter((function(e){return e.tag===t})).map((function(e){return e.listener}))},r.off=function(e,t){var r=this;if(null===t)return this.removeAllListeners(e);var n=[],i=!1,o=qr(e);return this._events=this._events.filter((function(e){return e.tag!==o||e.listener!==t||(!!i||(i=!0,n.push(e),!1))})),n.forEach((function(e){r._stopEvent(e)})),this},r.removeAllListeners=function(e){var t=this,r=[];if(null===e)r=this._events,this._events=[];else{var n=qr(e);this._events=this._events.filter((function(e){return e.tag!==n||(r.push(e),!1)}))}return r.forEach((function(e){t._stopEvent(e)})),this},T(t,[{key:"ready",get:function(){var e=this;return(0,z.poll)((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==w.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"network",get:function(){return this._network}},{key:"blockNumber",get:function(){return this._getInternalBlockNumber(100+this.pollingInterval/2),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval(this.poll.bind(this),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){t.poll(),t._bootstrapPoll=setTimeout((function(){t._poller||t.poll(),t._bootstrapPoll=null}),t.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){t.poll()}),this._pollingInterval))}}]),t}(Or),Qr=new w.Logger(br),Yr=new Set(["sender","sender_public_key","sequence_number","script","modules","max_gas_amount","gas_unit_price","gas_token_code","chain_id"]),en=new Set([w.Logger.errors.INSUFFICIENT_FUNDS,w.Logger.errors.NONCE_EXPIRED,w.Logger.errors.REPLACEMENT_UNDERPRICED]),tn=function(){function e(){Qr.checkAbstract(this instanceof e?this.constructor:void 0,e),(0,b.defineReadOnly)(this,"_isSigner",!0)}var t=e.prototype;return t.getBalance=function(e,t){try{var r=this;return r.checkProvider("getBalance"),Promise.resolve(r.provider.getBalance(r.getAddress(),e,t))}catch(n){return Promise.reject(n)}},t.getSequenceNumber=function(e){try{var t=this;return t.checkProvider("getSequenceNumber"),Promise.resolve(t.provider.getSequenceNumber(t.getAddress(),e))}catch(r){return Promise.reject(r)}},t.estimateGas=function(e){try{var t=this;return t.checkProvider("estimateGas"),Promise.resolve((0,b.resolveProperties)(t.checkTransaction(e))).then((function(e){return Promise.resolve(t.provider.dryRun(e)).then((function(e){return"number"===typeof e.gas_used?3*e.gas_used:BigInt(3)*e.gas_used.valueOf()}))}))}catch(r){return Promise.reject(r)}},t.sendTransaction=function(e){var t=this;return this.checkProvider("sendTransaction"),this.populateTransaction(e).then((function(e){return t.signTransaction(e).then((function(e){return t.provider.sendTransaction(e)}))}))},t.getChainId=function(){try{return this.checkProvider("getChainId"),Promise.resolve(this.provider.getNetwork()).then((function(e){return e.chainId}))}catch(e){return Promise.reject(e)}},t.getGasPrice=function(){try{return this.checkProvider("getGasPrice"),Promise.resolve(this.provider.getGasPrice())}catch(e){return Promise.reject(e)}},t.checkTransaction=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];Yr.has(n)||Qr.throwArgumentError("invalid transaction key: "+n,"transaction",e)}var i=(0,b.shallowCopy)(e);return void 0===i.sender?i.sender=this.getAddress():i.sender=Promise.all([Promise.resolve(i.sender),this.getAddress()]).then((function(t){return t[0]!==t[1]&&Qr.throwArgumentError("from address mismatch","transaction",e),t[0]})),i},t.populateTransaction=function(e){try{var t=this;return Promise.resolve((0,b.resolveProperties)(t.checkTransaction(e))).then((function(r){return void 0===r.gas_unit_price&&(r.gas_unit_price=t.getGasPrice()),void 0===r.sequence_number&&(r.sequence_number=t.getSequenceNumber("pending")),void 0===r.chain_id?r.chain_id=t.getChainId():r.chain_id=Promise.all([Promise.resolve(r.chain_id),t.getChainId()]).then((function(t){return 0!==t[1]&&t[0]!==t[1]&&Qr.throwArgumentError("chainId address mismatch","transaction",e),t[0]})),void 0===r.max_gas_amount&&(r.max_gas_amount=t.estimateGas(r).catch((function(e){if(en.has(e.code))throw e;return console.log("err: "+e),Qr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",w.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})}))),(0,b.resolveProperties)(r)}))}catch(r){return Promise.reject(r)}},t.checkProvider=function(e){this.provider||Qr.throwError("missing provider",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})},e.isSigner=function(e){return!(!e||!e._isSigner)},e}();function rn(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}var nn=new w.Logger(br),on=new Set(["call","estimateGas"]);function sn(e,t,r){var n=t.message;t.code===w.Logger.errors.SERVER_ERROR&&t.error&&"string"===typeof t.error.message?n=t.error.message:"string"===typeof t.body?n=t.body:"string"===typeof t.responseText&&(n=t.responseText),n=(n||"").toLowerCase();var i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds/)&&nn.throwError("insufficient funds for intrinsic transaction cost",w.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),n.match(/nonce too low/)&&nn.throwError("nonce has already been used",w.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),n.match(/replacement transaction underpriced/)&&nn.throwError("replacement fee too low",w.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),on.has(e)&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&nn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",w.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function an(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}var un={},cn=function(e){function t(r,n,i){var o;if(nn.checkNew(this instanceof t?this.constructor:void 0,t),o=e.call(this)||this,r!==un)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return(0,b.defineReadOnly)(I(o),"provider",n),void 0===i&&(i=0),"string"===typeof i?(0,b.defineReadOnly)(I(o),"_address",o.provider.formatter.address(i)):"number"===typeof i?(0,b.defineReadOnly)(I(o),"_index",i):nn.throwArgumentError("invalid address or index","addressOrIndex",i),o}A(t,e);var r=t.prototype;return r.connect=function(e){return nn.throwError("cannot alter JSON-RPC Signer connection",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})},r.getAddress=function(){try{var e=this;return e._address?Promise.resolve(e._address):Promise.resolve(e.provider.send("stc_accounts",[]).then((function(t){return t.length<=e._index&&nn.throwError("unknown account #"+e._index,w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])})))}catch(t){return Promise.reject(t)}},r.sendUncheckedTransaction=function(e){var t=this;nn.debug("sendUncheckedTransaction",e),e=(0,b.shallowCopy)(e);var r=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));return nn.debug(r),(0,b.resolveProperties)({tx:(0,b.resolveProperties)(e),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&nn.throwArgumentError("from address mismatch","transaction",e):n.from=i;var o=t.provider.constructor.hexlifyTransaction(n,{from:!0,expiredSecs:!0,addGasBufferMultiplier:!0});return n.addGasBufferMultiplier&&"number"===typeof n.addGasBufferMultiplier&&(o.addGasBufferMultiplier=n.addGasBufferMultiplier.toString()),nn.debug(o),t.provider.send("stc_sendTransaction",[o]).then((function(e){return e}),(function(e){throw e.responseText&&(e.responseText.indexOf("insufficient funds")>=0&&nn.throwError("insufficient funds",w.Logger.errors.INSUFFICIENT_FUNDS,{transaction:n}),e.responseText.indexOf("nonce too low")>=0&&nn.throwError("nonce has already been used",w.Logger.errors.NONCE_EXPIRED,{transaction:n}),e.responseText.indexOf("replacement transaction underpriced")>=0&&nn.throwError("replacement fee too low",w.Logger.errors.REPLACEMENT_UNDERPRICED,{transaction:n})),e}))}))},r.signTransaction=function(e){try{var t=this;return Promise.resolve((0,b.resolveProperties)(e)).then((function(r){return Promise.resolve(t.getAddress()).then((function(n){return void 0!==r.sender?r.sender!==n&&nn.throwArgumentError("from address mismatch","transaction",e):r.sender=n,t.provider.send("account.sign_txn_request",[r]).then((function(e){return e}),(function(e){return sn("signTransaction",e,r)}))}))}))}catch(r){return Promise.reject(r)}},r.signMessage=function(e){try{var t=this.provider;return Promise.resolve(this.getAddress()).then((function(r){var n;if("string"===typeof e)n=new Uint8Array(P.from(e));else{if(!(0,i.isBytes)(e))return nn.throwError("type of message input is unsupported",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signMessage"});n=e}var o={message:Array.from(n)};return t.send("account.sign",[r.toLowerCase(),o])}))}catch(r){return Promise.reject(r)}},r.unlock=function(e){try{var t=this.provider;return Promise.resolve(this.getAddress()).then((function(r){return t.send("account.unlock",[r.toLowerCase(),e,void 0])}))}catch(r){return Promise.reject(r)}},t}(tn),ln={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},hn=function(e){function t(r,n){var i;nn.checkNew(this instanceof t?this.constructor:void 0,t);var o=n;return null==o&&(o=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then((function(t){e(t)}),(function(e){t(e)}))}),0)}))),i=e.call(this,o)||this,r||(r=(0,b.getStatic)(i.constructor,"defaultUrl")()),"string"===typeof r?(0,b.defineReadOnly)(I(i),"connection",Object.freeze({url:r})):(0,b.defineReadOnly)(I(i),"connection",Object.freeze((0,b.shallowCopy)(r))),i._nextId=42,i}A(t,e),t.defaultUrl=function(){return"http://localhost:9850"};var r=t.prototype;return r.detectNetwork=function(){try{var e=this;return Promise.resolve((t=0,new Promise((function(e){setTimeout(e,t)})))).then((function(){function t(){if(null!=r)try{return Br(_.BigNumber.from(r).toNumber())}catch(e){return nn.throwError("could not detect network",w.Logger.errors.NETWORK_ERROR,{chainId:r,event:"invalidNetwork",serverError:e})}return nn.throwError("could not detect network",w.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})}var r=null,n=rn((function(){return Promise.resolve(e.send("chain.id",[])).then((function(e){r=e.id}))}),(function(){var t=rn((function(){return Promise.resolve(e.perform(Jr.getChainInfo,null)).then((function(e){r=e.chain_id}))}),(function(){}));return t&&t.then?t.then((function(){})):void 0}));return n&&n.then?n.then(t):t()}))}catch(r){return Promise.reject(r)}var t},r.getSigner=function(e){return new cn(un,this,e)},r.getNowSeconds=function(){try{return Promise.resolve(this.perform(Jr.getNodeInfo,null)).then((function(e){return e.now_seconds}))}catch(e){return Promise.reject(e)}},r.send=function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};return this.emit("debug",{action:"request",request:(0,b.deepCopy)(n),provider:this}),(0,z.fetchJson)(this.connection,JSON.stringify(n),an).then((function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e}),(function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e}))},r.prepareRequest=function(e,t){switch(e){case Jr.getChainInfo:return["chain.info",[]];case Jr.getNodeInfo:return["node.info",[]];case Jr.getGasPrice:return["txpool.gas_price",[]];case Jr.dryRun:return["contract.dry_run",[t.transaction]];case Jr.dryRunRaw:return["contract.dry_run_raw",[t.rawUserTransactionHex,t.publicKeyHex]];case Jr.sendTransaction:return["txpool.submit_hex_transaction",[t.signedTransaction]];case Jr.getBlock:if(void 0!==t.blockNumber)return["chain.get_block_by_number",[t.blockNumber]];if(void 0!==t.blockHash)return["chain.get_block_by_hash",[t.blockHash]];break;case Jr.getTransactionByHash:return["chain.get_transaction",[t.transactionHash]];case Jr.getTransactionInfo:return["chain.get_transaction_info",[t.transactionHash]];case Jr.getEventsOfTransaction:return["chain.get_events_by_txn_hash",[t.transactionHash]];case Jr.getCode:return["contract.get_code",[t.moduleId]];case Jr.getResource:return["contract.get_resource",[t.address,t.structTag]];case Jr.getAccountState:return["state.get_account_state_set",[t.address]];case Jr.call:return["contract.call",[t.request]];case Jr.callV2:return["contract.call_v2",[t.request]];case Jr.getEvents:return["chain.get_events",[t.filter]]}},r.perform=function(e,t){try{var r=this,n=r.prepareRequest(e,t);return void 0===n&&nn.throwError(e+" not implemented",w.Logger.errors.NOT_IMPLEMENTED,{operation:e}),Promise.resolve(rn((function(){return Promise.resolve(r.send(n[0],n[1]))}),(function(r){return sn(e,r,t)})))}catch(i){return Promise.reject(i)}},r._startEvent=function(t){"pending"===t.tag&&nn.throwError("pending event not implemented",w.Logger.errors.NOT_IMPLEMENTED,{operation:"pending event"}),e.prototype._startEvent.call(this,t)},r._stopEvent=function(t){t.tag===Wr.pending&&0===this.listenerCount(Wr.pending)&&(this._pendingFilter=null),e.prototype._stopEvent.call(this,t)},t.hexlifyTransaction=function(e,t){var r=(0,b.shallowCopy)(ln);if(t)for(var n in t)t[n]&&(r[n]=!0);Mr(e,r);var o={};return["gasLimit","gasPrice","nonce","value","expiredSecs"].forEach((function(t){if(null!=e[t]){var r=(0,i.hexValue)(e[t]);"gasLimit"===t&&(t="gas"),o[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(o[t]=(0,i.hexlify)(e[t]))})),o},t}($r),fn=function(e,t){try{return Promise.resolve(pn(t,e)).then((function(r){return Promise.resolve(dn(e,r,t))}))}catch(r){return Promise.reject(r)}},dn=function(e,t,r){try{return Promise.resolve((0,s.getPublicKey)((0,o.stripHexPrefix)(e))).then((function(e){var n=wn(e,t,r);return Promise.resolve(n)}))}catch(n){return Promise.reject(n)}},pn=function(e,t){try{var r=function(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}(Vt().get_salt(),function(){var t=new Z;return e.serialize(t),t.getBytes()}());return Promise.resolve((0,s.sign)(r,(0,o.stripHexPrefix)(t))).then((function(e){return(0,i.hexlify)(e)}))}catch(n){return Promise.reject(n)}};function mn(e,t,r){var n=F(e);return new Fe(new Ae(Jt(n.address),new Ee(n.module)),new Ee(n.functionName),t.map((function(e){return $t(e)})),r)}function vn(e,t,r){var n=mn(e,t,r);return new ut(n)}function gn(e,t,r){var n=t.map((function(e){return new Ne((0,i.arrayify)(e))})),o=null;return r&&(o=mn(r.functionId,r.tyArgs,r.args)),new Re(Jt(e),n,o)}function wn(e,t,r){var n=new ze((0,i.arrayify)((0,o.addHexPrefix)(e))),s=new Me((0,i.arrayify)((0,o.addHexPrefix)(t))),a=new nt(n,s);return new De(r,a)}function yn(e){var t=e.split("<"),r=t[0].split("::"),n=r[0],i=r[1],o=r[2],s=t[1]?t[1].replace(">","").split(","):[],a=[];return s.length>0&&s.forEach((function(e){a.push(yn(e.trim()))})),{Struct:{address:n,module:i,name:o,type_params:a}}}function _n(e){return e.map((function(e){return yn(e)}))}function bn(e,t){return t.map((function(t,r){return function(e,t){if("Address"===t)return(0,i.arrayify)(e);var r=new Z;if(t&&"U8"===t.Vector){for(var n=e?(0,i.isHexString)((0,o.addHexPrefix)(e))?Ht(e):new Uint8Array(P.from(e)):new Uint8Array,s=n.length,a=[],u=0;u<s;u++)a.push(n[u]);Pt.serializeVectorU8(a,r);var c=(0,i.hexlify)(r.getBytes());return(0,i.arrayify)(c)}if(t&&t.Vector&&Array.isArray(e)){r.serializeLen(e.length),e.forEach((function(e){"U8"===t.Vector.Vector?r.serializeBytes(Ht(e)):"Address"===t.Vector?Jt(e).serialize(r):t.Vector&&r["serialize"+t.Vector](e)}));var l=(0,i.hexlify)(r.getBytes());return(0,i.arrayify)(l)}if(t){r["serialize"+t](e);var h=(0,i.hexlify)(r.getBytes());return(0,i.arrayify)(h)}return e}(t,e[r].type_tag)}))}var zn={__proto__:null,encodeScriptFunctionByResolve:function(e,t,r,n){try{var i=_n(t),o=new hn(n);return Promise.resolve(o.send("contract.resolve_function",[e])).then((function(t){var n=t.args;n[0]&&"Signer"===n[0].type_tag&&n.shift();var o=bn(n,r);return vn(e,i,o)}))}catch(s){return Promise.reject(s)}},signRawUserTransaction:function(e,t){try{return Promise.resolve(fn(e,t)).then((function(e){var t=function(e){var t=new Z;return e.serialize(t),(0,i.hexlify)(t.getBytes())}(e);return t}))}catch(r){return Promise.reject(r)}},getSignedUserTransaction:fn,getSignatureHex:pn,encodeTransactionScript:function(e,t,r){var n=new Le(e,t.map((function(e){return $t(e)})),r.map((function(e){return(0,i.arrayify)(e)})));return new st(n)},encodeStarcoinTypesScriptFunction:mn,encodeScriptFunction:vn,encodeStarcoinTypesPackage:gn,encodePackage:function(e,t,r){var n=gn(e,t,r);return new at(n)},generateRawUserTransaction:function(e,t,r,n,i,o,s){var a=Jt(e),u=BigInt(i),c=BigInt(r),l=BigInt(n),h=BigInt(o),f=new he(s);return new Ve(a,u,t,c,l,"0x1::STC::STC",h,f)},signTxn:wn,encodeStructTypeTags:_n,encodeScriptFunctionArgs:bn},Mn=function(e,t){try{return Promise.resolve(Promise.all(Object.keys(e.private_keys).map((function(r){var n=(0,i.hexlify)(e.private_keys[r].value);return pn(t,n).then((function(e){return[new Me((0,i.arrayify)(e)),Number.parseInt(r,10)]})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(e){var t=Be.build(e);return Promise.resolve(t)}))}catch(r){return Promise.reject(r)}},kn={__proto__:null,abi:or,account:fr,errors:dr,helper:te,hex:qt,parser:_r,properties:kr,signedMessage:Ar,multiSign:{__proto__:null,generateMultiEd25519SignatureShard:function(e,t){try{return Promise.resolve(Mn(e,t)).then((function(t){var r=new Ue(t,e.threshold);return Promise.resolve(r)}))}catch(r){return Promise.reject(r)}},generateMultiEd25519Signature:Mn,generateMultiEd25519KeyShard:function(e,t,r){try{if(0===t.length)throw new Error("require at least one private key");var n=(0,y.cloneDeep)(e),o={};return Promise.resolve(Promise.all(t.map((function(e){return Dt(e).then((function(t){return n.push(t),o[t]=e,t})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(){n.sort((function(e,t){return e>t?1:-1}));var e=n.filter((function(e,t,r){return r.indexOf(e)===t})),o={};return Promise.resolve(Promise.all(t.map((function(t){return Dt(t).then((function(r){var n=e.indexOf(r);return n>-1&&(o[n]=new be((0,i.arrayify)(t))),r})).catch((function(e){throw new Error("invalid private key: "+e)}))})))).then((function(){var t=e.map((function(e){return new ze((0,i.arrayify)(e))})),n=new Oe(t,r,o);return Promise.resolve(n)}))}))}catch(s){return Promise.reject(s)}}},tx:zn},xn={__proto__:null,BinaryDeserializer:D,BinarySerializer:W},Pn=new w.Logger(br),En=1;function Tn(e,t){return function(e,r){var n={method:e,params:r,id:En+=1,jsonrpc:"2.0"};return new Promise((function(e,r){t(n,(function(t,n){if(t)return r(t);if(n.error){var i=new Error(n.error.message);return i.code=n.error.code,i.data=n.error.data,r(i)}e(n.result)}))}))}}var Nn=function(e){function t(r,n){var i,o,s,a;return Pn.checkNew(this instanceof t?this.constructor:void 0,t),void 0===r&&Pn.throwArgumentError("missing provider","provider",r),"function"===typeof r?(o="unknown:",s=r):(!(o=r.host||r.path||"")&&r.isStarMask&&(o="starmask"),a=r,r.sendAsync?s=Tn(0,r.sendAsync.bind(r)):r.send?s=Tn(0,r.send.bind(r)):Pn.throwArgumentError("unsupported provider","provider",r),o||(o="unknown:")),i=e.call(this,o,n)||this,(0,b.defineReadOnly)(I(i),"jsonRpcFetchFunc",s),(0,b.defineReadOnly)(I(i),"provider",a),i}return A(t,e),t.prototype.send=function(e,t){return this.jsonRpcFetchFunc(e,t)},t}(hn),An=new w.Logger(br),Sn=1,In={__proto__:null,CONSTANTS:Wr,Event:Gr,RPC_ACTION:Jr,BaseProvider:$r,formatMoveStruct:Vr,formatMoveValue:Lr,Formatter:jr,JsonRpcSigner:cn,JsonRpcProvider:hn,Web3Provider:Nn,WebsocketProvider:function(e){function t(t,r){var n;"any"===r&&An.throwError("WebSocketProvider does not support 'any' network yet",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(n=e.call(this,t,r)||this)._pollingInterval=-1,n._wsReady=!1,(0,b.defineReadOnly)(I(n),"_websocket",new x(n.connection.url)),(0,b.defineReadOnly)(I(n),"_requests",{}),(0,b.defineReadOnly)(I(n),"_subs",{}),(0,b.defineReadOnly)(I(n),"_subIds",{}),(0,b.defineReadOnly)(I(n),"_detectNetwork",e.prototype.detectNetwork.call(I(n))),n._websocket.onopen=function(){n._wsReady=!0,Object.keys(n._requests).forEach((function(e){n._websocket.send(n._requests[e].payload)}))},n._websocket.onmessage=function(e){var t=e.data,r=JSON.parse(t);if(null!=r.id){var i,o=String(r.id),s=n._requests[o];if(delete n._requests[o],void 0!==r.result)s.callback(null,r.result),n.emit("debug",{action:"response",request:JSON.parse(s.payload),response:r.result,provider:I(n)});else r.error?(i=new Error(r.error.message||"unknown error"),(0,b.defineReadOnly)(i,"code",r.error.code||null),(0,b.defineReadOnly)(i,"response",t)):i=new Error("unknown error"),s.callback(i,void 0),n.emit("debug",{action:"response",error:i,request:JSON.parse(s.payload),provider:I(n)})}else if("starcoin_subscription"===r.method){var a=n._subs[r.params.subscription];a&&a.processFunc(r.params.result)}else console.warn("this should not happen")};var i=setInterval((function(){n.emit("poll")}),1e3);return i.unref&&i.unref(),n}A(t,e);var r=t.prototype;return r.detectNetwork=function(){return this._detectNetwork},r.poll=function(){return Promise.resolve(null)},r.send=function(e,t){var r=this,n=Sn++;return new Promise((function(i,o){var s=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});r.emit("debug",{action:"request",request:JSON.parse(s),provider:r}),r._requests[String(n)]={callback:function(e,t){return e?o(e):i(t)},payload:s},r._wsReady&&r._websocket.send(s)}))},t.defaultUrl=function(){return"ws://localhost:9870"},r._subscribe=function(e,t,r){try{var n=this,i=n._subIds[e];return null==i&&(i=Promise.all(t).then((function(e){return n.send("starcoin_subscribe",e)})),n._subIds[e]=i),Promise.resolve(i).then((function(t){n._subs[t]={tag:e,processFunc:r}}))}catch(o){return Promise.reject(o)}},r._startEvent=function(e){var t=this;switch(e.type){case Wr.block:this._subscribe(Wr.block,[{type_name:"newHeads"}],(function(e){var r=t.formatter.u64(e.header.number);t._emitted.block=r,t.emit(Wr.block,r)}));break;case Wr.pending:this._subscribe(Wr.pending,[{type_name:"newPendingTransactions"}],(function(e){t.emit(Wr.pending,e)}));break;case Wr.filter:this._subscribe(e.tag,[{type_name:"events"},e.filter],(function(r){t.emit(e.filter,t.formatter.transactionEvent(r))}));break;case Wr.tx:var r=function(e){var r=e.hash;t.getTransactionInfo(r).then((function(e){e&&t.emit(r,e)}))};r(e),this._subscribe(Wr.tx,[{type_name:"newHeads"}],(function(e){t._events.filter((function(e){return e.type===Wr.tx})).forEach(r)}));break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}},r._stopEvent=function(e){var t=this,r=e.tag;if(e.type===Wr.tx){if(this._events.filter((function(e){return e.type===Wr.tx})).length)return;r=Wr.tx}else if(this.listenerCount(e.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then((function(e){t._subs[e]&&(delete t._subs[e],t.send("starcoin_unsubscribe",[e]))})))},r.destroy=function(){try{var e=this,t=function(){e._websocket.close(1e3)},r=function(){if(e._websocket.readyState===x.CONNECTING)return Promise.resolve(new Promise((function(t){e._websocket.onopen=function(){t(!0)},e._websocket.onerror=function(){t(!1)}}))).then((function(){}))}();return Promise.resolve(r&&r.then?r.then(t):t())}catch(n){return Promise.reject(n)}},T(t,[{key:"pollingInterval",get:function(){return 0},set:function(e){An.throwError("cannot set polling interval on WebSocketProvider",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"polling",set:function(e){e&&An.throwError("cannot set polling on WebSocketProvider",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}}]),t}(hn)},Bn=function(){function e(e){this.token_code=e}return e.prototype.serialize=function(e){this.token_code.serialize(e)},e.deserialize=function(t){return new e(Hn.deserialize(t))},e}(),Un=function(){function e(e){this.value=e}return e.prototype.serialize=function(e){Dn.serializeArray16U8Array(this.value,e)},e.deserialize=function(t){return new e(Dn.deserializeArray16U8Array(t))},e}(),On=function(){function e(e,t,r,n){this.block_number=e,this.block_reward=t,this.gas_fees=r,this.miner=n}return e.prototype.serialize=function(e){e.serializeU64(this.block_number),e.serializeU128(this.block_reward),e.serializeU128(this.gas_fees),this.miner.serialize(e)},e.deserialize=function(t){return new e(t.deserializeU64(),t.deserializeU128(),t.deserializeU128(),Un.deserialize(t))},e}(),Rn=function(){function e(e,t){this.amount=e,this.token_code=t}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},e.deserialize=function(t){return new e(t.deserializeU128(),Hn.deserialize(t))},e}(),Vn=function(){function e(e,t,r){this.amount=e,this.token_code=t,this.metadata=r}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),Dn.serializeVectorU8(this.metadata,e)},e.deserialize=function(t){return new e(t.deserializeU128(),Hn.deserialize(t),Dn.deserializeVectorU8(t))},e}(),Ln=function(){function e(e,t){this.amount=e,this.token_code=t}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e)},e.deserialize=function(t){return new e(t.deserializeU128(),Hn.deserialize(t))},e}(),jn=function(){function e(e,t,r,n){this.number=e,this.author=t,this.timestamp=r,this.uncles=n}return e.prototype.serialize=function(e){e.serializeU64(this.number),this.author.serialize(e),e.serializeU64(this.timestamp),e.serializeU64(this.uncles)},e.deserialize=function(t){return new e(t.deserializeU64(),Un.deserialize(t),t.deserializeU64(),t.deserializeU64())},e}(),Cn=function(){function e(e,t){this.proposal_id=e,this.proposer=t}return e.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e)},e.deserialize=function(t){return new e(t.deserializeU64(),Un.deserialize(t))},e}(),Hn=function(){function e(e,t,r){this.address=e,this.module=t,this.name=r}return e.prototype.serialize=function(e){this.address.serialize(e),e.serializeStr(this.module),e.serializeStr(this.name)},e.deserialize=function(t){return new e(Un.deserialize(t),t.deserializeStr(),t.deserializeStr())},e}(),Fn=function(){function e(e,t,r,n,i){this.proposal_id=e,this.proposer=t,this.voter=r,this.agree=n,this.vote=i}return e.prototype.serialize=function(e){e.serializeU64(this.proposal_id),this.proposer.serialize(e),this.voter.serialize(e),e.serializeBool(this.agree),e.serializeU128(this.vote)},e.deserialize=function(t){return new e(t.deserializeU64(),Un.deserialize(t),Un.deserialize(t),t.deserializeBool(),t.deserializeU128())},e}(),qn=function(){function e(e,t,r){this.amount=e,this.token_code=t,this.metadata=r}return e.prototype.serialize=function(e){e.serializeU128(this.amount),this.token_code.serialize(e),Dn.serializeVectorU8(this.metadata,e)},e.deserialize=function(t){return new e(t.deserializeU128(),Hn.deserialize(t),Dn.deserializeVectorU8(t))},e}(),Dn=function(){function e(){}return e.serializeArray16U8Array=function(e,t){e.forEach((function(e){t.serializeU8(e[0])}))},e.deserializeArray16U8Array=function(e){for(var t=[],r=0;r<16;r++)t.push([e.deserializeU8()]);return t},e.serializeVectorU8=function(e,t){t.serializeLen(e.length),e.forEach((function(e){t.serializeU8(e)}))},e.deserializeVectorU8=function(e){for(var t=e.deserializeLen(),r=[],n=0;n<t;n++)r.push(e.deserializeU8());return r},e}(),Kn={__proto__:null,AcceptTokenEvent:Bn,AccountAddress:Un,BlockRewardEvent:On,BurnEvent:Rn,DepositEvent:Vn,MintEvent:Ln,NewBlockEvent:jn,ProposalCreatedEvent:Cn,TokenCode:Hn,VoteChangedEvent:Fn,WithdrawEvent:qn,Helpers:Dn};Hn.prototype.toJS=function(){return{address:Xt(this.address),module:this.module,name:this.name}},Vn.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},Bn.prototype.toJS=function(){return{token_code:this.token_code.toJS()}},On.prototype.toJS=function(){return{block_number:this.block_number,block_reward:this.block_reward,gas_fees:this.gas_fees,miner:Xt(this.miner)}},Rn.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},Ln.prototype.toJS=function(){return{amount:this.amount,token_code:this.token_code.toJS()}},jn.prototype.toJS=function(){return{number:this.number,author:Xt(this.author),timestamp:this.timestamp,uncles:this.uncles}},Cn.prototype.toJS=function(){return{proposal_id:this.proposal_id,proposer:Xt(this.proposer)}},Fn.prototype.toJS=function(){return{agree:this.agree,vote:this.vote,voter:Xt(this.voter),proposal_id:this.proposal_id,proposer:Xt(this.proposer)}},qn.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}},Vn.prototype.toJS=function(){return{amount:this.amount,metadata:this.metadata,token_code:this.token_code.toJS()}};var Wn={__proto__:null,decodeEventKey:function(e){var t=(0,i.arrayify)(e);if(24!==t.byteLength)throw new Error("invalid eventkey data, expect byte length to be 24, actual: "+t.byteLength);var r=t.slice(0,8),n=P.from(r).readBigUInt64LE();return{address:Ct(t.slice(8)),salt:n}},decodeEventData:function(e,t){return Kt(Kn[e],t)}}},609404:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(314851).Buffer}catch(x){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,c=new e(o),l=this.clone();if(u){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,v=0|s[2],g=8191&v,w=v>>>13,y=0|s[3],_=8191&y,b=y>>>13,z=0|s[4],M=8191&z,k=z>>>13,x=0|s[5],P=8191&x,E=x>>>13,T=0|s[6],N=8191&T,A=T>>>13,S=0|s[7],I=8191&S,B=S>>>13,U=0|s[8],O=8191&U,R=U>>>13,V=0|s[9],L=8191&V,j=V>>>13,C=0|a[0],H=8191&C,F=C>>>13,q=0|a[1],D=8191&q,K=q>>>13,W=0|a[2],Z=8191&W,G=W>>>13,J=0|a[3],X=8191&J,$=J>>>13,Q=0|a[4],Y=8191&Q,ee=Q>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,me=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(c+(n=Math.imul(h,H))|0)+((8191&(i=(i=Math.imul(h,F))+Math.imul(f,H)|0))<<13)|0;c=((o=Math.imul(f,F))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(p,H),i=(i=Math.imul(p,F))+Math.imul(m,H)|0,o=Math.imul(m,F);var ge=(c+(n=n+Math.imul(h,D)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,D)|0))<<13)|0;c=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,H),i=(i=Math.imul(g,F))+Math.imul(w,H)|0,o=Math.imul(w,F),n=n+Math.imul(p,D)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,D)|0,o=o+Math.imul(m,K)|0;var we=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(_,H),i=(i=Math.imul(_,F))+Math.imul(b,H)|0,o=Math.imul(b,F),n=n+Math.imul(g,D)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(w,D)|0,o=o+Math.imul(w,K)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,G)|0;var ye=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,$)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(M,H),i=(i=Math.imul(M,F))+Math.imul(k,H)|0,o=Math.imul(k,F),n=n+Math.imul(_,D)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(b,D)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,$)|0;var _e=(c+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,H),i=(i=Math.imul(P,F))+Math.imul(E,H)|0,o=Math.imul(E,F),n=n+Math.imul(M,D)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(k,D)|0,o=o+Math.imul(k,K)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,ee)|0;var be=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(N,H),i=(i=Math.imul(N,F))+Math.imul(A,H)|0,o=Math.imul(A,F),n=n+Math.imul(P,D)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(E,D)|0,o=o+Math.imul(E,K)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var ze=(c+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(ze>>>26)|0,ze&=67108863,n=Math.imul(I,H),i=(i=Math.imul(I,F))+Math.imul(B,H)|0,o=Math.imul(B,F),n=n+Math.imul(N,D)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(A,D)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,G)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Me=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(O,H),i=(i=Math.imul(O,F))+Math.imul(R,H)|0,o=Math.imul(R,F),n=n+Math.imul(I,D)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(B,D)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(E,X)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0;var ke=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,F))+Math.imul(j,H)|0,o=Math.imul(j,F),n=n+Math.imul(O,D)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(R,D)|0,o=o+Math.imul(R,K)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,fe)|0;var xe=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,D),i=(i=Math.imul(L,K))+Math.imul(j,D)|0,o=Math.imul(j,K),n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,G)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,$)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,n=n+Math.imul(g,he)|0,i=(i=i+Math.imul(g,fe)|0)+Math.imul(w,he)|0,o=o+Math.imul(w,fe)|0;var Pe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,G))+Math.imul(j,Z)|0,o=Math.imul(j,G),n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,$)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,ce)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,fe)|0;var Ee=(c+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,X),i=(i=Math.imul(L,$))+Math.imul(j,X)|0,o=Math.imul(j,$),n=n+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(k,he)|0,o=o+Math.imul(k,fe)|0;var Te=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,Y),i=(i=Math.imul(L,ee))+Math.imul(j,Y)|0,o=Math.imul(j,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,fe)|0;var Ne=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,o=Math.imul(j,ne),n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,ce)|0,n=n+Math.imul(N,he)|0,i=(i=i+Math.imul(N,fe)|0)+Math.imul(A,he)|0,o=o+Math.imul(A,fe)|0;var Ae=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,oe),i=(i=Math.imul(L,se))+Math.imul(j,oe)|0,o=Math.imul(j,se),n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,n=n+Math.imul(I,he)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(B,he)|0,o=o+Math.imul(B,fe)|0;var Se=(c+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,o=Math.imul(j,ce),n=n+Math.imul(O,he)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,fe)|0;var Ie=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((o=o+Math.imul(B,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(L,he),i=(i=Math.imul(L,fe))+Math.imul(j,he)|0,o=Math.imul(j,fe);var Be=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ue=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,me))+Math.imul(j,pe)|0))<<13)|0;return c=((o=Math.imul(j,me))+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,u[0]=ve,u[1]=ge,u[2]=we,u[3]=ye,u[4]=_e,u[5]=be,u[6]=ze,u[7]=Me,u[8]=ke,u[9]=xe,u[10]=Pe,u[11]=Ee,u[12]=Te,u[13]=Ne,u[14]=Ae,u[15]=Se,u[16]=Ie,u[17]=Be,u[18]=Ue,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new v).mulp(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},v.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<s;d++){var p=r[l+d],m=n[l+d],v=r[l+d+s],g=n[l+d+s],w=h*v-f*g;g=h*g+f*v,v=w,r[l+d]=p+v,n[l+d]=m+g,r[l+d+s]=p-v,n[l+d+s]=m-g,d!==a&&(w=u*h-c*f,f=u*f+c*h,h=w)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0===(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new M(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(y,w),y.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,w),i(b,w),i(z,w),z.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new _;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new z}return g[e]=t,t},M.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var m=d,v=0;0!==m.cmp(a);v++)m=m.redSqr();n(v<p);var g=this.pow(h,new o(1).iushln(p-v-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=v}return f},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,M),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},587017:(e,t,r)=>{var n=r(348834).Buffer;const i=r(377270),o=r(697637),s=r(571696),a=r(622644),u=r(609404),c=r(616162);t.MAX_INTEGER=new u("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new u("10000000000000000000000000000000000000000000000000000000000000000",16),t.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.SHA3_NULL=n.from(t.SHA3_NULL_S,"hex"),t.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.SHA3_RLP_ARRAY=n.from(t.SHA3_RLP_ARRAY_S,"hex"),t.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.SHA3_RLP=n.from(t.SHA3_RLP_S,"hex"),t.BN=u,t.rlp=a,t.secp256k1=o,t.zeros=function(e){return n.allocUnsafe(e).fill(0)},t.setLengthLeft=t.setLength=function(e,r,n){var i=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)},t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=t.stripZeros=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},t.toBuffer=function(e){if(!n.isBuffer(e))if(Array.isArray(e))e=n.from(e);else if("string"===typeof e)e=t.isHexPrefixed(e)?n.from(t.padToEven(t.stripHexPrefix(e)),"hex"):n.from(e);else if("number"===typeof e)e=t.intToBuffer(e);else if(null===e||void 0===e)e=n.allocUnsafe(0);else{if(!e.toArray)throw new Error("invalid type");e=n.from(e.toArray())}return e},t.intToHex=function(e){s(e%1===0,"number is not a integer"),s(e>=0,"number must be positive");var t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t},t.intToBuffer=function(e){var r=t.intToHex(e);return n.from(r.slice(2),"hex")},t.bufferToInt=function(e){return new u(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new u(e).fromTwos(256)},t.toUnsigned=function(e){return n.from(e.toTwos(256).toArray())},t.sha3=function(e,r){return e=t.toBuffer(e),r||(r=256),i("keccak"+r).update(e).digest()},t.sha256=function(e){return e=t.toBuffer(e),c("sha256").update(e).digest()},t.ripemd160=function(e,r){e=t.toBuffer(e);var n=c("rmd160").update(e).digest();return!0===r?t.setLength(n,32):n},t.rlphash=function(e){return t.sha3(a.encode(e))},t.isValidPrivate=function(e){return o.privateKeyVerify(e)},t.isValidPublic=function(e,t){return 64===e.length?o.publicKeyVerify(n.concat([n.from([4]),e])):!!t&&o.publicKeyVerify(e)},t.pubToAddress=t.publicToAddress=function(e,r){return e=t.toBuffer(e),r&&64!==e.length&&(e=o.publicKeyConvert(e,!1).slice(1)),s(64===e.length),t.sha3(e).slice(-20)};var l=t.privateToPublic=function(e){return e=t.toBuffer(e),o.publicKeyCreate(e,!1).slice(1)};t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=o.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t){var r=o.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},t.hashPersonalMessage=function(e){var r=t.toBuffer("\x19Ethereum Signed Message:\n"+e.length.toString());return t.sha3(n.concat([r,e]))},t.ecrecover=function(e,r,i,s){var a=n.concat([t.setLength(i,32),t.setLength(s,32)],64),u=r-27;if(0!==u&&1!==u)throw new Error("Invalid signature v value");var c=o.recover(e,a,u);return o.publicKeyConvert(c,!1).slice(1)},t.toRpcSig=function(e,r,i){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return t.bufferToHex(n.concat([t.setLengthLeft(r,32),t.setLengthLeft(i,32),t.toBuffer(e-27)]))},t.fromRpcSig=function(e){if(65!==(e=t.toBuffer(e)).length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(l(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/i.test(e)},t.toChecksumAddress=function(e){e=t.stripHexPrefix(e).toLowerCase();for(var r=t.sha3(e).toString("hex"),n="0x",i=0;i<e.length;i++)parseInt(r[i],16)>=8?n+=e[i].toUpperCase():n+=e[i];return n},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,r){return e=t.toBuffer(e),r=(r=new u(r)).isZero()?null:n.from(r.toArray()),t.rlphash([e,r]).slice(-20)},t.isPrecompiled=function(e){var r=t.unpad(e);return 1===r.length&&r[0]>0&&r[0]<5},t.isHexPrefixed=function(e){return"0x"===e.slice(0,2)},t.stripHexPrefix=function(e){return"string"!==typeof e?e:t.isHexPrefixed(e)?e.slice(2):e},t.addHexPrefix=function(e){return"string"!==typeof e||t.isHexPrefixed(e)?e:"0x"+e},t.padToEven=function(e){return e.length%2&&(e="0"+e),e};const h=new u("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),f=new u("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);t.isValidSignature=function(e,t,r,n){return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new u(t),r=new u(r),!(t.isZero()||t.gt(f)||r.isZero()||r.gt(f))&&(!1!==n||1!==new u(r).cmp(h))))},t.baToJSON=function(e){if(n.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],i=0;i<e.length;i++)r.push(t.baToJSON(e[i]));return r}},t.defineProperties=function(e,r,i){if(e.raw=[],e._fields=[],e.toJSON=function(r){if(r){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return t.baToJSON(this.raw)},e.serialize=function(){return a.encode(e.raw)},r.forEach((function(r,i){function o(){return e.raw[i]}function a(o){"00"!==(o=t.toBuffer(o)).toString("hex")||r.allowZero||(o=n.allocUnsafe(0)),r.allowLess&&r.length?(o=t.stripZeros(o),s(r.length>=o.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===o.length||!r.length||s(r.length===o.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[i]=o}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:o,set:a}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:a,get:o})})),i)if("string"===typeof i&&(i=n.from(t.stripHexPrefix(i),"hex")),n.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>e._fields.length)throw new Error("wrong number of fields in data");i.forEach((function(r,n){e[e._fields[n]]=t.toBuffer(r)}))}else{if("object"!==typeof i)throw new Error("invalid data");{const t=Object.keys(i);r.forEach((function(r){-1!==t.indexOf(r.name)&&(e[r.name]=i[r.name]),-1!==t.indexOf(r.alias)&&(e[r.alias]=i[r.alias])}))}}}},437488:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Decimal:()=>je,default:()=>Ce});var n,i,o=9e15,s=1e9,a="0123456789abcdef",u="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",l={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-o,maxE:o,crypto:!1},h=!0,f="[DecimalError] ",d=f+"Invalid argument: ",p=f+"Precision limit exceeded",m=f+"crypto unavailable",v="[object Decimal]",g=Math.floor,w=Math.pow,y=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,M=1e7,k=7,x=u.length-1,P=c.length-1,E={toStringTag:v};function T(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",(r=k-n.length)&&(o+=j(r)),o+=n;s=e[t],(r=k-(n=s+"").length)&&(o+=j(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return o+s}function N(e,t,r){if(e!==~~e||e<t||e>r)throw Error(d+e)}function A(e,t,r,n){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=k,i=0):(i=Math.ceil((t+1)/k),t%=k),o=w(10,k-t),a=e[i]%o|0,null==n?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=r<4&&99999==a||r>3&&49999==a||5e4==a||0==a):s=(r<4&&a+1==o||r>3&&a+1==o/2)&&(e[i+1]/o/100|0)==w(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(n||r<4)&&9999==a||!n&&r>3&&4999==a):s=((n||r<4)&&a+1==o||!n&&r>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==w(10,t-3)-1,s}function S(e,t,r){for(var n,i,o=[0],s=0,u=e.length;s<u;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=a.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}E.absoluteValue=E.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),B(e)},E.ceil=function(){return B(new this.constructor(this),this.e+1,2)},E.clampedTo=E.clamp=function(e,t){var r=this,n=r.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(d+t);return r.cmp(e)<0?e:r.cmp(t)>0?t:new n(r)},E.comparedTo=E.cmp=function(e){var t,r,n,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,r=(n=s.length)<(i=a.length)?n:i;t<r;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},E.cosine=E.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+k,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?i=(1/J(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10");e.precision+=r,t=G(e,1,t.times(i),new e(1));for(var o=r;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}(n,X(n,r)),n.precision=e,n.rounding=t,B(2==i||3==i?r.neg():r,e,t,!0)):new n(1):new n(NaN)},E.cubeRoot=E.cbrt=function(){var e,t,r,n,i,o,s,a,u,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(h=!1,(o=l.s*w(l.s*l,1/3))&&Math.abs(o)!=1/0?n=new f(o.toString()):(r=T(l.d),(o=((e=l.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=w(r,1/3),e=g((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),s=(e=f.precision)+3;;)if(c=(u=(a=n).times(a).times(a)).plus(l),n=I(c.plus(l).times(a),c.plus(u),s+2,1),T(a.d).slice(0,s)===(r=T(n.d)).slice(0,s)){if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(B(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!i&&(B(a,e+1,0),a.times(a).times(a).eq(l))){n=a;break}s+=4,i=1}return h=!0,B(n,e,f.rounding,t)},E.decimalPlaces=E.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-g(this.e/k))*k,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},E.dividedBy=E.div=function(e){return I(this,new this.constructor(e))},E.dividedToIntegerBy=E.divToInt=function(e){var t=this.constructor;return B(I(this,new t(e),0,1,1),t.precision,t.rounding)},E.equals=E.eq=function(e){return 0===this.cmp(e)},E.floor=function(){return B(new this.constructor(this),this.e+1,3)},E.greaterThan=E.gt=function(e){return this.cmp(e)>0},E.greaterThanOrEqualTo=E.gte=function(e){var t=this.cmp(e);return 1==t||0===t},E.hyperbolicCosine=E.cosh=function(){var e,t,r,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;r=s.precision,n=s.rounding,s.precision=r+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/J(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=G(s,1,o.times(t),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=o.times(o),o=a.minus(u.times(l.minus(u.times(l))));return B(o,s.precision=r,s.rounding=n,!0)},E.hyperbolicSine=E.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=G(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=G(o,2,i=i.times(1/J(5,e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=t,o.rounding=r,B(i,t,r,!0)},E.hyperbolicTangent=E.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,I(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},E.inverseCosine=E.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,o=r.rounding;return-1!==n?0===n?t.isNeg()?V(r,i,o):new r(0):new r(NaN):t.isZero()?V(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=V(r,i+4,o).times(.5),r.precision=i,r.rounding=o,e.minus(t))},E.inverseHyperbolicCosine=E.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,h=!1,r=r.times(r).minus(1).sqrt().plus(r),h=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},E.inverseHyperbolicSine=E.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,h=!1,r=r.times(r).plus(1).sqrt().plus(r),h=!0,n.precision=e,n.rounding=t,r.ln())},E.inverseHyperbolicTangent=E.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?B(new o(i),e,t,!0):(o.precision=r=n-i.e,i=I(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},E.inverseSine=E.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t?0===t?((e=V(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},E.inverseTangent=E.atan=function(){var e,t,r,n,i,o,s,a,u,c=this,l=c.constructor,f=l.precision,d=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=P)return(s=V(l,f+4,d).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(f+4<=P)return(s=V(l,f+4,d).times(.5)).s=c.s,s}for(l.precision=a=f+10,l.rounding=1,e=r=Math.min(28,a/k+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(a/k),n=1,u=c.times(c),s=new l(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(n+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),h=!0,B(s,l.precision=f,l.rounding=d,!0)},E.isFinite=function(){return!!this.d},E.isInteger=E.isInt=function(){return!!this.d&&g(this.e/k)>this.d.length-2},E.isNaN=function(){return!this.s},E.isNegative=E.isNeg=function(){return this.s<0},E.isPositive=E.isPos=function(){return this.s>0},E.isZero=function(){return!!this.d&&0===this.d[0]},E.lessThan=E.lt=function(e){return this.cmp(e)<0},E.lessThanOrEqualTo=E.lte=function(e){return this.cmp(e)<1},E.logarithm=E.log=function(e){var t,r,n,i,o,s,a,u,c=this,l=c.constructor,f=l.precision,d=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new l(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t)if(r.length>1)o=!0;else{for(i=r[0];i%10===0;)i/=10;o=1!==i}if(h=!1,s=D(c,a=f+5),n=t?R(l,a+10):D(e,a),A((u=I(s,n,a,1)).d,i=f,d))do{if(s=D(c,a+=10),n=t?R(l,a+10):D(e,a),u=I(s,n,a,1),!o){+T(u.d).slice(i+1,i+15)+1==1e14&&(u=B(u,f+1,0));break}}while(A(u.d,i+=10,d));return h=!0,B(u,f,d)},E.minus=E.sub=function(e){var t,r,n,i,o,s,a,u,c,l,f,d,p=this,m=p.constructor;if(e=new m(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new m(e.d||p.s!==e.s?p:NaN):e=new m(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(c=p.d,d=e.d,a=m.precision,u=m.rounding,!c[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!c[0])return new m(3===u?-0:0);e=new m(p)}return h?B(e,a,u):e}if(r=g(e.e/k),l=g(p.e/k),c=c.slice(),o=l-r){for((f=o<0)?(t=c,o=-o,s=d.length):(t=d,r=l,s=c.length),o>(n=Math.max(Math.ceil(a/k),s)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((f=(n=c.length)<(s=d.length))&&(s=n),n=0;n<s;n++)if(c[n]!=d[n]){f=c[n]<d[n];break}o=0}for(f&&(t=c,c=d,d=t,e.s=-e.s),s=c.length,n=d.length-s;n>0;--n)c[s++]=0;for(n=d.length;n>o;){if(c[--n]<d[n]){for(i=n;i&&0===c[--i];)c[i]=M-1;--c[i],c[n]+=M}c[n]-=d[n]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=O(c,r),h?B(e,a,u):e):new m(3===u?-0:0)},E.modulo=E.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?B(new n(r),n.precision,n.rounding):(h=!1,9==n.modulo?(t=I(r,e.abs(),0,3,1)).s*=e.s:t=I(r,e,0,n.modulo,1),t=t.times(e),h=!0,r.minus(t))},E.naturalExponential=E.exp=function(){return q(this)},E.naturalLogarithm=E.ln=function(){return D(this)},E.negated=E.neg=function(){var e=new this.constructor(this);return e.s=-e.s,B(e)},E.plus=E.add=function(e){var t,r,n,i,o,s,a,u,c,l,f=this,d=f.constructor;if(e=new d(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new d(e.d||f.s===e.s?f:NaN)):e=new d(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,l=e.d,a=d.precision,u=d.rounding,!c[0]||!l[0])return l[0]||(e=new d(f)),h?B(e,a,u):e;if(o=g(f.e/k),n=g(e.e/k),c=c.slice(),i=o-n){for(i<0?(r=c,i=-i,s=l.length):(r=l,n=o,s=c.length),i>(s=(o=Math.ceil(a/k))>s?o+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=c.length)-(i=l.length)<0&&(i=s,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/M|0,c[i]%=M;for(t&&(c.unshift(t),++n),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=O(c,n),h?B(e,a,u):e},E.precision=E.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(d+e);return r.d?(t=L(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},E.round=function(){var e=this,t=e.constructor;return B(new t(e),e.e+1,t.rounding)},E.sine=E.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+k,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:G(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t.times(1/J(5,r)),t=G(e,2,t,t);for(var i,o=new e(5),s=new e(16),a=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(n,X(n,r)),n.precision=e,n.rounding=t,B(i>2?r.neg():r,e,t,!0)):new n(NaN)},E.squareRoot=E.sqrt=function(){var e,t,r,n,i,o,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(h=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=T(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=g((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;)if(n=(o=n).plus(I(s,o,r+2,1)).times(.5),T(o.d).slice(0,r)===(t=T(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(B(n,u+1,1),e=!n.times(n).eq(s));break}if(!i&&(B(o,u+1,0),o.times(o).eq(s))){n=o;break}r+=4,i=1}return h=!0,B(n,u,l.rounding,e)},E.tangent=E.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=I(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,B(2==i||4==i?r.neg():r,e,t,!0)):new n(NaN)},E.times=E.mul=function(e){var t,r,n,i,o,s,a,u,c,l=this,f=l.constructor,d=l.d,p=(e=new f(e)).d;if(e.s*=l.s,!d||!d[0]||!p||!p[0])return new f(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:d&&p?0*e.s:e.s/0);for(r=g(l.e/k)+g(e.e/k),(u=d.length)<(c=p.length)&&(o=d,d=p,p=o,s=u,u=c,c=s),o=[],n=s=u+c;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)a=o[i]+p[n]*d[i-n-1]+t,o[i--]=a%M|0,t=a/M|0;o[i]=(o[i]+t)%M|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=O(o,r),h?B(e,f.precision,f.rounding):e},E.toBinary=function(e,t){return $(this,2,e,t)},E.toDecimalPlaces=E.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(N(e,0,s),void 0===t?t=n.rounding:N(t,0,8),B(r,e+r.e+1,t))},E.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=U(n,!0):(N(e,0,s),void 0===t?t=i.rounding:N(t,0,8),r=U(n=B(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},E.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?r=U(i):(N(e,0,s),void 0===t?t=o.rounding:N(t,0,8),r=U(n=B(new o(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},E.toFraction=function(e){var t,r,n,i,o,s,a,u,c,l,f,p,m=this,v=m.d,g=m.constructor;if(!v)return new g(m);if(c=r=new g(1),n=u=new g(0),s=(o=(t=new g(n)).e=L(v)-m.e-1)%k,t.d[0]=w(10,s<0?k+s:s),null==e)e=o>0?t:c;else{if(!(a=new g(e)).isInt()||a.lt(c))throw Error(d+a);e=a.gt(t)?o>0?t:c:a}for(h=!1,a=new g(T(v)),l=g.precision,g.precision=o=v.length*k*2;f=I(a,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,i=c,c=u.plus(f.times(i)),u=i,i=t,t=a.minus(f.times(i)),a=i;return i=I(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=m.s,p=I(c,n,o,1).minus(m).abs().cmp(I(u,r,o,1).minus(m).abs())<1?[c,n]:[u,r],g.precision=l,h=!0,p},E.toHexadecimal=E.toHex=function(e,t){return $(this,16,e,t)},E.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:N(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(h=!1,r=I(r,e,0,t,1).times(e),h=!0,B(r)):(e.s=r.s,r=e),r},E.toNumber=function(){return+this},E.toOctal=function(e,t){return $(this,8,e,t)},E.toPower=E.pow=function(e){var t,r,n,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new u(w(+a,c));if((a=new u(a)).eq(1))return a;if(n=u.precision,o=u.rounding,e.eq(1))return B(a,n,o);if((t=g(e.e/k))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=C(u,a,r,n),e.s<0?new u(1).div(i):B(i,n,o);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(r=w(+a,c))&&isFinite(r)?new u(r+"").e:g(c*(Math.log("0."+T(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(h=!1,u.rounding=a.s=1,r=Math.min(12,(t+"").length),(i=q(e.times(D(a,n+r)),n)).d&&A((i=B(i,n+5,1)).d,n,o)&&(t=n+10,+T((i=B(q(e.times(D(a,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=B(i,n+1,0))),i.s=s,h=!0,u.rounding=o,B(i,n,o))},E.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=U(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(N(e,1,s),void 0===t?t=i.rounding:N(t,0,8),r=U(n=B(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},E.toSignificantDigits=E.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(N(e,1,s),void 0===t?t=r.rounding:N(t,0,8)),B(new r(this),e,t)},E.toString=function(){var e=this,t=e.constructor,r=U(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},E.truncated=E.trunc=function(){return B(new this.constructor(this),this.e+1,1)},E.valueOf=E.toJSON=function(){var e=this,t=e.constructor,r=U(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var I=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,o,s,a,u,c){var l,h,f,d,p,m,v,w,y,_,b,z,x,P,E,T,N,A,S,I,U=i.constructor,O=i.s==o.s?1:-1,R=i.d,V=o.d;if(!R||!R[0]||!V||!V[0])return new U(i.s&&o.s&&(R?!V||R[0]!=V[0]:V)?R&&0==R[0]||!V?0*O:O/0:NaN);for(c?(p=1,h=i.e-o.e):(c=M,p=k,h=g(i.e/p)-g(o.e/p)),S=V.length,N=R.length,_=(y=new U(O)).d=[],f=0;V[f]==(R[f]||0);f++);if(V[f]>(R[f]||0)&&h--,null==s?(P=s=U.precision,a=U.rounding):P=u?s+(i.e-o.e)+1:s,P<0)_.push(1),m=!0;else{if(P=P/p+2|0,f=0,1==S){for(d=0,V=V[0],P++;(f<N||d)&&P--;f++)E=d*c+(R[f]||0),_[f]=E/V|0,d=E%V|0;m=d||f<N}else{for((d=c/(V[0]+1)|0)>1&&(V=e(V,d,c),R=e(R,d,c),S=V.length,N=R.length),T=S,z=(b=R.slice(0,S)).length;z<S;)b[z++]=0;(I=V.slice()).unshift(0),A=V[0],V[1]>=c/2&&++A;do{d=0,(l=t(V,b,S,z))<0?(x=b[0],S!=z&&(x=x*c+(b[1]||0)),(d=x/A|0)>1?(d>=c&&(d=c-1),1==(l=t(v=e(V,d,c),b,w=v.length,z=b.length))&&(d--,r(v,S<w?I:V,w,c))):(0==d&&(l=d=1),v=V.slice()),(w=v.length)<z&&v.unshift(0),r(b,v,z,c),-1==l&&(l=t(V,b,S,z=b.length))<1&&(d++,r(b,S<z?I:V,z,c)),z=b.length):0===l&&(d++,b=[0]),_[f++]=d,l&&b[0]?b[z++]=R[T]||0:(b=[R[T]],z=1)}while((T++<N||void 0!==b[0])&&P--);m=void 0!==b[0]}_[0]||_.shift()}if(1==p)y.e=h,n=m;else{for(f=1,d=_[0];d>=10;d/=10)f++;y.e=f+h*p-1,B(y,u?s+y.e+1:s,a,m)}return y}}();function B(e,t,r,n){var i,o,s,a,u,c,l,f,d,p=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,a=f[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=k,s=t,u=(l=f[d=0])/w(10,i-s-1)%10|0;else if((d=Math.ceil((o+1)/k))>=(a=f.length)){if(!n)break e;for(;a++<=d;)f.push(0);l=u=0,i=1,s=(o%=k)-k+1}else{for(l=a=f[d],i=1;a>=10;a/=10)i++;u=(s=(o%=k)-k+i)<0?0:l/w(10,i-s-1)%10|0}if(n=n||t<0||void 0!==f[d+1]||(s<0?l:l%w(10,i-s-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(o>0?s>0?l/w(10,i-s):0:f[d-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=e.e+1,f[0]=w(10,(k-t%k)%k),e.e=-t||0):f[0]=e.e=0,e;if(0==o?(f.length=d,a=1,d--):(f.length=d+1,a=w(10,k-o),f[d]=s>0?(l/w(10,i-s)%w(10,s)|0)*a:0),c)for(;;){if(0==d){for(o=1,s=f[0];s>=10;s/=10)o++;for(s=f[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,f[0]==M&&(f[0]=1));break}if(f[d]+=a,f[d]!=M)break;f[d--]=0,a=1}for(o=f.length;0===f[--o];)f.pop()}return h&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function U(e,t,r){if(!e.isFinite())return K(e);var n,i=e.e,o=T(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+j(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+j(-i-1)+o,r&&(n=r-s)>0&&(o+=j(n))):i>=s?(o+=j(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+j(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=j(n))),o}function O(e,t){var r=e[0];for(t*=k;r>=10;r/=10)t++;return t}function R(e,t,r){if(t>x)throw h=!0,r&&(e.precision=r),Error(p);return B(new e(u),t,1,!0)}function V(e,t,r){if(t>P)throw Error(p);return B(new e(c),t,r,!0)}function L(e){var t=e.length-1,r=t*k+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function j(e){for(var t="";e--;)t+="0";return t}function C(e,t,r,n){var i,o=new e(1),s=Math.ceil(n/k+4);for(h=!1;;){if(r%2&&Q((o=o.times(t)).d,s)&&(i=!0),0===(r=g(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}Q((t=t.times(t)).d,s)}return h=!0,o}function H(e){return 1&e.d[e.d.length-1]}function F(e,t,r){for(var n,i=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){i=n;break}i[r](n)&&(i=n)}return i}function q(e,t){var r,n,i,o,s,a,u,c=0,l=0,f=0,d=e.constructor,p=d.rounding,m=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(h=!1,u=m):u=t,a=new d(.03125);e.e>-2;)e=e.times(a),f+=5;for(u+=n=Math.log(w(2,f))/Math.LN10*2+5|0,r=o=s=new d(1),d.precision=u;;){if(o=B(o.times(e),u,1),r=r.times(++l),T((a=s.plus(I(o,r,u,1))).d).slice(0,u)===T(s.d).slice(0,u)){for(i=f;i--;)s=B(s.times(s),u,1);if(null!=t)return d.precision=m,s;if(!(c<3&&A(s.d,u-n,p,c)))return B(s,d.precision=m,p,h=!0);d.precision=u+=10,r=o=a=new d(1),l=0,c++}s=a}}function D(e,t){var r,n,i,o,s,a,u,c,l,f,d,p=1,m=e,v=m.d,g=m.constructor,w=g.rounding,y=g.precision;if(m.s<0||!v||!v[0]||!m.e&&1==v[0]&&1==v.length)return new g(v&&!v[0]?-1/0:1!=m.s?NaN:v?0:m);if(null==t?(h=!1,l=y):l=t,g.precision=l+=10,n=(r=T(v)).charAt(0),!(Math.abs(o=m.e)<15e14))return c=R(g,l+2,y).times(o+""),m=D(new g(n+"."+r.slice(1)),l-10).plus(c),g.precision=y,null==t?B(m,y,w,h=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=T((m=m.times(e)).d)).charAt(0),p++;for(o=m.e,n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1)),f=m,u=s=m=I(m.minus(1),m.plus(1),l,1),d=B(m.times(m),l,1),i=3;;){if(s=B(s.times(d),l,1),T((c=u.plus(I(s,new g(i),l,1))).d).slice(0,l)===T(u.d).slice(0,l)){if(u=u.times(2),0!==o&&(u=u.plus(R(g,l+2,y).times(o+""))),u=I(u,new g(p),l,1),null!=t)return g.precision=y,u;if(!A(u.d,l-10,w,a))return B(u,g.precision=y,w,h=!0);g.precision=l+=10,c=s=m=I(f.minus(1),f.plus(1),l,1),d=B(m.times(m),l,1),i=a=1}u=c,i+=2}}function K(e){return String(e.s*e.s/0)}function W(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%k,r<0&&(n+=k),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=k;n<i;)e.d.push(+t.slice(n,n+=k));t=t.slice(n),n=k-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),h&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Z(e,t){var r,n,i,o,s,a,u,c,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),z.test(t))return W(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(_.test(t))r=16,t=t.toLowerCase();else if(y.test(t))r=2;else{if(!b.test(t))throw Error(d+t);r=8}for((o=t.search(/p/i))>0?(u=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),s=(o=t.indexOf("."))>=0,n=e.constructor,s&&(o=(a=(t=t.replace(".","")).length)-o,i=C(n,new n(r),o,2*o)),o=l=(c=S(t,r,M)).length-1;0===c[o];--o)c.pop();return o<0?new n(0*e.s):(e.e=O(c,l),e.d=c,h=!1,s&&(e=I(e,i,4*a)),u&&(e=e.times(Math.abs(u)<54?w(2,u):je.pow(2,u))),h=!0,e)}function G(e,t,r,n,i){var o,s,a,u,c=e.precision,l=Math.ceil(c/k);for(h=!1,u=r.times(r),a=new e(n);;){if(s=I(a.times(u),new e(t++*t++),c,1),a=i?n.plus(s):n.minus(s),n=I(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(n)).d[l]){for(o=l;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=n,n=s,s=o}return h=!0,s.d.length=l+1,s}function J(e,t){for(var r=e;--t;)r*=e;return r}function X(e,t){var r,n=t.s<0,o=V(e,e.precision,1),s=o.times(.5);if((t=t.abs()).lte(s))return i=n?4:1,t;if((r=t.divToInt(o)).isZero())i=n?3:2;else{if((t=t.minus(r.times(o))).lte(s))return i=H(r)?n?2:3:n?4:1,t;i=H(r)?n?1:4:n?3:2}return t.minus(o).abs()}function $(e,t,r,i){var o,u,c,l,h,f,d,p,m,v=e.constructor,g=void 0!==r;if(g?(N(r,1,s),void 0===i?i=v.rounding:N(i,0,8)):(r=v.precision,i=v.rounding),e.isFinite()){for(g?(o=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):o=t,(c=(d=U(e)).indexOf("."))>=0&&(d=d.replace(".",""),(m=new v(1)).e=d.length-c,m.d=S(U(m),10,o),m.e=m.d.length),u=h=(p=S(d,10,o)).length;0==p[--h];)p.pop();if(p[0]){if(c<0?u--:((e=new v(e)).d=p,e.e=u,p=(e=I(e,m,r,i,0,o)).d,u=e.e,f=n),c=p[r],l=o/2,f=f||void 0!==p[r+1],f=i<4?(void 0!==c||f)&&(0===i||i===(e.s<0?3:2)):c>l||c===l&&(4===i||f||6===i&&1&p[r-1]||i===(e.s<0?8:7)),p.length=r,f)for(;++p[--r]>o-1;)p[r]=0,r||(++u,p.unshift(1));for(h=p.length;!p[h-1];--h);for(c=0,d="";c<h;c++)d+=a.charAt(p[c]);if(g){if(h>1)if(16==t||8==t){for(c=16==t?4:3,--h;h%c;h++)d+="0";for(h=(p=S(d,o,t)).length;!p[h-1];--h);for(c=1,d="1.";c<h;c++)d+=a.charAt(p[c])}else d=d.charAt(0)+"."+d.slice(1);d=d+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)d="0"+d;d="0."+d}else if(++u>h)for(u-=h;u--;)d+="0";else u<h&&(d=d.slice(0,u)+"."+d.slice(u))}else d=g?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=K(e);return e.s<0?"-"+d:d}function Q(e,t){if(e.length>t)return e.length=t,!0}function Y(e){return new this(e).abs()}function ee(e){return new this(e).acos()}function te(e){return new this(e).acosh()}function re(e,t){return new this(e).plus(t)}function ne(e){return new this(e).asin()}function ie(e){return new this(e).asinh()}function oe(e){return new this(e).atan()}function se(e){return new this(e).atanh()}function ae(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?V(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=V(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(I(e,t,o,1)),t=V(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(I(e,t,o,1)):(r=V(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ue(e){return new this(e).cbrt()}function ce(e){return B(e=new this(e),e.e+1,2)}function le(e,t,r){return new this(e).clamp(t,r)}function he(e){if(!e||"object"!==typeof e)throw Error(f+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,s,"rounding",0,8,"toExpNeg",-o,0,"toExpPos",0,o,"maxE",0,o,"minE",-o,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=l[r]),void 0!==(n=e[r])){if(!(g(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(d+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=l[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(d+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(m);this[r]=!0}else this[r]=!1}return this}function fe(e){return new this(e).cos()}function de(e){return new this(e).cosh()}function pe(e,t){return new this(e).div(t)}function me(e){return new this(e).exp()}function ve(e){return B(e=new this(e),e.e+1,3)}function ge(){var e,t,r=new this(0);for(h=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);r=t}return h=!0,r.sqrt()}function we(e){return e instanceof je||e&&e.toStringTag===v||!1}function ye(e){return new this(e).ln()}function _e(e,t){return new this(e).log(t)}function be(e){return new this(e).log(2)}function ze(e){return new this(e).log(10)}function Me(){return F(this,arguments,"lt")}function ke(){return F(this,arguments,"gt")}function xe(e,t){return new this(e).mod(t)}function Pe(e,t){return new this(e).mul(t)}function Ee(e,t){return new this(e).pow(t)}function Te(e){var t,r,n,i,o=0,a=new this(1),u=[];if(void 0===e?e=this.precision:N(e,1,s),n=Math.ceil(e/k),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(m);for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(u.push(i%1e7),o+=4);o=n/4}else for(;o<n;)u[o++]=1e7*Math.random()|0;for(n=u[--o],e%=k,n&&e&&(i=w(10,k-e),u[o]=(n/i|0)*i);0===u[o];o--)u.pop();if(o<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=k)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<k&&(r-=k-n)}return a.e=r,a.d=u,a}function Ne(e){return B(e=new this(e),e.e+1,this.rounding)}function Ae(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Se(e){return new this(e).sin()}function Ie(e){return new this(e).sinh()}function Be(e){return new this(e).sqrt()}function Ue(e,t){return new this(e).sub(t)}function Oe(){var e=0,t=arguments,r=new this(t[e]);for(h=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return h=!0,B(r,this.precision,this.rounding)}function Re(e){return new this(e).tan()}function Ve(e){return new this(e).tanh()}function Le(e){return B(e=new this(e),e.e+1,1)}E[Symbol.for("nodejs.util.inspect.custom")]=E.toString,E[Symbol.toStringTag]="Decimal";var je=E.constructor=function e(t){var r,n,i;function o(e){var t,r,n,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,we(e))return i.s=e.s,void(h?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(h?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!==0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):W(i,e.toString())}if("string"!==n)throw Error(d+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),z.test(e)?W(i,e):Z(i,e)}if(o.prototype=E,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=he,o.clone=e,o.isDecimal=we,o.abs=Y,o.acos=ee,o.acosh=te,o.add=re,o.asin=ne,o.asinh=ie,o.atan=oe,o.atanh=se,o.atan2=ae,o.cbrt=ue,o.ceil=ce,o.clamp=le,o.cos=fe,o.cosh=de,o.div=pe,o.exp=me,o.floor=ve,o.hypot=ge,o.ln=ye,o.log=_e,o.log10=ze,o.log2=be,o.max=Me,o.min=ke,o.mod=xe,o.mul=Pe,o.pow=Ee,o.random=Te,o.round=Ne,o.sign=Ae,o.sin=Se,o.sinh=Ie,o.sqrt=Be,o.sub=Ue,o.sum=Oe,o.tan=Re,o.tanh=Ve,o.trunc=Le,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(l);u=new je(u),c=new je(c);const Ce=je},273756:e=>{"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},365279:(e,t,r)=>{"use strict";var n=r(273756),i=r(261278);e.exports=function(e){return n(e)||i(e)}},261278:e=>{"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},348833:e=>{"use strict";e.exports=function(e){var t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},674898:e=>{"use strict";e.exports=function(e){return r.test("number"===typeof e?t(e):e.charAt(0))};var t=String.fromCharCode,r=/\s/},65048:e=>{"use strict";e.exports=JSON.parse('{"name":"@starcoin/starcoin","version":"2.1.5","description":"starcoin js sdk","author":"lerencao, wk3368, tarvos21","license":"Apache-2.0","bugs":{"url":"https://github.com/starcoinorg/starcoin.js"},"homepage":"https://github.com/starcoinorg/starcoin.js#readme","repository":{"type":"git","url":"git+https://github.com/starcoinorg/starcoin.js"},"keywords":["starcoin","defi","dapp","sdk","blockchain","client","javascript"],"source":"index.ts","types":"dist/index.d.ts","main":"dist/starcoin.js","module":"dist/starcoin.module.js","umd:main":"./dist/starcoin.umd.js","files":["dist","LICENSE","readme.md"],"dependencies":{"@ethersproject/basex":"^5.0.4","@ethersproject/bignumber":"^5.0","@ethersproject/bytes":"^5.0.6","@ethersproject/hash":"^5.0.6","@ethersproject/keccak256":"^5.0.5","@ethersproject/logger":"^5.0.6","@ethersproject/properties":"^5.0.4","@ethersproject/sha2":"^5.0.4","@ethersproject/web":"^5.0.9","@noble/ed25519":"^1.6.0","bech32":"^2.0.0","ethereumjs-util":"5.1.0","fs":"^0.0.1-security","is-alphabetical":"^1.0.4","is-alphanumerical":"^1.0.4","is-decimal":"^1.0.4","is-hexadecimal":"^1.0.4","is-whitespace-character":"^1.0.4","is-word-character":"^1.0.4","js-sha3":"^0.8.0","jssha":"^3.2.0","lodash":"^4.17.21","ws":"7.2.3"},"devDependencies":{"@types/jest":"^26.0.14","@typescript-eslint/eslint-plugin":"^4.1.1","@typescript-eslint/parser":"^4.1.1","cz-conventional-changelog":"^3.3.0","eslint":"^7.9.0","eslint-config-airbnb-typescript":"^10.0.0","eslint-config-prettier":"^6.10.1","eslint-formatter-pretty":"^4.0.0","eslint-plugin-import":"^2.20.1","eslint-plugin-jest":"^24.0.2","eslint-plugin-promise":"^4.2.1","eslint-plugin-unicorn":"^22.0.0","jest":"^26.4.2","microbundle":"^0.12.0","prettier":"^2.0.4","ts-jest":"^26.3.0","typescript":"^4.0.3"},"scripts":{"prepublishOnly":"yarn build","build":"microbundle -o dist/ --sourcemap false --compress false -f modern,es,cjs && microbundle -o dist/ -f umd","dev":"microbundle watch -o dist/ --sourcemap false --compress false -f modern,es,cjs","test":"yarn test:coverage","test:unit":"jest","test:coverage":"jest --coverage","lint":"eslint --ext .js,.jsx,.ts,.tsx ."},"jest":{"testEnvironment":"node","testPathIgnorePatterns":["node_modules","dist","coverage"],"transform":{"^.+\\\\.ts?$":"ts-jest"}},"config":{"commitizen":{"path":"cz-conventional-changelog"}},"prettier":{"singleQuote":true}}')}}]);