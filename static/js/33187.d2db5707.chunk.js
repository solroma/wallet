"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[33187],{733187:(e,a,s)=>{s.r(a),s.d(a,{default:()=>C});var t=s(539144),o=s(877531),n=s(783723),r=s(321668),d=s(566147),l=s(10918),u=s(18861),i=s(435581),c=s(634795),f=s(921311),m=s(196234),p=s(202784),g=s(472719),x=s(783112),_=s(901187),h=s(859071),w=s(677346),b=s(945821),v=s(552322);const j=function(){var e=(0,x.default)(),a=(0,g.useRoute)().params,s=a.withPassword,t=a.onSuccess,j=a.onError,k=a.onCancel,S=(0,p.useState)(""),M=(0,m.default)(S,2),C=M[0],y=M[1],R=(0,f.default)({mode:"onChange",defaultValues:{password:""}}),P=R.control,E=R.handleSubmit,I=R.formState.isValid,B=R.watch,D=(0,h.useDebounce)(B("password"),200);(0,p.useEffect)((function(){y("")}),[D]);var L=(0,p.useCallback)(function(){var a=(0,c.default)((function*(a){var o=yield b.default.servicePassword.getBgSensitiveTextEncodeKey(),n=(0,_.encodeSensitiveText)({text:a.password,key:o}),r=yield s(n);r===w.RestoreResult.SUCCESS?t():r===w.RestoreResult.WRONG_PASSWORD?y(e.formatMessage({id:"msg__wrong_password"})):j()}));return function(e){return a.apply(this,arguments)}}(),[e,s,t,j]);return(0,v.jsx)(o.default,{footer:null,onModalClose:function(){null==k||k()},children:(0,v.jsxs)(n.default,{px:{base:4,md:0},alignItems:"center",children:[(0,v.jsx)(u.default,{mb:"16px",p:"12px",borderRadius:"full",bgColor:"decorative-surface-one",children:(0,v.jsx)(i.default,{name:"LockClosedOutline",color:"decorative-icon-one"})}),(0,v.jsx)(l.default.DisplayLarge,{textAlign:"center",mb:2,children:e.formatMessage({id:"modal__import_backup"})}),(0,v.jsx)(l.default.Body1,{textAlign:"center",color:"text-subdued",children:e.formatMessage({id:"modal__import_backup_desc"})}),(0,v.jsxs)(d.default,{mt:"8",children:[(0,v.jsx)(d.default.Item,{name:"password",defaultValue:"",control:P,rules:{required:e.formatMessage({id:"form__field_is_required"}),minLength:{value:8,message:e.formatMessage({id:"msg__password_validation"})},maxLength:{value:128,message:e.formatMessage({id:"msg__password_validation"})}},children:(0,v.jsx)(d.default.PasswordInput,{autoFocus:!0})}),C?(0,v.jsx)(d.default.FormErrorMessage,{message:C}):null,(0,v.jsx)(r.default,{type:"primary",size:"xl",onPromise:E(L),isDisabled:!I,children:e.formatMessage({id:"action__unlock",defaultMessage:"Unlock"})})]})]})})};var k=s(481047),S=(0,s(324665).default)(),M=[{name:k.ImportBackupPasswordModalRoutes.ImportBackupPassword,component:j}];const C=function(){var e=(0,t.default)();return(0,v.jsx)(S.Navigator,{screenOptions:{headerShown:!1,animationEnabled:!!e},children:M.map((function(e){return(0,v.jsx)(S.Screen,{name:e.name,component:e.component},e.name)}))})}}}]);