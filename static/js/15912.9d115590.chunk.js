(self.webpackChunkweb=self.webpackChunkweb||[]).push([[15912],{786141:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VaultBase:()=>O,VaultBaseChainOnly:()=>I});var r=n(72579),o=n.n(r),i=n(256666),a=n(301842),s=n.n(a),u=n(634795),c=n(887371),l=n(545754),d=n(411987),f=n(695058),p=n(206391),h=n.n(p),m=n(636393),y=n(613549),g=n(292147),v=n(213208),w=n(992431),b=n(940915),_=n(278489),E=n(969618),T=n(398514),k=n(114540),S=n(348834).Buffer;function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}if(v.default.isExtensionUi)throw new Error("engine/VaultBase is not allowed imported from ui");var I=function(e){(0,l.default)(n,e);var t=x(n);function n(){return t.apply(this,arguments)}var r=n.prototype;return r.initProvider=function(){var e=(0,u.default)((function*(){var e=(yield this.getNetwork()).impl;s()(E.IMPL_MAPPINGS[e])||(this.engineProvider=yield this.engine.providerManager.getProvider(this.networkId))}));return function(){return e.apply(this,arguments)}}(),r.proxyJsonRPCCall=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.createClientFromURL=function(e){throw new b.NotImplemented},r.getEthersProvider=function(){var e=(0,u.default)((function*(){throw new b.NotImplemented}));return function(){return e.apply(this,arguments)}}(),r.getClientEndpointStatus=function(){var e=(0,u.default)((function*(e){var t=this.createClientFromURL(e),n=performance.now(),r=(yield t.getInfo()).bestBlockNumber;return{responseTime:Math.floor(performance.now()-n),latestBlock:r}}));return function(t){return e.apply(this,arguments)}}(),r.checkRpcBatchSupport=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.getDisplayAddress=function(){var e=(0,u.default)((function*(e){return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),r.validateAddress=function(){var e=(0,u.default)((function*(e){var t=yield this.engineProvider.verifyAddress(e),n=t.normalizedAddress;if(!t.isValid||!n)throw new b.InvalidAddress;return Promise.resolve(n)}));return function(t){return e.apply(this,arguments)}}(),r.validateImportedCredential=function(e){return Promise.resolve(this.settings.importedAccountEnabled&&/^(0x)?[0-9a-zA-Z]{64}$/.test(e))},r.validateWatchingCredential=function(){var e=(0,u.default)((function*(e){return Promise.resolve(this.settings.watchingAccountEnabled&&(yield this.engineProvider.verifyAddress(e)).isValid)}));return function(t){return e.apply(this,arguments)}}(),r.validateTokenAddress=function(){var e=(0,u.default)((function*(e){var t=yield this.engineProvider.verifyTokenAddress(e),n=t.normalizedAddress;if(!t.isValid||"undefined"===typeof n)throw new b.InvalidTokenAddress;return Promise.resolve(n)}));return function(t){return e.apply(this,arguments)}}(),r.validateCanCreateNextAccount=function(){var e=(0,u.default)((function*(e,t){return Promise.resolve(!0)}));return function(t,n){return e.apply(this,arguments)}}(),r.checkAccountExistence=function(){var e=(0,u.default)((function*(e,t){return Promise.resolve(!0)}));return function(t,n){return e.apply(this,arguments)}}(),r.getBalances=function(){var e=(0,u.default)((function*(e,t,n){return(yield this.engine.providerManager.getClient(this.networkId)).getBalances(e.map((function(e){var t=e.address,n=e.tokenAddress;return{address:t,coin:P({},"string"===typeof n?{tokenAddress:n}:{})}})))}));return function(t,n,r){return e.apply(this,arguments)}}(),r.getFrozenBalance=function(){var e=(0,u.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.password,e.useRecycleBalance,e.ignoreInscriptions,e.useCustomAddressesBalance;return 0}));return function(){return e.apply(this,arguments)}}(),r.fetchBalanceDetails=function(){var e=(0,u.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.password,e.useRecycleBalance,e.ignoreInscriptions,e.useCustomAddressesBalance;return Promise.resolve(void 0)}));return function(){return e.apply(this,arguments)}}(),r.getTransactionStatuses=function(e){return this.engine.providerManager.getTransactionStatuses(this.networkId,e)},r.getTransactionFeeInNative=function(e){return Promise.resolve("")},r.isContractAddress=function(){var e=(0,u.default)((function*(e){return!1}));return function(t){return e.apply(this,arguments)}}(),r.getAccountNameInfoMap=function(){var e=(0,u.default)((function*(){var e=yield this.getNetwork();return(0,_.getAccountNameInfoByImpl)(e.impl)}));return function(){return e.apply(this,arguments)}}(),r.canAutoCreateNextAccount=function(){var e=(0,u.default)((function*(e){return Promise.resolve(!1)}));return function(t){return e.apply(this,arguments)}}(),r.filterAccounts=function(){var e=(0,u.default)((function*(e){var t=e.accounts;e.networkId;return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),r.shouldChangeAccountWhenNetworkChanged=function(){var e=(0,u.default)((function*(e){e.previousNetwork,e.newNetwork,e.activeAccountId;return Promise.resolve({shouldReloadAccountList:!1,shouldChangeActiveAccount:!1})}));return function(t){return e.apply(this,arguments)}}(),r.getAccountNameInfosByImportedOrWatchingCredential=function(){var e=(0,u.default)((function*(e){return Promise.resolve([])}));return function(t){return e.apply(this,arguments)}}(),r.checkIsUnlimitedAllowance=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.checkIsApprovedForAll=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.checkIsBatchTransfer=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.getFeePricePerUnit=function(){var e=(0,u.default)((function*(){throw new b.NotImplemented}));return function(){return e.apply(this,arguments)}}(),r.fetchRpcChainId=function(){var e=(0,u.default)((function*(e){return null}));return function(t){return e.apply(this,arguments)}}(),r.getTxWaitingSeconds=function(){var e=(0,u.default)((function*(){return[]}));return function(){return e.apply(this,arguments)}}(),r.getUserNFTAssets=function(){var e=(0,u.default)((function*(e){e.serviceData;return Promise.resolve(void 0)}));return function(t){return e.apply(this,arguments)}}(),r.getTransactionDetail=function(){var e=(0,u.default)((function*(e){return Promise.resolve(void 0)}));return function(t){return e.apply(this,arguments)}}(),(0,c.default)(n)}(k.VaultContext),O=function(e){(0,l.default)(n,e);var t=x(n);function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).uuid=m.default.v4().toString(),e}var r=n.prototype;return r.init=function(){var e=(0,u.default)((function*(e){yield this.initProvider(),yield this.initKeyring(e)}));return function(t){return e.apply(this,arguments)}}(),r.initKeyring=function(){var e=(0,u.default)((function*(e){this.keyring=yield e.keyringCreator(this)}));return function(t){return e.apply(this,arguments)}}(),r.signTransaction=function(){var e=(0,u.default)((function*(e,t){return this.keyring.signTransaction(e,t)}));return function(t,n){return e.apply(this,arguments)}}(),r.signAndSendTransaction=function(){var e=(0,u.default)((function*(e,t,n){var r=yield this.signTransaction(e,t);return n?P(P({},r),{},{encodedTx:e.encodedTx}):this.broadcastTransaction(P(P({},r),{},{encodedTx:e.encodedTx}))}));return function(t,n,r){return e.apply(this,arguments)}}(),r.broadcastTransaction=function(){var e=(0,u.default)((function*(e,t){g.default.engine.info("broadcastTransaction START:",{rawTx:e.rawTx});var n=yield this.engine.providerManager.broadcastTransaction(this.networkId,e.rawTx,t);return g.default.engine.info("broadcastTransaction END:",{txid:n,rawTx:e.rawTx}),P(P({},e),{},{txid:n,encodedTx:e.encodedTx})}));return function(t,n){return e.apply(this,arguments)}}(),r.buildEncodedTxFromBatchTransfer=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.buildEncodedTxsFromSetApproveForAll=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.activateAccount=function(){var e=(0,u.default)((function*(){throw new b.NotImplemented}));return function(){return e.apply(this,arguments)}}(),r.activateToken=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.getTokenAllowance=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.batchTokensAllowance=function(){var e=(0,u.default)((function*(e,t){throw new b.NotImplemented}));return function(t,n){return e.apply(this,arguments)}}(),r.getOutputAccount=function(){var e=(0,u.default)((function*(){var e=yield this.getDbAccount({noCache:!0});return{id:e.id,name:e.name,type:e.type,path:e.path,coinType:e.coinType,tokens:[],address:e.address,template:e.template,pubKey:o()(e,"pub","")}}));return function(){return e.apply(this,arguments)}}(),r.getAccountBalance=function(){var e=(0,u.default)((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=(yield this.getDbAccount()).address;return this.getBalances((t?[{address:o}]:[]).concat(e.map((function(e){return{address:o,tokenAddress:e}}))),n,r)}));return function(t){return e.apply(this,arguments)}}(),r.updatePendingTxs=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.getAccountNonce=function(){var e=(0,u.default)((function*(){return Promise.resolve(null)}));return function(){return e.apply(this,arguments)}}(),r.fixActionDirection=function(){var e=(0,u.default)((function*(e){var t,n,r,o,i=e.action,a=e.accountAddress;(i.direction=T.IDecodedTxDirection.OTHER,i.type===T.IDecodedTxActionType.NATIVE_TRANSFER)&&(i.direction=yield this.buildTxActionDirection({from:(null==(t=i.nativeTransfer)?void 0:t.from)||"",to:(null==(n=i.nativeTransfer)?void 0:n.to)||"",address:a}));i.type===T.IDecodedTxActionType.TOKEN_TRANSFER&&(i.direction=yield this.buildTxActionDirection({from:(null==(r=i.tokenTransfer)?void 0:r.from)||"",to:(null==(o=i.tokenTransfer)?void 0:o.to)||"",address:a}));return i}));return function(t){return e.apply(this,arguments)}}(),r.fixDecodedTx=function(){var e=(0,u.default)((function*(e){var t,n;e.createdAt=null!=(t=e.createdAt)?t:Date.now();var r=null==(n=e.encodedTx)?void 0:n.nonce;e.nonce=s()(r)?e.nonce:new(h())(r).toNumber();for(var o=e.owner,i=0;i<e.actions.length;i+=1){var a=e.actions[i];yield this.fixActionDirection({action:a,accountAddress:o})}if(e.outputActions)for(var u=0;u<e.outputActions.length;u+=1){var c=e.outputActions[u];yield this.fixActionDirection({action:c,accountAddress:o})}return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),r.fixHistoryTx=function(){var e=(0,u.default)((function*(e){return e.decodedTx=yield this.fixDecodedTx(e.decodedTx),Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),r.buildHistoryTx=function(){var e=(0,u.default)((function*(e){var t=e.historyTxToMerge,n=(e.encodedTx,e.decodedTx),r=e.signedTx,o=e.isSigner,i=e.isLocalCreated,a=(null==r?void 0:r.txid)||(null==n?void 0:n.txid)||"";if(!a)throw new Error("buildHistoryTx txid not found");var s=yield this.getAccountAddress();n.txid=a||n.txid,n.owner=s,o&&(n.signer=s),null!=r&&r.txKey&&(n.extraInfo?n.extraInfo.txKey=r.txKey:n.extraInfo={txKey:r.txKey});var u=P(P({id:`${this.networkId}_${a}_${this.accountId}`,isLocalCreated:Boolean(i)},t),{},{decodedTx:n});return u=yield this.fixHistoryTx(u),Promise.resolve(u)}));return function(t){return e.apply(this,arguments)}}(),r.checkIsScamHistoryTx=function(){var e=(0,u.default)((function*(e){return!1}));return function(t){return e.apply(this,arguments)}}(),r.fetchOnChainHistory=function(){var e=(0,u.default)((function*(e){throw new b.NotImplemented}));return function(t){return e.apply(this,arguments)}}(),r.fixAddressCase=function(e){return Promise.resolve(e)},r.buildTxActionDirection=function(){var e=(0,u.default)((function*(e){var t=e.from,n=e.to,r=e.address;return t=yield this.fixAddressCase(t||""),n=yield this.fixAddressCase(n),r=yield this.fixAddressCase(r),t===n&&t===r?T.IDecodedTxDirection.SELF:t&&t===r?T.IDecodedTxDirection.OUT:n&&n===r?T.IDecodedTxDirection.IN:T.IDecodedTxDirection.OTHER}));return function(t){return e.apply(this,arguments)}}(),r.getNextNonce=function(){var e=(0,u.default)((function*(e,t){var n,r=null==(n=(yield this.engine.providerManager.getAddresses(e,[t.address]))[0])?void 0:n.nonce;if(s()(r))throw new b.OneKeyError("Get on-chain nonce failed.");yield this.engine.getHistory(e,t.id,void 0,!1);var o=yield w.default.history.getMaxPendingNonce({accountId:this.accountId,networkId:e}),i=yield w.default.history.getPendingNonceList({accountId:this.accountId,networkId:e}),a=Math.max(s()(o)?0:o+1,r);if(Number.isNaN(a)&&(a=r),a>r)for(var u=r;u<a;u+=1)if(!i.includes(u)){a=u;break}if(a<r&&(a=r),a-r>=y.HISTORY_CONSTS.PENDING_QUEUE_MAX_LENGTH)throw new b.PendingQueueTooLong(y.HISTORY_CONSTS.PENDING_QUEUE_MAX_LENGTH);return a}));return function(t,n){return e.apply(this,arguments)}}(),r.validateSendAmount=function(e,t,n){return Promise.resolve(!0)},r.notifyChainChanged=function(e,t){},r.getFetchBalanceAddress=function(e){return Promise.resolve(e.address)},r.getPrivateKeyByCredential=function(e){return Promise.resolve(S.from(e.startsWith("0x")?e.slice(2):e,"hex"))},r.getMinDepositAmount=function(){var e=(0,u.default)((function*(){return"0"}));return function(){return e.apply(this,arguments)}}(),r.specialCheckEncodedTx=function(){var e=(0,u.default)((function*(e){return{success:!0}}));return function(t){return e.apply(this,arguments)}}(),r.getAllUsedAddress=function(){var e=(0,u.default)((function*(){return Promise.resolve([])}));return function(){return e.apply(this,arguments)}}(),(0,c.default)(n)}(I)},452752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Me});var r,o=n(196234),i=n(634795),a=n(887371),s=n(545754),u=n(411987),c=n(695058),l=n(206391),d=n.n(l),f=n(901187),p=n(776553),h=n(85397),m=n(396564),y=n(992431),g=n(940915),v=n(534756),w=n(997293),b=n(605851),_=n(398145),E=n(398514),T=n(786141),k=n(256666),S=n(91720),A=n.n(S),P=n(789644),x=n.n(P),I=n(764550),O=n(377591),C=n.n(O),F=n(779879),M=n(489201);!function(e){e[e.MainNet=0]="MainNet",e[e.TestNet=1]="TestNet",e[e.StageNet=2]="StageNet"}(r||(r={}));var R=n(348834).Buffer,D=function(e){return new Uint8Array((e.match(/.{1,2}/g)||[]).map((function(e){return parseInt(e,16)})))},N=function(e){return e.reduce((function(e,t){return e+t.toString(16).padStart(2,"0")}),"")},j=function(e){var t,n=R.from(e).toString("hex"),r=(0,M.soliditySha3)(`0x${n}`);return D(null!=(t=null==r?void 0:r.substr(2))?t:"")},L=function(e,t,n,o){var i="";e===r.MainNet?(i="12",t&&(i="2A")):e===r.TestNet?(i="35",t&&(i="3F")):e===r.StageNet&&(i="18",t&&(i="24"));var a=i+N(n)+N(o),s=j(D(a));return a+=N(s).substring(0,8),function(e){for(var t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n={},r=[0,2,3,5,6,7,9,10,11],o=0;o<58;o+=1){var i=t.charAt(o);if(void 0!==n[i])throw new TypeError(`${i} is ambiguous`);n[i]=o}for(var a=function(e,n){var o=8;n+o>e.length&&(o=e.length-n);for(var i=[0],a=0;a<o;a+=1){for(var s=e[n+a],u=0;u<i.length;u+=1)s+=i[u]<<8,i[u]=s%58,s=s/58|0;for(;s>0;)i.push(s%58),s=s/58|0}for(var c="",l=i.length;l<r[o];l+=1)c+=t[0];for(var d=i.length-1;d>=0;d-=1)c+=t[i[d]];return c},s="",u=0;u<e.length;u+=8)s+=a(e,u);return s}(D(a))},U=n(348834).Buffer;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,k.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){if(void 0!==e){if("string"===typeof e)try{var t=JSON.parse(e);return void 0!==t.retVal?t.retVal:e}catch(n){return e}return e.retVal}return e},W=function(){function e(e,t){this.utilModule=e,this.coreModule=t}var t=e.prototype;return t.scReduce32=function(e){var t=e.length*e.BYTES_PER_ELEMENT,n=this.utilModule._malloc(t),r=new Uint8Array(this.utilModule.HEAPU8.buffer,n,t);r.set(e),this.utilModule.ccall("sc_reduce32",null,["number"],[r.byteOffset]);var o=new Uint8Array(r);return this.utilModule._free(r.byteOffset),o},t.scAdd=function(e,t){var n=this.utilModule._malloc(32),r=new Uint8Array(this.utilModule.HEAPU8.buffer,n,32);this.utilModule.ccall("sc_add",null,["number","array","array"],[r.byteOffset,e,t]);var o=new Uint8Array(r);return this.utilModule._free(r.byteOffset),o},t.privateKeyToPublicKey=function(e){var t=e.length*e.BYTES_PER_ELEMENT,n=this.utilModule._malloc(t),r=new Uint8Array(this.utilModule.HEAPU8.buffer,n,t),o=null;return this.utilModule.ccall("secret_key_to_public_key","boolean",["array","number"],[e,r.byteOffset])&&(o=new Uint8Array(r)),this.utilModule._free(r.byteOffset),o},t.hashToScalar=function(e){return this.scReduce32(j(e))},t.getSubaddressPrivateKey=function(e,t,n){var r=this.utilModule._malloc(32),o=new Uint8Array(this.utilModule.HEAPU8.buffer,r,32);this.utilModule.ccall("get_subaddress_secret_key",null,["array","number","number","number"],[e,t,n,o.byteOffset]);var i=new Uint8Array(o);return this.utilModule._free(o.byteOffset),i},t.scalarmultKey=function(e,t){var n=this.utilModule._malloc(32),r=new Uint8Array(this.utilModule.HEAPU8.buffer,n,32),o=null;return this.utilModule.ccall("scalarmultKey","boolean",["number","array","array"],[r.byteOffset,e,t])&&(o=new Uint8Array(r)),this.utilModule._free(r.byteOffset),o},t.getKeyPairFromRawPrivatekey=function(e){var t,n=e.rawPrivateKey,r=e.isPrivateSpendKey,o=e.index,i=void 0===o?0:o,a=n;"string"===typeof a&&(a=U.from(a,"hex")),t=r?a:this.scReduce32(a);var s,u,c=this.hashToScalar(t);if(0===i)s=this.privateKeyToPublicKey(t),u=this.privateKeyToPublicKey(c);else{var l=this.getSubaddressPrivateKey(c,i,0);t=this.scAdd(l,t),s=this.privateKeyToPublicKey(t),u=this.scalarmultKey(s||new Uint8Array,c)}return{privateSpendKey:t,privateViewKey:c,publicSpendKey:s,publicViewKey:u}},t.generateKeyImage=function(e){var t=e.txPublicKey,n=e.privateSpendKey,r=e.privateViewKey,o=e.publicSpendKey,i=e.outputIndex,a=e.address,s=(0,F.Lazy_KeyImageCacheForWalletWith)(a),u=(0,F.Lazy_KeyImage)(s,t,i,a,r,o,n,this.coreModule);return z(u)},t.decodeAddress=function(e){var t=e.address,n=e.netType,r=this.coreModule.decode_address(t,n);return JSON.parse(r)},t.estimatedTxFee=function(e){var t=e.priority,n=e.feePerByte,r=this.coreModule.estimated_tx_network_fee(t,n,"0");return z(r)},t.sendFunds=function(){var e=(0,i.default)((function*(e,t){var n=this,r=x().create({baseURL:t});return new Promise((function(t,o){var a=K(K({},e),{},{willBeginSending_fn:function(){},authenticate_fn:function(){},status_update_fn:function(){},canceled_fn:function(){o(new g.OneKeyInternalError("Transaction canceled"))},get_unspent_outs_fn:function(){var e=(0,i.default)((function*(e,t){try{t(null,(yield r.post("/get_unspent_outs",e)).data)}catch(n){o(new g.OneKeyInternalError("Get unspent outs error."))}}));return function(t,n){return e.apply(this,arguments)}}(),get_random_outs_fn:function(){var e=(0,i.default)((function*(e,t){try{t(null,(yield r.post("/get_random_outs",e)).data)}catch(n){o(new g.OneKeyInternalError("Get unspent outs error."))}}));return function(t,n){return e.apply(this,arguments)}}(),submit_raw_tx_fn:function(){var e=(0,i.default)((function*(e,t){try{t(null,(yield r.post("/submit_raw_tx",e)).data)}catch(n){o(new g.OneKeyInternalError("Submit raw tx error."))}}));return function(t,n){return e.apply(this,arguments)}}(),success_fn:function(e){t({txid:e.tx_hash,rawTx:e.serialized_signed_tx,txKey:e.tx_key})},error_fn:function(e){var t;o(null!=(t=e.err_msg)?t:e.err_code)}});new(C())(n.coreModule).async__send_funds(a)}))}));return function(t,n){return e.apply(this,arguments)}}(),t.seedAndkeysFromMnemonic=function(e){var t=e.mnemonic,n=e.netType,r=this.coreModule.seed_and_keys_from_mnemonic(t,n);return JSON.parse(r)},(0,a.default)(e)}(),H=n(408567);const V=n.p+"static/media/moneroCore.wasm.9e1e12f8a9b59be945c5.bin";var G=function(e){return"moneroCore.wasm"!==e&&console.error("Unexpected file:",e),V},Y=function(){var e=(0,i.default)((function*(e){return e.locateFile=G,(0,H.default)(e)}));return function(t){return e.apply(this,arguments)}}(),q=null,X=(0,i.default)((function*(){if(!(q=yield Y({})))throw Error("WASM was not loaded");return q}))(),J=function(){var e=(0,i.default)((function*(){return X}));return function(){return e.apply(this,arguments)}}(),$=n(214589);const Q=n.p+"static/media/moneroUtil.wasm.a894007107e4b311ad91.bin";var Z=function(e){return"moneroUtil.wasm"!==e&&console.error("Unexpected file:",e),Q},ee=function(){var e=(0,i.default)((function*(e){return e.locateFile=Z,(0,$.default)(e)}));return function(t){return e.apply(this,arguments)}}(),te=null,ne=(0,i.default)((function*(){if(!(te=yield ee({})))throw Error("WASM was not loaded");return te}))(),re=function(){var e=(0,i.default)((function*(){return ne}));return function(){return e.apply(this,arguments)}}(),oe=["abbey","abducts","ability","ablaze","abnormal","abort","abrasive","absorb","abyss","academy","aces","aching","acidic","acoustic","acquire","across","actress","acumen","adapt","addicted","adept","adhesive","adjust","adopt","adrenalin","adult","adventure","aerial","afar","affair","afield","afloat","afoot","afraid","after","against","agenda","aggravate","agile","aglow","agnostic","agony","agreed","ahead","aided","ailments","aimless","airport","aisle","ajar","akin","alarms","album","alchemy","alerts","algebra","alkaline","alley","almost","aloof","alpine","already","also","altitude","alumni","always","amaze","ambush","amended","amidst","ammo","amnesty","among","amply","amused","anchor","android","anecdote","angled","ankle","annoyed","answers","antics","anvil","anxiety","anybody","apart","apex","aphid","aplomb","apology","apply","apricot","aptitude","aquarium","arbitrary","archer","ardent","arena","argue","arises","army","around","arrow","arsenic","artistic","ascend","ashtray","aside","asked","asleep","aspire","assorted","asylum","athlete","atlas","atom","atrium","attire","auburn","auctions","audio","august","aunt","austere","autumn","avatar","avidly","avoid","awakened","awesome","awful","awkward","awning","awoken","axes","axis","axle","aztec","azure","baby","bacon","badge","baffles","bagpipe","bailed","bakery","balding","bamboo","banjo","baptism","basin","batch","bawled","bays","because","beer","befit","begun","behind","being","below","bemused","benches","berries","bested","betting","bevel","beware","beyond","bias","bicycle","bids","bifocals","biggest","bikini","bimonthly","binocular","biology","biplane","birth","biscuit","bite","biweekly","blender","blip","bluntly","boat","bobsled","bodies","bogeys","boil","boldly","bomb","border","boss","both","bounced","bovine","bowling","boxes","boyfriend","broken","brunt","bubble","buckets","budget","buffet","bugs","building","bulb","bumper","bunch","business","butter","buying","buzzer","bygones","byline","bypass","cabin","cactus","cadets","cafe","cage","cajun","cake","calamity","camp","candy","casket","catch","cause","cavernous","cease","cedar","ceiling","cell","cement","cent","certain","chlorine","chrome","cider","cigar","cinema","circle","cistern","citadel","civilian","claim","click","clue","coal","cobra","cocoa","code","coexist","coffee","cogs","cohesive","coils","colony","comb","cool","copy","corrode","costume","cottage","cousin","cowl","criminal","cube","cucumber","cuddled","cuffs","cuisine","cunning","cupcake","custom","cycling","cylinder","cynical","dabbing","dads","daft","dagger","daily","damp","dangerous","dapper","darted","dash","dating","dauntless","dawn","daytime","dazed","debut","decay","dedicated","deepest","deftly","degrees","dehydrate","deity","dejected","delayed","demonstrate","dented","deodorant","depth","desk","devoid","dewdrop","dexterity","dialect","dice","diet","different","digit","dilute","dime","dinner","diode","diplomat","directed","distance","ditch","divers","dizzy","doctor","dodge","does","dogs","doing","dolphin","domestic","donuts","doorway","dormant","dosage","dotted","double","dove","down","dozen","dreams","drinks","drowning","drunk","drying","dual","dubbed","duckling","dude","duets","duke","dullness","dummy","dunes","duplex","duration","dusted","duties","dwarf","dwelt","dwindling","dying","dynamite","dyslexic","each","eagle","earth","easy","eating","eavesdrop","eccentric","echo","eclipse","economics","ecstatic","eden","edgy","edited","educated","eels","efficient","eggs","egotistic","eight","either","eject","elapse","elbow","eldest","eleven","elite","elope","else","eluded","emails","ember","emerge","emit","emotion","empty","emulate","energy","enforce","enhanced","enigma","enjoy","enlist","enmity","enough","enraged","ensign","entrance","envy","epoxy","equip","erase","erected","erosion","error","eskimos","espionage","essential","estate","etched","eternal","ethics","etiquette","evaluate","evenings","evicted","evolved","examine","excess","exhale","exit","exotic","exquisite","extra","exult","fabrics","factual","fading","fainted","faked","fall","family","fancy","farming","fatal","faulty","fawns","faxed","fazed","feast","february","federal","feel","feline","females","fences","ferry","festival","fetches","fever","fewest","fiat","fibula","fictional","fidget","fierce","fifteen","fight","films","firm","fishing","fitting","five","fixate","fizzle","fleet","flippant","flying","foamy","focus","foes","foggy","foiled","folding","fonts","foolish","fossil","fountain","fowls","foxes","foyer","framed","friendly","frown","fruit","frying","fudge","fuel","fugitive","fully","fuming","fungal","furnished","fuselage","future","fuzzy","gables","gadget","gags","gained","galaxy","gambit","gang","gasp","gather","gauze","gave","gawk","gaze","gearbox","gecko","geek","gels","gemstone","general","geometry","germs","gesture","getting","geyser","ghetto","ghost","giant","giddy","gifts","gigantic","gills","gimmick","ginger","girth","giving","glass","gleeful","glide","gnaw","gnome","goat","goblet","godfather","goes","goggles","going","goldfish","gone","goodbye","gopher","gorilla","gossip","gotten","gourmet","governing","gown","greater","grunt","guarded","guest","guide","gulp","gumball","guru","gusts","gutter","guys","gymnast","gypsy","gyrate","habitat","hacksaw","haggled","hairy","hamburger","happens","hashing","hatchet","haunted","having","hawk","haystack","hazard","hectare","hedgehog","heels","hefty","height","hemlock","hence","heron","hesitate","hexagon","hickory","hiding","highway","hijack","hiker","hills","himself","hinder","hippo","hire","history","hitched","hive","hoax","hobby","hockey","hoisting","hold","honked","hookup","hope","hornet","hospital","hotel","hounded","hover","howls","hubcaps","huddle","huge","hull","humid","hunter","hurried","husband","huts","hybrid","hydrogen","hyper","iceberg","icing","icon","identity","idiom","idled","idols","igloo","ignore","iguana","illness","imagine","imbalance","imitate","impel","inactive","inbound","incur","industrial","inexact","inflamed","ingested","initiate","injury","inkling","inline","inmate","innocent","inorganic","input","inquest","inroads","insult","intended","inundate","invoke","inwardly","ionic","irate","iris","irony","irritate","island","isolated","issued","italics","itches","items","itinerary","itself","ivory","jabbed","jackets","jaded","jagged","jailed","jamming","january","jargon","jaunt","javelin","jaws","jazz","jeans","jeers","jellyfish","jeopardy","jerseys","jester","jetting","jewels","jigsaw","jingle","jittery","jive","jobs","jockey","jogger","joining","joking","jolted","jostle","journal","joyous","jubilee","judge","juggled","juicy","jukebox","july","jump","junk","jury","justice","juvenile","kangaroo","karate","keep","kennel","kept","kernels","kettle","keyboard","kickoff","kidneys","king","kiosk","kisses","kitchens","kiwi","knapsack","knee","knife","knowledge","knuckle","koala","laboratory","ladder","lagoon","lair","lakes","lamb","language","laptop","large","last","later","launching","lava","lawsuit","layout","lazy","lectures","ledge","leech","left","legion","leisure","lemon","lending","leopard","lesson","lettuce","lexicon","liar","library","licks","lids","lied","lifestyle","light","likewise","lilac","limits","linen","lion","lipstick","liquid","listen","lively","loaded","lobster","locker","lodge","lofty","logic","loincloth","long","looking","lopped","lordship","losing","lottery","loudly","love","lower","loyal","lucky","luggage","lukewarm","lullaby","lumber","lunar","lurk","lush","luxury","lymph","lynx","lyrics","macro","madness","magically","mailed","major","makeup","malady","mammal","maps","masterful","match","maul","maverick","maximum","mayor","maze","meant","mechanic","medicate","meeting","megabyte","melting","memoir","menu","merger","mesh","metro","mews","mice","midst","mighty","mime","mirror","misery","mittens","mixture","moat","mobile","mocked","mohawk","moisture","molten","moment","money","moon","mops","morsel","mostly","motherly","mouth","movement","mowing","much","muddy","muffin","mugged","mullet","mumble","mundane","muppet","mural","musical","muzzle","myriad","mystery","myth","nabbing","nagged","nail","names","nanny","napkin","narrate","nasty","natural","nautical","navy","nearby","necklace","needed","negative","neither","neon","nephew","nerves","nestle","network","neutral","never","newt","nexus","nibs","niche","niece","nifty","nightly","nimbly","nineteen","nirvana","nitrogen","nobody","nocturnal","nodes","noises","nomad","noodles","northern","nostril","noted","nouns","novelty","nowhere","nozzle","nuance","nucleus","nudged","nugget","nuisance","null","number","nuns","nurse","nutshell","nylon","oaks","oars","oasis","oatmeal","obedient","object","obliged","obnoxious","observant","obtains","obvious","occur","ocean","october","odds","odometer","offend","often","oilfield","ointment","okay","older","olive","olympics","omega","omission","omnibus","onboard","oncoming","oneself","ongoing","onion","online","onslaught","onto","onward","oozed","opacity","opened","opposite","optical","opus","orange","orbit","orchid","orders","organs","origin","ornament","orphans","oscar","ostrich","otherwise","otter","ouch","ought","ounce","ourselves","oust","outbreak","oval","oven","owed","owls","owner","oxidant","oxygen","oyster","ozone","pact","paddles","pager","pairing","palace","pamphlet","pancakes","paper","paradise","pastry","patio","pause","pavements","pawnshop","payment","peaches","pebbles","peculiar","pedantic","peeled","pegs","pelican","pencil","people","pepper","perfect","pests","petals","phase","pheasants","phone","phrases","physics","piano","picked","pierce","pigment","piloted","pimple","pinched","pioneer","pipeline","pirate","pistons","pitched","pivot","pixels","pizza","playful","pledge","pliers","plotting","plus","plywood","poaching","pockets","podcast","poetry","point","poker","polar","ponies","pool","popular","portents","possible","potato","pouch","poverty","powder","pram","present","pride","problems","pruned","prying","psychic","public","puck","puddle","puffin","pulp","pumpkins","punch","puppy","purged","push","putty","puzzled","pylons","pyramid","python","queen","quick","quote","rabbits","racetrack","radar","rafts","rage","railway","raking","rally","ramped","randomly","rapid","rarest","rash","rated","ravine","rays","razor","react","rebel","recipe","reduce","reef","refer","regular","reheat","reinvest","rejoices","rekindle","relic","remedy","renting","reorder","repent","request","reruns","rest","return","reunion","revamp","rewind","rhino","rhythm","ribbon","richly","ridges","rift","rigid","rims","ringing","riots","ripped","rising","ritual","river","roared","robot","rockets","rodent","rogue","roles","romance","roomy","roped","roster","rotate","rounded","rover","rowboat","royal","ruby","rudely","ruffled","rugged","ruined","ruling","rumble","runway","rural","rustled","ruthless","sabotage","sack","sadness","safety","saga","sailor","sake","salads","sample","sanity","sapling","sarcasm","sash","satin","saucepan","saved","sawmill","saxophone","sayings","scamper","scenic","school","science","scoop","scrub","scuba","seasons","second","sedan","seeded","segments","seismic","selfish","semifinal","sensible","september","sequence","serving","session","setup","seventh","sewage","shackles","shelter","shipped","shocking","shrugged","shuffled","shyness","siblings","sickness","sidekick","sieve","sifting","sighting","silk","simplest","sincerely","sipped","siren","situated","sixteen","sizes","skater","skew","skirting","skulls","skydive","slackens","sleepless","slid","slower","slug","smash","smelting","smidgen","smog","smuggled","snake","sneeze","sniff","snout","snug","soapy","sober","soccer","soda","software","soggy","soil","solved","somewhere","sonic","soothe","soprano","sorry","southern","sovereign","sowed","soya","space","speedy","sphere","spiders","splendid","spout","sprig","spud","spying","square","stacking","stellar","stick","stockpile","strained","stunning","stylishly","subtly","succeed","suddenly","suede","suffice","sugar","suitcase","sulking","summon","sunken","superior","surfer","sushi","suture","swagger","swept","swiftly","sword","swung","syllabus","symptoms","syndrome","syringe","system","taboo","tacit","tadpoles","tagged","tail","taken","talent","tamper","tanks","tapestry","tarnished","tasked","tattoo","taunts","tavern","tawny","taxi","teardrop","technical","tedious","teeming","tell","template","tender","tepid","tequila","terminal","testing","tether","textbook","thaw","theatrics","thirsty","thorn","threaten","thumbs","thwart","ticket","tidy","tiers","tiger","tilt","timber","tinted","tipsy","tirade","tissue","titans","toaster","tobacco","today","toenail","toffee","together","toilet","token","tolerant","tomorrow","tonic","toolbox","topic","torch","tossed","total","touchy","towel","toxic","toyed","trash","trendy","tribal","trolling","truth","trying","tsunami","tubes","tucks","tudor","tuesday","tufts","tugs","tuition","tulips","tumbling","tunnel","turnip","tusks","tutor","tuxedo","twang","tweezers","twice","twofold","tycoon","typist","tyrant","ugly","ulcers","ultimate","umbrella","umpire","unafraid","unbending","uncle","under","uneven","unfit","ungainly","unhappy","union","unjustly","unknown","unlikely","unmask","unnoticed","unopened","unplugs","unquoted","unrest","unsafe","until","unusual","unveil","unwind","unzip","upbeat","upcoming","update","upgrade","uphill","upkeep","upload","upon","upper","upright","upstairs","uptight","upwards","urban","urchins","urgent","usage","useful","usher","using","usual","utensils","utility","utmost","utopia","uttered","vacation","vague","vain","value","vampire","vane","vapidly","vary","vastness","vats","vaults","vector","veered","vegan","vehicle","vein","velvet","venomous","verification","vessel","veteran","vexed","vials","vibrate","victim","video","viewpoint","vigilant","viking","village","vinegar","violin","vipers","virtual","visited","vitals","vivid","vixen","vocal","vogue","voice","volcano","vortex","voted","voucher","vowels","voyage","vulture","wade","waffle","wagtail","waist","waking","wallets","wanted","warped","washing","water","waveform","waxing","wayside","weavers","website","wedge","weekday","weird","welders","went","wept","were","western","wetsuit","whale","when","whipped","whole","wickets","width","wield","wife","wiggle","wildly","winter","wipeout","wiring","wise","withdrawn","wives","wizard","wobbly","woes","woken","wolf","womanly","wonders","woozy","worry","wounded","woven","wrap","wrist","wrong","yacht","yahoo","yanks","yard","yawning","yearbook","yellow","yesterday","yeti","yields","yodel","yoga","younger","yoyo","zapped","zeal","zebra","zero","zesty","zigzags","zinger","zippers","zodiac","zombie","zones","zoom"];function ie(e){for(var t=[],n="",r=0;r<32;r+=4){for(var o=0,i=3;i>=0;i-=1)o=256*o+e[r+i];var a=o%oe.length,s=((o/oe.length|0)+a)%oe.length,u=(((o/oe.length|0)/oe.length|0)+s)%oe.length;t.push(oe[a]),t.push(oe[s]),t.push(oe[u]),n+=oe[a].substring(0,3),n+=oe[s].substring(0,3),n+=oe[u].substring(0,3)}return t.push(t[function(e){for(var t=function(){for(var e,t=[],n=0;n<256;n+=1){e=n;for(var r=0;r<8;r+=1)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}(),n=-1,r=0;r<e.length;r+=1)n=n>>>8^t[255&(n^e.charCodeAt(r))];return(-1^n)>>>0}(n)%24]),t.join(" ")}var ae,se,ue=function(){var e=(0,i.default)((function*(){var e=yield J(),t=yield re(),n=new W(t,e),r=function(){var e=(0,i.default)((function*(e){var t=n.getKeyPairFromRawPrivatekey(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.default)((function*(e){var t=n.generateKeyImage(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=(0,i.default)((function*(e){var t=n.decodeAddress(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,i.default)((function*(e){var t=n.estimatedTxFee(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.default)((function*(e,t){return yield n.sendFunds(e,t)}));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.default)((function*(e){var t=n.seedAndkeysFromMnemonic(e);return Promise.resolve(t)}));return function(t){return e.apply(this,arguments)}}();return{getKeyPairFromRawPrivatekey:r,privateSpendKeyToWords:ie,pubKeysToAddress:L,generateKeyImage:o,decodeAddress:a,estimatedTxFee:s,sendFunds:u,seedAndkeysFromMnemonic:c}}));return function(){return e.apply(this,arguments)}}();!function(){var e=(0,i.default)((function*(){return Promise.resolve(!0)}))}();function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,k.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}!function(e){e.GET_HEIGHT="get_height",e.GET_FEE_ESTIMATE="get_fee_estimate"}(ae||(ae={})),function(e){e.BASE64="base64",e.JSON_PARSED="jsonParsed"}(se||(se={}));var fe=function(e){(0,s.default)(n,e);var t=de(n);function n(e){var n,r=e.rpcUrl,o=e.scanUrl,i=e.address,a=e.publicSpendKey,s=e.publicViewKey,u=e.privateSpendKey,c=e.privateViewKey;n=t.call(this);var l=x().create({baseURL:o});return n.rpc=new h.JsonRPCRequest(`${r}/json_rpc`),n.wallet=new(A())({url:o,httpClient:l}),n.publicSpendKey=a,n.publicViewKey=s,n.privateSpendKey=u,n.privateViewKey=c,n.rpcUrl=r,n.wallet.login(c,i,!0),n}var r=n.prototype;return r.getBalances=function(){var e=(0,i.default)((function*(e){try{var t,n,r=(0,o.default)(e,1)[0],i=yield ue(),a=yield this.getAddressInfo(r.address),s=a.spent_outputs||[],u=new(d())(null!=(t=a.total_sent)?t:0),c=new(d())(null!=(n=a.total_received)?n:0);for(var l of s){var f=yield i.generateKeyImage({address:r.address,txPublicKey:l.tx_pub_key,privateViewKey:this.privateViewKey,privateSpendKey:this.privateSpendKey,publicSpendKey:this.publicSpendKey,outputIndex:String(l.out_index)});l.key_image!==f&&(u=u.minus(new(d())(l.amount)))}return[c.minus(u)]}catch(p){return console.log(p),[]}}));return function(t){return e.apply(this,arguments)}}(),r.getAddressInfo=function(){var e=(0,i.default)((function*(e){return yield this.wallet.getAddressInfo(this.privateViewKey,e)}));return function(t){return e.apply(this,arguments)}}(),r.getCurrentHeight=function(){var e=(0,i.default)((function*(){try{return(yield x().post(`${this.rpcUrl}/${ae.GET_HEIGHT}`)).data.height}catch(e){return 0}}));return function(){return e.apply(this,arguments)}}(),r.getHistory=function(){var e=(0,i.default)((function*(e){var t=yield ue(),n=[],r=yield this.wallet.getAddressTxs(this.privateViewKey,e),o=r.transactions,i=r.blockchain_height;for(var a of o){var s,u,c=new(d())(null!=(s=a.total_received)?s:0),l=new(d())(null!=(u=a.total_sent)?u:0);for(var f of null!=(p=a.spent_outputs)?p:[]){var p;(yield t.generateKeyImage({address:e,txPublicKey:f.tx_pub_key,privateViewKey:this.privateViewKey,privateSpendKey:this.privateSpendKey,publicSpendKey:this.publicSpendKey,outputIndex:String(f.out_index)}))!==f.key_image&&(l=l.minus(f.amount))}if(i-a.height>=1&&c.plus(l).isGreaterThan(0)){var h,m=c.minus(l);if(m.isNegative())m=m.plus(null!=(h=a.fee)?h:0);n.push(le(le({},a),{},{amount:m.toFixed()}))}}return{txs:n,blockHeight:i}}));return function(t){return e.apply(this,arguments)}}(),r.getUnspentBalance=function(){var e=(0,i.default)((function*(e){var t=yield ue(),n=new(d())(0),r=yield this.wallet.unspentOutputs(this.privateViewKey,e);for(var o of r.outputs){var i=yield t.generateKeyImage({address:e,txPublicKey:o.tx_pub_key,privateViewKey:this.privateViewKey,privateSpendKey:this.privateSpendKey,publicSpendKey:this.publicSpendKey,outputIndex:String(o.index)});i&&!o.spend_key_images.includes(i)&&(n=n.plus(o.amount))}return n}));return function(t){return e.apply(this,arguments)}}(),r.broadcastTransaction=function(){throw new g.NotImplemented},r.getAddresses=function(){throw new g.NotImplemented},r.getFeePricePerUnit=function(){throw new g.NotImplemented},r.getInfo=function(){throw new g.NotImplemented},r.getTransactionStatuses=function(){throw new g.NotImplemented},(0,a.default)(n)}(I.BaseClient);function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var he=function(e){(0,s.default)(n,e);var t=pe(n);function n(){return t.apply(this,arguments)}return(0,a.default)(n)}(n(82406).KeyringHardwareBase),me=n(968079),ye=n(613549),ge=n(278489),ve=n(810887),we=n(348834).Buffer;function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var _e=function(e){(0,s.default)(n,e);var t=be(n);function n(){return t.apply(this,arguments)}var u=n.prototype;return u.prepareAccounts=function(){var e=(0,i.default)((function*(e){var t=e.password,n=e.names,i=e.template,a=yield this.getNetwork(),s=(yield this.engine.dbApi.getCredential(this.walletId,t)).seed,u=yield ue(),c=(0,w.slicePathTemplate)(i),l=c.pathPrefix,d=c.pathSuffix,p=(0,b.batchGetPrivateKeys)("ed25519",s,t,l,[d.replace("{index}","0")]),h=(0,o.default)(p,1)[0],m=(0,f.decrypt)(t,h.extendedKey.key);if(!m)throw new g.OneKeyInternalError("Unable to get raw private key.");var y=[],v=yield this.getNetworkImpl(),E=(0,ge.getAccountNameInfoByTemplate)(v,i).prefix;for(var T of[0]){var k,S=yield u.getKeyPairFromRawPrivatekey({rawPrivateKey:m,index:T}),A=S.publicSpendKey,P=S.publicViewKey;if(!A||!P)throw new g.OneKeyInternalError("Unable to get public spend/view key.");var x=`${l}/${d.replace("{index}",T.toString())}`,I=u.pubKeysToAddress(a.isTestnet?r.TestNet:r.MainNet,0!==T,A,P),O=(n||[])[T]||`${E} #${T+1}`;y.push({id:`${this.walletId}--${x}`,name:O,type:_.AccountType.VARIANT,path:x,coinType:ye.COINTYPE_XMR,pub:`${we.from(A).toString("hex")},${we.from(P).toString("hex")}`,address:"",addresses:(k={},k[this.networkId]=I,k)})}return y}));return function(t){return e.apply(this,arguments)}}(),u.signTransaction=function(){var e=(0,i.default)((function*(e,t){var n=t.password,r=void 0===n?"":n,i=yield this.getDbAccount(),a=yield ue(),s=yield this.getClientApi(),u=(yield this.engine.dbApi.getCredential(this.walletId,r)).seed,c=(0,w.slicePathTemplate)(i.template),l=c.pathPrefix,d=c.pathSuffix,p=(0,b.batchGetPrivateKeys)("ed25519",u,r,l,[d.replace("{index}","0")]),h=(0,o.default)(p,1)[0],m=(0,f.decrypt)(r,h.extendedKey.key);if(!m)throw new g.OneKeyInternalError("Unable to get raw private key.");var y=yield a.getKeyPairFromRawPrivatekey({rawPrivateKey:m}),v=y.publicSpendKey,_=y.privateViewKey,E=y.privateSpendKey,T=e.encodedTx,k=(0,me.default)(T.destinations);T.shouldSweep&&(k=k.map((function(e){return{to_address:e.to_address,send_amount:"0"}})));var S={destinations:k,from_address_string:T.address,is_sweeping:T.shouldSweep,nettype:T.nettype,priority:T.priority,pub_spendKey_string:we.from(v||[]).toString("hex"),sec_spendKey_string:we.from(E).toString("hex"),sec_viewKey_string:we.from(_||[]).toString("hex"),fromWallet_didFailToBoot:!1,fromWallet_didFailToInitialize:!1,fromWallet_needsImport:!1,hasPickedAContact:!1,manuallyEnteredPaymentID:"",manuallyEnteredPaymentID_fieldIsVisible:!1,requireAuthentication:!1,resolvedAddress:"",resolvedAddress_fieldIsVisible:!1,resolvedPaymentID:"",resolvedPaymentID_fieldIsVisible:!1};return yield a.sendFunds(S,s.mymonero)}));return function(t,n){return e.apply(this,arguments)}}(),(0,a.default)(n)}(ve.KeyringHdBase),Ee=n(255942),Te=n(348834).Buffer;function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var Se=function(e){(0,s.default)(n,e);var t=ke(n);function n(){return t.apply(this,arguments)}var u=n.prototype;return u.prepareAccounts=function(){var e=(0,i.default)((function*(e){var t,n=e.name,o=e.privateKey,i=yield this.getNetwork(),a=yield ue(),s=yield a.getKeyPairFromRawPrivatekey({rawPrivateKey:o,isPrivateSpendKey:!0}),u=s.publicSpendKey,c=s.publicViewKey;if(!u||!c)throw new g.OneKeyInternalError("Unable to get public spend/view key.");var l=a.pubKeysToAddress(i.isTestnet?r.TestNet:r.MainNet,!1,u,c);return Promise.resolve([{id:`imported--${ye.COINTYPE_XMR}--${l}`,name:n||"",type:_.AccountType.VARIANT,path:"",coinType:ye.COINTYPE_XMR,pub:`${Te.from(u).toString("hex")},${Te.from(c).toString("hex")}`,address:l,addresses:(t={},t[this.networkId]=l,t)}])}));return function(t){return e.apply(this,arguments)}}(),u.signTransaction=function(){var e=(0,i.default)((function*(e,t){var n=t.password,r=yield ue(),i=yield this.getClientApi(),a=Object.values(yield this.getPrivateKeys(n||"")),s=(0,o.default)(a,1)[0],u=(0,f.decrypt)(n||"",s),c=yield r.getKeyPairFromRawPrivatekey({rawPrivateKey:u,isPrivateSpendKey:!0}),l=c.publicSpendKey,d=c.privateViewKey,p=c.privateSpendKey,h=e.encodedTx,m=(0,me.default)(h.destinations);h.shouldSweep&&(m=m.map((function(e){return{to_address:e.to_address,send_amount:"0"}})));var y={destinations:m,from_address_string:h.address,is_sweeping:h.shouldSweep,nettype:h.nettype,priority:h.priority,pub_spendKey_string:Te.from(l||[]).toString("hex"),sec_spendKey_string:Te.from(p).toString("hex"),sec_viewKey_string:Te.from(d||[]).toString("hex"),fromWallet_didFailToBoot:!1,fromWallet_didFailToInitialize:!1,fromWallet_needsImport:!1,hasPickedAContact:!1,manuallyEnteredPaymentID:"",manuallyEnteredPaymentID_fieldIsVisible:!1,requireAuthentication:!1,resolvedAddress:"",resolvedAddress_fieldIsVisible:!1,resolvedPaymentID:"",resolvedPaymentID_fieldIsVisible:!1};return yield r.sendFunds(y,i.mymonero)}));return function(t,n){return e.apply(this,arguments)}}(),(0,a.default)(n)}(Ee.KeyringImportedBase);function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var Pe,xe=function(e){(0,s.default)(n,e);var t=Ae(n);function n(){return t.apply(this,arguments)}return(0,a.default)(n)}(n(701625).KeyringWatchingBase),Ie=n(341628);!function(e){e[e.SLOW=1]="SLOW",e[e.NORMAL=2]="NORMAL",e[e.FAST=3]="FAST",e[e.FASTEST=4]="FASTEST"}(Pe||(Pe={}));function Oe(e,t){return e.mempool||null===e.height||void 0===e.height?E.IDecodedTxStatus.Pending:t-e.height>=10?E.IDecodedTxStatus.Confirmed:E.IDecodedTxStatus.Pending}var Ce=n(348834).Buffer;function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var Me=function(e){(0,s.default)(n,e);var t=Fe(n);function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).keyringMap={hd:_e,hw:he,imported:Se,watching:xe,external:xe},e.settings=Ie.default,e.getPrivateKey=(0,m.memoizee)(function(){var t=(0,i.default)((function*(t,n,r){try{var i,a=n||"";if(t.startsWith("imported")){var s=Object.values(yield e.keyring.getPrivateKeys(a)),u=(0,o.default)(s,1)[0];i=(0,f.decrypt)(a,u).toString("hex")}else{var c=e.settings.accountNameInfo.default.template,l=(yield e.engine.dbApi.getCredential(e.walletId,a)).seed,d=(0,w.slicePathTemplate)(c),p=d.pathPrefix,h=d.pathSuffix,m=(0,b.batchGetPrivateKeys)("ed25519",l,a,p,[h.replace("{index}","0")]),y=(0,o.default)(m,1)[0];i=(0,f.decrypt)(a,y.extendedKey.key).toString("hex")}return null==r||r(!0),i}catch(v){throw v instanceof g.WrongPassword&&(null==r||r(!1)),v}}));return function(e,n,r){return t.apply(this,arguments)}}(),{max:1,promise:!0,maxAge:(0,p.getTimeDurationMs)({minute:5})}),e.getMoneroKeys=(0,m.memoizee)(function(){var e=(0,i.default)((function*(e,t,n){var r,o=yield ue(),i=e.startsWith("imported"),a=0;i||(a=void 0===n?parseInt(null!=(r=e.split("/").pop())?r:"0"):n);return o.getKeyPairFromRawPrivatekey({rawPrivateKey:t,isPrivateSpendKey:i,index:a})}));return function(t,n,r){return e.apply(this,arguments)}}(),{max:1,primitive:!0,maxAge:(0,p.getTimeDurationMs)({minute:3}),promise:!0}),e.getRpcClient=(0,m.memoizee)(function(){var t=(0,i.default)((function*(t){var n=yield e.getRpcUrl();return new h.JsonRPCRequest(`${null!=t?t:n}/json_rpc`)}));return function(e){return t.apply(this,arguments)}}(),{primitive:!0,promise:!0,maxAge:(0,p.getTimeDurationMs)({minute:3})}),e.createXmrClient=(0,m.memoizee)((function(e,t,n,r,o,i,a){return new fe({rpcUrl:e,scanUrl:t,address:n,publicSpendKey:r,publicViewKey:o,privateSpendKey:i,privateViewKey:a})}),{max:1,primitive:!0,maxAge:(0,p.getTimeDurationMs)({minute:3})}),e}var u=n.prototype;return u.getClient=function(){var e=(0,i.default)((function*(e){var t=e.password,n=e.accountId,r=e.address,o=e.passwordLoadedCallback,i=r;i||(i=(yield this.getOutputAccount()).address);var a=yield this.getRpcUrl(),s=yield this.getClientApi(),u=yield this.getPrivateKey(null!=n?n:this.accountId,t,o),c=yield this.getMoneroKeys(null!=n?n:this.accountId,u),l=c.publicSpendKey,d=c.publicViewKey,f=c.privateSpendKey,p=c.privateViewKey;return this.createXmrClient(a,s.mymonero,null!=r?r:i,Ce.from(l||"").toString("hex"),Ce.from(d||"").toString("hex"),Ce.from(f).toString("hex"),Ce.from(p).toString("hex"))}));return function(t){return e.apply(this,arguments)}}(),u.buildEncodedTxFromTransfer=function(){var e=(0,i.default)((function*(e){if(!e.to)throw new Error("Invalid transferInfo.to params");var t=yield this.getNetwork();return{destinations:[{to_address:e.to,send_amount:e.amount}],priority:Pe.FAST,address:e.from,nettype:t.isTestnet?r.TestNet:r.MainNet,paymentId:"",shouldSweep:!1}}));return function(t){return e.apply(this,arguments)}}(),u.fetchFeeInfo=function(){var e=(0,i.default)((function*(e){var t=yield this.getRpcClient(),n=yield ue(),r=yield this.engine.getNetwork(this.networkId),o=(yield t.call("get_fee_estimate")).fee,i=yield n.estimatedTxFee({priority:String(e.priority),feePerByte:String(o)}),a=o;return{customDisabled:!0,limit:new(d())(null!=i?i:0).dividedToIntegerBy(o).toFixed(),prices:[new(d())(null!=a?a:0).shiftedBy(-r.feeDecimals).toFixed()],defaultPresetIndex:"0",feeSymbol:r.feeSymbol,feeDecimals:r.feeDecimals,nativeSymbol:r.symbol,nativeDecimals:r.decimals,tx:null}}));return function(t){return e.apply(this,arguments)}}(),u.updateEncodedTx=function(){var e=(0,i.default)((function*(e,t,n){return n.type===E.IEncodedTxUpdateType.transfer&&(e.destinations[0].send_amount=t.amount,e.shouldSweep=!0),Promise.resolve(e)}));return function(t,n,r){return e.apply(this,arguments)}}(),u.decodeTx=function(){var e=(0,i.default)((function*(e,t){var n=yield this.engine.getNetwork(this.networkId),r=yield this.getAccountAddress(),o=yield this.engine.getNativeTokenInfo(this.networkId),i=[];for(var a of e.destinations)i.push({type:E.IDecodedTxActionType.NATIVE_TRANSFER,nativeTransfer:{tokenInfo:o,from:e.address,to:a.to_address,amount:a.send_amount,amountValue:new(d())(a.send_amount).shiftedBy(n.decimals).toFixed(),extraInfo:null},direction:a.to_address===r?E.IDecodedTxDirection.SELF:E.IDecodedTxDirection.OUT});return{txid:e.tx_hash||"",owner:e.address||r,signer:e.address||r,nonce:0,actions:i,status:E.IDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,encodedTx:e,payload:t,extraInfo:null}}));return function(t,n){return e.apply(this,arguments)}}(),u.attachFeeInfoToEncodedTx=function(){var e=(0,i.default)((function*(e){return Promise.resolve(e.encodedTx)}));return function(t){return e.apply(this,arguments)}}(),u.buildUnsignedTxFromEncodedTx=function(){var e=(0,i.default)((function*(e){return Promise.resolve({inputs:[],outputs:[],payload:{encodedTx:e},encodedTx:e})}));return function(t){return e.apply(this,arguments)}}(),u.getExportedCredential=function(){var e=(0,i.default)((function*(e,t){if(this.accountId.startsWith("hd-")||this.accountId.startsWith("imported")){var n=yield ue(),r=yield this.getPrivateKey(this.accountId,e),o=yield this.getMoneroKeys(this.accountId,r),i=o.privateSpendKey,a=o.privateViewKey;switch(t){case _.AccountCredentialType.PrivateSpendKey:return Ce.from(i).toString("hex");case _.AccountCredentialType.PrivateViewKey:return Ce.from(a).toString("hex");case _.AccountCredentialType.Mnemonic:default:return n.privateSpendKeyToWords(i)}}throw new g.OneKeyInternalError("Only credential of HD or imported accounts can be exported")}));return function(t,n){return e.apply(this,arguments)}}(),u.validateAddress=function(){var e=(0,i.default)((function*(e){var t=yield ue(),n=yield this.getNetwork(),r=!1;try{r=!(yield t.decodeAddress({address:e,netType:n.isTestnet?"TESTNET":"MAINNET"})).err_msg}catch(i){r=!1}var o=r?e.toLowerCase():void 0;if(!r||"undefined"===typeof o)throw new g.InvalidAddress;return Promise.resolve(o)}));return function(t){return e.apply(this,arguments)}}(),u.fetchOnChainHistory=function(){var e=(0,i.default)((function*(e){var t=this,n=e.localHistory,r=e.password,o=e.passwordLoadedCallback,a=yield this.getClient({password:r,passwordLoadedCallback:o}),s=yield this.getNetwork(),u=yield this.getAccountAddress(),c=yield this.engine.getNativeTokenInfo(this.networkId),l=[],f=0;try{var p=yield a.getHistory(u);l=p.txs,f=p.blockHeight}catch(m){console.error(m)}var h=l.map(function(){var e=(0,i.default)((function*(e){try{var r,o,i=n.find((function(t){return t.decodedTx.txid===e.hash}));if(i&&i.decodedTx.isFinal)return null;var a,l=new(d())(e.amount),p="",h="",y=E.IDecodedTxDirection.OTHER,g=l.isPositive();if(g)y=E.IDecodedTxDirection.IN,p="unknown",h=u;else y=E.IDecodedTxDirection.OUT,p=u,h=(null==i?void 0:i.isLocalCreated)&&(null==(a=i.decodedTx.actions[0].nativeTransfer)?void 0:a.to)||"unknown";var v={txid:null!=(r=e.hash)?r:"",owner:u,signer:g?"unknown":u,nonce:0,actions:[{type:E.IDecodedTxActionType.NATIVE_TRANSFER,direction:y,nativeTransfer:{tokenInfo:c,from:p,to:h,amount:l.shiftedBy(-c.decimals).abs().toFixed(),amountValue:l.abs().toFixed(),extraInfo:null}}],status:Oe(e,f),totalFeeInNative:void 0===e.fee?void 0:new(d())(e.fee).shiftedBy(-s.decimals).toFixed(),networkId:t.networkId,accountId:t.accountId,extraInfo:null==i?void 0:i.decodedTx.extraInfo};return v.updatedAt=new Date(e.timestamp).getTime(),v.createdAt=null!=(o=null==i?void 0:i.decodedTx.createdAt)?o:v.updatedAt,v.isFinal=v.status===E.IDecodedTxStatus.Confirmed,yield t.buildHistoryTx({decodedTx:v,historyTxToMerge:i})}catch(m){return console.error(m),Promise.resolve(null)}}));return function(t){return e.apply(this,arguments)}}());return(yield Promise.all(h)).filter(Boolean)}));return function(t){return e.apply(this,arguments)}}(),u.getOutputAccount=function(){var e=(0,i.default)((function*(){var e,t=yield this.getDbAccount({noCache:!0}),n={id:t.id,name:t.name,type:t.type,path:t.path,coinType:t.coinType,tokens:[],address:(null==(e=t.addresses)?void 0:e[this.networkId])||"",template:t.template};if(0===n.address.length&&(0,v.isAccountCompatibleWithNetwork)(t.id,this.networkId))try{var r=yield this.addressFromBase(t);n.address=r,yield this.engine.dbApi.updateAccountAddresses(t.id,this.networkId,r)}catch(o){}return n}));return function(){return e.apply(this,arguments)}}(),u.getAccountAddress=function(){var e=(0,i.default)((function*(){return(yield this.getOutputAccount()).address}));return function(){return e.apply(this,arguments)}}(),u.addressFromBase=function(){var e=(0,i.default)((function*(e){var t,n=yield ue(),i=(yield this.getNetwork()).isTestnet,a=e.pub.split(","),s=(0,o.default)(a,2),u=s[0],c=s[1],l=!e.id.startsWith("imported")&&0!==parseInt(null!=(t=e.path.split("/").pop())?t:"0");return n.pubKeysToAddress(i?r.TestNet:r.MainNet,l,Ce.from(u,"hex"),Ce.from(c,"hex"))}));return function(t){return e.apply(this,arguments)}}(),u.getBalances=function(){var e=(0,i.default)((function*(e,t,n){var r=(0,o.default)(e,1)[0];return(yield this.getClient({password:t,accountId:r.accountId,address:r.address,passwordLoadedCallback:n})).getBalances([{address:r.address,coin:{}}])}));return function(t,n,r){return e.apply(this,arguments)}}(),u.broadcastTransaction=function(){var e=(0,i.default)((function*(e){return Promise.resolve(e)}));return function(t){return e.apply(this,arguments)}}(),u.getClientEndpointStatus=function(){var e=(0,i.default)((function*(e){var t=yield this.getRpcClient(e),n=performance.now(),r=yield t.call("get_last_block_header");return{responseTime:Math.floor(performance.now()-n),latestBlock:r.block_header.height}}));return function(t){return e.apply(this,arguments)}}(),u.getFrozenBalance=function(){var e=(0,i.default)((function*(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).password,t=yield this.getClient({password:e}),n=(yield this.getOutputAccount()).address,r=(yield this.engine.getNativeTokenInfo(this.networkId)).decimals;try{var i,a=yield t.getBalances([{address:n,coin:{}}]),s=(0,o.default)(a,1)[0],u=yield t.getUnspentBalance(n),c=null==s?void 0:s.minus(u).shiftedBy(-r).toNumber();if(null!=s&&s.isGreaterThan(0)&&u.isZero()&&(c=-1),0===c){for(var l=!1,d=(yield y.default.history.getAccountHistory({accountId:this.accountId,networkId:this.networkId,isPending:!0,limit:10})).items,f=0,p=d.length;f<p;f=1){var h=d[f].decodedTx.actions[0];if(h.type===E.IDecodedTxActionType.NATIVE_TRANSFER&&(E.IDecodedTxDirection.OUT===h.direction||E.IDecodedTxDirection.SELF===h.direction)){l=!0;break}}l&&(c=-1)}return null!=(i=c)?i:0}catch(m){return 0}}));return function(){return e.apply(this,arguments)}}(),u.getPrivateKeyByCredential=function(){var e=(0,i.default)((function*(e){var t=yield ue(),n=yield this.getNetwork(),r=yield t.seedAndkeysFromMnemonic({mnemonic:e,netType:n.isTestnet?"TESTNET":"MAINNET"});return Ce.from(r.seed,"hex")}));return function(t){return e.apply(this,arguments)}}(),u.validateImportedCredential=function(){var e=(0,i.default)((function*(e){if(this.settings.importedAccountEnabled){var t=yield ue(),n=yield this.getNetwork();try{return(yield t.seedAndkeysFromMnemonic({mnemonic:e,netType:n.isTestnet?"TESTNET":"MAINNET"})).err_msg?yield Promise.resolve(!1):yield Promise.resolve(!0)}catch(r){return Promise.resolve(!1)}}return Promise.resolve(!1)}));return function(t){return e.apply(this,arguments)}}(),u.decodedTxToLegacy=function(e){return Promise.resolve({})},u.buildEncodedTxFromApprove=function(e){throw new Error("Method not implemented.")},u.updateEncodedTxTokenApprove=function(e,t){throw new Error("Method not implemented.")},u.fetchTokenInfos=function(e){throw new Error("Method not implemented.")},(0,a.default)(n)}(T.VaultBase)},408567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i}),e=n.hmd(e);var r=n(348834).Buffer,o=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){var o,i,a="undefined"!=typeof(t=t||{})?t:{};a.ready=new Promise((function(e,t){o=e,i=t})),["_main","___getTypeName","__embind_initialize_bindings","_fflush","___set_stack_limits","onRuntimeInitialized"].forEach((function(e){Object.getOwnPropertyDescriptor(a.ready,e)||Object.defineProperty(a.ready,e,{get:function(){return fe("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")},set:function(){return fe("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})}));var s=Object.assign({},a),u=[],c="./this.program",l=function(e,t){throw t},d="object"==typeof window,f="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h=!d&&!p&&!f;if(a.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var m,y,g,v="";function w(e){if(!(e instanceof be)){var t=e;e&&"object"==typeof e&&e.stack&&(t=[e,e.stack]),T("exiting due to exception: "+t)}}if(p){if("undefined"==typeof process||!process.release||"node"!==process.release.name)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var b,_;v=f?n(978262).dirname(v)+"/":"//",b=n(498770),_=n(978262),m=function(e,t){return e=_.normalize(e),b.readFileSync(e,t?void 0:"utf8")},g=function(e){var t=m(e,!0);return t.buffer||(t=new Uint8Array(t)),C(t.buffer),t},y=function(e,t,n){e=_.normalize(e),b.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),u=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof be))throw e})),l=function(e,t){if(re())throw process.exitCode=e,t;w(t),process.exit(e)},a.inspect=function(){return"[Emscripten Module object]"}}else if(h){if("object"==typeof process||"object"==typeof window||"function"==typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");"undefined"!=typeof read&&(m=function(e){return read(e)}),g=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(C("object"==typeof(t=read(e,"binary"))),t)},y=function(e,t,n){setTimeout((function(){return t(g(e))}),0)},"undefined"!=typeof scriptArgs?u=scriptArgs:"undefined"!=typeof arguments&&(u=arguments),"function"==typeof quit&&(l=function(e,t){w(t),quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)}else{if(!d&&!f)throw new Error("environment detection error");if(f?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),e&&(v=e),v=0!==v.indexOf("blob:")?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"","object"!=typeof window&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),y=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},function(e){return document.title=e}}var E=a.print||console.log,T=a.printErr||console.warn;Object.assign(a,s),s=null,function(){e="fetchSettings",Object.getOwnPropertyDescriptor(a,e)&&fe("`Module."+e+"` was supplied but `"+e+"` not included in INCOMING_MODULE_JS_API");var e}(),a.arguments&&(u=a.arguments),S("arguments","arguments_"),a.thisProgram&&(c=a.thisProgram),S("thisProgram","thisProgram"),a.quit&&(l=a.quit),S("quit","quit_"),C("undefined"==typeof a.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),C("undefined"==typeof a.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),C("undefined"==typeof a.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),C("undefined"==typeof a.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),C("undefined"==typeof a.read,"Module.read option was removed (modify read_ in JS)"),C("undefined"==typeof a.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),C("undefined"==typeof a.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),C("undefined"==typeof a.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),C("undefined"==typeof a.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),S("read","read_"),S("readAsync","readAsync"),S("readBinary","readBinary"),S("setWindowTitle","setWindowTitle");C(!h,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var k;function S(e,t){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get:function(){fe("Module."+e+" has been replaced with plain "+t+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function A(e){return"FS_createPath"===e||"FS_createDataFile"===e||"FS_createPreloadedFile"===e||"FS_unlink"===e||"addRunDependency"===e||"FS_createLazyFile"===e||"FS_createDevice"===e||"removeRunDependency"===e}a.wasmBinary&&(k=a.wasmBinary),S("wasmBinary","wasmBinary");var P,x=a.noExitRuntime||!0;S("noExitRuntime","noExitRuntime"),"object"!=typeof WebAssembly&&fe("no native wasm support detected");var I,O=!1;function C(e,t){e||fe("Assertion failed"+(t?": "+t:""))}var F,M,R,D,N,j,L,U,B,K="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&K)return K.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if(224==(240&a)?a=(15&a)<<12|s<<6|u:(240!=(248&a)&&ke("Invalid UTF-8 leading byte 0x"+a.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),a=(7&a)<<18|s<<12|u<<6|63&e[t++]),a<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function W(e,t){return e?z(R,e,t):""}function H(e,t,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;s>1114111&&ke("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function V(e,t,n){return C("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),H(e,R,t,n)}function G(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function Y(e){F=e,a.HEAP8=M=new Int8Array(e),a.HEAP16=D=new Int16Array(e),a.HEAP32=j=new Int32Array(e),a.HEAPU8=R=new Uint8Array(e),a.HEAPU16=N=new Uint16Array(e),a.HEAPU32=L=new Uint32Array(e),a.HEAPF32=U=new Float32Array(e),a.HEAPF64=B=new Float64Array(e)}var q=5242880;a.TOTAL_STACK&&C(q===a.TOTAL_STACK,"the stack size can no longer be determined at runtime");var X,J=a.INITIAL_MEMORY||16777216;function $(){if(!O){var e=an(),t=L[e>>2],n=L[e+4>>2];34821223==t&&2310721022==n||fe("Stack overflow! Stack cookie has been overwritten at 0x"+e.toString(16)+", expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+n.toString(16)+" 0x"+t.toString(16)),1668509029!==L[0]&&fe("Runtime error: The application has corrupted its heap memory area (address zero)!")}}S("INITIAL_MEMORY","INITIAL_MEMORY"),C(J>=q,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+J+"! (TOTAL_STACK="+q+")"),C("undefined"!=typeof Int32Array&&"undefined"!==typeof Float64Array&&void 0!=Int32Array.prototype.subarray&&void 0!=Int32Array.prototype.set,"JS engine does not provide full typed array support"),C(!a.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),C(16777216==J,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"}();var Q=[],Z=[],ee=[],te=[],ne=!1;function re(){return x}function oe(e){te.unshift(e)}C(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),C(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),C(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),C(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var ie=0,ae=null,se=null,ue={};function ce(e){for(var t=e;;){if(!ue[e])return e;e=t+Math.random()}}function le(e){ie++,a.monitorRunDependencies&&a.monitorRunDependencies(ie),e?(C(!ue[e]),ue[e]=1,null===ae&&"undefined"!=typeof setInterval&&(ae=setInterval((function(){if(O)return clearInterval(ae),void(ae=null);var e=!1;for(var t in ue)e||(e=!0,T("still waiting on run dependencies:")),T("dependency: "+t);e&&T("(end of list)")}),1e4))):T("warning: run dependency added without ID")}function de(e){if(ie--,a.monitorRunDependencies&&a.monitorRunDependencies(ie),e?(C(ue[e]),delete ue[e]):T("warning: run dependency removed without ID"),0==ie&&(null!==ae&&(clearInterval(ae),ae=null),se)){var t=se;se=null,t()}}function fe(e){a.onAbort&&a.onAbort(e),T(e="Aborted("+e+")"),O=!0,I=1;var t=new WebAssembly.RuntimeError(e);throw i(t),t}var pe,he,me,ye;function ge(e,t){return function(){var n=e,r=t;return t||(r=a.asm),C(ne,"native function `"+n+"` called before runtime initialization"),r[e]||C(r[e],"exported native function `"+n+"` not found"),r[e].apply(null,arguments)}}function ve(){return!k&&(d||f)&&y?new Promise((function(e,t){y(pe,(function(t){e(new Uint8Array(t))}),t)})):Promise.resolve().then((function(){return function(e){try{if(e==pe&&k)return new Uint8Array(k);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(T){fe(T)}}(pe)}))}(pe="moneroCore.wasm").startsWith("data:application/octet-stream;base64,")||(he=pe,pe=a.locateFile?a.locateFile(he,v):v+he);var we={362036:function(e){var t=a.UTF8ToString(e),n=JSON.parse(t);a.fromCpp__SendFundsFormSubmission__error(n)},362217:function(e){var t=a.UTF8ToString(e),n=JSON.parse(t);a.fromCpp__SendFundsFormSubmission__success(n)},362400:function(e){var t=a.UTF8ToString(e),n=JSON.parse(t);a.fromCpp__SendFundsFormSubmission__status_update(n)},362589:function(){a.fromCpp__SendFundsFormSubmission__willBeginSending({})},362656:function(){a.fromCpp__SendFundsFormSubmission__canceled({})},362715:function(){a.fromCpp__SendFundsFormSubmission__authenticate()},362776:function(e){var t=a.UTF8ToString(e),n=JSON.parse(t);a.fromCpp__SendFundsFormSubmission__get_unspent_outs(n)},362968:function(e){var t=a.UTF8ToString(e),n=JSON.parse(t);a.fromCpp__SendFundsFormSubmission__get_random_outs(n)},363159:function(e){var t=a.UTF8ToString(e),n=JSON.parse(t);a.fromCpp__SendFundsFormSubmission__submit_raw_tx(n)}};function be(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function _e(e){for(;e.length>0;)e.shift()(a)}function Ee(e){return Ee.recursionGuard=1+(0|Ee.recursionGuard),Ee.recursionGuard>1?e:(C(ln),function(e){var t=sn(),n=e();return un(t),n}((function(){try{var t=e;t.startsWith("__Z")&&(t=t.substr(1));var n=G(t)+1,r=cn(n);V(t,r,n);var o=cn(4),i=ln(r,0,0,o);if(0===j[o>>2]&&i)return W(i)}catch(a){}finally{$t(i),Ee.recursionGuard<2&&--Ee.recursionGuard}return e})))}function Te(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){var t=Ee(e);return e===t?e:t+" ["+e+"]"}))}function ke(e){ke.shown||(ke.shown={}),ke.shown[e]||(ke.shown[e]=1,p&&(e="warning: "+e),T(e))}var Se=[];var Ae=0;var Pe=0;function xe(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){L[this.ptr+4>>2]=e},this.get_type=function(){return L[this.ptr+4>>2]},this.set_destructor=function(e){L[this.ptr+8>>2]=e},this.get_destructor=function(){return L[this.ptr+8>>2]},this.set_refcount=function(e){j[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,M[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=M[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,M[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=M[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=j[this.ptr>>2];j[this.ptr>>2]=e+1},this.release_ref=function(){var e=j[this.ptr>>2];return j[this.ptr>>2]=e-1,C(e>0),1===e},this.set_adjusted_ptr=function(e){L[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return L[this.ptr+16>>2]},this.get_exception_ptr=function(){if(fn(this.get_type()))return L[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function Ie(e){try{return $t(new xe(e).ptr)}catch(t){T("exception during __cxa_free_exception: "+t)}}var Oe=[];function Ce(e){var t=Oe[e];return t||(e>=Oe.length&&(Oe.length=e+1),Oe[e]=t=X.get(e)),C(X.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t}var Fe={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t=Fe.isAbs(e),n="/"===e.substr(-1);return(e=Fe.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Fe.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Fe.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return Fe.normalize(e.join("/"))},join2:function(e,t){return Fe.normalize(e+"/"+t)}};var Me={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Be.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t=Fe.isAbs(r)}return(t?"/":"")+(e=Fe.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Me.resolve(e).substr(1),t=Me.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),i=Math.min(r.length,o.length),a=i,s=0;s<i;s++)if(r[s]!==o[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")}};function Re(e,t,n){var r=n>0?n:G(e)+1,o=new Array(r),i=H(e,o,0,o.length);return t&&(o.length=i),o}var De={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){De.ttys[e]={input:[],output:[],ops:t},Be.registerDevice(e,De.stream_ops)},stream_ops:{open:function(e){var t=De.ttys[e.node.rdev];if(!t)throw new Be.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.get_char)throw new Be.ErrnoError(60);for(var i=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(u){throw new Be.ErrnoError(29)}if(void 0===s&&0===i)throw new Be.ErrnoError(6);if(null===s||void 0===s)break;i++,t[n+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,r,o){if(!e.tty||!e.tty.ops.put_char)throw new Be.ErrnoError(60);try{for(var i=0;i<r;i++)e.tty.ops.put_char(e.tty,t[n+i])}catch(a){throw new Be.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(p){var n=r.alloc(256),o=0;try{o=b.readSync(process.stdin.fd,n,0,256,-1)}catch(i){if(!i.toString().includes("EOF"))throw i;o=0}t=o>0?n.slice(0,o).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Re(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(E(z(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(E(z(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(T(z(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(T(z(e.output,0)),e.output=[])}}};function Ne(e){fe("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")}var je={ops_table:null,mount:function(e){return je.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Be.isBlkdev(n)||Be.isFIFO(n))throw new Be.ErrnoError(63);je.ops_table||(je.ops_table={dir:{node:{getattr:je.node_ops.getattr,setattr:je.node_ops.setattr,lookup:je.node_ops.lookup,mknod:je.node_ops.mknod,rename:je.node_ops.rename,unlink:je.node_ops.unlink,rmdir:je.node_ops.rmdir,readdir:je.node_ops.readdir,symlink:je.node_ops.symlink},stream:{llseek:je.stream_ops.llseek}},file:{node:{getattr:je.node_ops.getattr,setattr:je.node_ops.setattr},stream:{llseek:je.stream_ops.llseek,read:je.stream_ops.read,write:je.stream_ops.write,allocate:je.stream_ops.allocate,mmap:je.stream_ops.mmap,msync:je.stream_ops.msync}},link:{node:{getattr:je.node_ops.getattr,setattr:je.node_ops.setattr,readlink:je.node_ops.readlink},stream:{}},chrdev:{node:{getattr:je.node_ops.getattr,setattr:je.node_ops.setattr},stream:Be.chrdev_stream_ops}});var o=Be.createNode(e,t,n,r);return Be.isDir(o.mode)?(o.node_ops=je.ops_table.dir.node,o.stream_ops=je.ops_table.dir.stream,o.contents={}):Be.isFile(o.mode)?(o.node_ops=je.ops_table.file.node,o.stream_ops=je.ops_table.file.stream,o.usedBytes=0,o.contents=null):Be.isLink(o.mode)?(o.node_ops=je.ops_table.link.node,o.stream_ops=je.ops_table.link.stream):Be.isChrdev(o.mode)&&(o.node_ops=je.ops_table.chrdev.node,o.stream_ops=je.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Be.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Be.isDir(e.mode)?t.size=4096:Be.isFile(e.mode)?t.size=e.usedBytes:Be.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&je.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Be.genericErrors[44]},mknod:function(e,t,n,r){return je.createNode(e,t,n,r)},rename:function(e,t,n){if(Be.isDir(e.mode)){var r;try{r=Be.lookupNode(t,n)}catch(i){}if(r)for(var o in r.contents)throw new Be.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=Be.lookupNode(e,t);for(var r in n.contents)throw new Be.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=je.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Be.isLink(e.mode))throw new Be.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,r);if(C(a>=0),a>8&&i.subarray)t.set(i.subarray(o,o+a),n);else for(var s=0;s<a;s++)t[n+s]=i[o+s];return a},write:function(e,t,n,r,o,i){if(C(!(t instanceof ArrayBuffer)),t.buffer===M.buffer&&(i=!1),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return C(0===o,"canOwn must imply no weird position inside the file"),a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===o)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(o+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),o),r}if(je.expandFileStorage(a,o+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),o);else for(var s=0;s<r;s++)a.contents[o+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,o+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Be.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Be.ErrnoError(28);return r},allocate:function(e,t,n){je.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,o){if(!Be.isFile(e.node.mode))throw new Be.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||s.buffer!==F){if((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),a=!0,!(i=Ne()))throw new Be.ErrnoError(48);M.set(s,i)}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:function(e,t,n,r,o){return je.stream_ops.write(e,t,0,r,n,!1),0}}};var Le={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Ue={},Be={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=Me.resolve(Be.cwd(),e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new Be.ErrnoError(32);for(var n=Fe.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),r=Be.root,o="/",i=0;i<n.length;i++){var a=i===n.length-1;if(a&&t.parent)break;if(r=Be.lookupNode(r,n[i]),o=Fe.join2(o,n[i]),Be.isMountpoint(r)&&(!a||a&&t.follow_mount)&&(r=r.mounted.root),!a||t.follow)for(var s=0;Be.isLink(r.mode);){var u=Be.readlink(o);if(o=Me.resolve(Fe.dirname(o),u),r=Be.lookupPath(o,{recurse_count:t.recurse_count+1}).node,s++>40)throw new Be.ErrnoError(32)}}return{path:o,node:r}},getPath:function(e){for(var t;;){if(Be.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Be.nameTable.length},hashAddNode:function(e){var t=Be.hashName(e.parent.id,e.name);e.name_next=Be.nameTable[t],Be.nameTable[t]=e},hashRemoveNode:function(e){var t=Be.hashName(e.parent.id,e.name);if(Be.nameTable[t]===e)Be.nameTable[t]=e.name_next;else for(var n=Be.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Be.mayLookup(e);if(n)throw new Be.ErrnoError(n,e);for(var r=Be.hashName(e.id,t),o=Be.nameTable[r];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return Be.lookup(e,t)},createNode:function(e,t,n,r){C("object"==typeof e);var o=new Be.FSNode(e,t,n,r);return Be.hashAddNode(o),o},destroyNode:function(e){Be.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=Be.flagModes[e];if("undefined"==typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Be.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Be.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{Be.lookupNode(e,t);return 20}catch(n){}return Be.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Be.lookupNode(e,t)}catch(i){return i.errno}var o=Be.nodePermissions(e,"wx");if(o)return o;if(n){if(!Be.isDir(r.mode))return 54;if(Be.isRoot(r)||Be.getPath(r)===Be.cwd())return 10}else if(Be.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Be.isLink(e.mode)?32:Be.isDir(e.mode)&&("r"!==Be.flagsToPermissionString(t)||512&t)?31:Be.nodePermissions(e,Be.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.MAX_OPEN_FDS,n=e;n<=t;n++)if(!Be.streams[n])return n;throw new Be.ErrnoError(33)},getStream:function(e){return Be.streams[e]},createStream:function(e,t,n){Be.FSStream||(Be.FSStream=function(){this.shared={}},Be.FSStream.prototype={},Object.defineProperties(Be.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Be.FSStream,e);var r=Be.nextfd(t,n);return e.fd=r,Be.streams[r]=e,e},closeStream:function(e){Be.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Be.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Be.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Be.devices[e]={stream_ops:t}},getDevice:function(e){return Be.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Be.syncFSRequests++,Be.syncFSRequests>1&&T("warning: "+Be.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Be.getMounts(Be.root.mount),r=0;function o(e){return C(Be.syncFSRequests>0),Be.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++r>=n.length&&o(null)}n.forEach((function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount:function(e,t,n){if("string"==typeof e)throw e;var r,o="/"===n,i=!n;if(o&&Be.root)throw new Be.ErrnoError(10);if(!o&&!i){var a=Be.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,Be.isMountpoint(r))throw new Be.ErrnoError(10);if(!Be.isDir(r.mode))throw new Be.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?Be.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=Be.lookupPath(e,{follow_mount:!1});if(!Be.isMountpoint(t.node))throw new Be.ErrnoError(28);var n=t.node,r=n.mounted,o=Be.getMounts(r);Object.keys(Be.nameTable).forEach((function(e){for(var t=Be.nameTable[e];t;){var n=t.name_next;o.includes(t.mount)&&Be.destroyNode(t),t=n}})),n.mounted=null;var i=n.mount.mounts.indexOf(r);C(-1!==i),n.mount.mounts.splice(i,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Be.lookupPath(e,{parent:!0}).node,o=Fe.basename(e);if(!o||"."===o||".."===o)throw new Be.ErrnoError(28);var i=Be.mayCreate(r,o);if(i)throw new Be.ErrnoError(i);if(!r.node_ops.mknod)throw new Be.ErrnoError(63);return r.node_ops.mknod(r,o,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Be.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Be.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",o=0;o<n.length;++o)if(n[o]){r+="/"+n[o];try{Be.mkdir(r,t)}catch(i){if(20!=i.errno)throw i}}},mkdev:function(e,t,n){return"undefined"==typeof n&&(n=t,t=438),t|=8192,Be.mknod(e,t,n)},symlink:function(e,t){if(!Me.resolve(e))throw new Be.ErrnoError(44);var n=Be.lookupPath(t,{parent:!0}).node;if(!n)throw new Be.ErrnoError(44);var r=Fe.basename(t),o=Be.mayCreate(n,r);if(o)throw new Be.ErrnoError(o);if(!n.node_ops.symlink)throw new Be.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,o=Fe.dirname(e),i=Fe.dirname(t),a=Fe.basename(e),s=Fe.basename(t);if(n=Be.lookupPath(e,{parent:!0}).node,r=Be.lookupPath(t,{parent:!0}).node,!n||!r)throw new Be.ErrnoError(44);if(n.mount!==r.mount)throw new Be.ErrnoError(75);var u,c=Be.lookupNode(n,a),l=Me.relative(e,i);if("."!==l.charAt(0))throw new Be.ErrnoError(28);if("."!==(l=Me.relative(t,o)).charAt(0))throw new Be.ErrnoError(55);try{u=Be.lookupNode(r,s)}catch(p){}if(c!==u){var d=Be.isDir(c.mode),f=Be.mayDelete(n,a,d);if(f)throw new Be.ErrnoError(f);if(f=u?Be.mayDelete(r,s,d):Be.mayCreate(r,s))throw new Be.ErrnoError(f);if(!n.node_ops.rename)throw new Be.ErrnoError(63);if(Be.isMountpoint(c)||u&&Be.isMountpoint(u))throw new Be.ErrnoError(10);if(r!==n&&(f=Be.nodePermissions(n,"w")))throw new Be.ErrnoError(f);Be.hashRemoveNode(c);try{n.node_ops.rename(c,r,s)}catch(p){throw p}finally{Be.hashAddNode(c)}}},rmdir:function(e){var t=Be.lookupPath(e,{parent:!0}).node,n=Fe.basename(e),r=Be.lookupNode(t,n),o=Be.mayDelete(t,n,!0);if(o)throw new Be.ErrnoError(o);if(!t.node_ops.rmdir)throw new Be.ErrnoError(63);if(Be.isMountpoint(r))throw new Be.ErrnoError(10);t.node_ops.rmdir(t,n),Be.destroyNode(r)},readdir:function(e){var t=Be.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Be.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Be.lookupPath(e,{parent:!0}).node;if(!t)throw new Be.ErrnoError(44);var n=Fe.basename(e),r=Be.lookupNode(t,n),o=Be.mayDelete(t,n,!1);if(o)throw new Be.ErrnoError(o);if(!t.node_ops.unlink)throw new Be.ErrnoError(63);if(Be.isMountpoint(r))throw new Be.ErrnoError(10);t.node_ops.unlink(t,n),Be.destroyNode(r)},readlink:function(e){var t=Be.lookupPath(e).node;if(!t)throw new Be.ErrnoError(44);if(!t.node_ops.readlink)throw new Be.ErrnoError(28);return Me.resolve(Be.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Be.lookupPath(e,{follow:!t}).node;if(!n)throw new Be.ErrnoError(44);if(!n.node_ops.getattr)throw new Be.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Be.stat(e,!0)},chmod:function(e,t,n){var r;"string"==typeof e?r=Be.lookupPath(e,{follow:!n}).node:r=e;if(!r.node_ops.setattr)throw new Be.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Be.chmod(e,t,!0)},fchmod:function(e,t){var n=Be.getStream(e);if(!n)throw new Be.ErrnoError(8);Be.chmod(n.node,t)},chown:function(e,t,n,r){var o;"string"==typeof e?o=Be.lookupPath(e,{follow:!r}).node:o=e;if(!o.node_ops.setattr)throw new Be.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,n){Be.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Be.getStream(e);if(!r)throw new Be.ErrnoError(8);Be.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Be.ErrnoError(28);var n;"string"==typeof e?n=Be.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new Be.ErrnoError(63);if(Be.isDir(n.mode))throw new Be.ErrnoError(31);if(!Be.isFile(n.mode))throw new Be.ErrnoError(28);var r=Be.nodePermissions(n,"w");if(r)throw new Be.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Be.getStream(e);if(!n)throw new Be.ErrnoError(8);if(0===(2097155&n.flags))throw new Be.ErrnoError(28);Be.truncate(n.node,t)},utime:function(e,t,n){var r=Be.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,n){if(""===e)throw new Be.ErrnoError(44);var r;if(n="undefined"==typeof n?438:n,n=64&(t="string"==typeof t?Be.modeStringToFlags(t):t)?4095&n|32768:0,"object"==typeof e)r=e;else{e=Fe.normalize(e);try{r=Be.lookupPath(e,{follow:!(131072&t)}).node}catch(u){}}var o=!1;if(64&t)if(r){if(128&t)throw new Be.ErrnoError(20)}else r=Be.mknod(e,n,0),o=!0;if(!r)throw new Be.ErrnoError(44);if(Be.isChrdev(r.mode)&&(t&=-513),65536&t&&!Be.isDir(r.mode))throw new Be.ErrnoError(54);if(!o){var i=Be.mayOpen(r,t);if(i)throw new Be.ErrnoError(i)}512&t&&!o&&Be.truncate(r,0),t&=-131713;var s=Be.createStream({node:r,path:Be.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!a.logReadFiles||1&t||(Be.readFiles||(Be.readFiles={}),e in Be.readFiles||(Be.readFiles[e]=1)),s},close:function(e){if(Be.isClosed(e))throw new Be.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{Be.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Be.isClosed(e))throw new Be.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Be.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Be.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,o){if(r<0||o<0)throw new Be.ErrnoError(28);if(Be.isClosed(e))throw new Be.ErrnoError(8);if(1===(2097155&e.flags))throw new Be.ErrnoError(8);if(Be.isDir(e.node.mode))throw new Be.ErrnoError(31);if(!e.stream_ops.read)throw new Be.ErrnoError(28);var i="undefined"!=typeof o;if(i){if(!e.seekable)throw new Be.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,n,r,o);return i||(e.position+=a),a},write:function(e,t,n,r,o,i){if(r<0||o<0)throw new Be.ErrnoError(28);if(Be.isClosed(e))throw new Be.ErrnoError(8);if(0===(2097155&e.flags))throw new Be.ErrnoError(8);if(Be.isDir(e.node.mode))throw new Be.ErrnoError(31);if(!e.stream_ops.write)throw new Be.ErrnoError(28);e.seekable&&1024&e.flags&&Be.llseek(e,0,2);var a="undefined"!=typeof o;if(a){if(!e.seekable)throw new Be.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,n,r,o,i);return a||(e.position+=s),s},allocate:function(e,t,n){if(Be.isClosed(e))throw new Be.ErrnoError(8);if(t<0||n<=0)throw new Be.ErrnoError(28);if(0===(2097155&e.flags))throw new Be.ErrnoError(8);if(!Be.isFile(e.node.mode)&&!Be.isDir(e.node.mode))throw new Be.ErrnoError(43);if(!e.stream_ops.allocate)throw new Be.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,o){if(0!==(2&r)&&0===(2&o)&&2!==(2097155&e.flags))throw new Be.ErrnoError(2);if(1===(2097155&e.flags))throw new Be.ErrnoError(2);if(!e.stream_ops.mmap)throw new Be.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,o)},msync:function(e,t,n,r,o){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,o):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Be.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.flags=n.flags||0,n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var r=Be.open(e,n.flags),o=Be.stat(e).size,i=new Uint8Array(o);return Be.read(r,i,0,o,0),"utf8"===n.encoding?t=z(i,0):"binary"===n.encoding&&(t=i),Be.close(r),t},writeFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.flags=n.flags||577;var r=Be.open(e,n.flags,n.mode);if("string"==typeof t){var o=new Uint8Array(G(t)+1),i=H(t,o,0,o.length);Be.write(r,o,0,i,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Be.write(r,t,0,t.byteLength,void 0,n.canOwn)}Be.close(r)},cwd:function(){return Be.currentPath},chdir:function(e){var t=Be.lookupPath(e,{follow:!0});if(null===t.node)throw new Be.ErrnoError(44);if(!Be.isDir(t.node.mode))throw new Be.ErrnoError(54);var n=Be.nodePermissions(t.node,"x");if(n)throw new Be.ErrnoError(n);Be.currentPath=t.path},createDefaultDirectories:function(){Be.mkdir("/tmp"),Be.mkdir("/home"),Be.mkdir("/home/web_user")},createDefaultDevices:function(){Be.mkdir("/dev"),Be.registerDevice(Be.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,o){return r}}),Be.mkdev("/dev/null",Be.makedev(1,3)),De.register(Be.makedev(5,0),De.default_tty_ops),De.register(Be.makedev(6,0),De.default_tty1_ops),Be.mkdev("/dev/tty",Be.makedev(5,0)),Be.mkdev("/dev/tty1",Be.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(p)try{var t=n(897959);return function(){return t.randomBytes(1)[0]}}catch(r){}return function(){return fe("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}();Be.createDevice("/dev","random",e),Be.createDevice("/dev","urandom",e),Be.mkdir("/dev/shm"),Be.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Be.mkdir("/proc");var e=Be.mkdir("/proc/self");Be.mkdir("/proc/self/fd"),Be.mount({mount:function(){var t=Be.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=Be.getStream(n);if(!r)throw new Be.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return o.parent=o,o}},t}},{},"/proc/self/fd")},createStandardStreams:function(){a.stdin?Be.createDevice("/dev","stdin",a.stdin):Be.symlink("/dev/tty","/dev/stdin"),a.stdout?Be.createDevice("/dev","stdout",null,a.stdout):Be.symlink("/dev/tty","/dev/stdout"),a.stderr?Be.createDevice("/dev","stderr",null,a.stderr):Be.symlink("/dev/tty1","/dev/stderr");var e=Be.open("/dev/stdin",0),t=Be.open("/dev/stdout",1),n=Be.open("/dev/stderr",1);C(0===e.fd,"invalid handle for stdin ("+e.fd+")"),C(1===t.fd,"invalid handle for stdout ("+t.fd+")"),C(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){Be.ErrnoError||(Be.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,Ue)if(Ue[t]===e){this.code=t;break}},this.setErrno(e),this.message=Le[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=Te(this.stack))},Be.ErrnoError.prototype=new Error,Be.ErrnoError.prototype.constructor=Be.ErrnoError,[44].forEach((function(e){Be.genericErrors[e]=new Be.ErrnoError(e),Be.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Be.ensureErrnoError(),Be.nameTable=new Array(4096),Be.mount(je,{},"/"),Be.createDefaultDirectories(),Be.createDefaultDevices(),Be.createSpecialDirectories(),Be.filesystems={MEMFS:je}},init:function(e,t,n){C(!Be.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Be.init.initialized=!0,Be.ensureErrnoError(),a.stdin=e||a.stdin,a.stdout=t||a.stdout,a.stderr=n||a.stderr,Be.createStandardStreams()},quit:function(){Be.init.initialized=!1,Zt(0);for(var e=0;e<Be.streams.length;e++){var t=Be.streams[e];t&&Be.close(t)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:function(e,t){var n=Be.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=Be.lookupPath(e,{follow:!t})).path}catch(o){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Be.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Fe.basename(e),r=Be.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(o){n.error=o.errno}return n},createPath:function(e,t,n,r){e="string"==typeof e?e:Be.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Fe.join2(e,i);try{Be.mkdir(a)}catch(s){}e=a}}return a},createFile:function(e,t,n,r,o){var i=Fe.join2("string"==typeof e?e:Be.getPath(e),t),a=Be.getMode(r,o);return Be.create(i,a)},createDataFile:function(e,t,n,r,o,i){var a=t;e&&(e="string"==typeof e?e:Be.getPath(e),a=t?Fe.join2(e,t):e);var s=Be.getMode(r,o),u=Be.create(a,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),l=0,d=n.length;l<d;++l)c[l]=n.charCodeAt(l);n=c}Be.chmod(u,146|s);var f=Be.open(u,577);Be.write(f,n,0,n.length,0,i),Be.close(f),Be.chmod(u,s)}return u},createDevice:function(e,t,n,r){var o=Fe.join2("string"==typeof e?e:Be.getPath(e),t),i=Be.getMode(!!n,!!r);Be.createDevice.major||(Be.createDevice.major=64);var a=Be.makedev(Be.createDevice.major++,0);return Be.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,o,i){for(var a=0,s=0;s<o;s++){var u;try{u=n()}catch(c){throw new Be.ErrnoError(29)}if(void 0===u&&0===a)throw new Be.ErrnoError(6);if(null===u||void 0===u)break;a++,t[r+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,o,i){for(var a=0;a<o;a++)try{r(t[n+a])}catch(s){throw new Be.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Be.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!m)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Re(m(e.url),!0),e.usedBytes=e.contents.length}catch(t){throw new Be.ErrnoError(29)}},createLazyFile:function(e,t,n,r,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,i=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=r);var s=this;s.setDataGetter((function(e){var t=e*a,o=(e+1)*a-1;if(o=Math.min(o,r-1),"undefined"==typeof s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),r!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):Re(o.responseText||"",!0)}(t,o)),"undefined"==typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&r||(a=r=1,r=this.getter(0).length,a=r,E("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:n};var u=Be.createFile(e,t,s,r,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};function l(e,t,n,r,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,r);if(C(a>=0),i.slice)for(var s=0;s<a;s++)t[n+s]=i[o+s];else for(s=0;s<a;s++)t[n+s]=i.get(o+s);return a}return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];c[e]=function(){return Be.forceLoadFile(u),t.apply(null,arguments)}})),c.read=function(e,t,n,r,o){return Be.forceLoadFile(u),l(e,t,n,r,o)},c.mmap=function(e,t,n,r,o){Be.forceLoadFile(u);var i=Ne();if(!i)throw new Be.ErrnoError(48);return l(e,M,i,t,n),{ptr:i,allocated:!0}},u.stream_ops=c,u},createPreloadedFile:function(e,t,n,r,o,i,a,s,u,c){var l=t?Me.resolve(Fe.join2(e,t)):e,d=ce("cp "+l);function f(n){function f(n){c&&c(),s||Be.createDataFile(e,t,n,r,o,u),i&&i(),de(d)}Browser.handledByPreloadPlugin(n,l,f,(function(){a&&a(),de(d)}))||f(n)}le(d),"string"==typeof n?function(e,t,n,r){var o=r?"":ce("al "+e);y(e,(function(n){C(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),o&&de(o)}),(function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()})),o&&le(o)}(n,(function(e){return f(e)}),a):f(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Be.indexedDB();try{var o=r.open(Be.DB_NAME(),Be.DB_VERSION)}catch(i){return n(i)}o.onupgradeneeded=function(){E("creating db"),o.result.createObjectStore(Be.DB_STORE_NAME)},o.onsuccess=function(){var r=o.result.transaction([Be.DB_STORE_NAME],"readwrite"),i=r.objectStore(Be.DB_STORE_NAME),a=0,s=0,u=e.length;function c(){0==s?t():n()}e.forEach((function(e){var t=i.put(Be.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==u&&c()},t.onerror=function(){s++,a+s==u&&c()}})),r.onerror=n},o.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Be.indexedDB();try{var o=r.open(Be.DB_NAME(),Be.DB_VERSION)}catch(i){return n(i)}o.onupgradeneeded=n,o.onsuccess=function(){var r=o.result;try{var a=r.transaction([Be.DB_STORE_NAME],"readonly")}catch(i){return void n(i)}var s=a.objectStore(Be.DB_STORE_NAME),u=0,c=0,l=e.length;function d(){0==c?t():n()}e.forEach((function(e){var t=s.get(e);t.onsuccess=function(){Be.analyzePath(e).exists&&Be.unlink(e),Be.createDataFile(Fe.dirname(e),Fe.basename(e),t.result,!0,!0,!0),++u+c==l&&d()},t.onerror=function(){c++,u+c==l&&d()}})),a.onerror=n},o.onerror=n},absolutePath:function(){fe("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){fe("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){fe("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){fe("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){fe("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){fe("FS.standardizePath has been removed; use PATH.normalize instead")}},Ke={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(Fe.isAbs(t))return t;var r;-100===e?r=Be.cwd():r=Ke.getStreamFromFD(e).path;if(0==t.length){if(!n)throw new Be.ErrnoError(44);return r}return Fe.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(o){if(o&&o.node&&Fe.normalize(t)!==Fe.normalize(Be.getPath(o.node)))return-54;throw o}return j[n>>2]=r.dev,j[n+8>>2]=r.ino,j[n+12>>2]=r.mode,L[n+16>>2]=r.nlink,j[n+20>>2]=r.uid,j[n+24>>2]=r.gid,j[n+28>>2]=r.rdev,ye=[r.size>>>0,(me=r.size,+Math.abs(me)>=1?me>0?(0|Math.min(+Math.floor(me/4294967296),4294967295))>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],j[n+40>>2]=ye[0],j[n+44>>2]=ye[1],j[n+48>>2]=4096,j[n+52>>2]=r.blocks,ye=[Math.floor(r.atime.getTime()/1e3)>>>0,(me=Math.floor(r.atime.getTime()/1e3),+Math.abs(me)>=1?me>0?(0|Math.min(+Math.floor(me/4294967296),4294967295))>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],j[n+56>>2]=ye[0],j[n+60>>2]=ye[1],L[n+64>>2]=0,ye=[Math.floor(r.mtime.getTime()/1e3)>>>0,(me=Math.floor(r.mtime.getTime()/1e3),+Math.abs(me)>=1?me>0?(0|Math.min(+Math.floor(me/4294967296),4294967295))>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],j[n+72>>2]=ye[0],j[n+76>>2]=ye[1],L[n+80>>2]=0,ye=[Math.floor(r.ctime.getTime()/1e3)>>>0,(me=Math.floor(r.ctime.getTime()/1e3),+Math.abs(me)>=1?me>0?(0|Math.min(+Math.floor(me/4294967296),4294967295))>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],j[n+88>>2]=ye[0],j[n+92>>2]=ye[1],L[n+96>>2]=0,ye=[r.ino>>>0,(me=r.ino,+Math.abs(me)>=1?me>0?(0|Math.min(+Math.floor(me/4294967296),4294967295))>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],j[n+104>>2]=ye[0],j[n+108>>2]=ye[1],0},doMsync:function(e,t,n,r,o){if(!Be.isFile(t.node.mode))throw new Be.ErrnoError(43);if(2&r)return 0;var i=R.slice(e,e+n);Be.msync(t,i,o,n,r)},varargs:void 0,get:function(){return C(void 0!=Ke.varargs),Ke.varargs+=4,j[Ke.varargs-4>>2]},getStr:function(e){return W(e)},getStreamFromFD:function(e){var t=Be.getStream(e);if(!t)throw new Be.ErrnoError(8);return t}};function ze(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var We=void 0;function He(e){for(var t="",n=e;R[n];)t+=We[R[n++]];return t}var Ve={},Ge={},Ye={},qe=48,Xe=57;function Je(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=qe&&t<=Xe?"_"+e:e}function $e(e,t){return e=Je(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Qe(e,t){var n=$e(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Ze=void 0;function et(e){throw new Ze(e)}var tt=void 0;function nt(e){throw new tt(e)}function rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||et('type "'+r+'" must have a positive integer typeid pointer'),Ge.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;et("Cannot register type '"+r+"' twice")}if(Ge[e]=t,delete Ye[e],Ve.hasOwnProperty(e)){var o=Ve[e];delete Ve[e],o.forEach((function(e){return e()}))}}var ot=[],it=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function at(){for(var e=0,t=5;t<it.length;++t)void 0!==it[t]&&++e;return e}function st(){for(var e=5;e<it.length;++e)if(void 0!==it[e])return it[e];return null}var ut=function(e){return e||et("Cannot use deleted val. handle = "+e),it[e].value},ct=function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=ot.length?ot.pop():it.length;return it[t]={refcount:1,value:e},t}};function lt(e){return this.fromWireType(j[e>>2])}function dt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function ft(e,t){switch(t){case 2:return function(e){return this.fromWireType(U[e>>2])};case 3:return function(e){return this.fromWireType(B[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function pt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function ht(e,t,n,r,o){var i=t.length;i<2&&et("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==n,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",d="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,d+=(0!==u?", ":"")+"arg"+u+"Wired";var f="return function "+Je(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(f+="var destructors = [];\n");var p=s?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[et,r,o,pt,t[0],t[1]];a&&(f+="var thisWired = classParam.toWireType("+p+", this);\n");for(u=0;u<i-2;++u)f+="var arg"+u+"Wired = argType"+u+".toWireType("+p+", arg"+u+"); // "+t[u+2].name+"\n",h.push("argType"+u),m.push(t[u+2]);if(a&&(d="thisWired"+(d.length>0?", ":"")+d),f+=(c?"var rv = ":"")+"invoker(fn"+(d.length>0?", ":"")+d+");\n",s)f+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var y=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(f+=y+"_dtor("+y+"); // "+t[u].name+"\n",h.push(y+"_dtor"),m.push(t[u].destructorFunction))}return c&&(f+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f+="}\n",h.push(f),function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=$e(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return o instanceof Object?o:r}(Function,h).apply(null,m)}function mt(e,t,n){a.hasOwnProperty(e)?((void 0===n||void 0!==a[e].overloadTable&&void 0!==a[e].overloadTable[n])&&et("Cannot register public name '"+e+"' twice"),function(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||et("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}(a,e,e),a.hasOwnProperty(n)&&et("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),a[e].overloadTable[n]=t):(a[e]=t,void 0!==n&&(a[e].numArguments=n))}function yt(e,t,n){return e.includes("j")?function(e,t,n){C("dynCall_"+e in a,"bad function pointer type - dynCall function not found for sig '"+e+"'"),n&&n.length?C(n.length===e.substring(1).replace(/j/g,"--").length):C(1==e.length);var r=a["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}(e,t,n):(C(Ce(t),"missing table entry in dynCall: "+t),Ce(t).apply(null,n))}function gt(e,t){var n=(e=He(e)).includes("j")?function(e,t){C(e.includes("j")||e.includes("p"),"getDynCaller should only be called with i64 sigs");var n=[];return function(){return n.length=0,Object.assign(n,arguments),yt(e,t,n)}}(e,t):Ce(t);return"function"!=typeof n&&et("unknown function pointer with signature "+e+": "+t),n}var vt=void 0;function wt(e){var t=Qt(e),n=He(t);return $t(t),n}function bt(e,t,n){switch(t){case 0:return n?function(e){return M[e]}:function(e){return R[e]};case 1:return n?function(e){return D[e>>1]}:function(e){return N[e>>1]};case 2:return n?function(e){return j[e>>2]}:function(e){return L[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var _t="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Et(e,t){C(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var n=e,r=n>>1,o=r+t/2;!(r>=o)&&N[r];)++r;if((n=r<<1)-e>32&&_t)return _t.decode(R.subarray(e,n));for(var i="",a=0;!(a>=t/2);++a){var s=D[e+2*a>>1];if(0==s)break;i+=String.fromCharCode(s)}return i}function Tt(e,t,n){if(C(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),C("number"==typeof n,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,o=(n-=2)<2*e.length?n/2:e.length,i=0;i<o;++i){var a=e.charCodeAt(i);D[t>>1]=a,t+=2}return D[t>>1]=0,t-r}function kt(e){return 2*e.length}function St(e,t){C(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var n=0,r="";!(n>=t/4);){var o=j[e+4*n>>2];if(0==o)break;if(++n,o>=65536){var i=o-65536;r+=String.fromCharCode(55296|i>>10,56320|1023&i)}else r+=String.fromCharCode(o)}return r}function At(e,t,n){if(C(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),C("number"==typeof n,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,o=r+n-4,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i);if(j[t>>2]=a,(t+=4)+4>o)break}return j[t>>2]=0,t-r}function Pt(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function xt(e){var t=G(e)+1,n=Jt(t);return n&&H(e,M,n,t),n}var It,Ot=[];function Ct(e){try{return P.grow(e-F.byteLength+65535>>>16),Y(P.buffer),1}catch(t){T("emscripten_realloc_buffer: Attempted to grow heap from "+F.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}It=p?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var Ft={};function Mt(){if(!Mt.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var t in Ft)void 0===Ft[t]?delete e[t]:e[t]=Ft[t];var n=[];for(var t in e)n.push(t+"="+e[t]);Mt.strings=n}return Mt.strings}function Rt(e,t){if(I=e,function(){var e=E,t=T,n=!1;E=T=function(e){n=!0};try{Zt(0),["stdout","stderr"].forEach((function(e){var t=Be.analyzePath("/dev/"+e);if(t){var r=t.object.rdev,o=De.ttys[r];o&&o.output&&o.output.length&&(n=!0)}}))}catch(r){}E=e,T=t,n&&ke("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}(),re()&&!t){var n="program exited (with status: "+e+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";i(n),T(n)}var r;I=r=e,re()||(a.onExit&&a.onExit(r),O=!0),l(r,new be(r))}var Dt=Rt;function Nt(e){return e%4===0&&(e%100!==0||e%400===0)}var jt=[31,29,31,30,31,30,31,31,30,31,30,31],Lt=[31,28,31,30,31,30,31,31,30,31,30,31];function Ut(e,t,n,r){var o=j[r+40>>2],i={tm_sec:j[r>>2],tm_min:j[r+4>>2],tm_hour:j[r+8>>2],tm_mday:j[r+12>>2],tm_mon:j[r+16>>2],tm_year:j[r+20>>2],tm_wday:j[r+24>>2],tm_yday:j[r+28>>2],tm_isdst:j[r+32>>2],tm_gmtoff:j[r+36>>2],tm_zone:o?W(o):""},a=W(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)a=a.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function f(e,t){return d(e,t,"0")}function p(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=function(e,t){for(var n=new Date(e.getTime());t>0;){var r=Nt(n.getFullYear()),o=n.getMonth(),i=(r?jt:Lt)[o];if(!(t>i-n.getDate()))return n.setDate(n.getDate()+t),n;t-=i-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),o=h(n),i=h(r);return p(o,t)<=0?p(i,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var y={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+function(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}(Nt(e.tm_year+1900)?jt:Lt,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return f(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var n=(e.tm_wday+371-e.tm_yday)%7;4==n||3==n&&Nt(e.tm_year)||(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(4==r||5==r&&Nt(e.tm_year%400-1))&&t++}return f(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return f(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in a=a.replace(/%%/g,"\0\0"),y)a.includes(u)&&(a=a.replace(new RegExp(u,"g"),y[u](i)));var g=Re(a=a.replace(/\0\0/g,"%"),!1);return g.length>t?0:(function(e,t){C(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),M.set(e,t)}(g,e),g.length-1)}function Bt(e,t){C(e<16384),e<128?t.push(e):t.push(e%128|128,e>>7)}function Kt(e,t){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},r=1;r<e.length;++r)C(e[r]in t,"invalid signature char: "+e[r]),n.parameters.push(t[e[r]]),"j"===e[r]&&n.parameters.push("i32");return n}(t),e);var n=[1];!function(e,t){var n=e.slice(0,1),r=e.slice(1),o={i:127,p:127,j:126,f:125,d:124};t.push(96),Bt(r.length,t);for(var i=0;i<r.length;++i)C(r[i]in o,"invalid signature char: "+r[i]),t.push(o[r[i]]);"v"==n?t.push(0):t.push(1,o[n])}(t,n);var r=[0,97,115,109,1,0,0,0,1];Bt(n.length,r),r.push.apply(r,n),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(r));return new WebAssembly.Instance(o,{e:{f:e}}).exports.f}var zt=void 0,Wt=[];function Ht(e,t){X.set(e,t),Oe[e]=X.get(e)}var Vt=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Be.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},Gt=365,Yt=146;Object.defineProperties(Vt.prototype,{read:{get:function(){return(this.mode&Gt)===Gt},set:function(e){e?this.mode|=Gt:this.mode&=-366}},write:{get:function(){return(this.mode&Yt)===Yt},set:function(e){e?this.mode|=Yt:this.mode&=-147}},isFolder:{get:function(){return Be.isDir(this.mode)}},isDevice:{get:function(){return Be.isChrdev(this.mode)}}}),Be.FSNode=Vt,Be.staticInit(),Ue={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);We=e}(),Ze=a.BindingError=Qe(Error,"BindingError"),tt=a.InternalError=Qe(Error,"InternalError"),a.count_emval_handles=at,a.get_first_emval=st,vt=a.UnboundTypeError=Qe(Error,"UnboundTypeError");var qt=!0;var Xt={__assert_fail:function(e,t,n,r){fe("Assertion failed: "+W(e)+", at: "+[t?W(t):"unknown filename",n,r?W(r):"unknown function"])},__cxa_allocate_exception:function(e){return Jt(e+24)+24},__cxa_begin_catch:function(e){var t=new xe(e);return t.get_caught()||(t.set_caught(!0),Ae--),t.set_rethrown(!1),Se.push(t),function(e){e.add_ref()}(t),t.get_exception_ptr()},__cxa_end_catch:function(){en(0),C(Se.length>0),function(e){if(e.release_ref()&&!e.get_rethrown()){var t=e.get_destructor();t&&Ce(t)(e.excPtr),Ie(e.excPtr)}}(Se.pop()),Pe=0},__cxa_find_matching_catch_2:function(){var e=Pe;if(!e)return tn(0),0;var t=new xe(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return tn(0),e;for(var r=0;r<arguments.length;r++){var o=arguments[r];if(0===o||o===n)break;var i=t.ptr+16;if(dn(o,n,i))return tn(o),e}return tn(n),e},__cxa_find_matching_catch_3:function(){var e=Pe;if(!e)return tn(0),0;var t=new xe(e);t.set_adjusted_ptr(e);var n=t.get_type();if(!n)return tn(0),e;for(var r=0;r<arguments.length;r++){var o=arguments[r];if(0===o||o===n)break;var i=t.ptr+16;if(dn(o,n,i))return tn(o),e}return tn(n),e},__cxa_free_exception:Ie,__cxa_rethrow:function(){var e=Se.pop();e||fe("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Se.push(e),e.set_rethrown(!0),e.set_caught(!1),Ae++),Pe=t,t},__cxa_throw:function(e,t,n){throw new xe(e).init(t,n),Pe=e,Ae++,e},__cxa_uncaught_exceptions:function(){return Ae},__handle_stack_overflow:function(e){fe("stack overflow (Attempt to set SP to 0x"+(e>>>=0).toString(16)+", with stack limits [0x"+an().toString(16)+" - 0x"+on().toString(16)+"])")},__resumeException:function(e){throw Pe||(Pe=e),e},__syscall_openat:function(e,t,n,r){Ke.varargs=r;try{t=Ke.getStr(t),t=Ke.calculateAt(e,t);var o=r?Ke.get():0;return Be.open(t,n,o).fd}catch(i){if("undefined"==typeof Be||!(i instanceof Be.ErrnoError))throw i;return-i.errno}},_embind_register_bigint:function(e,t,n,r,o){},_embind_register_bool:function(e,t,n,r,o){var i=ze(n);rt(e,{name:t=He(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:o},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=M;else if(2===n)r=D;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=j}return this.fromWireType(r[e>>i])},destructorFunction:null})},_embind_register_emval:function(e,t){rt(e,{name:t=He(t),fromWireType:function(e){var t=ut(e);return function(e){e>4&&0===--it[e].refcount&&(it[e]=void 0,ot.push(e))}(e),t},toWireType:function(e,t){return ct(t)},argPackAdvance:8,readValueFromPointer:lt,destructorFunction:null})},_embind_register_float:function(e,t,n){var r=ze(n);rt(e,{name:t=He(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+dt(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:ft(t,r),destructorFunction:null})},_embind_register_function:function(e,t,n,r,o,i){var s=function(e,t){for(var n=[],r=0;r<e;r++)n.push(L[t+4*r>>2]);return n}(t,n);e=He(e),o=gt(r,o),mt(e,(function(){!function(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Ge[t]||(Ye[t]?Ye[t].forEach(e):(n.push(t),r[t]=!0))})),new vt(e+": "+n.map(wt).join([", "]))}("Cannot call "+e+" due to unbound types",s)}),t-1),function(e,t,n){function r(t){var r=n(t);r.length!==e.length&&nt("Mismatched type converter count");for(var o=0;o<e.length;++o)rt(e[o],r[o])}e.forEach((function(e){Ye[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){Ge.hasOwnProperty(e)?o[t]=Ge[e]:(i.push(e),Ve.hasOwnProperty(e)||(Ve[e]=[]),Ve[e].push((function(){o[t]=Ge[e],++a===i.length&&r(o)})))})),0===i.length&&r(o)}([],s,(function(n){var r=[n[0],null].concat(n.slice(1));return function(e,t,n){a.hasOwnProperty(e)||nt("Replacing nonexistant public symbol"),void 0!==a[e].overloadTable&&void 0!==n?a[e].overloadTable[n]=t:(a[e]=t,a[e].argCount=n)}(e,ht(e,r,null,o,i),t-1),[]}))},_embind_register_integer:function(e,t,n,r,o){t=He(t),-1===o&&(o=4294967295);var i=ze(n),a=function(e){return e};if(0===r){var s=32-8*n;a=function(e){return e<<s>>>s}}var u=t.includes("unsigned"),c=function(e,n){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+dt(e)+'" to '+n);if(e<r||e>o)throw new TypeError('Passing a number "'+dt(e)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+o+"]!")};rt(e,{name:t,fromWireType:a,toWireType:u?function(e,t){return c(t,this.name),t>>>0}:function(e,t){return c(t,this.name),t},argPackAdvance:8,readValueFromPointer:bt(t,i,0!==r),destructorFunction:null})},_embind_register_memory_view:function(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=L,n=t[e>>=2],o=t[e+1];return new r(F,o,n)}rt(e,{name:n=He(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:function(e,t){var n="std::string"===(t=He(t));rt(e,{name:t,fromWireType:function(e){var t,r=L[e>>2],o=e+4;if(n)for(var i=o,a=0;a<=r;++a){var s=o+a;if(a==r||0==R[s]){var u=W(i,s-i);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),i=s+1}}else{var c=new Array(r);for(a=0;a<r;++a)c[a]=String.fromCharCode(R[o+a]);t=c.join("")}return $t(e),t},toWireType:function(e,t){var r;t instanceof ArrayBuffer&&(t=new Uint8Array(t));var o="string"==typeof t;o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||et("Cannot pass non-string to std::string"),r=n&&o?G(t):t.length;var i=Jt(4+r+1),a=i+4;if(L[i>>2]=r,n&&o)V(t,a,r+1);else if(o)for(var s=0;s<r;++s){var u=t.charCodeAt(s);u>255&&($t(a),et("String has UTF-16 code units that do not fit in 8 bits")),R[a+s]=u}else for(s=0;s<r;++s)R[a+s]=t[s];return null!==e&&e.push($t,i),i},argPackAdvance:8,readValueFromPointer:lt,destructorFunction:function(e){$t(e)}})},_embind_register_std_wstring:function(e,t,n){var r,o,i,a,s;n=He(n),2===t?(r=Et,o=Tt,a=kt,i=function(){return N},s=1):4===t&&(r=St,o=At,a=Pt,i=function(){return L},s=2),rt(e,{name:n,fromWireType:function(e){for(var n,o=L[e>>2],a=i(),u=e+4,c=0;c<=o;++c){var l=e+4+c*t;if(c==o||0==a[l>>s]){var d=r(u,l-u);void 0===n?n=d:(n+=String.fromCharCode(0),n+=d),u=l+t}}return $t(e),n},toWireType:function(e,r){"string"!=typeof r&&et("Cannot pass non-string to C++ string type "+n);var i=a(r),u=Jt(4+i+t);return L[u>>2]=i>>s,o(r,u+4,i+t),null!==e&&e.push($t,u),u},argPackAdvance:8,readValueFromPointer:lt,destructorFunction:function(e){$t(e)}})},_embind_register_void:function(e,t){rt(e,{isVoid:!0,name:t=He(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_get_progname:function(e,t){C("number"==typeof e),C("number"==typeof t),V(c,e,t)},_gmtime_js:function(e,t){var n,r=new Date(1e3*(L[(n=e)>>2]+4294967296*j[n+4>>2]));j[t>>2]=r.getUTCSeconds(),j[t+4>>2]=r.getUTCMinutes(),j[t+8>>2]=r.getUTCHours(),j[t+12>>2]=r.getUTCDate(),j[t+16>>2]=r.getUTCMonth(),j[t+20>>2]=r.getUTCFullYear()-1900,j[t+24>>2]=r.getUTCDay();var o=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),i=(r.getTime()-o)/864e5|0;j[t+28>>2]=i},_mktime_js:function(e){var t=new Date(j[e+20>>2]+1900,j[e+16>>2],j[e+12>>2],j[e+8>>2],j[e+4>>2],j[e>>2],0),n=j[e+32>>2],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=Math.min(a,i);if(n<0)j[e+32>>2]=Number(i!=a&&s==r);else if(n>0!=(s==r)){var u=Math.max(a,i),c=n>0?s:u;t.setTime(t.getTime()+6e4*(c-r))}j[e+24>>2]=t.getDay();var l=(t.getTime()-o.getTime())/864e5|0;return j[e+28>>2]=l,j[e>>2]=t.getSeconds(),j[e+4>>2]=t.getMinutes(),j[e+8>>2]=t.getHours(),j[e+12>>2]=t.getDate(),j[e+16>>2]=t.getMonth(),j[e+20>>2]=t.getYear(),t.getTime()/1e3|0},_tzset_js:function e(t,n,r){e.called||(e.called=!0,function(e,t,n){var r=(new Date).getFullYear(),o=new Date(r,0,1),i=new Date(r,6,1),a=o.getTimezoneOffset(),s=i.getTimezoneOffset(),u=Math.max(a,s);function c(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}j[e>>2]=60*u,j[t>>2]=Number(a!=s);var l=c(o),d=c(i),f=xt(l),p=xt(d);s<a?(L[n>>2]=f,L[n+4>>2]=p):(L[n>>2]=p,L[n+4>>2]=f)}(t,n,r))},abort:function(){fe("native code called abort()")},emscripten_asm_const_int:function(e,t,n){var r=function(e,t){var n;for(C(Array.isArray(Ot)),C(t%16==0),Ot.length=0,t>>=2;n=R[e++];){var r=String.fromCharCode(n),o=["d","f","i"];C(o.includes(r),"Invalid character "+n+'("'+r+'") in readAsmConstArgs! Use only ['+o+'], and do not specify "v" for void return argument.'),t+=105!=n&t,Ot.push(105==n?j[t]:B[t++>>1]),++t}return Ot}(t,n);return we.hasOwnProperty(e)||fe("No EM_ASM constant found at address "+e),we[e].apply(null,r)},emscripten_date_now:function(){return Date.now()},emscripten_memcpy_big:function(e,t,n){R.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t=R.length;C((e>>>=0)>t);var n=2147483648;if(e>n)return T("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is "+n+" bytes!"),!1;for(var r,o,i=1;i<=4;i*=2){var a=t*(1+.2/i);a=Math.min(a,e+100663296);var s=Math.min(n,(r=Math.max(e,a))+((o=65536)-r%o)%o),u=It(),c=Ct(s),l=It();if(E("Heap resize call from "+t+" to "+s+" took "+(l-u)+" msecs. Success: "+!!c),c)return!0}return T("Failed to grow the heap from "+t+" bytes to "+s+" bytes, not enough memory!"),!1},environ_get:function(e,t){var n=0;return Mt().forEach((function(r,o){var i=t+n;L[e+4*o>>2]=i,function(e,t,n){for(var r=0;r<e.length;++r)C(e.charCodeAt(r)===(255&e.charCodeAt(r))),M[t++>>0]=e.charCodeAt(r);n||(M[t>>0]=0)}(r,i),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=Mt();L[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),L[t>>2]=r,0},exit:Dt,fd_close:function(e){try{var t=Ke.getStreamFromFD(e);return Be.close(t),0}catch(n){if("undefined"==typeof Be||!(n instanceof Be.ErrnoError))throw n;return n.errno}},fd_read:function(e,t,n,r){try{var o=function(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=L[t>>2],s=L[t+4>>2];t+=8;var u=Be.read(e,M,a,s,r);if(u<0)return-1;if(o+=u,u<s)break}return o}(Ke.getStreamFromFD(e),t,n);return L[r>>2]=o,0}catch(i){if("undefined"==typeof Be||!(i instanceof Be.ErrnoError))throw i;return i.errno}},fd_seek:function(e,t,n,r,o){try{var i=(u=n,C((s=t)==s>>>0||s==(0|s)),C(u===(0|u)),u+2097152>>>0<4194305-!!s?(s>>>0)+4294967296*u:NaN);if(isNaN(i))return 61;var a=Ke.getStreamFromFD(e);return Be.llseek(a,i,r),ye=[a.position>>>0,(me=a.position,+Math.abs(me)>=1?me>0?(0|Math.min(+Math.floor(me/4294967296),4294967295))>>>0:~~+Math.ceil((me-+(~~me>>>0))/4294967296)>>>0:0)],j[o>>2]=ye[0],j[o+4>>2]=ye[1],a.getdents&&0===i&&0===r&&(a.getdents=null),0}catch(c){if("undefined"==typeof Be||!(c instanceof Be.ErrnoError))throw c;return c.errno}var s,u},fd_write:function(e,t,n,r){try{var o=function(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=L[t>>2],s=L[t+4>>2];t+=8;var u=Be.write(e,M,a,s,r);if(u<0)return-1;o+=u}return o}(Ke.getStreamFromFD(e),t,n);return L[r>>2]=o,0}catch(i){if("undefined"==typeof Be||!(i instanceof Be.ErrnoError))throw i;return i.errno}},invoke_i:function(e){var t=sn();try{return Ce(e)()}catch(n){if(un(t),n!==n+0)throw n;en(1,0)}},invoke_ii:function(e,t){var n=sn();try{return Ce(e)(t)}catch(r){if(un(n),r!==r+0)throw r;en(1,0)}},invoke_iii:function(e,t,n){var r=sn();try{return Ce(e)(t,n)}catch(o){if(un(r),o!==o+0)throw o;en(1,0)}},invoke_iiii:function(e,t,n,r){var o=sn();try{return Ce(e)(t,n,r)}catch(i){if(un(o),i!==i+0)throw i;en(1,0)}},invoke_iiiii:function(e,t,n,r,o){var i=sn();try{return Ce(e)(t,n,r,o)}catch(a){if(un(i),a!==a+0)throw a;en(1,0)}},invoke_iiiiii:function(e,t,n,r,o,i){var a=sn();try{return Ce(e)(t,n,r,o,i)}catch(s){if(un(a),s!==s+0)throw s;en(1,0)}},invoke_iiiiiii:function(e,t,n,r,o,i,a){var s=sn();try{return Ce(e)(t,n,r,o,i,a)}catch(u){if(un(s),u!==u+0)throw u;en(1,0)}},invoke_iiiiiiii:function(e,t,n,r,o,i,a,s){var u=sn();try{return Ce(e)(t,n,r,o,i,a,s)}catch(c){if(un(u),c!==c+0)throw c;en(1,0)}},invoke_iiiiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l,d){var f=sn();try{return Ce(e)(t,n,r,o,i,a,s,u,c,l,d)}catch(p){if(un(f),p!==p+0)throw p;en(1,0)}},invoke_iiiiij:function(e,t,n,r,o,i,a){var s=sn();try{return hn(e,t,n,r,o,i,a)}catch(u){if(un(s),u!==u+0)throw u;en(1,0)}},invoke_iiij:function(e,t,n,r,o){var i=sn();try{return mn(e,t,n,r,o)}catch(a){if(un(i),a!==a+0)throw a;en(1,0)}},invoke_jiiii:function(e,t,n,r,o){var i=sn();try{return yn(e,t,n,r,o)}catch(a){if(un(i),a!==a+0)throw a;en(1,0)}},invoke_v:function(e){var t=sn();try{Ce(e)()}catch(n){if(un(t),n!==n+0)throw n;en(1,0)}},invoke_vi:function(e,t){var n=sn();try{Ce(e)(t)}catch(r){if(un(n),r!==r+0)throw r;en(1,0)}},invoke_vii:function(e,t,n){var r=sn();try{Ce(e)(t,n)}catch(o){if(un(r),o!==o+0)throw o;en(1,0)}},invoke_viii:function(e,t,n,r){var o=sn();try{Ce(e)(t,n,r)}catch(i){if(un(o),i!==i+0)throw i;en(1,0)}},invoke_viiii:function(e,t,n,r,o){var i=sn();try{Ce(e)(t,n,r,o)}catch(a){if(un(i),a!==a+0)throw a;en(1,0)}},invoke_viiiiii:function(e,t,n,r,o,i,a){var s=sn();try{Ce(e)(t,n,r,o,i,a)}catch(u){if(un(s),u!==u+0)throw u;en(1,0)}},invoke_viiiiiii:function(e,t,n,r,o,i,a,s){var u=sn();try{Ce(e)(t,n,r,o,i,a,s)}catch(c){if(un(u),c!==c+0)throw c;en(1,0)}},invoke_viiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l){var d=sn();try{Ce(e)(t,n,r,o,i,a,s,u,c,l)}catch(f){if(un(d),f!==f+0)throw f;en(1,0)}},invoke_viiiiiiiiiiiiiii:function(e,t,n,r,o,i,a,s,u,c,l,d,f,p,h,m){var y=sn();try{Ce(e)(t,n,r,o,i,a,s,u,c,l,d,f,p,h,m)}catch(g){if(un(y),g!==g+0)throw g;en(1,0)}},strftime_l:function(e,t,n,r,o){return Ut(e,t,n,r)}},Jt=(function(){var e={env:Xt,wasi_snapshot_preview1:Xt};function t(e,t){var n,r=e.exports;a.asm=r,C(P=a.asm.memory,"memory not found in wasm exports"),Y(P.buffer),C(X=a.asm.__indirect_function_table,"table not found in wasm exports"),n=a.asm.__wasm_call_ctors,Z.unshift(n),de("wasm-instantiate")}le("wasm-instantiate");var n=a;function r(e){C(a===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,t(e.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(o){T("Module.instantiateWasm callback failed with error: "+o),i(o)}(function(){return t=r,ve().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){T("failed to asynchronously prepare wasm: "+e),function(e){return e.startsWith("file://")}(pe)&&T("warning: Loading from a file URI ("+pe+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),fe(e)}));var t})().catch(i)}(),a.___wasm_call_ctors=ge("__wasm_call_ctors"),a._malloc=ge("malloc")),$t=(a._main=ge("main"),a.___errno_location=ge("__errno_location"),a._free=ge("free")),Qt=a.___getTypeName=ge("__getTypeName"),Zt=(a.__embind_initialize_bindings=ge("_embind_initialize_bindings"),a._fflush=ge("fflush")),en=a._setThrew=ge("setThrew"),tn=a.setTempRet0=ge("setTempRet0"),nn=a.getTempRet0=ge("getTempRet0"),rn=a._emscripten_stack_init=function(){return(rn=a._emscripten_stack_init=a.asm.emscripten_stack_init).apply(null,arguments)},on=(a._emscripten_stack_get_free=function(){return(a._emscripten_stack_get_free=a.asm.emscripten_stack_get_free).apply(null,arguments)},a._emscripten_stack_get_base=function(){return(on=a._emscripten_stack_get_base=a.asm.emscripten_stack_get_base).apply(null,arguments)}),an=a._emscripten_stack_get_end=function(){return(an=a._emscripten_stack_get_end=a.asm.emscripten_stack_get_end).apply(null,arguments)},sn=a.stackSave=ge("stackSave"),un=a.stackRestore=ge("stackRestore"),cn=a.stackAlloc=ge("stackAlloc"),ln=a.___cxa_demangle=ge("__cxa_demangle"),dn=a.___cxa_can_catch=ge("__cxa_can_catch"),fn=a.___cxa_is_pointer_type=ge("__cxa_is_pointer_type"),pn=a.___set_stack_limits=ge("__set_stack_limits"),hn=(a.dynCall_iij=ge("dynCall_iij"),a.dynCall_iiiij=ge("dynCall_iiiij"),a.dynCall_iiiiij=ge("dynCall_iiiiij")),mn=a.dynCall_iiij=ge("dynCall_iiij"),yn=a.dynCall_jiiii=ge("dynCall_jiiii");a.dynCall_jiji=ge("dynCall_jiji"),a.dynCall_viijii=ge("dynCall_viijii"),a.dynCall_iiiiijj=ge("dynCall_iiiiijj"),a.dynCall_iiiiiijj=ge("dynCall_iiiiiijj");a.UTF8ToString=W,a.stringToUTF8=V,a.lengthBytesUTF8=G,a.getTempRet0=nn,a.addFunction=function(e,t){if(C("undefined"!=typeof e),zt||(zt=new WeakMap,function(e,t){if(zt)for(var n=e;n<e+t;n++){var r=Ce(n);r&&zt.set(r,n)}}(0,X.length)),zt.has(e))return zt.get(e);for(var n=0;n<X.length;n++)C(Ce(n)!=e,"function in Table but not functionsInTableMap");var r=function(){if(Wt.length)return Wt.pop();try{X.grow(1)}catch(T){if(!(T instanceof RangeError))throw T;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return X.length-1}();try{Ht(r,e)}catch(T){if(!(T instanceof TypeError))throw T;C("undefined"!=typeof t,"Missing signature argument to addFunction: "+e),Ht(r,Kt(e,t))}return zt.set(e,r),r},a.intArrayToString=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(qt&&C(!1,"Character code "+r+" ("+String.fromCharCode(r)+")  at offset "+n+" not in 0x00-0xFF."),r&=255),t.push(String.fromCharCode(r))}return t.join("")};["run","UTF8ArrayToString","stringToUTF8Array","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createPreloadedFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","getLEB","getFunctionTables","alignFunctionTables","registerFunctions","prettyPrint","getCompilerSetting","print","printErr","callMain","abort","keepRuntimeAlive","wasmMemory","stackAlloc","stackSave","stackRestore","setTempRet0","writeStackCookie","checkStackCookie","ptrToString","zeroMemory","stringToNewUTF8","exitJS","getHeapMax","emscripten_realloc_buffer","ENV","ERRNO_CODES","ERRNO_MESSAGES","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","DNS","getHostByName","Protocols","Sockets","getRandomDevice","warnOnce","traverseStack","UNWIND_CACHE","convertPCtoSourceLocation","readAsmConstArgsArray","readAsmConstArgs","mainThreadEM_ASM","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","updateTableMap","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","setValue","getValue","PATH","PATH_FS","intArrayFromString","AsciiToString","stringToAscii","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","allocateUTF8","allocateUTF8OnStack","writeStringToMemory","writeArrayToMemory","writeAsciiToMemory","SYSCALLS","getSocketFromFD","getSocketAddress","JSEvents","registerKeyEventCallback","specialHTMLTargets","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","currentFullscreenStrategy","restoreOldWindowedStyle","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","ExitStatus","getEnvStrings","checkWasiClock","doReadv","doWritev","dlopenMissingError","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","exception_addRef","exception_decRef","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","setMainLoop","wget","FS","MEMFS","TTY","PIPEFS","SOCKFS","_setNetworkCallback","tempFixedLengthArray","miniTempWebGLFloatBuffers","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","GL","emscriptenWebGLGet","computeUnpackAlignedImageSize","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","writeGLArray","AL","SDL_unicode","SDL_ttfContext","SDL_audio","SDL","SDL_gfx","GLUT","EGL","GLFW_Window","GLFW","GLEW","IDBStore","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","InternalError","BindingError","UnboundTypeError","PureVirtualError","init_embind","throwInternalError","throwBindingError","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredTypes","awaitingDependencies","typeDependencies","registeredPointers","registerType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","heap32VectorToArray","requireRegisteredType","getShiftFromSize","integerReadValueFromPointer","enumReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","runDestructors","new_","craftInvokerFunction","embind__requireFunction","tupleRegistrations","structRegistrations","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","deletionQueue","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_handle_array","emval_free_list","emval_symbols","init_emval","count_emval_handles","get_first_emval","getStringOrSymbol","Emval","emval_newers","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_methodCallers","emval_addMethodCaller","emval_registeredMethods"].forEach((function(e){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get:function(){var t="'"+e+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";A(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),fe(t)}})}));var gn;function vn(e){C(0==ie,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),C(0==Q.length,"cannot call main when preRun functions remain to be called");var t=a._main;try{var n=t(0,0);return Rt(n,!0),n}catch(r){return function(e){if(e instanceof be||"unwind"==e)return I;l(1,e)}(r)}}function wn(){rn(),function(){var e=an();C(0==(3&e)),L[e>>2]=34821223,L[e+4>>2]=2310721022,L[0]=1668509029}()}function bn(e){function t(){gn||(gn=!0,a.calledRun=!0,O||(C(!ne),ne=!0,$(),pn(on(),an()),a.noFSInit||Be.init.initialized||Be.init(),Be.ignorePermissions=!1,De.init(),_e(Z),$(),_e(ee),o(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),_n&&vn(),function(){if($(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)oe(a.postRun.shift());_e(te)}()))}e=e||u,ie>0||(wn(),function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),Q.unshift(e);var e;_e(Q)}(),ie>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t(),$()))}if(["ptrToString","stringToNewUTF8","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","traverseStack","convertPCtoSourceLocation","mainThreadEM_ASM","jstoi_q","jstoi_s","listenOnce","autoResumeAudioContext","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromU64","convertI32PairToI53","convertU32PairToI53","getCFunc","ccall","cwrap","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","AsciiToString","stringToAscii","allocateUTF8OnStack","writeStringToMemory","getSocketFromFD","getSocketAddress","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","checkWasiClock","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","setMainLoop","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","emscriptenWebGLGet","computeUnpackAlignedImageSize","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","writeGLArray","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","init_embind","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","requireRegisteredType","enumReadValueFromPointer","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"].forEach((function(e){"undefined"===typeof globalThis||Object.getOwnPropertyDescriptor(globalThis,e)||Object.defineProperty(globalThis,e,{configurable:!0,get:function(){var t="`"+e+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",n=e;n.startsWith("_")||(n="$"+e),t+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE="+n+")",A(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),ke(t)}})})),se=function e(){gn||bn(),gn||(se=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var _n=!0;return a.noInitialRun&&(_n=!1),bn(),a.ready=new Promise((function(e,t){delete a.then,a.onAbort=function(e){t(e)},oe((function(){e(a)}))})),t.ready}}();"object"===typeof exports?e.exports=o:"function"===typeof define&&n.amdO?define([],(function(){return o})):"object"===typeof exports&&(exports.instantiate=o);const i=o},214589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o}),e=n.hmd(e);var r=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(t){var r,o,i="undefined"!==typeof(t=t||{})?t:{};i.ready=new Promise((function(e,t){r=e,o=t}));var a,s={};for(a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);var u,c,l,d,f,p=[],h="object"===typeof window,m="function"===typeof importScripts,y="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node,g="";y?(g=m?n(510063).dirname(g)+"/":"//",u=function(e,t){return d||(d=n(498770)),f||(f=n(510063)),e=f.normalize(e),d.readFileSync(e,t?null:"utf8")},l=function(e){var t=u(e,!0);return t.buffer||(t=new Uint8Array(t)),k(t.buffer),t},c=function(e,t,r){d||(d=n(498770)),f||(f=n(510063)),e=f.normalize(e),d.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),p=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof re))throw e})),process.on("unhandledRejection",(function(e){throw e})),function(e,t){if(E||L>0)throw process.exitCode=e,t;var n;(n=t)instanceof re||b("exiting due to exception: "+n),process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}):(h||m)&&(m?g=self.location.href:"undefined"!==typeof document&&document.currentScript&&(g=document.currentScript.src),e&&(g=e),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(l=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),c=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,w=i.print||console.log,b=i.printErr||console.warn;for(a in s)s.hasOwnProperty(a)&&(i[a]=s[a]);s=null,i.arguments&&(p=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(v=i.wasmBinary);var _,E=i.noExitRuntime||!0;"object"!==typeof WebAssembly&&z("no native wasm support detected");var T=!1;function k(e,t){e||z("Assertion failed: "+t)}var S,A,P,x,I="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&I)return I.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function C(e,t){return e?O(P,e,t):""}function F(e){S=e,i.HEAP8=A=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=x=new Int32Array(e),i.HEAPU8=P=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var M,R=[],D=[],N=[],j=!1,L=0;var U=0,B=null,K=null;function z(e){i.onAbort&&i.onAbort(e),b(e="Aborted("+e+")"),T=!0,1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw o(t),t}i.preloadedImages={},i.preloadedAudios={};var W,H;function V(e,t){return function(){var n=e,r=t;return t||(r=i.asm),k(j,"native function `"+n+"` called before runtime initialization"),r[e]||k(r[e],"exported native function `"+n+"` not found"),r[e].apply(null,arguments)}}function G(){return!v&&(h||m)&&c?new Promise((function(e,t){c(W,(function(t){e(new Uint8Array(t))}),t)})):Promise.resolve().then((function(){return function(e){try{if(e==W&&v)return new Uint8Array(v);if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(b){z(b)}}(W)}))}function Y(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"===typeof n?void 0===t.arg?q(n)():q(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}function q(e){return M.get(e)}(W="moneroUtil.wasm").startsWith("data:application/octet-stream;base64,")||(H=W,W=i.locateFile?i.locateFile(H,g):g+H);function X(e,t,n,r,o){var a={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=te(n),stringToUTF8(e,t,n)}return t},array:function(e){var t=te(e.length);return function(e,t){k(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),A.set(e,t)}(e,t),t}};var s=function(e){var t=i["_"+e];return k(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),u=[],c=0;if(k("array"!==t,'Return type should not be "array".'),r)for(var l=0;l<r.length;l++){var d=a[n[l]];d?(0===c&&(c=Z()),u[l]=d(r[l])):u[l]=r[l]}var f=s.apply(null,u);return f=function(e){return 0!==c&&ee(c),function(e){return"string"===t?C(e):"boolean"===t?Boolean(e):e}(e)}(f)}function J(e){try{return _.grow(e-S.byteLength+65535>>>16),F(_.buffer),1}catch(t){}}var $={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=$.buffers[e];0===t||10===t?((1===e?w:b)(O(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return $.varargs+=4,x[$.varargs-4>>2]},getStr:function(e){return C(e)},get64:function(e,t){return e}};var Q={__assert_fail:function(e,t,n,r){z("Assertion failed: "+C(e)+", at: "+[t?C(t):"unknown filename",n,r?C(r):"unknown function"])},abort:function(){z("native code called abort()")},emscripten_memcpy_big:function(e,t,n){P.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t,n,r=P.length,o=2147483648;if((e>>>=0)>o)return!1;for(var i=1;i<=4;i*=2){var a=r*(1+.2/i);if(a=Math.min(a,e+100663296),J(Math.min(o,((t=Math.max(e,a))%(n=65536)>0&&(t+=n-t%n),t))))return!0}return!1},fd_close:function(e){return 0},fd_seek:function(e,t,n,r,o){},fd_write:function(e,t,n,r){for(var o=0,i=0;i<n;i++){var a=x[t>>2],s=x[t+4>>2];t+=8;for(var u=0;u<s;u++)$.printChar(e,P[a+u]);o+=s}return x[r>>2]=o,0}},Z=(function(){var e={env:Q,wasi_snapshot_preview1:Q};function t(e,t){var n,r=e.exports;i.asm=r,F((_=i.asm.memory).buffer),M=i.asm.__indirect_function_table,n=i.asm.__wasm_call_ctors,D.unshift(n),function(e){if(U--,i.monitorRunDependencies&&i.monitorRunDependencies(U),0==U&&(null!==B&&(clearInterval(B),B=null),K)){var t=K;K=null,t()}}()}function n(e){t(e.instance)}if(U++,i.monitorRunDependencies&&i.monitorRunDependencies(U),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(r){return b("Module.instantiateWasm callback failed with error: "+r),!1}(function(){return t=n,G().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){b("failed to asynchronously prepare wasm: "+e),z(e)}));var t})().catch(o)}(),V("__wasm_call_ctors"),i._secret_key_to_public_key=V("secret_key_to_public_key"),i._cn_fast_hash=V("cn_fast_hash"),i._sc_reduce32=V("sc_reduce32"),i._get_subaddress_secret_key=V("get_subaddress_secret_key"),i._scalarmultKey=V("scalarmultKey"),i._sc_add=V("sc_add"),V("__errno_location"),i._fflush=V("fflush"),i._malloc=V("malloc"),i._free=V("free"),V("stackSave")),ee=V("stackRestore"),te=V("stackAlloc");i.ccall=X,i.cwrap=function(e,t,n,r){return function(){return X(e,t,n,arguments)}};var ne;i.dynCall_jiji=V("dynCall_jiji");function re(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function oe(e){function t(){ne||(ne=!0,i.calledRun=!0,T||(j=!0,Y(D),r(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),N.unshift(e);var e;Y(N)}()))}e=e||p,U>0||(!function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),R.unshift(e);var e;Y(R)}(),U>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(K=function e(){ne||oe(),ne||(K=e)},i.run=oe,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return oe(),t.ready}}();"object"===typeof exports?e.exports=r:"function"===typeof define&&n.amdO?define([],(function(){return r})):"object"===typeof exports&&(exports.instantiate=r);const o=r},565147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeyringBase:()=>c,KeyringBaseMock:()=>l});var r=n(634795),o=n(887371),i=n(545754),a=n(411987),s=n(695058);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var c=function(e){(0,i.default)(n,e);var t=u(n);function n(e){var n;return(n=t.call(this,e.options)).vault=e,n}return n.prototype.addressFromBase=function(){var e=(0,r.default)((function*(e){return this.vault.addressFromBase(e)}));return function(t){return e.apply(this,arguments)}}(),(0,o.default)(n)}(n(114540).VaultContext),l=function(e){(0,i.default)(n,e);var t=u(n);function n(){return t.apply(this,arguments)}return(0,o.default)(n)}(c)},82406:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeyringHardwareBase:()=>d});var r=n(634795),o=n(887371),i=n(545754),a=n(411987),s=n(695058),u=n(799075),c=n(814817);function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var d=function(e){(0,i.default)(a,e);var t=l(a);function a(){return t.apply(this,arguments)}var s=a.prototype;return s.getHardwareInfo=function(){var e=(0,r.default)((function*(){var e,t,n,r=yield this.engine.getHWDeviceByWalletId(this.vault.walletId);return{connectId:null!=(e=null==r?void 0:r.mac)?e:"",deviceId:null!=(t=null==r?void 0:r.deviceId)?t:"",deviceType:null!=(n=null==r?void 0:r.deviceType)?n:""}}));return function(){return e.apply(this,arguments)}}(),s.getWalletPassphraseState=function(){var e=(0,r.default)((function*(){var e=yield this.engine.getWallet(this.vault.walletId);return{passphraseState:null==e?void 0:e.passphraseState,useEmptyPassphrase:!(0,c.isPassphraseWallet)(e)}}));return function(){return e.apply(this,arguments)}}(),s.getHardwareSDKInstance=function(){var e=(0,r.default)((function*(){var e,t,r,o,i;return null!=(i=yield null==(e=n.g)||null==(t=e.$backgroundApiProxy)||null==(r=t.backgroundApi)||null==(o=r.serviceHardware)||null==o.getSDKInstance?void 0:o.getSDKInstance())?i:u.HardwareSDK}));return function(){return e.apply(this,arguments)}}(),s.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},(0,o.default)(a)}(n(565147).KeyringBase)},810887:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeyringHdBase:()=>h});var r=n(256666),o=n(634795),i=n(887371),a=n(545754),s=n(411987),u=n(695058),c=n(605851),l=n(940915);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var h=function(e){(0,a.default)(n,e);var t=p(n);function n(){return t.apply(this,arguments)}var r=n.prototype;return r.getPrivateKeys=function(){var e=(0,o.default)((function*(e,t){var n=(yield this.getDbAccount()).path.split("/"),r=t||[n.pop()],o=n.join("/"),i=(yield this.engine.dbApi.getCredential(this.walletId,e)).seed;if("undefined"===typeof i)throw new l.OneKeyInternalError("Unable to get credential.");var a=(yield this.engine.providerManager.getChainInfoByNetworkId(this.networkId)).curve;return(0,c.batchGetPrivateKeys)(a,i,e,o,r).reduce((function(e,t){var n;return f(f({},e),{},((n={})[t.path]=t.extendedKey.key,n))}),{})}));return function(t,n){return e.apply(this,arguments)}}(),r.getAddress=function(){throw new Error("Method not implemented.")},r.batchGetAddress=function(){throw new Error("Method not implemented.")},r.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},(0,i.default)(n)}(n(280306).KeyringSoftwareBase)},255942:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeyringImportedBase:()=>l});var r=n(634795),o=n(887371),i=n(545754),a=n(411987),s=n(695058),u=n(940915);function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(e){(0,i.default)(n,e);var t=c(n);function n(){return t.apply(this,arguments)}var a=n.prototype;return a.getPrivateKeys=function(){var e=(0,r.default)((function*(e,t){if("undefined"!==typeof t)throw new u.NotImplemented("Getting private keys from extended private key");var n=(yield this.engine.dbApi.getCredential(this.accountId,e)).privateKey;if("undefined"===typeof n)throw new u.OneKeyInternalError("Unable to get credential.");return{"":n}}));return function(t,n){return e.apply(this,arguments)}}(),a.getAddress=function(){throw new Error("Method not implemented.")},a.batchGetAddress=function(){throw new Error("Method not implemented.")},a.prepareAccountByAddressIndex=function(){throw new Error("Method not implemented.")},(0,o.default)(n)}(n(280306).KeyringSoftwareBase)},280306:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeyringSoftwareBase:()=>m});var r=n(196234),o=n(256666),i=n(634795),a=n(887371),s=n(545754),u=n(411987),c=n(695058),l=n(292147),d=n(940915);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=h(n);function n(){return t.apply(this,arguments)}var o=n.prototype;return o.signTransaction=function(){var e=(0,i.default)((function*(e,t){var n=t.password;if("undefined"===typeof n)throw new d.OneKeyInternalError("Software signing requires a password.");var r=yield this.getSigners(n,e.inputs.map((function(e){return e.address})));return l.default.engine.info("signTransaction",this.networkId,e),p(p({},yield this.engine.providerManager.signTransaction(this.networkId,e,r)),{},{encodedTx:e.encodedTx})}));return function(t,n){return e.apply(this,arguments)}}(),o.signMessage=function(){var e=(0,i.default)((function*(e,t){var n=this,o=t.password;if("undefined"===typeof o)throw new d.OneKeyInternalError("Software signing requires a password.");var i=yield this.getDbAccount(),a=Object.values(yield this.getSigners(o,[i.address])),s=(0,r.default)(a,1)[0];return l.default.engine.info("signMessage",this.networkId,e),Promise.all(e.map((function(e){return n.engine.providerManager.signMessage(n.networkId,e,s)})))}));return function(t,n){return e.apply(this,arguments)}}(),o.getAddress=function(){throw new Error("Method not implemented.")},o.batchGetAddress=function(){throw new Error("Method not implemented.")},o.prepareAccountByAddressIndex=function(e){throw new Error("Method not implemented.")},(0,a.default)(n)}(n(565147).KeyringBase)},701625:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KeyringWatchingBase:()=>l});var r=n(634795),o=n(887371),i=n(545754),a=n(411987),s=n(695058),u=n(940915);function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var o=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}var l=function(e){(0,i.default)(n,e);var t=c(n);function n(){return t.apply(this,arguments)}var a=n.prototype;return a.signTransaction=function(){var e=(0,r.default)((function*(e,t){throw new u.OneKeyInternalError("signTransaction is not supported for watching accounts")}));return function(t,n){return e.apply(this,arguments)}}(),a.signMessage=function(){var e=(0,r.default)((function*(e,t){throw new u.OneKeyInternalError("signMessage is not supported for watching accounts")}));return function(t,n){return e.apply(this,arguments)}}(),a.getAddress=function(){throw new Error("Method not implemented.")},a.batchGetAddress=function(){throw new Error("Method not implemented.")},a.prepareAccountByAddressIndex=function(){throw new Error("Method not implemented.")},(0,o.default)(n)}(n(565147).KeyringBase)},667225:()=>{},89765:()=>{},642780:()=>{},978262:()=>{},510063:()=>{}}]);